function ES(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function ep(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wh={exports:{}},Ga={},Hh={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function TS(){if(vv)return Ve;vv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function T($){return $===null||typeof $!="object"?null:($=w&&$[w]||$["@@iterator"],typeof $=="function"?$:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,I={};function A($,Y,fe){this.props=$,this.context=Y,this.refs=I,this.updater=fe||R}A.prototype.isReactComponent={},A.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},A.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function L(){}L.prototype=A.prototype;function F($,Y,fe){this.props=$,this.context=Y,this.refs=I,this.updater=fe||R}var B=F.prototype=new L;B.constructor=F,M(B,A.prototype),B.isPureReactComponent=!0;var K=Array.isArray,J=Object.prototype.hasOwnProperty,Z={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function C($,Y,fe){var Ce,Pe={},Me=null,ue=null;if(Y!=null)for(Ce in Y.ref!==void 0&&(ue=Y.ref),Y.key!==void 0&&(Me=""+Y.key),Y)J.call(Y,Ce)&&!P.hasOwnProperty(Ce)&&(Pe[Ce]=Y[Ce]);var _e=arguments.length-2;if(_e===1)Pe.children=fe;else if(1<_e){for(var Oe=Array(_e),ke=0;ke<_e;ke++)Oe[ke]=arguments[ke+2];Pe.children=Oe}if($&&$.defaultProps)for(Ce in _e=$.defaultProps,_e)Pe[Ce]===void 0&&(Pe[Ce]=_e[Ce]);return{$$typeof:n,type:$,key:Me,ref:ue,props:Pe,_owner:Z.current}}function k($,Y){return{$$typeof:n,type:$.type,key:Y,ref:$.ref,props:$.props,_owner:$._owner}}function O($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function V($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(fe){return Y[fe]})}var U=/\/+/g;function N($,Y){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):Y.toString(36)}function ye($,Y,fe,Ce,Pe){var Me=typeof $;(Me==="undefined"||Me==="boolean")&&($=null);var ue=!1;if($===null)ue=!0;else switch(Me){case"string":case"number":ue=!0;break;case"object":switch($.$$typeof){case n:case e:ue=!0}}if(ue)return ue=$,Pe=Pe(ue),$=Ce===""?"."+N(ue,0):Ce,K(Pe)?(fe="",$!=null&&(fe=$.replace(U,"$&/")+"/"),ye(Pe,Y,fe,"",function(ke){return ke})):Pe!=null&&(O(Pe)&&(Pe=k(Pe,fe+(!Pe.key||ue&&ue.key===Pe.key?"":(""+Pe.key).replace(U,"$&/")+"/")+$)),Y.push(Pe)),1;if(ue=0,Ce=Ce===""?".":Ce+":",K($))for(var _e=0;_e<$.length;_e++){Me=$[_e];var Oe=Ce+N(Me,_e);ue+=ye(Me,Y,fe,Oe,Pe)}else if(Oe=T($),typeof Oe=="function")for($=Oe.call($),_e=0;!(Me=$.next()).done;)Me=Me.value,Oe=Ce+N(Me,_e++),ue+=ye(Me,Y,fe,Oe,Pe);else if(Me==="object")throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ue}function Ae($,Y,fe){if($==null)return $;var Ce=[],Pe=0;return ye($,Ce,"","",function(Me){return Y.call(fe,Me,Pe++)}),Ce}function we($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(fe){($._status===0||$._status===-1)&&($._status=1,$._result=fe)},function(fe){($._status===0||$._status===-1)&&($._status=2,$._result=fe)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var de={current:null},X={transition:null},le={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:X,ReactCurrentOwner:Z};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Ae,forEach:function($,Y,fe){Ae($,function(){Y.apply(this,arguments)},fe)},count:function($){var Y=0;return Ae($,function(){Y++}),Y},toArray:function($){return Ae($,function(Y){return Y})||[]},only:function($){if(!O($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ve.Component=A,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=F,Ve.StrictMode=i,Ve.Suspense=f,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ve.act=oe,Ve.cloneElement=function($,Y,fe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ce=M({},$.props),Pe=$.key,Me=$.ref,ue=$._owner;if(Y!=null){if(Y.ref!==void 0&&(Me=Y.ref,ue=Z.current),Y.key!==void 0&&(Pe=""+Y.key),$.type&&$.type.defaultProps)var _e=$.type.defaultProps;for(Oe in Y)J.call(Y,Oe)&&!P.hasOwnProperty(Oe)&&(Ce[Oe]=Y[Oe]===void 0&&_e!==void 0?_e[Oe]:Y[Oe])}var Oe=arguments.length-2;if(Oe===1)Ce.children=fe;else if(1<Oe){_e=Array(Oe);for(var ke=0;ke<Oe;ke++)_e[ke]=arguments[ke+2];Ce.children=_e}return{$$typeof:n,type:$.type,key:Pe,ref:Me,props:Ce,_owner:ue}},Ve.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Ve.createElement=C,Ve.createFactory=function($){var Y=C.bind(null,$);return Y.type=$,Y},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function($){return{$$typeof:h,render:$}},Ve.isValidElement=O,Ve.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:we}},Ve.memo=function($,Y){return{$$typeof:g,type:$,compare:Y===void 0?null:Y}},Ve.startTransition=function($){var Y=X.transition;X.transition={};try{$()}finally{X.transition=Y}},Ve.unstable_act=oe,Ve.useCallback=function($,Y){return de.current.useCallback($,Y)},Ve.useContext=function($){return de.current.useContext($)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function($){return de.current.useDeferredValue($)},Ve.useEffect=function($,Y){return de.current.useEffect($,Y)},Ve.useId=function(){return de.current.useId()},Ve.useImperativeHandle=function($,Y,fe){return de.current.useImperativeHandle($,Y,fe)},Ve.useInsertionEffect=function($,Y){return de.current.useInsertionEffect($,Y)},Ve.useLayoutEffect=function($,Y){return de.current.useLayoutEffect($,Y)},Ve.useMemo=function($,Y){return de.current.useMemo($,Y)},Ve.useReducer=function($,Y,fe){return de.current.useReducer($,Y,fe)},Ve.useRef=function($){return de.current.useRef($)},Ve.useState=function($){return de.current.useState($)},Ve.useSyncExternalStore=function($,Y,fe){return de.current.useSyncExternalStore($,Y,fe)},Ve.useTransition=function(){return de.current.useTransition()},Ve.version="18.3.1",Ve}var yv;function tp(){return yv||(yv=1,Hh.exports=TS()),Hh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function SS(){if(_v)return Ga;_v=1;var n=tp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,g){var y,w={},T=null,R=null;g!==void 0&&(T=""+g),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(R=f.ref);for(y in f)i.call(f,y)&&!a.hasOwnProperty(y)&&(w[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)w[y]===void 0&&(w[y]=f[y]);return{$$typeof:e,type:h,key:T,ref:R,props:w,_owner:o.current}}return Ga.Fragment=t,Ga.jsx=c,Ga.jsxs=c,Ga}var wv;function IS(){return wv||(wv=1,Wh.exports=SS()),Wh.exports}var b=IS(),x=tp();const Fr=ep(x),g_=ES({__proto__:null,default:Fr},[x]);var Xu={},qh={exports:{}},sn={},Kh={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function CS(){return Ev||(Ev=1,(function(n){function e(X,le){var oe=X.length;X.push(le);e:for(;0<oe;){var $=oe-1>>>1,Y=X[$];if(0<o(Y,le))X[$]=le,X[oe]=Y,oe=$;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var le=X[0],oe=X.pop();if(oe!==le){X[0]=oe;e:for(var $=0,Y=X.length,fe=Y>>>1;$<fe;){var Ce=2*($+1)-1,Pe=X[Ce],Me=Ce+1,ue=X[Me];if(0>o(Pe,oe))Me<Y&&0>o(ue,Pe)?(X[$]=ue,X[Me]=oe,$=Me):(X[$]=Pe,X[Ce]=oe,$=Ce);else if(Me<Y&&0>o(ue,oe))X[$]=ue,X[Me]=oe,$=Me;else break e}}return le}function o(X,le){var oe=X.sortIndex-le.sortIndex;return oe!==0?oe:X.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],y=1,w=null,T=3,R=!1,M=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(X){for(var le=t(g);le!==null;){if(le.callback===null)i(g);else if(le.startTime<=X)i(g),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(g)}}function K(X){if(I=!1,B(X),!M)if(t(f)!==null)M=!0,we(J);else{var le=t(g);le!==null&&de(K,le.startTime-X)}}function J(X,le){M=!1,I&&(I=!1,L(C),C=-1),R=!0;var oe=T;try{for(B(le),w=t(f);w!==null&&(!(w.expirationTime>le)||X&&!V());){var $=w.callback;if(typeof $=="function"){w.callback=null,T=w.priorityLevel;var Y=$(w.expirationTime<=le);le=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(f)&&i(f),B(le)}else i(f);w=t(f)}if(w!==null)var fe=!0;else{var Ce=t(g);Ce!==null&&de(K,Ce.startTime-le),fe=!1}return fe}finally{w=null,T=oe,R=!1}}var Z=!1,P=null,C=-1,k=5,O=-1;function V(){return!(n.unstable_now()-O<k)}function U(){if(P!==null){var X=n.unstable_now();O=X;var le=!0;try{le=P(!0,X)}finally{le?N():(Z=!1,P=null)}}else Z=!1}var N;if(typeof F=="function")N=function(){F(U)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ae=ye.port2;ye.port1.onmessage=U,N=function(){Ae.postMessage(null)}}else N=function(){A(U,0)};function we(X){P=X,Z||(Z=!0,N())}function de(X,le){C=A(function(){X(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){M||R||(M=!0,we(J))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(X){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var oe=T;T=le;try{return X()}finally{T=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=T;T=X;try{return le()}finally{T=oe}},n.unstable_scheduleCallback=function(X,le,oe){var $=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?$+oe:$):oe=$,X){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=oe+Y,X={id:y++,callback:le,priorityLevel:X,startTime:oe,expirationTime:Y,sortIndex:-1},oe>$?(X.sortIndex=oe,e(g,X),t(f)===null&&X===t(g)&&(I?(L(C),C=-1):I=!0,de(K,oe-$))):(X.sortIndex=Y,e(f,X),M||R||(M=!0,we(J))),X},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(X){var le=T;return function(){var oe=T;T=le;try{return X.apply(this,arguments)}finally{T=oe}}}})(Gh)),Gh}var Tv;function xS(){return Tv||(Tv=1,Kh.exports=CS()),Kh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function RS(){if(Sv)return sn;Sv=1;var n=tp(),e=xS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function T(r){return f.call(w,r)?!0:f.call(y,r)?!1:g.test(r)?w[r]=!0:(y[r]=!0,!1)}function R(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,s,l,d){if(s===null||typeof s>"u"||R(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function I(r,s,l,d,p,v,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=E}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){A[r]=new I(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];A[s]=new I(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){A[r]=new I(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){A[r]=new I(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){A[r]=new I(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){A[r]=new I(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){A[r]=new I(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){A[r]=new I(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){A[r]=new I(r,5,!1,r.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function F(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(L,F);A[s]=new I(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(L,F);A[s]=new I(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(L,F);A[s]=new I(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){A[r]=new I(r,1,!1,r.toLowerCase(),null,!1,!1)}),A.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){A[r]=new I(r,1,!1,r.toLowerCase(),null,!0,!0)});function B(r,s,l,d){var p=A.hasOwnProperty(s)?A[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,l,p,d)&&(l=null),d||p===null?T(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),Z=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),X=Symbol.iterator;function le(r){return r===null||typeof r!="object"?null:(r=X&&r[X]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,$;function Y(r){if($===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+r}var fe=!1;function Ce(r,s){if(!r||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var d=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){d=G}r.call(s.prototype)}else{try{throw Error()}catch(G){d=G}r()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),v=d.stack.split(`
`),E=p.length-1,D=v.length-1;1<=E&&0<=D&&p[E]!==v[D];)D--;for(;1<=E&&0<=D;E--,D--)if(p[E]!==v[D]){if(E!==1||D!==1)do if(E--,D--,0>D||p[E]!==v[D]){var j=`
`+p[E].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=E&&0<=D);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Pe(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function Me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case Z:return"Portal";case k:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case ye:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case U:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ae:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case we:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}function ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function _e(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Oe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ke(r){var s=Oe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,v.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Le(r){r._valueTracker||(r._valueTracker=ke(r))}function je(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Oe(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function lt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function It(r,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function mn(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=_e(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pn(r,s){s=s.checked,s!=null&&B(r,"checked",s,!1)}function kn(r,s){Pn(r,s);var l=_e(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Nn(r,s.type,l):s.hasOwnProperty("defaultValue")&&Nn(r,s.type,_e(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function bs(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Nn(r,s,l){(s!=="number"||lt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Er=Array.isArray;function Tr(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+_e(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function na(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ds(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Er(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:_e(l)}}function Os(r,s){var l=_e(s.value),d=_e(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ra(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function vt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?vt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Sr,ia=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Sr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Jr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ui=["Webkit","ms","Moz","O"];Object.keys(ji).forEach(function(r){Ui.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ji[s]=ji[r]})});function sa(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ji.hasOwnProperty(r)&&ji[r]?(""+s).trim():s+"px"}function oa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=sa(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var aa=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(r,s){if(s){if(aa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ua(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Ms(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ls=null,gn=null,Zn=null;function Vs(r){if(r=Da(r)){if(typeof Ls!="function")throw Error(t(280));var s=r.stateNode;s&&(s=du(s),Ls(r.stateNode,r.type,s))}}function er(r){gn?Zn?Zn.push(r):Zn=[r]:gn=r}function ca(){if(gn){var r=gn,s=Zn;if(Zn=gn=null,Vs(r),s)for(r=0;r<s.length;r++)Vs(s[r])}}function zi(r,s){return r(s)}function da(){}var Ir=!1;function ha(r,s,l){if(Ir)return r(s,l);Ir=!0;try{return zi(r,s,l)}finally{Ir=!1,(gn!==null||Zn!==null)&&(da(),ca())}}function dt(r,s){var l=r.stateNode;if(l===null)return null;var d=du(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Fs=!1;if(h)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{Fs=!1}function $i(r,s,l,d,p,v,E,D,j){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(te){this.onError(te)}}var Wi=!1,js=null,Dn=!1,fa=null,yd={onError:function(r){Wi=!0,js=r}};function Us(r,s,l,d,p,v,E,D,j){Wi=!1,js=null,$i.apply(yd,arguments)}function Ll(r,s,l,d,p,v,E,D,j){if(Us.apply(this,arguments),Wi){if(Wi){var G=js;Wi=!1,js=null}else throw Error(t(198));Dn||(Dn=!0,fa=G)}}function On(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Hi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Mn(r){if(On(r)!==r)throw Error(t(188))}function Vl(r){var s=r.alternate;if(!s){if(s=On(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return Mn(p),r;if(v===d)return Mn(p),s;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=v;else{for(var E=!1,D=p.child;D;){if(D===l){E=!0,l=p,d=v;break}if(D===d){E=!0,d=p,l=v;break}D=D.sibling}if(!E){for(D=v.child;D;){if(D===l){E=!0,l=v,d=p;break}if(D===d){E=!0,d=v,l=p;break}D=D.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function pa(r){return r=Vl(r),r!==null?Bs(r):null}function Bs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Bs(r);if(s!==null)return s;r=r.sibling}return null}var zs=e.unstable_scheduleCallback,ma=e.unstable_cancelCallback,Fl=e.unstable_shouldYield,_d=e.unstable_requestPaint,Je=e.unstable_now,jl=e.unstable_getCurrentPriorityLevel,qi=e.unstable_ImmediatePriority,Zr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,ga=e.unstable_LowPriority,Ul=e.unstable_IdlePriority,Ki=null,on=null;function Bl(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ki,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:$l,va=Math.log,zl=Math.LN2;function $l(r){return r>>>=0,r===0?32:31-(va(r)/zl|0)|0}var $s=64,Ws=4194304;function ei(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gi(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,v=r.pingedLanes,E=l&268435455;if(E!==0){var D=E&~p;D!==0?d=ei(D):(v&=E,v!==0&&(d=ei(v)))}else E=l&~p,E!==0?d=ei(E):v!==0&&(d=ei(v));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,v=s&-s,p>=v||p===16&&(v&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Kt(s),p=1<<l,d|=r[l],s&=~p;return d}function wd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes;0<v;){var E=31-Kt(v),D=1<<E,j=p[E];j===-1?((D&l)===0||(D&d)!==0)&&(p[E]=wd(D,s)):j<=s&&(r.expiredLanes|=D),v&=~D}}function an(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Qi(){var r=$s;return $s<<=1,($s&4194240)===0&&($s=64),r}function ti(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ni(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=l}function Xe(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Kt(l),v=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~v}}function ri(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Kt(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Ue=0;function ii(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Wl,Hs,Hl,ql,Kl,ya=!1,tr=[],kt=null,Ln=null,Vn=null,si=new Map,yn=new Map,nr=[],Ed="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gl(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":si.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(s.pointerId)}}function Yt(r,s,l,d,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},s!==null&&(s=Da(s),s!==null&&Hs(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Td(r,s,l,d,p){switch(s){case"focusin":return kt=Yt(kt,r,s,l,d,p),!0;case"dragenter":return Ln=Yt(Ln,r,s,l,d,p),!0;case"mouseover":return Vn=Yt(Vn,r,s,l,d,p),!0;case"pointerover":var v=p.pointerId;return si.set(v,Yt(si.get(v)||null,r,s,l,d,p)),!0;case"gotpointercapture":return v=p.pointerId,yn.set(v,Yt(yn.get(v)||null,r,s,l,d,p)),!0}return!1}function Ql(r){var s=es(r.target);if(s!==null){var l=On(s);if(l!==null){if(s=l.tag,s===13){if(s=Hi(l),s!==null){r.blockedOn=s,Kl(r.priority,function(){Hl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=qs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Bi=d,l.target.dispatchEvent(d),Bi=null}else return s=Da(l),s!==null&&Hs(s),r.blockedOn=l,!1;s.shift()}return!0}function Xi(r,s,l){xr(r)&&l.delete(s)}function Xl(){ya=!1,kt!==null&&xr(kt)&&(kt=null),Ln!==null&&xr(Ln)&&(Ln=null),Vn!==null&&xr(Vn)&&(Vn=null),si.forEach(Xi),yn.forEach(Xi)}function Fn(r,s){r.blockedOn===s&&(r.blockedOn=null,ya||(ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xl)))}function jn(r){function s(p){return Fn(p,r)}if(0<tr.length){Fn(tr[0],r);for(var l=1;l<tr.length;l++){var d=tr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(kt!==null&&Fn(kt,r),Ln!==null&&Fn(Ln,r),Vn!==null&&Fn(Vn,r),si.forEach(s),yn.forEach(s),l=0;l<nr.length;l++)d=nr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<nr.length&&(l=nr[0],l.blockedOn===null);)Ql(l),l.blockedOn===null&&nr.shift()}var Rr=K.ReactCurrentBatchConfig,oi=!0;function nt(r,s,l,d){var p=Ue,v=Rr.transition;Rr.transition=null;try{Ue=1,_a(r,s,l,d)}finally{Ue=p,Rr.transition=v}}function Sd(r,s,l,d){var p=Ue,v=Rr.transition;Rr.transition=null;try{Ue=4,_a(r,s,l,d)}finally{Ue=p,Rr.transition=v}}function _a(r,s,l,d){if(oi){var p=qs(r,s,l,d);if(p===null)Od(r,s,d,Yi,l),Gl(r,d);else if(Td(p,r,s,l,d))d.stopPropagation();else if(Gl(r,d),s&4&&-1<Ed.indexOf(r)){for(;p!==null;){var v=Da(p);if(v!==null&&Wl(v),v=qs(r,s,l,d),v===null&&Od(r,s,d,Yi,l),v===p)break;p=v}p!==null&&d.stopPropagation()}else Od(r,s,d,null,l)}}var Yi=null;function qs(r,s,l,d){if(Yi=null,r=Ms(d),r=es(r),r!==null)if(s=On(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Hi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Yi=r,null}function wa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jl()){case qi:return 1;case Zr:return 4;case vn:case ga:return 16;case Ul:return 536870912;default:return 16}default:return 16}}var ln=null,Ks=null,Jt=null;function Ea(){if(Jt)return Jt;var r,s=Ks,l=s.length,d,p="value"in ln?ln.value:ln.textContent,v=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===p[v-d];d++);return Jt=p.slice(r,1<d?1-d:void 0)}function Gs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function rr(){return!0}function Ta(){return!1}function Nt(r){function s(l,d,p,v,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(l=r[D],this[D]=l?l(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?rr:Ta,this.isPropagationStopped=Ta,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),s}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Nt(Un),ir=oe({},Un,{view:0,detail:0}),Id=Nt(ir),Xs,Ar,ai,Ji=oe({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(Xs=r.screenX-ai.screenX,Ar=r.screenY-ai.screenY):Ar=Xs=0,ai=r),Xs)},movementY:function(r){return"movementY"in r?r.movementY:Ar}}),Ys=Nt(Ji),Sa=oe({},Ji,{dataTransfer:0}),Yl=Nt(Sa),Js=oe({},ir,{relatedTarget:0}),Zs=Nt(Js),Jl=oe({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),Pr=Nt(Jl),Zl=oe({},Un,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),eu=Nt(Zl),tu=oe({},Un,{data:0}),Ia=Nt(tu),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nu[r])?!!s[r]:!1}function sr(){return ru}var u=oe({},ir,{key:function(r){if(r.key){var s=eo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Gs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(r){return r.type==="keypress"?Gs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Nt(u),_=oe({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Nt(_),W=oe({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),Q=Nt(W),ae=oe({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Nt(ae),_t=oe({},Ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Nt(_t),Ct=[9,13,27,32],pt=h&&"CompositionEvent"in window,_n=null;h&&"documentMode"in document&&(_n=document.documentMode);var un=h&&"TextEvent"in window&&!_n,Zi=h&&(!pt||_n&&8<_n&&11>=_n),to=" ",dm=!1;function hm(r,s){switch(r){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var no=!1;function yT(r,s){switch(r){case"compositionend":return fm(s);case"keypress":return s.which!==32?null:(dm=!0,to);case"textInput":return r=s.data,r===to&&dm?null:r;default:return null}}function _T(r,s){if(no)return r==="compositionend"||!pt&&hm(r,s)?(r=Ea(),Jt=Ks=ln=null,no=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zi&&s.locale!=="ko"?null:s.data;default:return null}}var wT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!wT[r.type]:s==="textarea"}function mm(r,s,l,d){er(d),s=lu(s,"onChange"),0<s.length&&(l=new Qs("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ca=null,xa=null;function ET(r){Dm(r,0)}function iu(r){var s=ao(r);if(je(s))return r}function TT(r,s){if(r==="change")return s}var gm=!1;if(h){var Cd;if(h){var xd="oninput"in document;if(!xd){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),xd=typeof vm.oninput=="function"}Cd=xd}else Cd=!1;gm=Cd&&(!document.documentMode||9<document.documentMode)}function ym(){Ca&&(Ca.detachEvent("onpropertychange",_m),xa=Ca=null)}function _m(r){if(r.propertyName==="value"&&iu(xa)){var s=[];mm(s,xa,r,Ms(r)),ha(ET,s)}}function ST(r,s,l){r==="focusin"?(ym(),Ca=s,xa=l,Ca.attachEvent("onpropertychange",_m)):r==="focusout"&&ym()}function IT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return iu(xa)}function CT(r,s){if(r==="click")return iu(s)}function xT(r,s){if(r==="input"||r==="change")return iu(s)}function RT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:RT;function Ra(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!Bn(r[p],s[p]))return!1}return!0}function wm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Em(r,s){var l=wm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wm(l)}}function Tm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Tm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Sm(){for(var r=window,s=lt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=lt(r.document)}return s}function Rd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function AT(r){var s=Sm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Tm(l.ownerDocument.documentElement,l)){if(d!==null&&Rd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,v=Math.min(d.start,p);d=d.end===void 0?v:Math.min(d.end,p),!r.extend&&v>d&&(p=d,d=v,v=p),p=Em(l,v);var E=Em(l,d);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),v>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var PT=h&&"documentMode"in document&&11>=document.documentMode,ro=null,Ad=null,Aa=null,Pd=!1;function Im(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pd||ro==null||ro!==lt(d)||(d=ro,"selectionStart"in d&&Rd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Aa&&Ra(Aa,d)||(Aa=d,d=lu(Ad,"onSelect"),0<d.length&&(s=new Qs("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=ro)))}function su(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var io={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},kd={},Cm={};h&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ou(r){if(kd[r])return kd[r];if(!io[r])return r;var s=io[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Cm)return kd[r]=s[l];return r}var xm=ou("animationend"),Rm=ou("animationiteration"),Am=ou("animationstart"),Pm=ou("transitionend"),km=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(r,s){km.set(r,s),a(s,[r])}for(var Nd=0;Nd<Nm.length;Nd++){var bd=Nm[Nd],kT=bd.toLowerCase(),NT=bd[0].toUpperCase()+bd.slice(1);li(kT,"on"+NT)}li(xm,"onAnimationEnd"),li(Rm,"onAnimationIteration"),li(Am,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Pm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function bm(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,Ll(d,s,void 0,r),r.currentTarget=null}function Dm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var E=d.length-1;0<=E;E--){var D=d[E],j=D.instance,G=D.currentTarget;if(D=D.listener,j!==v&&p.isPropagationStopped())break e;bm(p,D,G),v=j}else for(E=0;E<d.length;E++){if(D=d[E],j=D.instance,G=D.currentTarget,D=D.listener,j!==v&&p.isPropagationStopped())break e;bm(p,D,G),v=j}}}if(Dn)throw r=fa,Dn=!1,fa=null,r}function et(r,s){var l=s[Ud];l===void 0&&(l=s[Ud]=new Set);var d=r+"__bubble";l.has(d)||(Om(s,r,2,!1),l.add(d))}function Dd(r,s,l){var d=0;s&&(d|=4),Om(l,r,d,s)}var au="_reactListening"+Math.random().toString(36).slice(2);function ka(r){if(!r[au]){r[au]=!0,i.forEach(function(l){l!=="selectionchange"&&(bT.has(l)||Dd(l,!1,r),Dd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[au]||(s[au]=!0,Dd("selectionchange",!1,s))}}function Om(r,s,l,d){switch(wa(s)){case 1:var p=nt;break;case 4:p=Sd;break;default:p=_a}l=p.bind(null,s,l,r),p=void 0,!Fs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Od(r,s,l,d,p){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var D=d.stateNode.containerInfo;if(D===p||D.nodeType===8&&D.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var j=E.tag;if((j===3||j===4)&&(j=E.stateNode.containerInfo,j===p||j.nodeType===8&&j.parentNode===p))return;E=E.return}for(;D!==null;){if(E=es(D),E===null)return;if(j=E.tag,j===5||j===6){d=v=E;continue e}D=D.parentNode}}d=d.return}ha(function(){var G=v,te=Ms(l),re=[];e:{var ee=km.get(r);if(ee!==void 0){var ce=Qs,pe=r;switch(r){case"keypress":if(Gs(l)===0)break e;case"keydown":case"keyup":ce=m;break;case"focusin":pe="focus",ce=Zs;break;case"focusout":pe="blur",ce=Zs;break;case"beforeblur":case"afterblur":ce=Zs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Q;break;case xm:case Rm:case Am:ce=Pr;break;case Pm:ce=Ge;break;case"scroll":ce=Id;break;case"wheel":ce=ze;break;case"copy":case"cut":case"paste":ce=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var me=(s&4)!==0,ht=!me&&r==="scroll",H=me?ee!==null?ee+"Capture":null:ee;me=[];for(var z=G,q;z!==null;){q=z;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,H!==null&&(se=dt(z,H),se!=null&&me.push(Na(z,se,q)))),ht)break;z=z.return}0<me.length&&(ee=new ce(ee,pe,null,l,te),re.push({event:ee,listeners:me}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",ee&&l!==Bi&&(pe=l.relatedTarget||l.fromElement)&&(es(pe)||pe[kr]))break e;if((ce||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(pe=l.relatedTarget||l.toElement,ce=G,pe=pe?es(pe):null,pe!==null&&(ht=On(pe),pe!==ht||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=G),ce!==pe)){if(me=Ys,se="onMouseLeave",H="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(me=S,se="onPointerLeave",H="onPointerEnter",z="pointer"),ht=ce==null?ee:ao(ce),q=pe==null?ee:ao(pe),ee=new me(se,z+"leave",ce,l,te),ee.target=ht,ee.relatedTarget=q,se=null,es(te)===G&&(me=new me(H,z+"enter",pe,l,te),me.target=q,me.relatedTarget=ht,se=me),ht=se,ce&&pe)t:{for(me=ce,H=pe,z=0,q=me;q;q=so(q))z++;for(q=0,se=H;se;se=so(se))q++;for(;0<z-q;)me=so(me),z--;for(;0<q-z;)H=so(H),q--;for(;z--;){if(me===H||H!==null&&me===H.alternate)break t;me=so(me),H=so(H)}me=null}else me=null;ce!==null&&Mm(re,ee,ce,me,!1),pe!==null&&ht!==null&&Mm(re,ht,pe,me,!0)}}e:{if(ee=G?ao(G):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var ve=TT;else if(pm(ee))if(gm)ve=xT;else{ve=IT;var Ee=ST}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ve=CT);if(ve&&(ve=ve(r,G))){mm(re,ve,l,te);break e}Ee&&Ee(r,ee,G),r==="focusout"&&(Ee=ee._wrapperState)&&Ee.controlled&&ee.type==="number"&&Nn(ee,"number",ee.value)}switch(Ee=G?ao(G):window,r){case"focusin":(pm(Ee)||Ee.contentEditable==="true")&&(ro=Ee,Ad=G,Aa=null);break;case"focusout":Aa=Ad=ro=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,Im(re,l,te);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":Im(re,l,te)}var Te;if(pt)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else no?hm(r,l)&&(xe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(Zi&&l.locale!=="ko"&&(no||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&no&&(Te=Ea()):(ln=te,Ks="value"in ln?ln.value:ln.textContent,no=!0)),Ee=lu(G,xe),0<Ee.length&&(xe=new Ia(xe,r,null,l,te),re.push({event:xe,listeners:Ee}),Te?xe.data=Te:(Te=fm(l),Te!==null&&(xe.data=Te)))),(Te=un?yT(r,l):_T(r,l))&&(G=lu(G,"onBeforeInput"),0<G.length&&(te=new Ia("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:G}),te.data=Te))}Dm(re,s)})}function Na(r,s,l){return{instance:r,listener:s,currentTarget:l}}function lu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=dt(r,l),v!=null&&d.unshift(Na(r,v,p)),v=dt(r,s),v!=null&&d.push(Na(r,v,p))),r=r.return}return d}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Mm(r,s,l,d,p){for(var v=s._reactName,E=[];l!==null&&l!==d;){var D=l,j=D.alternate,G=D.stateNode;if(j!==null&&j===d)break;D.tag===5&&G!==null&&(D=G,p?(j=dt(l,v),j!=null&&E.unshift(Na(l,j,D))):p||(j=dt(l,v),j!=null&&E.push(Na(l,j,D)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var DT=/\r\n?/g,OT=/\u0000|\uFFFD/g;function Lm(r){return(typeof r=="string"?r:""+r).replace(DT,`
`).replace(OT,"")}function uu(r,s,l){if(s=Lm(s),Lm(r)!==s&&l)throw Error(t(425))}function cu(){}var Md=null,Ld=null;function Vd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fd=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,Vm=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof Vm<"u"?function(r){return Vm.resolve(null).then(r).catch(VT)}:Fd;function VT(r){setTimeout(function(){throw r})}function jd(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),jn(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);jn(s)}function ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Fm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var oo=Math.random().toString(36).slice(2),or="__reactFiber$"+oo,ba="__reactProps$"+oo,kr="__reactContainer$"+oo,Ud="__reactEvents$"+oo,FT="__reactListeners$"+oo,jT="__reactHandles$"+oo;function es(r){var s=r[or];if(s)return s;for(var l=r.parentNode;l;){if(s=l[kr]||l[or]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Fm(r);r!==null;){if(l=r[or])return l;r=Fm(r)}return s}r=l,l=r.parentNode}return null}function Da(r){return r=r[or]||r[kr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function du(r){return r[ba]||null}var Bd=[],lo=-1;function ci(r){return{current:r}}function tt(r){0>lo||(r.current=Bd[lo],Bd[lo]=null,lo--)}function Ze(r,s){lo++,Bd[lo]=r.current,r.current=s}var di={},Ft=ci(di),Zt=ci(!1),ts=di;function uo(r,s){var l=r.type.contextTypes;if(!l)return di;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=s[v];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function en(r){return r=r.childContextTypes,r!=null}function hu(){tt(Zt),tt(Ft)}function jm(r,s,l){if(Ft.current!==di)throw Error(t(168));Ze(Ft,s),Ze(Zt,l)}function Um(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,ue(r)||"Unknown",p));return oe({},l,d)}function fu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||di,ts=Ft.current,Ze(Ft,r),Ze(Zt,Zt.current),!0}function Bm(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Um(r,s,ts),d.__reactInternalMemoizedMergedChildContext=r,tt(Zt),tt(Ft),Ze(Ft,r)):tt(Zt),Ze(Zt,l)}var Nr=null,pu=!1,zd=!1;function zm(r){Nr===null?Nr=[r]:Nr.push(r)}function UT(r){pu=!0,zm(r)}function hi(){if(!zd&&Nr!==null){zd=!0;var r=0,s=Ue;try{var l=Nr;for(Ue=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Nr=null,pu=!1}catch(p){throw Nr!==null&&(Nr=Nr.slice(r+1)),zs(qi,hi),p}finally{Ue=s,zd=!1}}return null}var co=[],ho=0,mu=null,gu=0,wn=[],En=0,ns=null,br=1,Dr="";function rs(r,s){co[ho++]=gu,co[ho++]=mu,mu=r,gu=s}function $m(r,s,l){wn[En++]=br,wn[En++]=Dr,wn[En++]=ns,ns=r;var d=br;r=Dr;var p=32-Kt(d)-1;d&=~(1<<p),l+=1;var v=32-Kt(s)+p;if(30<v){var E=p-p%5;v=(d&(1<<E)-1).toString(32),d>>=E,p-=E,br=1<<32-Kt(s)+p|l<<p|d,Dr=v+r}else br=1<<v|l<<p|d,Dr=r}function $d(r){r.return!==null&&(rs(r,1),$m(r,1,0))}function Wd(r){for(;r===mu;)mu=co[--ho],co[ho]=null,gu=co[--ho],co[ho]=null;for(;r===ns;)ns=wn[--En],wn[En]=null,Dr=wn[--En],wn[En]=null,br=wn[--En],wn[En]=null}var cn=null,dn=null,rt=!1,zn=null;function Wm(r,s){var l=Cn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Hm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,cn=r,dn=ui(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,cn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ns!==null?{id:br,overflow:Dr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Cn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,cn=r,dn=null,!0):!1;default:return!1}}function Hd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function qd(r){if(rt){var s=dn;if(s){var l=s;if(!Hm(r,s)){if(Hd(r))throw Error(t(418));s=ui(l.nextSibling);var d=cn;s&&Hm(r,s)?Wm(d,l):(r.flags=r.flags&-4097|2,rt=!1,cn=r)}}else{if(Hd(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,cn=r}}}function qm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;cn=r}function vu(r){if(r!==cn)return!1;if(!rt)return qm(r),rt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Vd(r.type,r.memoizedProps)),s&&(s=dn)){if(Hd(r))throw Km(),Error(t(418));for(;s;)Wm(r,s),s=ui(s.nextSibling)}if(qm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){dn=ui(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=cn?ui(r.stateNode.nextSibling):null;return!0}function Km(){for(var r=dn;r;)r=ui(r.nextSibling)}function fo(){dn=cn=null,rt=!1}function Kd(r){zn===null?zn=[r]:zn.push(r)}var BT=K.ReactCurrentBatchConfig;function Oa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(E){var D=p.refs;E===null?delete D[v]:D[v]=E},s._stringRef=v,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function yu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Gm(r){var s=r._init;return s(r._payload)}function Qm(r){function s(H,z){if(r){var q=H.deletions;q===null?(H.deletions=[z],H.flags|=16):q.push(z)}}function l(H,z){if(!r)return null;for(;z!==null;)s(H,z),z=z.sibling;return null}function d(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function p(H,z){return H=wi(H,z),H.index=0,H.sibling=null,H}function v(H,z,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<z?(H.flags|=2,z):q):(H.flags|=2,z)):(H.flags|=1048576,z)}function E(H){return r&&H.alternate===null&&(H.flags|=2),H}function D(H,z,q,se){return z===null||z.tag!==6?(z=Fh(q,H.mode,se),z.return=H,z):(z=p(z,q),z.return=H,z)}function j(H,z,q,se){var ve=q.type;return ve===P?te(H,z,q.props.children,se,q.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===we&&Gm(ve)===z.type)?(se=p(z,q.props),se.ref=Oa(H,z,q),se.return=H,se):(se=zu(q.type,q.key,q.props,null,H.mode,se),se.ref=Oa(H,z,q),se.return=H,se)}function G(H,z,q,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=jh(q,H.mode,se),z.return=H,z):(z=p(z,q.children||[]),z.return=H,z)}function te(H,z,q,se,ve){return z===null||z.tag!==7?(z=ds(q,H.mode,se,ve),z.return=H,z):(z=p(z,q),z.return=H,z)}function re(H,z,q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Fh(""+z,H.mode,q),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case J:return q=zu(z.type,z.key,z.props,null,H.mode,q),q.ref=Oa(H,null,z),q.return=H,q;case Z:return z=jh(z,H.mode,q),z.return=H,z;case we:var se=z._init;return re(H,se(z._payload),q)}if(Er(z)||le(z))return z=ds(z,H.mode,q,null),z.return=H,z;yu(H,z)}return null}function ee(H,z,q,se){var ve=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ve!==null?null:D(H,z,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case J:return q.key===ve?j(H,z,q,se):null;case Z:return q.key===ve?G(H,z,q,se):null;case we:return ve=q._init,ee(H,z,ve(q._payload),se)}if(Er(q)||le(q))return ve!==null?null:te(H,z,q,se,null);yu(H,q)}return null}function ce(H,z,q,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(q)||null,D(z,H,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case J:return H=H.get(se.key===null?q:se.key)||null,j(z,H,se,ve);case Z:return H=H.get(se.key===null?q:se.key)||null,G(z,H,se,ve);case we:var Ee=se._init;return ce(H,z,q,Ee(se._payload),ve)}if(Er(se)||le(se))return H=H.get(q)||null,te(z,H,se,ve,null);yu(z,se)}return null}function pe(H,z,q,se){for(var ve=null,Ee=null,Te=z,xe=z=0,At=null;Te!==null&&xe<q.length;xe++){Te.index>xe?(At=Te,Te=null):At=Te.sibling;var He=ee(H,Te,q[xe],se);if(He===null){Te===null&&(Te=At);break}r&&Te&&He.alternate===null&&s(H,Te),z=v(He,z,xe),Ee===null?ve=He:Ee.sibling=He,Ee=He,Te=At}if(xe===q.length)return l(H,Te),rt&&rs(H,xe),ve;if(Te===null){for(;xe<q.length;xe++)Te=re(H,q[xe],se),Te!==null&&(z=v(Te,z,xe),Ee===null?ve=Te:Ee.sibling=Te,Ee=Te);return rt&&rs(H,xe),ve}for(Te=d(H,Te);xe<q.length;xe++)At=ce(Te,H,xe,q[xe],se),At!==null&&(r&&At.alternate!==null&&Te.delete(At.key===null?xe:At.key),z=v(At,z,xe),Ee===null?ve=At:Ee.sibling=At,Ee=At);return r&&Te.forEach(function(Ei){return s(H,Ei)}),rt&&rs(H,xe),ve}function me(H,z,q,se){var ve=le(q);if(typeof ve!="function")throw Error(t(150));if(q=ve.call(q),q==null)throw Error(t(151));for(var Ee=ve=null,Te=z,xe=z=0,At=null,He=q.next();Te!==null&&!He.done;xe++,He=q.next()){Te.index>xe?(At=Te,Te=null):At=Te.sibling;var Ei=ee(H,Te,He.value,se);if(Ei===null){Te===null&&(Te=At);break}r&&Te&&Ei.alternate===null&&s(H,Te),z=v(Ei,z,xe),Ee===null?ve=Ei:Ee.sibling=Ei,Ee=Ei,Te=At}if(He.done)return l(H,Te),rt&&rs(H,xe),ve;if(Te===null){for(;!He.done;xe++,He=q.next())He=re(H,He.value,se),He!==null&&(z=v(He,z,xe),Ee===null?ve=He:Ee.sibling=He,Ee=He);return rt&&rs(H,xe),ve}for(Te=d(H,Te);!He.done;xe++,He=q.next())He=ce(Te,H,xe,He.value,se),He!==null&&(r&&He.alternate!==null&&Te.delete(He.key===null?xe:He.key),z=v(He,z,xe),Ee===null?ve=He:Ee.sibling=He,Ee=He);return r&&Te.forEach(function(wS){return s(H,wS)}),rt&&rs(H,xe),ve}function ht(H,z,q,se){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case J:e:{for(var ve=q.key,Ee=z;Ee!==null;){if(Ee.key===ve){if(ve=q.type,ve===P){if(Ee.tag===7){l(H,Ee.sibling),z=p(Ee,q.props.children),z.return=H,H=z;break e}}else if(Ee.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===we&&Gm(ve)===Ee.type){l(H,Ee.sibling),z=p(Ee,q.props),z.ref=Oa(H,Ee,q),z.return=H,H=z;break e}l(H,Ee);break}else s(H,Ee);Ee=Ee.sibling}q.type===P?(z=ds(q.props.children,H.mode,se,q.key),z.return=H,H=z):(se=zu(q.type,q.key,q.props,null,H.mode,se),se.ref=Oa(H,z,q),se.return=H,H=se)}return E(H);case Z:e:{for(Ee=q.key;z!==null;){if(z.key===Ee)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){l(H,z.sibling),z=p(z,q.children||[]),z.return=H,H=z;break e}else{l(H,z);break}else s(H,z);z=z.sibling}z=jh(q,H.mode,se),z.return=H,H=z}return E(H);case we:return Ee=q._init,ht(H,z,Ee(q._payload),se)}if(Er(q))return pe(H,z,q,se);if(le(q))return me(H,z,q,se);yu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,z!==null&&z.tag===6?(l(H,z.sibling),z=p(z,q),z.return=H,H=z):(l(H,z),z=Fh(q,H.mode,se),z.return=H,H=z),E(H)):l(H,z)}return ht}var po=Qm(!0),Xm=Qm(!1),_u=ci(null),wu=null,mo=null,Gd=null;function Qd(){Gd=mo=wu=null}function Xd(r){var s=_u.current;tt(_u),r._currentValue=s}function Yd(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function go(r,s){wu=r,Gd=mo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(tn=!0),r.firstContext=null)}function Tn(r){var s=r._currentValue;if(Gd!==r)if(r={context:r,memoizedValue:s,next:null},mo===null){if(wu===null)throw Error(t(308));mo=r,wu.dependencies={lanes:0,firstContext:r}}else mo=mo.next=r;return s}var is=null;function Jd(r){is===null?is=[r]:is.push(r)}function Ym(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Jd(s)):(l.next=p.next,p.next=l),s.interleaved=l,Or(r,d)}function Or(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var fi=!1;function Zd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Mr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function pi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Or(r,l)}return p=d.interleaved,p===null?(s.next=s,Jd(d)):(s.next=p.next,p.next=s),d.interleaved=s,Or(r,l)}function Eu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ri(r,l)}}function Zm(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?p=v=s:v=v.next=s}else p=v=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Tu(r,s,l,d){var p=r.updateQueue;fi=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,D=p.shared.pending;if(D!==null){p.shared.pending=null;var j=D,G=j.next;j.next=null,E===null?v=G:E.next=G,E=j;var te=r.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==E&&(D===null?te.firstBaseUpdate=G:D.next=G,te.lastBaseUpdate=j))}if(v!==null){var re=p.baseState;E=0,te=G=j=null,D=v;do{var ee=D.lane,ce=D.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:ce,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var pe=r,me=D;switch(ee=s,ce=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){re=pe.call(ce,re,ee);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(ce,re,ee):pe,ee==null)break e;re=oe({},re,ee);break e;case 2:fi=!0}}D.callback!==null&&D.lane!==0&&(r.flags|=64,ee=p.effects,ee===null?p.effects=[D]:ee.push(D))}else ce={eventTime:ce,lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(G=te=ce,j=re):te=te.next=ce,E|=ee;if(D=D.next,D===null){if(D=p.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(j=re),p.baseState=j,p.firstBaseUpdate=G,p.lastBaseUpdate=te,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else v===null&&(p.shared.lanes=0);as|=E,r.lanes=E,r.memoizedState=re}}function eg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Ma={},ar=ci(Ma),La=ci(Ma),Va=ci(Ma);function ss(r){if(r===Ma)throw Error(t(174));return r}function eh(r,s){switch(Ze(Va,s),Ze(La,r),Ze(ar,Ma),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}tt(ar),Ze(ar,s)}function vo(){tt(ar),tt(La),tt(Va)}function tg(r){ss(Va.current);var s=ss(ar.current),l=yt(s,r.type);s!==l&&(Ze(La,r),Ze(ar,l))}function th(r){La.current===r&&(tt(ar),tt(La))}var it=ci(0);function Su(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nh=[];function rh(){for(var r=0;r<nh.length;r++)nh[r]._workInProgressVersionPrimary=null;nh.length=0}var Iu=K.ReactCurrentDispatcher,ih=K.ReactCurrentBatchConfig,os=0,st=null,wt=null,xt=null,Cu=!1,Fa=!1,ja=0,zT=0;function jt(){throw Error(t(321))}function sh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Bn(r[l],s[l]))return!1;return!0}function oh(r,s,l,d,p,v){if(os=v,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Iu.current=r===null||r.memoizedState===null?qT:KT,r=l(d,p),Fa){v=0;do{if(Fa=!1,ja=0,25<=v)throw Error(t(301));v+=1,xt=wt=null,s.updateQueue=null,Iu.current=GT,r=l(d,p)}while(Fa)}if(Iu.current=Au,s=wt!==null&&wt.next!==null,os=0,xt=wt=st=null,Cu=!1,s)throw Error(t(300));return r}function ah(){var r=ja!==0;return ja=0,r}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?st.memoizedState=xt=r:xt=xt.next=r,xt}function Sn(){if(wt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=xt===null?st.memoizedState:xt.next;if(s!==null)xt=s,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},xt===null?st.memoizedState=xt=r:xt=xt.next=r}return xt}function Ua(r,s){return typeof s=="function"?s(r):s}function lh(r){var s=Sn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=wt,p=d.baseQueue,v=l.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}d.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,d=d.baseState;var D=E=null,j=null,G=v;do{var te=G.lane;if((os&te)===te)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:r(d,G.action);else{var re={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(D=j=re,E=d):j=j.next=re,st.lanes|=te,as|=te}G=G.next}while(G!==null&&G!==v);j===null?E=d:j.next=D,Bn(d,s.memoizedState)||(tn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=j,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do v=p.lane,st.lanes|=v,as|=v,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function uh(r){var s=Sn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,v=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do v=r(v,E.action),E=E.next;while(E!==p);Bn(v,s.memoizedState)||(tn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,d]}function ng(){}function rg(r,s){var l=st,d=Sn(),p=s(),v=!Bn(d.memoizedState,p);if(v&&(d.memoizedState=p,tn=!0),d=d.queue,ch(og.bind(null,l,d,r),[r]),d.getSnapshot!==s||v||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,sg.bind(null,l,d,p,s),void 0,null),Rt===null)throw Error(t(349));(os&30)!==0||ig(l,s,p)}return p}function ig(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function sg(r,s,l,d){s.value=l,s.getSnapshot=d,ag(s)&&lg(r)}function og(r,s,l){return l(function(){ag(s)&&lg(r)})}function ag(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Bn(r,l)}catch{return!0}}function lg(r){var s=Or(r,1);s!==null&&qn(s,r,1,-1)}function ug(r){var s=lr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:r},s.queue=r,r=r.dispatch=HT.bind(null,st,r),[s.memoizedState,r]}function Ba(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function cg(){return Sn().memoizedState}function xu(r,s,l,d){var p=lr();st.flags|=r,p.memoizedState=Ba(1|s,l,void 0,d===void 0?null:d)}function Ru(r,s,l,d){var p=Sn();d=d===void 0?null:d;var v=void 0;if(wt!==null){var E=wt.memoizedState;if(v=E.destroy,d!==null&&sh(d,E.deps)){p.memoizedState=Ba(s,l,v,d);return}}st.flags|=r,p.memoizedState=Ba(1|s,l,v,d)}function dg(r,s){return xu(8390656,8,r,s)}function ch(r,s){return Ru(2048,8,r,s)}function hg(r,s){return Ru(4,2,r,s)}function fg(r,s){return Ru(4,4,r,s)}function pg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function mg(r,s,l){return l=l!=null?l.concat([r]):null,Ru(4,4,pg.bind(null,s,r),l)}function dh(){}function gg(r,s){var l=Sn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&sh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function vg(r,s){var l=Sn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&sh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function yg(r,s,l){return(os&21)===0?(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=l):(Bn(l,s)||(l=Qi(),st.lanes|=l,as|=l,r.baseState=!0),s)}function $T(r,s){var l=Ue;Ue=l!==0&&4>l?l:4,r(!0);var d=ih.transition;ih.transition={};try{r(!1),s()}finally{Ue=l,ih.transition=d}}function _g(){return Sn().memoizedState}function WT(r,s,l){var d=yi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},wg(r))Eg(s,l);else if(l=Ym(r,s,l,d),l!==null){var p=Xt();qn(l,r,d,p),Tg(l,s,d)}}function HT(r,s,l){var d=yi(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(wg(r))Eg(s,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var E=s.lastRenderedState,D=v(E,l);if(p.hasEagerState=!0,p.eagerState=D,Bn(D,E)){var j=s.interleaved;j===null?(p.next=p,Jd(s)):(p.next=j.next,j.next=p),s.interleaved=p;return}}catch{}finally{}l=Ym(r,s,p,d),l!==null&&(p=Xt(),qn(l,r,d,p),Tg(l,s,d))}}function wg(r){var s=r.alternate;return r===st||s!==null&&s===st}function Eg(r,s){Fa=Cu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Tg(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ri(r,l)}}var Au={readContext:Tn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},qT={readContext:Tn,useCallback:function(r,s){return lr().memoizedState=[r,s===void 0?null:s],r},useContext:Tn,useEffect:dg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,xu(4194308,4,pg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return xu(4194308,4,r,s)},useInsertionEffect:function(r,s){return xu(4,2,r,s)},useMemo:function(r,s){var l=lr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=lr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=WT.bind(null,st,r),[d.memoizedState,r]},useRef:function(r){var s=lr();return r={current:r},s.memoizedState=r},useState:ug,useDebugValue:dh,useDeferredValue:function(r){return lr().memoizedState=r},useTransition:function(){var r=ug(!1),s=r[0];return r=$T.bind(null,r[1]),lr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=st,p=lr();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Rt===null)throw Error(t(349));(os&30)!==0||ig(d,s,l)}p.memoizedState=l;var v={value:l,getSnapshot:s};return p.queue=v,dg(og.bind(null,d,v,r),[r]),d.flags|=2048,Ba(9,sg.bind(null,d,v,l,s),void 0,null),l},useId:function(){var r=lr(),s=Rt.identifierPrefix;if(rt){var l=Dr,d=br;l=(d&~(1<<32-Kt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=ja++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=zT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},KT={readContext:Tn,useCallback:gg,useContext:Tn,useEffect:ch,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:vg,useReducer:lh,useRef:cg,useState:function(){return lh(Ua)},useDebugValue:dh,useDeferredValue:function(r){var s=Sn();return yg(s,wt.memoizedState,r)},useTransition:function(){var r=lh(Ua)[0],s=Sn().memoizedState;return[r,s]},useMutableSource:ng,useSyncExternalStore:rg,useId:_g,unstable_isNewReconciler:!1},GT={readContext:Tn,useCallback:gg,useContext:Tn,useEffect:ch,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:vg,useReducer:uh,useRef:cg,useState:function(){return uh(Ua)},useDebugValue:dh,useDeferredValue:function(r){var s=Sn();return wt===null?s.memoizedState=r:yg(s,wt.memoizedState,r)},useTransition:function(){var r=uh(Ua)[0],s=Sn().memoizedState;return[r,s]},useMutableSource:ng,useSyncExternalStore:rg,useId:_g,unstable_isNewReconciler:!1};function $n(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function hh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:oe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Pu={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Xt(),p=yi(r),v=Mr(d,p);v.payload=s,l!=null&&(v.callback=l),s=pi(r,v,p),s!==null&&(qn(s,r,p,d),Eu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Xt(),p=yi(r),v=Mr(d,p);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=pi(r,v,p),s!==null&&(qn(s,r,p,d),Eu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Xt(),d=yi(r),p=Mr(l,d);p.tag=2,s!=null&&(p.callback=s),s=pi(r,p,d),s!==null&&(qn(s,r,d,l),Eu(s,r,d))}};function Sg(r,s,l,d,p,v,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,E):s.prototype&&s.prototype.isPureReactComponent?!Ra(l,d)||!Ra(p,v):!0}function Ig(r,s,l){var d=!1,p=di,v=s.contextType;return typeof v=="object"&&v!==null?v=Tn(v):(p=en(s)?ts:Ft.current,d=s.contextTypes,v=(d=d!=null)?uo(r,p):di),s=new s(l,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Pu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=v),s}function Cg(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Pu.enqueueReplaceState(s,s.state,null)}function fh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Zd(r);var v=s.contextType;typeof v=="object"&&v!==null?p.context=Tn(v):(v=en(s)?ts:Ft.current,p.context=uo(r,v)),p.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(hh(r,s,v,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Pu.enqueueReplaceState(p,p.state,null),Tu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function yo(r,s){try{var l="",d=s;do l+=Pe(d),d=d.return;while(d);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:p,digest:null}}function ph(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function mh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var QT=typeof WeakMap=="function"?WeakMap:Map;function xg(r,s,l){l=Mr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Lu||(Lu=!0,kh=d),mh(r,s)},l}function Rg(r,s,l){l=Mr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){mh(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){mh(r,s),typeof d!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Ag(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new QT;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=uS.bind(null,r,s,l),s.then(r,r))}function Pg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function kg(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Mr(-1,1),s.tag=2,pi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var XT=K.ReactCurrentOwner,tn=!1;function Qt(r,s,l,d){s.child=r===null?Xm(s,null,l,d):po(s,r.child,l,d)}function Ng(r,s,l,d,p){l=l.render;var v=s.ref;return go(s,p),d=oh(r,s,l,d,v,p),l=ah(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Lr(r,s,p)):(rt&&l&&$d(s),s.flags|=1,Qt(r,s,d,p),s.child)}function bg(r,s,l,d,p){if(r===null){var v=l.type;return typeof v=="function"&&!Vh(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,Dg(r,s,v,d,p)):(r=zu(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,(r.lanes&p)===0){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ra,l(E,d)&&r.ref===s.ref)return Lr(r,s,p)}return s.flags|=1,r=wi(v,d),r.ref=s.ref,r.return=s,s.child=r}function Dg(r,s,l,d,p){if(r!==null){var v=r.memoizedProps;if(Ra(v,d)&&r.ref===s.ref)if(tn=!1,s.pendingProps=d=v,(r.lanes&p)!==0)(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,Lr(r,s,p)}return gh(r,s,l,d,p)}function Og(r,s,l){var d=s.pendingProps,p=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(wo,hn),hn|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ze(wo,hn),hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,Ze(wo,hn),hn|=d}else v!==null?(d=v.baseLanes|l,s.memoizedState=null):d=l,Ze(wo,hn),hn|=d;return Qt(r,s,p,l),s.child}function Mg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function gh(r,s,l,d,p){var v=en(l)?ts:Ft.current;return v=uo(s,v),go(s,p),l=oh(r,s,l,d,v,p),d=ah(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Lr(r,s,p)):(rt&&d&&$d(s),s.flags|=1,Qt(r,s,l,p),s.child)}function Lg(r,s,l,d,p){if(en(l)){var v=!0;fu(s)}else v=!1;if(go(s,p),s.stateNode===null)Nu(r,s),Ig(s,l,d),fh(s,l,d,p),d=!0;else if(r===null){var E=s.stateNode,D=s.memoizedProps;E.props=D;var j=E.context,G=l.contextType;typeof G=="object"&&G!==null?G=Tn(G):(G=en(l)?ts:Ft.current,G=uo(s,G));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==d||j!==G)&&Cg(s,E,d,G),fi=!1;var ee=s.memoizedState;E.state=ee,Tu(s,d,E,p),j=s.memoizedState,D!==d||ee!==j||Zt.current||fi?(typeof te=="function"&&(hh(s,l,te,d),j=s.memoizedState),(D=fi||Sg(s,l,D,d,ee,j,G))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=j),E.props=d,E.state=j,E.context=G,d=D):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,Jm(r,s),D=s.memoizedProps,G=s.type===s.elementType?D:$n(s.type,D),E.props=G,re=s.pendingProps,ee=E.context,j=l.contextType,typeof j=="object"&&j!==null?j=Tn(j):(j=en(l)?ts:Ft.current,j=uo(s,j));var ce=l.getDerivedStateFromProps;(te=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==re||ee!==j)&&Cg(s,E,d,j),fi=!1,ee=s.memoizedState,E.state=ee,Tu(s,d,E,p);var pe=s.memoizedState;D!==re||ee!==pe||Zt.current||fi?(typeof ce=="function"&&(hh(s,l,ce,d),pe=s.memoizedState),(G=fi||Sg(s,l,G,d,ee,pe,j)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,pe,j),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,pe,j)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=pe),E.props=d,E.state=pe,E.context=j,d=G):(typeof E.componentDidUpdate!="function"||D===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),d=!1)}return vh(r,s,l,d,v,p)}function vh(r,s,l,d,p,v){Mg(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return p&&Bm(s,l,!1),Lr(r,s,v);d=s.stateNode,XT.current=s;var D=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=po(s,r.child,null,v),s.child=po(s,null,D,v)):Qt(r,s,D,v),s.memoizedState=d.state,p&&Bm(s,l,!0),s.child}function Vg(r){var s=r.stateNode;s.pendingContext?jm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&jm(r,s.context,!1),eh(r,s.containerInfo)}function Fg(r,s,l,d,p){return fo(),Kd(p),s.flags|=256,Qt(r,s,l,d),s.child}var yh={dehydrated:null,treeContext:null,retryLane:0};function _h(r){return{baseLanes:r,cachePool:null,transitions:null}}function jg(r,s,l){var d=s.pendingProps,p=it.current,v=!1,E=(s.flags&128)!==0,D;if((D=E)||(D=r!==null&&r.memoizedState===null?!1:(p&2)!==0),D?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ze(it,p&1),r===null)return qd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=d.children,r=d.fallback,v?(d=s.mode,v=s.child,E={mode:"hidden",children:E},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=$u(E,d,0,null),r=ds(r,d,l,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=_h(l),s.memoizedState=yh,r):wh(s,E));if(p=r.memoizedState,p!==null&&(D=p.dehydrated,D!==null))return YT(r,s,E,d,D,p,l);if(v){v=d.fallback,E=s.mode,p=r.child,D=p.sibling;var j={mode:"hidden",children:d.children};return(E&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=j,s.deletions=null):(d=wi(p,j),d.subtreeFlags=p.subtreeFlags&14680064),D!==null?v=wi(D,v):(v=ds(v,E,l,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,E=r.child.memoizedState,E=E===null?_h(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=r.childLanes&~l,s.memoizedState=yh,d}return v=r.child,r=v.sibling,d=wi(v,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function wh(r,s){return s=$u({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ku(r,s,l,d){return d!==null&&Kd(d),po(s,r.child,null,l),r=wh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function YT(r,s,l,d,p,v,E){if(l)return s.flags&256?(s.flags&=-257,d=ph(Error(t(422))),ku(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=d.fallback,p=s.mode,d=$u({mode:"visible",children:d.children},p,0,null),v=ds(v,p,E,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,(s.mode&1)!==0&&po(s,r.child,null,E),s.child.memoizedState=_h(E),s.memoizedState=yh,v);if((s.mode&1)===0)return ku(r,s,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var D=d.dgst;return d=D,v=Error(t(419)),d=ph(v,d,void 0),ku(r,s,E,d)}if(D=(E&r.childLanes)!==0,tn||D){if(d=Rt,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Or(r,p),qn(d,r,p,-1))}return Lh(),d=ph(Error(t(421))),ku(r,s,E,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=cS.bind(null,r),p._reactRetry=s,null):(r=v.treeContext,dn=ui(p.nextSibling),cn=s,rt=!0,zn=null,r!==null&&(wn[En++]=br,wn[En++]=Dr,wn[En++]=ns,br=r.id,Dr=r.overflow,ns=s),s=wh(s,d.children),s.flags|=4096,s)}function Ug(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Yd(r.return,s,l)}function Eh(r,s,l,d,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=p)}function Bg(r,s,l){var d=s.pendingProps,p=d.revealOrder,v=d.tail;if(Qt(r,s,d.children,l),d=it.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ug(r,l,s);else if(r.tag===19)Ug(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ze(it,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Su(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Eh(s,!1,p,l,v);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Su(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Eh(s,!0,l,null,v);break;case"together":Eh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Nu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Lr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),as|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=wi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=wi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function JT(r,s,l){switch(s.tag){case 3:Vg(s),fo();break;case 5:tg(s);break;case 1:en(s.type)&&fu(s);break;case 4:eh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Ze(_u,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ze(it,it.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?jg(r,s,l):(Ze(it,it.current&1),r=Lr(r,s,l),r!==null?r.sibling:null);Ze(it,it.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Bg(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ze(it,it.current),d)break;return null;case 22:case 23:return s.lanes=0,Og(r,s,l)}return Lr(r,s,l)}var zg,Th,$g,Wg;zg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Th=function(){},$g=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,ss(ar.current);var v=null;switch(l){case"input":p=It(r,p),d=It(r,d),v=[];break;case"select":p=oe({},p,{value:void 0}),d=oe({},d,{value:void 0}),v=[];break;case"textarea":p=na(r,p),d=na(r,d),v=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=cu)}la(l,d);var E;l=null;for(G in p)if(!d.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var D=p[G];for(E in D)D.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in d){var j=d[G];if(D=p!=null?p[G]:void 0,d.hasOwnProperty(G)&&j!==D&&(j!=null||D!=null))if(G==="style")if(D){for(E in D)!D.hasOwnProperty(E)||j&&j.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in j)j.hasOwnProperty(E)&&D[E]!==j[E]&&(l||(l={}),l[E]=j[E])}else l||(v||(v=[]),v.push(G,l)),l=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,D=D?D.__html:void 0,j!=null&&D!==j&&(v=v||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&et("scroll",r),v||D===j||(v=[])):(v=v||[]).push(G,j))}l&&(v=v||[]).push("style",l);var G=v;(s.updateQueue=G)&&(s.flags|=4)}},Wg=function(r,s,l,d){l!==d&&(s.flags|=4)};function za(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function ZT(r,s,l){var d=s.pendingProps;switch(Wd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return en(s.type)&&hu(),Ut(s),null;case 3:return d=s.stateNode,vo(),tt(Zt),tt(Ft),rh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(vu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zn!==null&&(Dh(zn),zn=null))),Th(r,s),Ut(s),null;case 5:th(s);var p=ss(Va.current);if(l=s.type,r!==null&&s.stateNode!=null)$g(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(r=ss(ar.current),vu(s)){d=s.stateNode,l=s.type;var v=s.memoizedProps;switch(d[or]=s,d[ba]=v,r=(s.mode&1)!==0,l){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(p=0;p<Pa.length;p++)et(Pa[p],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":mn(d,v),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},et("invalid",d);break;case"textarea":Ds(d,v),et("invalid",d)}la(l,v),p=null;for(var E in v)if(v.hasOwnProperty(E)){var D=v[E];E==="children"?typeof D=="string"?d.textContent!==D&&(v.suppressHydrationWarning!==!0&&uu(d.textContent,D,r),p=["children",D]):typeof D=="number"&&d.textContent!==""+D&&(v.suppressHydrationWarning!==!0&&uu(d.textContent,D,r),p=["children",""+D]):o.hasOwnProperty(E)&&D!=null&&E==="onScroll"&&et("scroll",d)}switch(l){case"input":Le(d),bs(d,v,!0);break;case"textarea":Le(d),ra(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=cu)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=vt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[or]=s,r[ba]=d,zg(r,s,!1,!1),s.stateNode=r;e:{switch(E=ua(l,d),l){case"dialog":et("cancel",r),et("close",r),p=d;break;case"iframe":case"object":case"embed":et("load",r),p=d;break;case"video":case"audio":for(p=0;p<Pa.length;p++)et(Pa[p],r);p=d;break;case"source":et("error",r),p=d;break;case"img":case"image":case"link":et("error",r),et("load",r),p=d;break;case"details":et("toggle",r),p=d;break;case"input":mn(r,d),p=It(r,d),et("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=oe({},d,{value:void 0}),et("invalid",r);break;case"textarea":Ds(r,d),p=na(r,d),et("invalid",r);break;default:p=d}la(l,p),D=p;for(v in D)if(D.hasOwnProperty(v)){var j=D[v];v==="style"?oa(r,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&ia(r,j)):v==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&Jr(r,j):typeof j=="number"&&Jr(r,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?j!=null&&v==="onScroll"&&et("scroll",r):j!=null&&B(r,v,j,E))}switch(l){case"input":Le(r),bs(r,d,!1);break;case"textarea":Le(r),ra(r);break;case"option":d.value!=null&&r.setAttribute("value",""+_e(d.value));break;case"select":r.multiple=!!d.multiple,v=d.value,v!=null?Tr(r,!!d.multiple,v,!1):d.defaultValue!=null&&Tr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=cu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)Wg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=ss(Va.current),ss(ar.current),vu(s)){if(d=s.stateNode,l=s.memoizedProps,d[or]=s,(v=d.nodeValue!==l)&&(r=cn,r!==null))switch(r.tag){case 3:uu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&uu(d.nodeValue,l,(r.mode&1)!==0)}v&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[or]=s,s.stateNode=d}return Ut(s),null;case 13:if(tt(it),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Km(),fo(),s.flags|=98560,v=!1;else if(v=vu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!v)throw Error(t(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[or]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),v=!1}else zn!==null&&(Dh(zn),zn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(it.current&1)!==0?Et===0&&(Et=3):Lh())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return vo(),Th(r,s),r===null&&ka(s.stateNode.containerInfo),Ut(s),null;case 10:return Xd(s.type._context),Ut(s),null;case 17:return en(s.type)&&hu(),Ut(s),null;case 19:if(tt(it),v=s.memoizedState,v===null)return Ut(s),null;if(d=(s.flags&128)!==0,E=v.rendering,E===null)if(d)za(v,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Su(r),E!==null){for(s.flags|=128,za(v,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)v=l,r=d,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,r=E.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ze(it,it.current&1|2),s.child}r=r.sibling}v.tail!==null&&Je()>Eo&&(s.flags|=128,d=!0,za(v,!1),s.lanes=4194304)}else{if(!d)if(r=Su(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),za(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!rt)return Ut(s),null}else 2*Je()-v.renderingStartTime>Eo&&l!==1073741824&&(s.flags|=128,d=!0,za(v,!1),s.lanes=4194304);v.isBackwards?(E.sibling=s.child,s.child=E):(l=v.last,l!==null?l.sibling=E:s.child=E,v.last=E)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Je(),s.sibling=null,l=it.current,Ze(it,d?l&1|2:l&1),s):(Ut(s),null);case 22:case 23:return Mh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(hn&1073741824)!==0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function eS(r,s){switch(Wd(s),s.tag){case 1:return en(s.type)&&hu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return vo(),tt(Zt),tt(Ft),rh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return th(s),null;case 13:if(tt(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(it),null;case 4:return vo(),null;case 10:return Xd(s.type._context),null;case 22:case 23:return Mh(),null;case 24:return null;default:return null}}var bu=!1,Bt=!1,tS=typeof WeakSet=="function"?WeakSet:Set,he=null;function _o(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ut(r,s,d)}else l.current=null}function Sh(r,s,l){try{l()}catch(d){ut(r,s,d)}}var Hg=!1;function nS(r,s){if(Md=oi,r=Sm(),Rd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,D=-1,j=-1,G=0,te=0,re=r,ee=null;t:for(;;){for(var ce;re!==l||p!==0&&re.nodeType!==3||(D=E+p),re!==v||d!==0&&re.nodeType!==3||(j=E+d),re.nodeType===3&&(E+=re.nodeValue.length),(ce=re.firstChild)!==null;)ee=re,re=ce;for(;;){if(re===r)break t;if(ee===l&&++G===p&&(D=E),ee===v&&++te===d&&(j=E),(ce=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ce}l=D===-1||j===-1?null:{start:D,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ld={focusedElem:r,selectionRange:l},oi=!1,he=s;he!==null;)if(s=he,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,he=r;else for(;he!==null;){s=he;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ht=pe.memoizedState,H=s.stateNode,z=H.getSnapshotBeforeUpdate(s.elementType===s.type?me:$n(s.type,me),ht);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ut(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,he=r;break}he=s.return}return pe=Hg,Hg=!1,pe}function $a(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var v=p.destroy;p.destroy=void 0,v!==void 0&&Sh(s,l,v)}p=p.next}while(p!==d)}}function Du(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Ih(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function qg(r){var s=r.alternate;s!==null&&(r.alternate=null,qg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[or],delete s[ba],delete s[Ud],delete s[FT],delete s[jT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Kg(r){return r.tag===5||r.tag===3||r.tag===4}function Gg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Kg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ch(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=cu));else if(d!==4&&(r=r.child,r!==null))for(Ch(r,s,l),r=r.sibling;r!==null;)Ch(r,s,l),r=r.sibling}function xh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(xh(r,s,l),r=r.sibling;r!==null;)xh(r,s,l),r=r.sibling}var bt=null,Wn=!1;function mi(r,s,l){for(l=l.child;l!==null;)Qg(r,s,l),l=l.sibling}function Qg(r,s,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ki,l)}catch{}switch(l.tag){case 5:Bt||_o(l,s);case 6:var d=bt,p=Wn;bt=null,mi(r,s,l),bt=d,Wn=p,bt!==null&&(Wn?(r=bt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(Wn?(r=bt,l=l.stateNode,r.nodeType===8?jd(r.parentNode,l):r.nodeType===1&&jd(r,l),jn(r)):jd(bt,l.stateNode));break;case 4:d=bt,p=Wn,bt=l.stateNode.containerInfo,Wn=!0,mi(r,s,l),bt=d,Wn=p;break;case 0:case 11:case 14:case 15:if(!Bt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var v=p,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&Sh(l,s,E),p=p.next}while(p!==d)}mi(r,s,l);break;case 1:if(!Bt&&(_o(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(D){ut(l,s,D)}mi(r,s,l);break;case 21:mi(r,s,l);break;case 22:l.mode&1?(Bt=(d=Bt)||l.memoizedState!==null,mi(r,s,l),Bt=d):mi(r,s,l);break;default:mi(r,s,l)}}function Xg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new tS),s.forEach(function(d){var p=dS.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Hn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var v=r,E=s,D=E;e:for(;D!==null;){switch(D.tag){case 5:bt=D.stateNode,Wn=!1;break e;case 3:bt=D.stateNode.containerInfo,Wn=!0;break e;case 4:bt=D.stateNode.containerInfo,Wn=!0;break e}D=D.return}if(bt===null)throw Error(t(160));Qg(v,E,p),bt=null,Wn=!1;var j=p.alternate;j!==null&&(j.return=null),p.return=null}catch(G){ut(p,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Yg(s,r),s=s.sibling}function Yg(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Hn(s,r),ur(r),d&4){try{$a(3,r,r.return),Du(3,r)}catch(me){ut(r,r.return,me)}try{$a(5,r,r.return)}catch(me){ut(r,r.return,me)}}break;case 1:Hn(s,r),ur(r),d&512&&l!==null&&_o(l,l.return);break;case 5:if(Hn(s,r),ur(r),d&512&&l!==null&&_o(l,l.return),r.flags&32){var p=r.stateNode;try{Jr(p,"")}catch(me){ut(r,r.return,me)}}if(d&4&&(p=r.stateNode,p!=null)){var v=r.memoizedProps,E=l!==null?l.memoizedProps:v,D=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{D==="input"&&v.type==="radio"&&v.name!=null&&Pn(p,v),ua(D,E);var G=ua(D,v);for(E=0;E<j.length;E+=2){var te=j[E],re=j[E+1];te==="style"?oa(p,re):te==="dangerouslySetInnerHTML"?ia(p,re):te==="children"?Jr(p,re):B(p,te,re,G)}switch(D){case"input":kn(p,v);break;case"textarea":Os(p,v);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?Tr(p,!!v.multiple,ce,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Tr(p,!!v.multiple,v.defaultValue,!0):Tr(p,!!v.multiple,v.multiple?[]:"",!1))}p[ba]=v}catch(me){ut(r,r.return,me)}}break;case 6:if(Hn(s,r),ur(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,v=r.memoizedProps;try{p.nodeValue=v}catch(me){ut(r,r.return,me)}}break;case 3:if(Hn(s,r),ur(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{jn(s.containerInfo)}catch(me){ut(r,r.return,me)}break;case 4:Hn(s,r),ur(r);break;case 13:Hn(s,r),ur(r),p=r.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Ph=Je())),d&4&&Xg(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Bt=(G=Bt)||te,Hn(s,r),Bt=G):Hn(s,r),ur(r),d&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!te&&(r.mode&1)!==0)for(he=r,te=r.child;te!==null;){for(re=he=te;he!==null;){switch(ee=he,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:$a(4,ee,ee.return);break;case 1:_o(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){d=ee,l=ee.return;try{s=d,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){ut(d,l,me)}}break;case 5:_o(ee,ee.return);break;case 22:if(ee.memoizedState!==null){ev(re);continue}}ce!==null?(ce.return=ee,he=ce):ev(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{p=re.stateNode,G?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(D=re.stateNode,j=re.memoizedProps.style,E=j!=null&&j.hasOwnProperty("display")?j.display:null,D.style.display=sa("display",E))}catch(me){ut(r,r.return,me)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(me){ut(r,r.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Hn(s,r),ur(r),d&4&&Xg(r);break;case 21:break;default:Hn(s,r),ur(r)}}function ur(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Kg(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Jr(p,""),d.flags&=-33);var v=Gg(r);xh(r,v,p);break;case 3:case 4:var E=d.stateNode.containerInfo,D=Gg(r);Ch(r,D,E);break;default:throw Error(t(161))}}catch(j){ut(r,r.return,j)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function rS(r,s,l){he=r,Jg(r)}function Jg(r,s,l){for(var d=(r.mode&1)!==0;he!==null;){var p=he,v=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||bu;if(!E){var D=p.alternate,j=D!==null&&D.memoizedState!==null||Bt;D=bu;var G=Bt;if(bu=E,(Bt=j)&&!G)for(he=p;he!==null;)E=he,j=E.child,E.tag===22&&E.memoizedState!==null?tv(p):j!==null?(j.return=E,he=j):tv(p);for(;v!==null;)he=v,Jg(v),v=v.sibling;he=p,bu=D,Bt=G}Zg(r)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,he=v):Zg(r)}}function Zg(r){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Bt||Du(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Bt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:$n(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&eg(s,v,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}eg(s,E,l)}break;case 5:var D=s.stateNode;if(l===null&&s.flags&4){l=D;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&jn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||s.flags&512&&Ih(s)}catch(ee){ut(s,s.return,ee)}}if(s===r){he=null;break}if(l=s.sibling,l!==null){l.return=s.return,he=l;break}he=s.return}}function ev(r){for(;he!==null;){var s=he;if(s===r){he=null;break}var l=s.sibling;if(l!==null){l.return=s.return,he=l;break}he=s.return}}function tv(r){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Du(4,s)}catch(j){ut(s,l,j)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(j){ut(s,p,j)}}var v=s.return;try{Ih(s)}catch(j){ut(s,v,j)}break;case 5:var E=s.return;try{Ih(s)}catch(j){ut(s,E,j)}}}catch(j){ut(s,s.return,j)}if(s===r){he=null;break}var D=s.sibling;if(D!==null){D.return=s.return,he=D;break}he=s.return}}var iS=Math.ceil,Ou=K.ReactCurrentDispatcher,Rh=K.ReactCurrentOwner,In=K.ReactCurrentBatchConfig,We=0,Rt=null,mt=null,Dt=0,hn=0,wo=ci(0),Et=0,Wa=null,as=0,Mu=0,Ah=0,Ha=null,nn=null,Ph=0,Eo=1/0,Vr=null,Lu=!1,kh=null,gi=null,Vu=!1,vi=null,Fu=0,qa=0,Nh=null,ju=-1,Uu=0;function Xt(){return(We&6)!==0?Je():ju!==-1?ju:ju=Je()}function yi(r){return(r.mode&1)===0?1:(We&2)!==0&&Dt!==0?Dt&-Dt:BT.transition!==null?(Uu===0&&(Uu=Qi()),Uu):(r=Ue,r!==0||(r=window.event,r=r===void 0?16:wa(r.type)),r)}function qn(r,s,l,d){if(50<qa)throw qa=0,Nh=null,Error(t(185));ni(r,l,d),((We&2)===0||r!==Rt)&&(r===Rt&&((We&2)===0&&(Mu|=l),Et===4&&_i(r,Dt)),rn(r,d),l===1&&We===0&&(s.mode&1)===0&&(Eo=Je()+500,pu&&hi()))}function rn(r,s){var l=r.callbackNode;Cr(r,s);var d=Gi(r,r===Rt?Dt:0);if(d===0)l!==null&&ma(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&ma(l),s===1)r.tag===0?UT(rv.bind(null,r)):zm(rv.bind(null,r)),LT(function(){(We&6)===0&&hi()}),l=null;else{switch(ii(d)){case 1:l=qi;break;case 4:l=Zr;break;case 16:l=vn;break;case 536870912:l=Ul;break;default:l=vn}l=dv(l,nv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function nv(r,s){if(ju=-1,Uu=0,(We&6)!==0)throw Error(t(327));var l=r.callbackNode;if(To()&&r.callbackNode!==l)return null;var d=Gi(r,r===Rt?Dt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=Bu(r,d);else{s=d;var p=We;We|=2;var v=sv();(Rt!==r||Dt!==s)&&(Vr=null,Eo=Je()+500,us(r,s));do try{aS();break}catch(D){iv(r,D)}while(!0);Qd(),Ou.current=v,We=p,mt!==null?s=0:(Rt=null,Dt=0,s=Et)}if(s!==0){if(s===2&&(p=an(r),p!==0&&(d=p,s=bh(r,p))),s===1)throw l=Wa,us(r,0),_i(r,d),rn(r,Je()),l;if(s===6)_i(r,d);else{if(p=r.current.alternate,(d&30)===0&&!sS(p)&&(s=Bu(r,d),s===2&&(v=an(r),v!==0&&(d=v,s=bh(r,v))),s===1))throw l=Wa,us(r,0),_i(r,d),rn(r,Je()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:cs(r,nn,Vr);break;case 3:if(_i(r,d),(d&130023424)===d&&(s=Ph+500-Je(),10<s)){if(Gi(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Xt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Fd(cs.bind(null,r,nn,Vr),s);break}cs(r,nn,Vr);break;case 4:if(_i(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var E=31-Kt(d);v=1<<E,E=s[E],E>p&&(p=E),d&=~v}if(d=p,d=Je()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*iS(d/1960))-d,10<d){r.timeoutHandle=Fd(cs.bind(null,r,nn,Vr),d);break}cs(r,nn,Vr);break;case 5:cs(r,nn,Vr);break;default:throw Error(t(329))}}}return rn(r,Je()),r.callbackNode===l?nv.bind(null,r):null}function bh(r,s){var l=Ha;return r.current.memoizedState.isDehydrated&&(us(r,s).flags|=256),r=Bu(r,s),r!==2&&(s=nn,nn=l,s!==null&&Dh(s)),r}function Dh(r){nn===null?nn=r:nn.push.apply(nn,r)}function sS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],v=p.getSnapshot;p=p.value;try{if(!Bn(v(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(r,s){for(s&=~Ah,s&=~Mu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Kt(s),d=1<<l;r[l]=-1,s&=~d}}function rv(r){if((We&6)!==0)throw Error(t(327));To();var s=Gi(r,0);if((s&1)===0)return rn(r,Je()),null;var l=Bu(r,s);if(r.tag!==0&&l===2){var d=an(r);d!==0&&(s=d,l=bh(r,d))}if(l===1)throw l=Wa,us(r,0),_i(r,s),rn(r,Je()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,cs(r,nn,Vr),rn(r,Je()),null}function Oh(r,s){var l=We;We|=1;try{return r(s)}finally{We=l,We===0&&(Eo=Je()+500,pu&&hi())}}function ls(r){vi!==null&&vi.tag===0&&(We&6)===0&&To();var s=We;We|=1;var l=In.transition,d=Ue;try{if(In.transition=null,Ue=1,r)return r()}finally{Ue=d,In.transition=l,We=s,(We&6)===0&&hi()}}function Mh(){hn=wo.current,tt(wo)}function us(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,MT(l)),mt!==null)for(l=mt.return;l!==null;){var d=l;switch(Wd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&hu();break;case 3:vo(),tt(Zt),tt(Ft),rh();break;case 5:th(d);break;case 4:vo();break;case 13:tt(it);break;case 19:tt(it);break;case 10:Xd(d.type._context);break;case 22:case 23:Mh()}l=l.return}if(Rt=r,mt=r=wi(r.current,null),Dt=hn=s,Et=0,Wa=null,Ah=Mu=as=0,nn=Ha=null,is!==null){for(s=0;s<is.length;s++)if(l=is[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,v=l.pending;if(v!==null){var E=v.next;v.next=p,d.next=E}l.pending=d}is=null}return r}function iv(r,s){do{var l=mt;try{if(Qd(),Iu.current=Au,Cu){for(var d=st.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Cu=!1}if(os=0,xt=wt=st=null,Fa=!1,ja=0,Rh.current=null,l===null||l.return===null){Et=1,Wa=s,mt=null;break}e:{var v=r,E=l.return,D=l,j=s;if(s=Dt,D.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,te=D,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ce=Pg(E);if(ce!==null){ce.flags&=-257,kg(ce,E,D,v,s),ce.mode&1&&Ag(v,G,s),s=ce,j=G;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(j),s.updateQueue=me}else pe.add(j);break e}else{if((s&1)===0){Ag(v,G,s),Lh();break e}j=Error(t(426))}}else if(rt&&D.mode&1){var ht=Pg(E);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),kg(ht,E,D,v,s),Kd(yo(j,D));break e}}v=j=yo(j,D),Et!==4&&(Et=2),Ha===null?Ha=[v]:Ha.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var H=xg(v,j,s);Zm(v,H);break e;case 1:D=j;var z=v.type,q=v.stateNode;if((v.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(gi===null||!gi.has(q)))){v.flags|=65536,s&=-s,v.lanes|=s;var se=Rg(v,D,s);Zm(v,se);break e}}v=v.return}while(v!==null)}av(l)}catch(ve){s=ve,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(!0)}function sv(){var r=Ou.current;return Ou.current=Au,r===null?Au:r}function Lh(){(Et===0||Et===3||Et===2)&&(Et=4),Rt===null||(as&268435455)===0&&(Mu&268435455)===0||_i(Rt,Dt)}function Bu(r,s){var l=We;We|=2;var d=sv();(Rt!==r||Dt!==s)&&(Vr=null,us(r,s));do try{oS();break}catch(p){iv(r,p)}while(!0);if(Qd(),We=l,Ou.current=d,mt!==null)throw Error(t(261));return Rt=null,Dt=0,Et}function oS(){for(;mt!==null;)ov(mt)}function aS(){for(;mt!==null&&!Fl();)ov(mt)}function ov(r){var s=cv(r.alternate,r,hn);r.memoizedProps=r.pendingProps,s===null?av(r):mt=s,Rh.current=null}function av(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=ZT(l,s,hn),l!==null){mt=l;return}}else{if(l=eS(l,s),l!==null){l.flags&=32767,mt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,mt=null;return}}if(s=s.sibling,s!==null){mt=s;return}mt=s=r}while(s!==null);Et===0&&(Et=5)}function cs(r,s,l){var d=Ue,p=In.transition;try{In.transition=null,Ue=1,lS(r,s,l,d)}finally{In.transition=p,Ue=d}return null}function lS(r,s,l,d){do To();while(vi!==null);if((We&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(Xe(r,v),r===Rt&&(mt=Rt=null,Dt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Vu||(Vu=!0,dv(vn,function(){return To(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=In.transition,In.transition=null;var E=Ue;Ue=1;var D=We;We|=4,Rh.current=null,nS(r,l),Yg(l,r),AT(Ld),oi=!!Md,Ld=Md=null,r.current=l,rS(l),_d(),We=D,Ue=E,In.transition=v}else r.current=l;if(Vu&&(Vu=!1,vi=r,Fu=p),v=r.pendingLanes,v===0&&(gi=null),Bl(l.stateNode),rn(r,Je()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Lu)throw Lu=!1,r=kh,kh=null,r;return(Fu&1)!==0&&r.tag!==0&&To(),v=r.pendingLanes,(v&1)!==0?r===Nh?qa++:(qa=0,Nh=r):qa=0,hi(),null}function To(){if(vi!==null){var r=ii(Fu),s=In.transition,l=Ue;try{if(In.transition=null,Ue=16>r?16:r,vi===null)var d=!1;else{if(r=vi,vi=null,Fu=0,(We&6)!==0)throw Error(t(331));var p=We;for(We|=4,he=r.current;he!==null;){var v=he,E=v.child;if((he.flags&16)!==0){var D=v.deletions;if(D!==null){for(var j=0;j<D.length;j++){var G=D[j];for(he=G;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:$a(8,te,v)}var re=te.child;if(re!==null)re.return=te,he=re;else for(;he!==null;){te=he;var ee=te.sibling,ce=te.return;if(qg(te),te===G){he=null;break}if(ee!==null){ee.return=ce,he=ee;break}he=ce}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ht=me.sibling;me.sibling=null,me=ht}while(me!==null)}}he=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,he=E;else e:for(;he!==null;){if(v=he,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:$a(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,he=H;break e}he=v.return}}var z=r.current;for(he=z;he!==null;){E=he;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,he=q;else e:for(E=z;he!==null;){if(D=he,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Du(9,D)}}catch(ve){ut(D,D.return,ve)}if(D===E){he=null;break e}var se=D.sibling;if(se!==null){se.return=D.return,he=se;break e}he=D.return}}if(We=p,hi(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ki,r)}catch{}d=!0}return d}finally{Ue=l,In.transition=s}}return!1}function lv(r,s,l){s=yo(l,s),s=xg(r,s,1),r=pi(r,s,1),s=Xt(),r!==null&&(ni(r,1,s),rn(r,s))}function ut(r,s,l){if(r.tag===3)lv(r,r,l);else for(;s!==null;){if(s.tag===3){lv(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(gi===null||!gi.has(d))){r=yo(l,r),r=Rg(s,r,1),s=pi(s,r,1),r=Xt(),s!==null&&(ni(s,1,r),rn(s,r));break}}s=s.return}}function uS(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&l,Rt===r&&(Dt&l)===l&&(Et===4||Et===3&&(Dt&130023424)===Dt&&500>Je()-Ph?us(r,0):Ah|=l),rn(r,s)}function uv(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ws,Ws<<=1,(Ws&130023424)===0&&(Ws=4194304)));var l=Xt();r=Or(r,s),r!==null&&(ni(r,s,l),rn(r,l))}function cS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),uv(r,l)}function dS(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),uv(r,l)}var cv;cv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)tn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return tn=!1,JT(r,s,l);tn=(r.flags&131072)!==0}else tn=!1,rt&&(s.flags&1048576)!==0&&$m(s,gu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Nu(r,s),r=s.pendingProps;var p=uo(s,Ft.current);go(s,l),p=oh(null,s,d,r,p,l);var v=ah();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,en(d)?(v=!0,fu(s)):v=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Zd(s),p.updater=Pu,s.stateNode=p,p._reactInternals=s,fh(s,d,r,l),s=vh(null,s,d,!0,v,l)):(s.tag=0,rt&&v&&$d(s),Qt(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Nu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=fS(d),r=$n(d,r),p){case 0:s=gh(null,s,d,r,l);break e;case 1:s=Lg(null,s,d,r,l);break e;case 11:s=Ng(null,s,d,r,l);break e;case 14:s=bg(null,s,d,$n(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),gh(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),Lg(r,s,d,p,l);case 3:e:{if(Vg(s),r===null)throw Error(t(387));d=s.pendingProps,v=s.memoizedState,p=v.element,Jm(r,s),Tu(s,d,null,l);var E=s.memoizedState;if(d=E.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){p=yo(Error(t(423)),s),s=Fg(r,s,d,l,p);break e}else if(d!==p){p=yo(Error(t(424)),s),s=Fg(r,s,d,l,p);break e}else for(dn=ui(s.stateNode.containerInfo.firstChild),cn=s,rt=!0,zn=null,l=Xm(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fo(),d===p){s=Lr(r,s,l);break e}Qt(r,s,d,l)}s=s.child}return s;case 5:return tg(s),r===null&&qd(s),d=s.type,p=s.pendingProps,v=r!==null?r.memoizedProps:null,E=p.children,Vd(d,p)?E=null:v!==null&&Vd(d,v)&&(s.flags|=32),Mg(r,s),Qt(r,s,E,l),s.child;case 6:return r===null&&qd(s),null;case 13:return jg(r,s,l);case 4:return eh(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=po(s,null,d,l):Qt(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),Ng(r,s,d,p,l);case 7:return Qt(r,s,s.pendingProps,l),s.child;case 8:return Qt(r,s,s.pendingProps.children,l),s.child;case 12:return Qt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,v=s.memoizedProps,E=p.value,Ze(_u,d._currentValue),d._currentValue=E,v!==null)if(Bn(v.value,E)){if(v.children===p.children&&!Zt.current){s=Lr(r,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var D=v.dependencies;if(D!==null){E=v.child;for(var j=D.firstContext;j!==null;){if(j.context===d){if(v.tag===1){j=Mr(-1,l&-l),j.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?j.next=j:(j.next=te.next,te.next=j),G.pending=j}}v.lanes|=l,j=v.alternate,j!==null&&(j.lanes|=l),Yd(v.return,l,s),D.lanes|=l;break}j=j.next}}else if(v.tag===10)E=v.type===s.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=l,D=E.alternate,D!==null&&(D.lanes|=l),Yd(E,l,s),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===s){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}Qt(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,go(s,l),p=Tn(p),d=d(p),s.flags|=1,Qt(r,s,d,l),s.child;case 14:return d=s.type,p=$n(d,s.pendingProps),p=$n(d.type,p),bg(r,s,d,p,l);case 15:return Dg(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),Nu(r,s),s.tag=1,en(d)?(r=!0,fu(s)):r=!1,go(s,l),Ig(s,d,p),fh(s,d,p,l),vh(null,s,d,!0,r,l);case 19:return Bg(r,s,l);case 22:return Og(r,s,l)}throw Error(t(156,s.tag))};function dv(r,s){return zs(r,s)}function hS(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,s,l,d){return new hS(r,s,l,d)}function Vh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fS(r){if(typeof r=="function")return Vh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===U)return 11;if(r===Ae)return 14}return 2}function wi(r,s){var l=r.alternate;return l===null?(l=Cn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function zu(r,s,l,d,p,v){var E=2;if(d=r,typeof r=="function")Vh(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case P:return ds(l.children,p,v,s);case C:E=8,p|=8;break;case k:return r=Cn(12,l,s,p|2),r.elementType=k,r.lanes=v,r;case N:return r=Cn(13,l,s,p),r.elementType=N,r.lanes=v,r;case ye:return r=Cn(19,l,s,p),r.elementType=ye,r.lanes=v,r;case de:return $u(l,p,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:E=10;break e;case V:E=9;break e;case U:E=11;break e;case Ae:E=14;break e;case we:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Cn(E,l,s,p),s.elementType=r,s.type=d,s.lanes=v,s}function ds(r,s,l,d){return r=Cn(7,r,d,s),r.lanes=l,r}function $u(r,s,l,d){return r=Cn(22,r,d,s),r.elementType=de,r.lanes=l,r.stateNode={isHidden:!1},r}function Fh(r,s,l){return r=Cn(6,r,null,s),r.lanes=l,r}function jh(r,s,l){return s=Cn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function pS(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Uh(r,s,l,d,p,v,E,D,j){return r=new pS(r,s,l,D,j),s===1?(s=1,v===!0&&(s|=8)):s=0,v=Cn(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(v),r}function mS(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function hv(r){if(!r)return di;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(en(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(en(l))return Um(r,l,s)}return s}function fv(r,s,l,d,p,v,E,D,j){return r=Uh(l,d,!0,r,p,v,E,D,j),r.context=hv(null),l=r.current,d=Xt(),p=yi(l),v=Mr(d,p),v.callback=s??null,pi(l,v,p),r.current.lanes=p,ni(r,p,d),rn(r,d),r}function Wu(r,s,l,d){var p=s.current,v=Xt(),E=yi(p);return l=hv(l),s.context===null?s.context=l:s.pendingContext=l,s=Mr(v,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=pi(p,s,E),r!==null&&(qn(r,p,E,v),Eu(r,p,E)),E}function Hu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function pv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Bh(r,s){pv(r,s),(r=r.alternate)&&pv(r,s)}function gS(){return null}var mv=typeof reportError=="function"?reportError:function(r){console.error(r)};function zh(r){this._internalRoot=r}qu.prototype.render=zh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Wu(r,s,null,null)},qu.prototype.unmount=zh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ls(function(){Wu(null,r,null,null)}),s[kr]=null}};function qu(r){this._internalRoot=r}qu.prototype.unstable_scheduleHydration=function(r){if(r){var s=ql();r={blockedOn:null,target:r,priority:s};for(var l=0;l<nr.length&&s!==0&&s<nr[l].priority;l++);nr.splice(l,0,r),l===0&&Ql(r)}};function $h(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ku(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function gv(){}function vS(r,s,l,d,p){if(p){if(typeof d=="function"){var v=d;d=function(){var G=Hu(E);v.call(G)}}var E=fv(s,d,r,0,null,!1,!1,"",gv);return r._reactRootContainer=E,r[kr]=E.current,ka(r.nodeType===8?r.parentNode:r),ls(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var D=d;d=function(){var G=Hu(j);D.call(G)}}var j=Uh(r,0,!1,null,null,!1,!1,"",gv);return r._reactRootContainer=j,r[kr]=j.current,ka(r.nodeType===8?r.parentNode:r),ls(function(){Wu(s,j,l,d)}),j}function Gu(r,s,l,d,p){var v=l._reactRootContainer;if(v){var E=v;if(typeof p=="function"){var D=p;p=function(){var j=Hu(E);D.call(j)}}Wu(s,E,r,p)}else E=vS(l,s,r,p,d);return Hu(E)}Wl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ei(s.pendingLanes);l!==0&&(ri(s,l|1),rn(s,Je()),(We&6)===0&&(Eo=Je()+500,hi()))}break;case 13:ls(function(){var d=Or(r,1);if(d!==null){var p=Xt();qn(d,r,1,p)}}),Bh(r,1)}},Hs=function(r){if(r.tag===13){var s=Or(r,134217728);if(s!==null){var l=Xt();qn(s,r,134217728,l)}Bh(r,134217728)}},Hl=function(r){if(r.tag===13){var s=yi(r),l=Or(r,s);if(l!==null){var d=Xt();qn(l,r,s,d)}Bh(r,s)}},ql=function(){return Ue},Kl=function(r,s){var l=Ue;try{return Ue=r,s()}finally{Ue=l}},Ls=function(r,s,l){switch(s){case"input":if(kn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=du(d);if(!p)throw Error(t(90));je(d),kn(d,p)}}}break;case"textarea":Os(r,l);break;case"select":s=l.value,s!=null&&Tr(r,!!l.multiple,s,!1)}},zi=Oh,da=ls;var yS={usingClientEntryPoint:!1,Events:[Da,ao,du,er,ca,Oh]},Ka={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_S={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=pa(r),r===null?null:r.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||gS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Ki=Qu.inject(_S),on=Qu}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yS,sn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$h(s))throw Error(t(200));return mS(r,s,null,l)},sn.createRoot=function(r,s){if(!$h(r))throw Error(t(299));var l=!1,d="",p=mv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Uh(r,1,!1,null,null,l,!1,d,p),r[kr]=s.current,ka(r.nodeType===8?r.parentNode:r),new zh(s)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=pa(s),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return ls(r)},sn.hydrate=function(r,s,l){if(!Ku(s))throw Error(t(200));return Gu(null,r,s,!0,l)},sn.hydrateRoot=function(r,s,l){if(!$h(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,v="",E=mv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=fv(s,null,r,1,l??null,p,!1,v,E),r[kr]=s.current,ka(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new qu(s)},sn.render=function(r,s,l){if(!Ku(s))throw Error(t(200));return Gu(null,r,s,!1,l)},sn.unmountComponentAtNode=function(r){if(!Ku(r))throw Error(t(40));return r._reactRootContainer?(ls(function(){Gu(null,null,r,!1,function(){r._reactRootContainer=null,r[kr]=null})}),!0):!1},sn.unstable_batchedUpdates=Oh,sn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Ku(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Gu(r,s,l,!1,d)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var Iv;function v_(){if(Iv)return qh.exports;Iv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qh.exports=RS(),qh.exports}var Cv;function AS(){if(Cv)return Xu;Cv=1;var n=v_();return Xu.createRoot=n.createRoot,Xu.hydrateRoot=n.hydrateRoot,Xu}var PS=AS();const kS=ep(PS);function NS({className:n}){return b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:b.jsx("path",{d:"M17 10h-1V8a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2Zm-7-2a2 2 0 1 1 4 0v2h-4V8Zm3.5 9.73V19h-3v-1.27a2 2 0 1 1 3 0Z"})})}function bS({className:n}){return b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:b.jsx("path",{d:"M17 10h-7V8a2 2 0 1 1 4 0h2a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2Zm-4.5 7.73V19h-3v-1.27a2 2 0 1 1 3 0Z"})})}function DS({className:n}){return b.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[b.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),b.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}function OS({className:n}){return b.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[b.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),b.jsx("circle",{cx:"12",cy:"13",r:"4"})]})}function MS({className:n}){return b.jsxs("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",children:[b.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),b.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),b.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),b.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Ke(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function xv(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function y_(...n){return e=>{let t=!1;const i=n.map(o=>{const a=xv(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():xv(n[o],null)}}}}function ot(...n){return x.useCallback(y_(...n),n)}function LS(n,e){const t=x.createContext(e),i=a=>{const{children:c,...h}=a,f=x.useMemo(()=>h,Object.values(h));return b.jsx(t.Provider,{value:f,children:c})};i.displayName=n+"Provider";function o(a){const c=x.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[i,o]}function wl(n,e=[]){let t=[];function i(a,c){const h=x.createContext(c),f=t.length;t=[...t,c];const g=w=>{var L;const{scope:T,children:R,...M}=w,I=((L=T==null?void 0:T[n])==null?void 0:L[f])||h,A=x.useMemo(()=>M,Object.values(M));return b.jsx(I.Provider,{value:A,children:R})};g.displayName=a+"Provider";function y(w,T){var I;const R=((I=T==null?void 0:T[n])==null?void 0:I[f])||h,M=x.useContext(R);if(M)return M;if(c!==void 0)return c;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[g,y]}const o=()=>{const a=t.map(c=>x.createContext(c));return function(h){const f=(h==null?void 0:h[n])||a;return x.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return o.scopeName=n,[i,VS(o,...e)]}function VS(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=i.reduce((h,{useScope:f,scopeName:g})=>{const w=f(a)[`__scope${g}`];return{...h,...w}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var El=v_();const FS=ep(El);function sl(n){const e=jS(n),t=x.forwardRef((i,o)=>{const{children:a,...c}=i,h=x.Children.toArray(a),f=h.find(BS);if(f){const g=f.props.children,y=h.map(w=>w===f?x.Children.count(g)>1?x.Children.only(null):x.isValidElement(g)?g.props.children:null:w);return b.jsx(e,{...c,ref:o,children:x.isValidElement(g)?x.cloneElement(g,void 0,y):null})}return b.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function jS(n){const e=x.forwardRef((t,i)=>{const{children:o,...a}=t;if(x.isValidElement(o)){const c=$S(o),h=zS(a,o.props);return o.type!==x.Fragment&&(h.ref=i?y_(i,c):c),x.cloneElement(o,h)}return x.Children.count(o)>1?x.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var __=Symbol("radix.slottable");function US(n){const e=({children:t})=>b.jsx(b.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=__,e}function BS(n){return x.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===__}function zS(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function $S(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var WS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=WS.reduce((n,e)=>{const t=sl(`Primitive.${e}`),i=x.forwardRef((o,a)=>{const{asChild:c,...h}=o,f=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(f,{...h,ref:a})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function HS(n,e){n&&El.flushSync(()=>n.dispatchEvent(e))}function ws(n){const e=x.useRef(n);return x.useEffect(()=>{e.current=n}),x.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function qS(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n);x.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var KS="DismissableLayer",_f="dismissableLayer.update",GS="dismissableLayer.pointerDownOutside",QS="dismissableLayer.focusOutside",Rv,w_=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wc=x.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...f}=n,g=x.useContext(w_),[y,w]=x.useState(null),T=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=x.useState({}),M=ot(e,P=>w(P)),I=Array.from(g.layers),[A]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),L=I.indexOf(A),F=y?I.indexOf(y):-1,B=g.layersWithOutsidePointerEventsDisabled.size>0,K=F>=L,J=JS(P=>{const C=P.target,k=[...g.branches].some(O=>O.contains(C));!K||k||(o==null||o(P),c==null||c(P),P.defaultPrevented||h==null||h())},T),Z=ZS(P=>{const C=P.target;[...g.branches].some(O=>O.contains(C))||(a==null||a(P),c==null||c(P),P.defaultPrevented||h==null||h())},T);return qS(P=>{F===g.layers.size-1&&(i==null||i(P),!P.defaultPrevented&&h&&(P.preventDefault(),h()))},T),x.useEffect(()=>{if(y)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Rv=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(y)),g.layers.add(y),Av(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=Rv)}},[y,T,t,g]),x.useEffect(()=>()=>{y&&(g.layers.delete(y),g.layersWithOutsidePointerEventsDisabled.delete(y),Av())},[y,g]),x.useEffect(()=>{const P=()=>R({});return document.addEventListener(_f,P),()=>document.removeEventListener(_f,P)},[]),b.jsx(Ye.div,{...f,ref:M,style:{pointerEvents:B?K?"auto":"none":void 0,...n.style},onFocusCapture:Ke(n.onFocusCapture,Z.onFocusCapture),onBlurCapture:Ke(n.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Ke(n.onPointerDownCapture,J.onPointerDownCapture)})});Wc.displayName=KS;var XS="DismissableLayerBranch",YS=x.forwardRef((n,e)=>{const t=x.useContext(w_),i=x.useRef(null),o=ot(e,i);return x.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),b.jsx(Ye.div,{...n,ref:o})});YS.displayName=XS;function JS(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n),i=x.useRef(!1),o=x.useRef(()=>{});return x.useEffect(()=>{const a=h=>{if(h.target&&!i.current){let f=function(){E_(GS,t,g,{discrete:!0})};const g={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function ZS(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n),i=x.useRef(!1);return x.useEffect(()=>{const o=a=>{a.target&&!i.current&&E_(QS,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Av(){const n=new CustomEvent(_f);document.dispatchEvent(n)}function E_(n,e,t,{discrete:i}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?HS(o,a):o.dispatchEvent(a)}var Ht=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},eI=g_[" useId ".trim().toString()]||(()=>{}),tI=0;function vs(n){const[e,t]=x.useState(eI());return Ht(()=>{t(i=>i??String(tI++))},[n]),e?`radix-${e}`:""}const nI=["top","right","bottom","left"],bi=Math.min,fn=Math.max,Ec=Math.round,Yu=Math.floor,hr=n=>({x:n,y:n}),rI={left:"right",right:"left",bottom:"top",top:"bottom"},iI={start:"end",end:"start"};function wf(n,e,t){return fn(n,bi(e,t))}function Hr(n,e){return typeof n=="function"?n(e):n}function qr(n){return n.split("-")[0]}function qo(n){return n.split("-")[1]}function np(n){return n==="x"?"y":"x"}function rp(n){return n==="y"?"height":"width"}const sI=new Set(["top","bottom"]);function dr(n){return sI.has(qr(n))?"y":"x"}function ip(n){return np(dr(n))}function oI(n,e,t){t===void 0&&(t=!1);const i=qo(n),o=ip(n),a=rp(o);let c=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Tc(c)),[c,Tc(c)]}function aI(n){const e=Tc(n);return[Ef(n),e,Ef(e)]}function Ef(n){return n.replace(/start|end/g,e=>iI[e])}const Pv=["left","right"],kv=["right","left"],lI=["top","bottom"],uI=["bottom","top"];function cI(n,e,t){switch(n){case"top":case"bottom":return t?e?kv:Pv:e?Pv:kv;case"left":case"right":return e?lI:uI;default:return[]}}function dI(n,e,t,i){const o=qo(n);let a=cI(qr(n),t==="start",i);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(Ef)))),a}function Tc(n){return n.replace(/left|right|bottom|top/g,e=>rI[e])}function hI(n){return{top:0,right:0,bottom:0,left:0,...n}}function T_(n){return typeof n!="number"?hI(n):{top:n,right:n,bottom:n,left:n}}function Sc(n){const{x:e,y:t,width:i,height:o}=n;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function Nv(n,e,t){let{reference:i,floating:o}=n;const a=dr(e),c=ip(e),h=rp(c),f=qr(e),g=a==="y",y=i.x+i.width/2-o.width/2,w=i.y+i.height/2-o.height/2,T=i[h]/2-o[h]/2;let R;switch(f){case"top":R={x:y,y:i.y-o.height};break;case"bottom":R={x:y,y:i.y+i.height};break;case"right":R={x:i.x+i.width,y:w};break;case"left":R={x:i.x-o.width,y:w};break;default:R={x:i.x,y:i.y}}switch(qo(e)){case"start":R[c]-=T*(t&&g?-1:1);break;case"end":R[c]+=T*(t&&g?-1:1);break}return R}async function fI(n,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:a,rects:c,elements:h,strategy:f}=n,{boundary:g="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:T=!1,padding:R=0}=Hr(e,n),M=T_(R),A=h[T?w==="floating"?"reference":"floating":w],L=Sc(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:g,rootBoundary:y,strategy:f})),F=w==="floating"?{x:i,y:o,width:c.floating.width,height:c.floating.height}:c.reference,B=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),K=await(a.isElement==null?void 0:a.isElement(B))?await(a.getScale==null?void 0:a.getScale(B))||{x:1,y:1}:{x:1,y:1},J=Sc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:F,offsetParent:B,strategy:f}):F);return{top:(L.top-J.top+M.top)/K.y,bottom:(J.bottom-L.bottom+M.bottom)/K.y,left:(L.left-J.left+M.left)/K.x,right:(J.right-L.right+M.right)/K.x}}const pI=async(n,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:c}=t,h=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let g=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:y,y:w}=Nv(g,i,f),T=i,R={},M=0;for(let A=0;A<h.length;A++){var I;const{name:L,fn:F}=h[A],{x:B,y:K,data:J,reset:Z}=await F({x:y,y:w,initialPlacement:i,placement:T,strategy:o,middlewareData:R,rects:g,platform:{...c,detectOverflow:(I=c.detectOverflow)!=null?I:fI},elements:{reference:n,floating:e}});y=B??y,w=K??w,R={...R,[L]:{...R[L],...J}},Z&&M<=50&&(M++,typeof Z=="object"&&(Z.placement&&(T=Z.placement),Z.rects&&(g=Z.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):Z.rects),{x:y,y:w}=Nv(g,T,f)),A=-1)}return{x:y,y:w,placement:T,strategy:o,middlewareData:R}},mI=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:o,rects:a,platform:c,elements:h,middlewareData:f}=e,{element:g,padding:y=0}=Hr(n,e)||{};if(g==null)return{};const w=T_(y),T={x:t,y:i},R=ip(o),M=rp(R),I=await c.getDimensions(g),A=R==="y",L=A?"top":"left",F=A?"bottom":"right",B=A?"clientHeight":"clientWidth",K=a.reference[M]+a.reference[R]-T[R]-a.floating[M],J=T[R]-a.reference[R],Z=await(c.getOffsetParent==null?void 0:c.getOffsetParent(g));let P=Z?Z[B]:0;(!P||!await(c.isElement==null?void 0:c.isElement(Z)))&&(P=h.floating[B]||a.floating[M]);const C=K/2-J/2,k=P/2-I[M]/2-1,O=bi(w[L],k),V=bi(w[F],k),U=O,N=P-I[M]-V,ye=P/2-I[M]/2+C,Ae=wf(U,ye,N),we=!f.arrow&&qo(o)!=null&&ye!==Ae&&a.reference[M]/2-(ye<U?O:V)-I[M]/2<0,de=we?ye<U?ye-U:ye-N:0;return{[R]:T[R]+de,data:{[R]:Ae,centerOffset:ye-Ae-de,...we&&{alignmentOffset:de}},reset:we}}}),gI=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:o,middlewareData:a,rects:c,initialPlacement:h,platform:f,elements:g}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:I=!0,...A}=Hr(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const L=qr(o),F=dr(h),B=qr(h)===h,K=await(f.isRTL==null?void 0:f.isRTL(g.floating)),J=T||(B||!I?[Tc(h)]:aI(h)),Z=M!=="none";!T&&Z&&J.push(...dI(h,I,M,K));const P=[h,...J],C=await f.detectOverflow(e,A),k=[];let O=((i=a.flip)==null?void 0:i.overflows)||[];if(y&&k.push(C[L]),w){const ye=oI(o,c,K);k.push(C[ye[0]],C[ye[1]])}if(O=[...O,{placement:o,overflows:k}],!k.every(ye=>ye<=0)){var V,U;const ye=(((V=a.flip)==null?void 0:V.index)||0)+1,Ae=P[ye];if(Ae&&(!(w==="alignment"?F!==dr(Ae):!1)||O.every(X=>dr(X.placement)===F?X.overflows[0]>0:!0)))return{data:{index:ye,overflows:O},reset:{placement:Ae}};let we=(U=O.filter(de=>de.overflows[0]<=0).sort((de,X)=>de.overflows[1]-X.overflows[1])[0])==null?void 0:U.placement;if(!we)switch(R){case"bestFit":{var N;const de=(N=O.filter(X=>{if(Z){const le=dr(X.placement);return le===F||le==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(le=>le>0).reduce((le,oe)=>le+oe,0)]).sort((X,le)=>X[1]-le[1])[0])==null?void 0:N[0];de&&(we=de);break}case"initialPlacement":we=h;break}if(o!==we)return{reset:{placement:we}}}return{}}}};function bv(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Dv(n){return nI.some(e=>n[e]>=0)}const vI=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t,platform:i}=e,{strategy:o="referenceHidden",...a}=Hr(n,e);switch(o){case"referenceHidden":{const c=await i.detectOverflow(e,{...a,elementContext:"reference"}),h=bv(c,t.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Dv(h)}}}case"escaped":{const c=await i.detectOverflow(e,{...a,altBoundary:!0}),h=bv(c,t.floating);return{data:{escapedOffsets:h,escaped:Dv(h)}}}default:return{}}}}},S_=new Set(["left","top"]);async function yI(n,e){const{placement:t,platform:i,elements:o}=n,a=await(i.isRTL==null?void 0:i.isRTL(o.floating)),c=qr(t),h=qo(t),f=dr(t)==="y",g=S_.has(c)?-1:1,y=a&&f?-1:1,w=Hr(e,n);let{mainAxis:T,crossAxis:R,alignmentAxis:M}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof M=="number"&&(R=h==="end"?M*-1:M),f?{x:R*y,y:T*g}:{x:T*g,y:R*y}}const _I=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:o,y:a,placement:c,middlewareData:h}=e,f=await yI(e,n);return c===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:c}}}}},wI=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:o,platform:a}=e,{mainAxis:c=!0,crossAxis:h=!1,limiter:f={fn:L=>{let{x:F,y:B}=L;return{x:F,y:B}}},...g}=Hr(n,e),y={x:t,y:i},w=await a.detectOverflow(e,g),T=dr(qr(o)),R=np(T);let M=y[R],I=y[T];if(c){const L=R==="y"?"top":"left",F=R==="y"?"bottom":"right",B=M+w[L],K=M-w[F];M=wf(B,M,K)}if(h){const L=T==="y"?"top":"left",F=T==="y"?"bottom":"right",B=I+w[L],K=I-w[F];I=wf(B,I,K)}const A=f.fn({...e,[R]:M,[T]:I});return{...A,data:{x:A.x-t,y:A.y-i,enabled:{[R]:c,[T]:h}}}}}},EI=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:o,rects:a,middlewareData:c}=e,{offset:h=0,mainAxis:f=!0,crossAxis:g=!0}=Hr(n,e),y={x:t,y:i},w=dr(o),T=np(w);let R=y[T],M=y[w];const I=Hr(h,e),A=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(f){const B=T==="y"?"height":"width",K=a.reference[T]-a.floating[B]+A.mainAxis,J=a.reference[T]+a.reference[B]-A.mainAxis;R<K?R=K:R>J&&(R=J)}if(g){var L,F;const B=T==="y"?"width":"height",K=S_.has(qr(o)),J=a.reference[w]-a.floating[B]+(K&&((L=c.offset)==null?void 0:L[w])||0)+(K?0:A.crossAxis),Z=a.reference[w]+a.reference[B]+(K?0:((F=c.offset)==null?void 0:F[w])||0)-(K?A.crossAxis:0);M<J?M=J:M>Z&&(M=Z)}return{[T]:R,[w]:M}}}},TI=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:o,rects:a,platform:c,elements:h}=e,{apply:f=()=>{},...g}=Hr(n,e),y=await c.detectOverflow(e,g),w=qr(o),T=qo(o),R=dr(o)==="y",{width:M,height:I}=a.floating;let A,L;w==="top"||w==="bottom"?(A=w,L=T===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(L=w,A=T==="end"?"top":"bottom");const F=I-y.top-y.bottom,B=M-y.left-y.right,K=bi(I-y[A],F),J=bi(M-y[L],B),Z=!e.middlewareData.shift;let P=K,C=J;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=B),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(P=F),Z&&!T){const O=fn(y.left,0),V=fn(y.right,0),U=fn(y.top,0),N=fn(y.bottom,0);R?C=M-2*(O!==0||V!==0?O+V:fn(y.left,y.right)):P=I-2*(U!==0||N!==0?U+N:fn(y.top,y.bottom))}await f({...e,availableWidth:C,availableHeight:P});const k=await c.getDimensions(h.floating);return M!==k.width||I!==k.height?{reset:{rects:!0}}:{}}}};function Hc(){return typeof window<"u"}function Ko(n){return I_(n)?(n.nodeName||"").toLowerCase():"#document"}function pn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function wr(n){var e;return(e=(I_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function I_(n){return Hc()?n instanceof Node||n instanceof pn(n).Node:!1}function Xn(n){return Hc()?n instanceof Element||n instanceof pn(n).Element:!1}function gr(n){return Hc()?n instanceof HTMLElement||n instanceof pn(n).HTMLElement:!1}function Ov(n){return!Hc()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof pn(n).ShadowRoot}const SI=new Set(["inline","contents"]);function Tl(n){const{overflow:e,overflowX:t,overflowY:i,display:o}=Yn(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!SI.has(o)}const II=new Set(["table","td","th"]);function CI(n){return II.has(Ko(n))}const xI=[":popover-open",":modal"];function qc(n){return xI.some(e=>{try{return n.matches(e)}catch{return!1}})}const RI=["transform","translate","scale","rotate","perspective"],AI=["transform","translate","scale","rotate","perspective","filter"],PI=["paint","layout","strict","content"];function sp(n){const e=op(),t=Xn(n)?Yn(n):n;return RI.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||AI.some(i=>(t.willChange||"").includes(i))||PI.some(i=>(t.contain||"").includes(i))}function kI(n){let e=Di(n);for(;gr(e)&&!Mo(e);){if(sp(e))return e;if(qc(e))return null;e=Di(e)}return null}function op(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NI=new Set(["html","body","#document"]);function Mo(n){return NI.has(Ko(n))}function Yn(n){return pn(n).getComputedStyle(n)}function Kc(n){return Xn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Di(n){if(Ko(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Ov(n)&&n.host||wr(n);return Ov(e)?e.host:e}function C_(n){const e=Di(n);return Mo(e)?n.ownerDocument?n.ownerDocument.body:n.body:gr(e)&&Tl(e)?e:C_(e)}function ol(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=C_(n),a=o===((i=n.ownerDocument)==null?void 0:i.body),c=pn(o);if(a){const h=Tf(c);return e.concat(c,c.visualViewport||[],Tl(o)?o:[],h&&t?ol(h):[])}return e.concat(o,ol(o,[],t))}function Tf(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function x_(n){const e=Yn(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=gr(n),a=o?n.offsetWidth:t,c=o?n.offsetHeight:i,h=Ec(t)!==a||Ec(i)!==c;return h&&(t=a,i=c),{width:t,height:i,$:h}}function ap(n){return Xn(n)?n:n.contextElement}function Po(n){const e=ap(n);if(!gr(e))return hr(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:a}=x_(e);let c=(a?Ec(t.width):t.width)/i,h=(a?Ec(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const bI=hr(0);function R_(n){const e=pn(n);return!op()||!e.visualViewport?bI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DI(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==pn(n)?!1:e}function Es(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=ap(n);let c=hr(1);e&&(i?Xn(i)&&(c=Po(i)):c=Po(n));const h=DI(a,t,i)?R_(a):hr(0);let f=(o.left+h.x)/c.x,g=(o.top+h.y)/c.y,y=o.width/c.x,w=o.height/c.y;if(a){const T=pn(a),R=i&&Xn(i)?pn(i):i;let M=T,I=Tf(M);for(;I&&i&&R!==M;){const A=Po(I),L=I.getBoundingClientRect(),F=Yn(I),B=L.left+(I.clientLeft+parseFloat(F.paddingLeft))*A.x,K=L.top+(I.clientTop+parseFloat(F.paddingTop))*A.y;f*=A.x,g*=A.y,y*=A.x,w*=A.y,f+=B,g+=K,M=pn(I),I=Tf(M)}}return Sc({width:y,height:w,x:f,y:g})}function Gc(n,e){const t=Kc(n).scrollLeft;return e?e.left+t:Es(wr(n)).left+t}function A_(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-Gc(n,t),o=t.top+e.scrollTop;return{x:i,y:o}}function OI(n){let{elements:e,rect:t,offsetParent:i,strategy:o}=n;const a=o==="fixed",c=wr(i),h=e?qc(e.floating):!1;if(i===c||h&&a)return t;let f={scrollLeft:0,scrollTop:0},g=hr(1);const y=hr(0),w=gr(i);if((w||!w&&!a)&&((Ko(i)!=="body"||Tl(c))&&(f=Kc(i)),gr(i))){const R=Es(i);g=Po(i),y.x=R.x+i.clientLeft,y.y=R.y+i.clientTop}const T=c&&!w&&!a?A_(c,f):hr(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-f.scrollLeft*g.x+y.x+T.x,y:t.y*g.y-f.scrollTop*g.y+y.y+T.y}}function MI(n){return Array.from(n.getClientRects())}function LI(n){const e=wr(n),t=Kc(n),i=n.ownerDocument.body,o=fn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=fn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Gc(n);const h=-t.scrollTop;return Yn(i).direction==="rtl"&&(c+=fn(e.clientWidth,i.clientWidth)-o),{width:o,height:a,x:c,y:h}}const Mv=25;function VI(n,e){const t=pn(n),i=wr(n),o=t.visualViewport;let a=i.clientWidth,c=i.clientHeight,h=0,f=0;if(o){a=o.width,c=o.height;const y=op();(!y||y&&e==="fixed")&&(h=o.offsetLeft,f=o.offsetTop)}const g=Gc(i);if(g<=0){const y=i.ownerDocument,w=y.body,T=getComputedStyle(w),R=y.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,M=Math.abs(i.clientWidth-w.clientWidth-R);M<=Mv&&(a-=M)}else g<=Mv&&(a+=g);return{width:a,height:c,x:h,y:f}}const FI=new Set(["absolute","fixed"]);function jI(n,e){const t=Es(n,!0,e==="fixed"),i=t.top+n.clientTop,o=t.left+n.clientLeft,a=gr(n)?Po(n):hr(1),c=n.clientWidth*a.x,h=n.clientHeight*a.y,f=o*a.x,g=i*a.y;return{width:c,height:h,x:f,y:g}}function Lv(n,e,t){let i;if(e==="viewport")i=VI(n,t);else if(e==="document")i=LI(wr(n));else if(Xn(e))i=jI(e,t);else{const o=R_(n);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Sc(i)}function P_(n,e){const t=Di(n);return t===e||!Xn(t)||Mo(t)?!1:Yn(t).position==="fixed"||P_(t,e)}function UI(n,e){const t=e.get(n);if(t)return t;let i=ol(n,[],!1).filter(h=>Xn(h)&&Ko(h)!=="body"),o=null;const a=Yn(n).position==="fixed";let c=a?Di(n):n;for(;Xn(c)&&!Mo(c);){const h=Yn(c),f=sp(c);!f&&h.position==="fixed"&&(o=null),(a?!f&&!o:!f&&h.position==="static"&&!!o&&FI.has(o.position)||Tl(c)&&!f&&P_(n,c))?i=i.filter(y=>y!==c):o=h,c=Di(c)}return e.set(n,i),i}function BI(n){let{element:e,boundary:t,rootBoundary:i,strategy:o}=n;const c=[...t==="clippingAncestors"?qc(e)?[]:UI(e,this._c):[].concat(t),i],h=c[0],f=c.reduce((g,y)=>{const w=Lv(e,y,o);return g.top=fn(w.top,g.top),g.right=bi(w.right,g.right),g.bottom=bi(w.bottom,g.bottom),g.left=fn(w.left,g.left),g},Lv(e,h,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function zI(n){const{width:e,height:t}=x_(n);return{width:e,height:t}}function $I(n,e,t){const i=gr(e),o=wr(e),a=t==="fixed",c=Es(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=hr(0);function g(){f.x=Gc(o)}if(i||!i&&!a)if((Ko(e)!=="body"||Tl(o))&&(h=Kc(e)),i){const R=Es(e,!0,a,e);f.x=R.x+e.clientLeft,f.y=R.y+e.clientTop}else o&&g();a&&!i&&o&&g();const y=o&&!i&&!a?A_(o,h):hr(0),w=c.left+h.scrollLeft-f.x-y.x,T=c.top+h.scrollTop-f.y-y.y;return{x:w,y:T,width:c.width,height:c.height}}function Qh(n){return Yn(n).position==="static"}function Vv(n,e){if(!gr(n)||Yn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return wr(n)===t&&(t=t.ownerDocument.body),t}function k_(n,e){const t=pn(n);if(qc(n))return t;if(!gr(n)){let o=Di(n);for(;o&&!Mo(o);){if(Xn(o)&&!Qh(o))return o;o=Di(o)}return t}let i=Vv(n,e);for(;i&&CI(i)&&Qh(i);)i=Vv(i,e);return i&&Mo(i)&&Qh(i)&&!sp(i)?t:i||kI(n)||t}const WI=async function(n){const e=this.getOffsetParent||k_,t=this.getDimensions,i=await t(n.floating);return{reference:$I(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function HI(n){return Yn(n).direction==="rtl"}const qI={convertOffsetParentRelativeRectToViewportRelativeRect:OI,getDocumentElement:wr,getClippingRect:BI,getOffsetParent:k_,getElementRects:WI,getClientRects:MI,getDimensions:zI,getScale:Po,isElement:Xn,isRTL:HI};function N_(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function KI(n,e){let t=null,i;const o=wr(n);function a(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function c(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const g=n.getBoundingClientRect(),{left:y,top:w,width:T,height:R}=g;if(h||e(),!T||!R)return;const M=Yu(w),I=Yu(o.clientWidth-(y+T)),A=Yu(o.clientHeight-(w+R)),L=Yu(y),B={rootMargin:-M+"px "+-I+"px "+-A+"px "+-L+"px",threshold:fn(0,bi(1,f))||1};let K=!0;function J(Z){const P=Z[0].intersectionRatio;if(P!==f){if(!K)return c();P?c(!1,P):i=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!N_(g,n.getBoundingClientRect())&&c(),K=!1}try{t=new IntersectionObserver(J,{...B,root:o.ownerDocument})}catch{t=new IntersectionObserver(J,B)}t.observe(n)}return c(!0),a}function GI(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,g=ap(n),y=o||a?[...g?ol(g):[],...ol(e)]:[];y.forEach(L=>{o&&L.addEventListener("scroll",t,{passive:!0}),a&&L.addEventListener("resize",t)});const w=g&&h?KI(g,t):null;let T=-1,R=null;c&&(R=new ResizeObserver(L=>{let[F]=L;F&&F.target===g&&R&&(R.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var B;(B=R)==null||B.observe(e)})),t()}),g&&!f&&R.observe(g),R.observe(e));let M,I=f?Es(n):null;f&&A();function A(){const L=Es(n);I&&!N_(I,L)&&t(),I=L,M=requestAnimationFrame(A)}return t(),()=>{var L;y.forEach(F=>{o&&F.removeEventListener("scroll",t),a&&F.removeEventListener("resize",t)}),w==null||w(),(L=R)==null||L.disconnect(),R=null,f&&cancelAnimationFrame(M)}}const QI=_I,XI=wI,YI=gI,JI=TI,ZI=vI,Fv=mI,eC=EI,tC=(n,e,t)=>{const i=new Map,o={platform:qI,...t},a={...o.platform,_c:i};return pI(n,e,{...o,platform:a})};var nC=typeof document<"u",rC=function(){},uc=nC?x.useLayoutEffect:rC;function Ic(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Ic(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const a=o[i];if(!(a==="_owner"&&n.$$typeof)&&!Ic(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function b_(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function jv(n,e){const t=b_(n);return Math.round(e*t)/t}function Xh(n){const e=x.useRef(n);return uc(()=>{e.current=n}),e}function iC(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:f,open:g}=n,[y,w]=x.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,R]=x.useState(i);Ic(T,i)||R(i);const[M,I]=x.useState(null),[A,L]=x.useState(null),F=x.useCallback(X=>{X!==Z.current&&(Z.current=X,I(X))},[]),B=x.useCallback(X=>{X!==P.current&&(P.current=X,L(X))},[]),K=a||M,J=c||A,Z=x.useRef(null),P=x.useRef(null),C=x.useRef(y),k=f!=null,O=Xh(f),V=Xh(o),U=Xh(g),N=x.useCallback(()=>{if(!Z.current||!P.current)return;const X={placement:e,strategy:t,middleware:T};V.current&&(X.platform=V.current),tC(Z.current,P.current,X).then(le=>{const oe={...le,isPositioned:U.current!==!1};ye.current&&!Ic(C.current,oe)&&(C.current=oe,El.flushSync(()=>{w(oe)}))})},[T,e,t,V,U]);uc(()=>{g===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,w(X=>({...X,isPositioned:!1})))},[g]);const ye=x.useRef(!1);uc(()=>(ye.current=!0,()=>{ye.current=!1}),[]),uc(()=>{if(K&&(Z.current=K),J&&(P.current=J),K&&J){if(O.current)return O.current(K,J,N);N()}},[K,J,N,O,k]);const Ae=x.useMemo(()=>({reference:Z,floating:P,setReference:F,setFloating:B}),[F,B]),we=x.useMemo(()=>({reference:K,floating:J}),[K,J]),de=x.useMemo(()=>{const X={position:t,left:0,top:0};if(!we.floating)return X;const le=jv(we.floating,y.x),oe=jv(we.floating,y.y);return h?{...X,transform:"translate("+le+"px, "+oe+"px)",...b_(we.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:oe}},[t,h,we.floating,y.x,y.y]);return x.useMemo(()=>({...y,update:N,refs:Ae,elements:we,floatingStyles:de}),[y,N,Ae,we,de])}const sC=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:o}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Fv({element:i.current,padding:o}).fn(t):{}:i?Fv({element:i,padding:o}).fn(t):{}}}},oC=(n,e)=>({...QI(n),options:[n,e]}),aC=(n,e)=>({...XI(n),options:[n,e]}),lC=(n,e)=>({...eC(n),options:[n,e]}),uC=(n,e)=>({...YI(n),options:[n,e]}),cC=(n,e)=>({...JI(n),options:[n,e]}),dC=(n,e)=>({...ZI(n),options:[n,e]}),hC=(n,e)=>({...sC(n),options:[n,e]});var fC="Arrow",D_=x.forwardRef((n,e)=>{const{children:t,width:i=10,height:o=5,...a}=n;return b.jsx(Ye.svg,{...a,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});D_.displayName=fC;var pC=D_;function mC(n){const[e,t]=x.useState(void 0);return Ht(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,h;if("borderBoxSize"in a){const f=a.borderBoxSize,g=Array.isArray(f)?f[0]:f;c=g.inlineSize,h=g.blockSize}else c=n.offsetWidth,h=n.offsetHeight;t({width:c,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var lp="Popper",[O_,Qc]=wl(lp),[gC,M_]=O_(lp),L_=n=>{const{__scopePopper:e,children:t}=n,[i,o]=x.useState(null);return b.jsx(gC,{scope:e,anchor:i,onAnchorChange:o,children:t})};L_.displayName=lp;var V_="PopperAnchor",F_=x.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...o}=n,a=M_(V_,t),c=x.useRef(null),h=ot(e,c),f=x.useRef(null);return x.useEffect(()=>{const g=f.current;f.current=(i==null?void 0:i.current)||c.current,g!==f.current&&a.onAnchorChange(f.current)}),i?null:b.jsx(Ye.div,{...o,ref:h})});F_.displayName=V_;var up="PopperContent",[vC,yC]=O_(up),j_=x.forwardRef((n,e)=>{var ue,_e,Oe,ke,Le,je;const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:T=!1,updatePositionStrategy:R="optimized",onPlaced:M,...I}=n,A=M_(up,t),[L,F]=x.useState(null),B=ot(e,lt=>F(lt)),[K,J]=x.useState(null),Z=mC(K),P=(Z==null?void 0:Z.width)??0,C=(Z==null?void 0:Z.height)??0,k=i+(a!=="center"?"-"+a:""),O=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},V=Array.isArray(g)?g:[g],U=V.length>0,N={padding:O,boundary:V.filter(wC),altBoundary:U},{refs:ye,floatingStyles:Ae,placement:we,isPositioned:de,middlewareData:X}=iC({strategy:"fixed",placement:k,whileElementsMounted:(...lt)=>GI(...lt,{animationFrame:R==="always"}),elements:{reference:A.anchor},middleware:[oC({mainAxis:o+C,alignmentAxis:c}),f&&aC({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?lC():void 0,...N}),f&&uC({...N}),cC({...N,apply:({elements:lt,rects:It,availableWidth:mn,availableHeight:Pn})=>{const{width:kn,height:bs}=It.reference,Nn=lt.floating.style;Nn.setProperty("--radix-popper-available-width",`${mn}px`),Nn.setProperty("--radix-popper-available-height",`${Pn}px`),Nn.setProperty("--radix-popper-anchor-width",`${kn}px`),Nn.setProperty("--radix-popper-anchor-height",`${bs}px`)}}),K&&hC({element:K,padding:h}),EC({arrowWidth:P,arrowHeight:C}),T&&dC({strategy:"referenceHidden",...N})]}),[le,oe]=z_(we),$=ws(M);Ht(()=>{de&&($==null||$())},[de,$]);const Y=(ue=X.arrow)==null?void 0:ue.x,fe=(_e=X.arrow)==null?void 0:_e.y,Ce=((Oe=X.arrow)==null?void 0:Oe.centerOffset)!==0,[Pe,Me]=x.useState();return Ht(()=>{L&&Me(window.getComputedStyle(L).zIndex)},[L]),b.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ae,transform:de?Ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(ke=X.transformOrigin)==null?void 0:ke.x,(Le=X.transformOrigin)==null?void 0:Le.y].join(" "),...((je=X.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:b.jsx(vC,{scope:t,placedSide:le,onArrowChange:J,arrowX:Y,arrowY:fe,shouldHideArrow:Ce,children:b.jsx(Ye.div,{"data-side":le,"data-align":oe,...I,ref:B,style:{...I.style,animation:de?void 0:"none"}})})})});j_.displayName=up;var U_="PopperArrow",_C={top:"bottom",right:"left",bottom:"top",left:"right"},B_=x.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,a=yC(U_,i),c=_C[a.placedSide];return b.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:b.jsx(pC,{...o,ref:t,style:{...o.style,display:"block"}})})});B_.displayName=U_;function wC(n){return n!==null}var EC=n=>({name:"transformOrigin",options:n,fn(e){var A,L,F;const{placement:t,rects:i,middlewareData:o}=e,c=((A=o.arrow)==null?void 0:A.centerOffset)!==0,h=c?0:n.arrowWidth,f=c?0:n.arrowHeight,[g,y]=z_(t),w={start:"0%",center:"50%",end:"100%"}[y],T=(((L=o.arrow)==null?void 0:L.x)??0)+h/2,R=(((F=o.arrow)==null?void 0:F.y)??0)+f/2;let M="",I="";return g==="bottom"?(M=c?w:`${T}px`,I=`${-f}px`):g==="top"?(M=c?w:`${T}px`,I=`${i.floating.height+f}px`):g==="right"?(M=`${-f}px`,I=c?w:`${R}px`):g==="left"&&(M=`${i.floating.width+f}px`,I=c?w:`${R}px`),{data:{x:M,y:I}}}});function z_(n){const[e,t="center"]=n.split("-");return[e,t]}var $_=L_,W_=F_,H_=j_,q_=B_,TC="Portal",Xc=x.forwardRef((n,e)=>{var h;const{container:t,...i}=n,[o,a]=x.useState(!1);Ht(()=>a(!0),[]);const c=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?FS.createPortal(b.jsx(Ye.div,{...i,ref:e}),c):null});Xc.displayName=TC;function SC(n,e){return x.useReducer((t,i)=>e[t][i]??t,n)}var Go=n=>{const{present:e,children:t}=n,i=IC(e),o=typeof t=="function"?t({present:i.isPresent}):x.Children.only(t),a=ot(i.ref,CC(o));return typeof t=="function"||i.isPresent?x.cloneElement(o,{ref:a}):null};Go.displayName="Presence";function IC(n){const[e,t]=x.useState(),i=x.useRef(null),o=x.useRef(n),a=x.useRef("none"),c=n?"mounted":"unmounted",[h,f]=SC(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const g=Ju(i.current);a.current=h==="mounted"?g:"none"},[h]),Ht(()=>{const g=i.current,y=o.current;if(y!==n){const T=a.current,R=Ju(g);n?f("MOUNT"):R==="none"||(g==null?void 0:g.display)==="none"?f("UNMOUNT"):f(y&&T!==R?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),Ht(()=>{if(e){let g;const y=e.ownerDocument.defaultView??window,w=R=>{const I=Ju(i.current).includes(CSS.escape(R.animationName));if(R.target===e&&I&&(f("ANIMATION_END"),!o.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",g=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},T=R=>{R.target===e&&(a.current=Ju(i.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{y.clearTimeout(g),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:x.useCallback(g=>{i.current=g?getComputedStyle(g):null,t(g)},[])}}function Ju(n){return(n==null?void 0:n.animationName)||"none"}function CC(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var xC=g_[" useInsertionEffect ".trim().toString()]||Ht;function Cc({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,a,c]=RC({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:o;{const y=x.useRef(n!==void 0);x.useEffect(()=>{const w=y.current;w!==h&&console.warn(`${i} is changing from ${w?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,i])}const g=x.useCallback(y=>{var w;if(h){const T=AC(y)?y(n):y;T!==n&&((w=c.current)==null||w.call(c,T))}else a(y)},[h,n,a,c]);return[f,g]}function RC({defaultProp:n,onChange:e}){const[t,i]=x.useState(n),o=x.useRef(t),a=x.useRef(e);return xC(()=>{a.current=e},[e]),x.useEffect(()=>{var c;o.current!==t&&((c=a.current)==null||c.call(a,t),o.current=t)},[t,o]),[t,i,a]}function AC(n){return typeof n=="function"}var K_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PC="VisuallyHidden",G_=x.forwardRef((n,e)=>b.jsx(Ye.span,{...n,ref:e,style:{...K_,...n.style}}));G_.displayName=PC;var kC=G_,[Yc]=wl("Tooltip",[Qc]),Jc=Qc(),Q_="TooltipProvider",NC=700,Sf="tooltip.open",[bC,cp]=Yc(Q_),X_=n=>{const{__scopeTooltip:e,delayDuration:t=NC,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:a}=n,c=x.useRef(!0),h=x.useRef(!1),f=x.useRef(0);return x.useEffect(()=>{const g=f.current;return()=>window.clearTimeout(g)},[]),b.jsx(bC,{scope:e,isOpenDelayedRef:c,delayDuration:t,onOpen:x.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,i)},[i]),isPointerInTransitRef:h,onPointerInTransitChange:x.useCallback(g=>{h.current=g},[]),disableHoverableContent:o,children:a})};X_.displayName=Q_;var al="Tooltip",[DC,Sl]=Yc(al),Y_=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:o,onOpenChange:a,disableHoverableContent:c,delayDuration:h}=n,f=cp(al,n.__scopeTooltip),g=Jc(e),[y,w]=x.useState(null),T=vs(),R=x.useRef(0),M=c??f.disableHoverableContent,I=h??f.delayDuration,A=x.useRef(!1),[L,F]=Cc({prop:i,defaultProp:o??!1,onChange:P=>{P?(f.onOpen(),document.dispatchEvent(new CustomEvent(Sf))):f.onClose(),a==null||a(P)},caller:al}),B=x.useMemo(()=>L?A.current?"delayed-open":"instant-open":"closed",[L]),K=x.useCallback(()=>{window.clearTimeout(R.current),R.current=0,A.current=!1,F(!0)},[F]),J=x.useCallback(()=>{window.clearTimeout(R.current),R.current=0,F(!1)},[F]),Z=x.useCallback(()=>{window.clearTimeout(R.current),R.current=window.setTimeout(()=>{A.current=!0,F(!0),R.current=0},I)},[I,F]);return x.useEffect(()=>()=>{R.current&&(window.clearTimeout(R.current),R.current=0)},[]),b.jsx($_,{...g,children:b.jsx(DC,{scope:e,contentId:T,open:L,stateAttribute:B,trigger:y,onTriggerChange:w,onTriggerEnter:x.useCallback(()=>{f.isOpenDelayedRef.current?Z():K()},[f.isOpenDelayedRef,Z,K]),onTriggerLeave:x.useCallback(()=>{M?J():(window.clearTimeout(R.current),R.current=0)},[J,M]),onOpen:K,onClose:J,disableHoverableContent:M,children:t})})};Y_.displayName=al;var If="TooltipTrigger",J_=x.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,o=Sl(If,t),a=cp(If,t),c=Jc(t),h=x.useRef(null),f=ot(e,h,o.onTriggerChange),g=x.useRef(!1),y=x.useRef(!1),w=x.useCallback(()=>g.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),b.jsx(W_,{asChild:!0,...c,children:b.jsx(Ye.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:f,onPointerMove:Ke(n.onPointerMove,T=>{T.pointerType!=="touch"&&!y.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ke(n.onPointerLeave,()=>{o.onTriggerLeave(),y.current=!1}),onPointerDown:Ke(n.onPointerDown,()=>{o.open&&o.onClose(),g.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Ke(n.onFocus,()=>{g.current||o.onOpen()}),onBlur:Ke(n.onBlur,o.onClose),onClick:Ke(n.onClick,o.onClose)})})});J_.displayName=If;var dp="TooltipPortal",[OC,MC]=Yc(dp,{forceMount:void 0}),Z_=n=>{const{__scopeTooltip:e,forceMount:t,children:i,container:o}=n,a=Sl(dp,e);return b.jsx(OC,{scope:e,forceMount:t,children:b.jsx(Go,{present:t||a.open,children:b.jsx(Xc,{asChild:!0,container:o,children:i})})})};Z_.displayName=dp;var Lo="TooltipContent",e0=x.forwardRef((n,e)=>{const t=MC(Lo,n.__scopeTooltip),{forceMount:i=t.forceMount,side:o="top",...a}=n,c=Sl(Lo,n.__scopeTooltip);return b.jsx(Go,{present:i||c.open,children:c.disableHoverableContent?b.jsx(t0,{side:o,...a,ref:e}):b.jsx(LC,{side:o,...a,ref:e})})}),LC=x.forwardRef((n,e)=>{const t=Sl(Lo,n.__scopeTooltip),i=cp(Lo,n.__scopeTooltip),o=x.useRef(null),a=ot(e,o),[c,h]=x.useState(null),{trigger:f,onClose:g}=t,y=o.current,{onPointerInTransitChange:w}=i,T=x.useCallback(()=>{h(null),w(!1)},[w]),R=x.useCallback((M,I)=>{const A=M.currentTarget,L={x:M.clientX,y:M.clientY},F=UC(L,A.getBoundingClientRect()),B=BC(L,F),K=zC(I.getBoundingClientRect()),J=WC([...B,...K]);h(J),w(!0)},[w]);return x.useEffect(()=>()=>T(),[T]),x.useEffect(()=>{if(f&&y){const M=A=>R(A,y),I=A=>R(A,f);return f.addEventListener("pointerleave",M),y.addEventListener("pointerleave",I),()=>{f.removeEventListener("pointerleave",M),y.removeEventListener("pointerleave",I)}}},[f,y,R,T]),x.useEffect(()=>{if(c){const M=I=>{const A=I.target,L={x:I.clientX,y:I.clientY},F=(f==null?void 0:f.contains(A))||(y==null?void 0:y.contains(A)),B=!$C(L,c);F?T():B&&(T(),g())};return document.addEventListener("pointermove",M),()=>document.removeEventListener("pointermove",M)}},[f,y,c,g,T]),b.jsx(t0,{...n,ref:a})}),[VC,FC]=Yc(al,{isInside:!1}),jC=US("TooltipContent"),t0=x.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:c,...h}=n,f=Sl(Lo,t),g=Jc(t),{onClose:y}=f;return x.useEffect(()=>(document.addEventListener(Sf,y),()=>document.removeEventListener(Sf,y)),[y]),x.useEffect(()=>{if(f.trigger){const w=T=>{const R=T.target;R!=null&&R.contains(f.trigger)&&y()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,y]),b.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:w=>w.preventDefault(),onDismiss:y,children:b.jsxs(H_,{"data-state":f.stateAttribute,...g,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(jC,{children:i}),b.jsx(VC,{scope:t,isInside:!0,children:b.jsx(kC,{id:f.contentId,role:"tooltip",children:o||i})})]})})});e0.displayName=Lo;var n0="TooltipArrow",r0=x.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,o=Jc(t);return FC(n0,t).isInside?null:b.jsx(q_,{...o,...i,ref:e})});r0.displayName=n0;function UC(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),o=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,i,o,a)){case a:return"left";case o:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function BC(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function zC(n){const{top:e,right:t,bottom:i,left:o}=n;return[{x:o,y:e},{x:t,y:e},{x:t,y:i},{x:o,y:i}]}function $C(n,e){const{x:t,y:i}=n;let o=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const h=e[a],f=e[c],g=h.x,y=h.y,w=f.x,T=f.y;y>i!=T>i&&t<(w-g)*(i-y)/(T-y)+g&&(o=!o)}return o}function WC(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),HC(e)}function HC(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const o=n[i];for(;e.length>=2;){const a=e[e.length-1],c=e[e.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))e.pop();else break}e.push(o)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const o=n[i];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var qC=X_,Uv=Y_,Bv=J_,zv=Z_,$v=e0,Wv=r0;function Hv(n,[e,t]){return Math.min(t,Math.max(e,n))}function KC(n){const e=n+"CollectionProvider",[t,i]=wl(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=I=>{const{scope:A,children:L}=I,F=Fr.useRef(null),B=Fr.useRef(new Map).current;return b.jsx(o,{scope:A,itemMap:B,collectionRef:F,children:L})};c.displayName=e;const h=n+"CollectionSlot",f=sl(h),g=Fr.forwardRef((I,A)=>{const{scope:L,children:F}=I,B=a(h,L),K=ot(A,B.collectionRef);return b.jsx(f,{ref:K,children:F})});g.displayName=h;const y=n+"CollectionItemSlot",w="data-radix-collection-item",T=sl(y),R=Fr.forwardRef((I,A)=>{const{scope:L,children:F,...B}=I,K=Fr.useRef(null),J=ot(A,K),Z=a(y,L);return Fr.useEffect(()=>(Z.itemMap.set(K,{ref:K,...B}),()=>void Z.itemMap.delete(K))),b.jsx(T,{[w]:"",ref:J,children:F})});R.displayName=y;function M(I){const A=a(n+"CollectionConsumer",I);return Fr.useCallback(()=>{const F=A.collectionRef.current;if(!F)return[];const B=Array.from(F.querySelectorAll(`[${w}]`));return Array.from(A.itemMap.values()).sort((Z,P)=>B.indexOf(Z.ref.current)-B.indexOf(P.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:c,Slot:g,ItemSlot:R},M,i]}var GC=x.createContext(void 0);function QC(n){const e=x.useContext(GC);return n||e||"ltr"}var Yh=0;function i0(){x.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??qv()),document.body.insertAdjacentElement("beforeend",n[1]??qv()),Yh++,()=>{Yh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yh--}},[])}function qv(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Jh="focusScope.autoFocusOnMount",Zh="focusScope.autoFocusOnUnmount",Kv={bubbles:!1,cancelable:!0},XC="FocusScope",hp=x.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[h,f]=x.useState(null),g=ws(o),y=ws(a),w=x.useRef(null),T=ot(e,I=>f(I)),R=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let I=function(B){if(R.paused||!h)return;const K=B.target;h.contains(K)?w.current=K:Si(w.current,{select:!0})},A=function(B){if(R.paused||!h)return;const K=B.relatedTarget;K!==null&&(h.contains(K)||Si(w.current,{select:!0}))},L=function(B){if(document.activeElement===document.body)for(const J of B)J.removedNodes.length>0&&Si(h)};document.addEventListener("focusin",I),document.addEventListener("focusout",A);const F=new MutationObserver(L);return h&&F.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",A),F.disconnect()}}},[i,h,R.paused]),x.useEffect(()=>{if(h){Qv.add(R);const I=document.activeElement;if(!h.contains(I)){const L=new CustomEvent(Jh,Kv);h.addEventListener(Jh,g),h.dispatchEvent(L),L.defaultPrevented||(YC(nx(s0(h)),{select:!0}),document.activeElement===I&&Si(h))}return()=>{h.removeEventListener(Jh,g),setTimeout(()=>{const L=new CustomEvent(Zh,Kv);h.addEventListener(Zh,y),h.dispatchEvent(L),L.defaultPrevented||Si(I??document.body,{select:!0}),h.removeEventListener(Zh,y),Qv.remove(R)},0)}}},[h,g,y,R]);const M=x.useCallback(I=>{if(!t&&!i||R.paused)return;const A=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,L=document.activeElement;if(A&&L){const F=I.currentTarget,[B,K]=JC(F);B&&K?!I.shiftKey&&L===K?(I.preventDefault(),t&&Si(B,{select:!0})):I.shiftKey&&L===B&&(I.preventDefault(),t&&Si(K,{select:!0})):L===F&&I.preventDefault()}},[t,i,R.paused]);return b.jsx(Ye.div,{tabIndex:-1,...c,ref:T,onKeyDown:M})});hp.displayName=XC;function YC(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Si(i,{select:e}),document.activeElement!==t)return}function JC(n){const e=s0(n),t=Gv(e,n),i=Gv(e.reverse(),n);return[t,i]}function s0(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Gv(n,e){for(const t of n)if(!ZC(t,{upTo:e}))return t}function ZC(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function ex(n){return n instanceof HTMLInputElement&&"select"in n}function Si(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&ex(n)&&e&&n.select()}}var Qv=tx();function tx(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Xv(n,e),n.unshift(e)},remove(e){var t;n=Xv(n,e),(t=n[0])==null||t.resume()}}}function Xv(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function nx(n){return n.filter(e=>e.tagName!=="A")}function rx(n){const e=x.useRef({value:n,previous:n});return x.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var ix=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},So=new WeakMap,Zu=new WeakMap,ec={},ef=0,o0=function(n){return n&&(n.host||o0(n.parentNode))},sx=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=o0(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},ox=function(n,e,t,i){var o=sx(e,Array.isArray(n)?n:[n]);ec[t]||(ec[t]=new WeakMap);var a=ec[t],c=[],h=new Set,f=new Set(o),g=function(w){!w||h.has(w)||(h.add(w),g(w.parentNode))};o.forEach(g);var y=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(T){if(h.has(T))y(T);else try{var R=T.getAttribute(i),M=R!==null&&R!=="false",I=(So.get(T)||0)+1,A=(a.get(T)||0)+1;So.set(T,I),a.set(T,A),c.push(T),I===1&&M&&Zu.set(T,!0),A===1&&T.setAttribute(t,"true"),M||T.setAttribute(i,"true")}catch(L){console.error("aria-hidden: cannot operate on ",T,L)}})};return y(e),h.clear(),ef++,function(){c.forEach(function(w){var T=So.get(w)-1,R=a.get(w)-1;So.set(w,T),a.set(w,R),T||(Zu.has(w)||w.removeAttribute(i),Zu.delete(w)),R||w.removeAttribute(t)}),ef--,ef||(So=new WeakMap,So=new WeakMap,Zu=new WeakMap,ec={})}},a0=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=ix(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),ox(i,o,t,"aria-hidden")):function(){return null}},cr=function(){return cr=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},cr.apply(this,arguments)};function Il(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function ax(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}var cc="right-scroll-bar-position",dc="width-before-scroll-bar",lx="with-scroll-bars-hidden",ux="--removed-body-scroll-bar-size";function tf(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function cx(n,e){var t=x.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var dx=typeof window<"u"?x.useLayoutEffect:x.useEffect,Yv=new WeakMap;function hx(n,e){var t=cx(null,function(i){return n.forEach(function(o){return tf(o,i)})});return dx(function(){var i=Yv.get(t);if(i){var o=new Set(i),a=new Set(n),c=t.current;o.forEach(function(h){a.has(h)||tf(h,null)}),a.forEach(function(h){o.has(h)||tf(h,c)})}Yv.set(t,n)},[n]),t}function fx(n){return n}function px(n,e){e===void 0&&(e=fx);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,i);return t.push(c),function(){t=t.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(i=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){i=!0;var c=[];if(t.length){var h=t;t=[],h.forEach(a),c=t}var f=function(){var y=c;c=[],y.forEach(a)},g=function(){return Promise.resolve().then(f)};g(),t={push:function(y){c.push(y),g()},filter:function(y){return c=c.filter(y),t}}}};return o}function mx(n){n===void 0&&(n={});var e=px(null);return e.options=cr({async:!0,ssr:!1},n),e}var l0=function(n){var e=n.sideCar,t=Il(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,cr({},t))};l0.isSideCarExport=!0;function gx(n,e){return n.useMedium(e),l0}var u0=mx(),nf=function(){},Zc=x.forwardRef(function(n,e){var t=x.useRef(null),i=x.useState({onScrollCapture:nf,onWheelCapture:nf,onTouchMoveCapture:nf}),o=i[0],a=i[1],c=n.forwardProps,h=n.children,f=n.className,g=n.removeScrollBar,y=n.enabled,w=n.shards,T=n.sideCar,R=n.noRelative,M=n.noIsolation,I=n.inert,A=n.allowPinchZoom,L=n.as,F=L===void 0?"div":L,B=n.gapMode,K=Il(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=T,Z=hx([t,e]),P=cr(cr({},K),o);return x.createElement(x.Fragment,null,y&&x.createElement(J,{sideCar:u0,removeScrollBar:g,shards:w,noRelative:R,noIsolation:M,inert:I,setCallbacks:a,allowPinchZoom:!!A,lockRef:t,gapMode:B}),c?x.cloneElement(x.Children.only(h),cr(cr({},P),{ref:Z})):x.createElement(F,cr({},P,{className:f,ref:Z}),h))});Zc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zc.classNames={fullWidth:dc,zeroRight:cc};var vx=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yx(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=vx();return e&&n.setAttribute("nonce",e),n}function _x(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function wx(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Ex=function(){var n=0,e=null;return{add:function(t){n==0&&(e=yx())&&(_x(e,t),wx(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Tx=function(){var n=Ex();return function(e,t){x.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},c0=function(){var n=Tx(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},Sx={left:0,top:0,right:0,gap:0},rf=function(n){return parseInt(n||"",10)||0},Ix=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[rf(t),rf(i),rf(o)]},Cx=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Sx;var e=Ix(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},xx=c0(),ko="data-scroll-locked",Rx=function(n,e,t,i){var o=n.left,a=n.top,c=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(lx,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cc,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(dc,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(dc," .").concat(dc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(ux,": ").concat(h,`px;
  }
`)},Jv=function(){var n=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(n)?n:0},Ax=function(){x.useEffect(function(){return document.body.setAttribute(ko,(Jv()+1).toString()),function(){var n=Jv()-1;n<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,n.toString())}},[])},Px=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;Ax();var a=x.useMemo(function(){return Cx(o)},[o]);return x.createElement(xx,{styles:Rx(a,!e,o,t?"":"!important")})},Cf=!1;if(typeof window<"u")try{var tc=Object.defineProperty({},"passive",{get:function(){return Cf=!0,!0}});window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{Cf=!1}var Io=Cf?{passive:!1}:!1,kx=function(n){return n.tagName==="TEXTAREA"},d0=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!kx(n)&&t[e]==="visible")},Nx=function(n){return d0(n,"overflowY")},bx=function(n){return d0(n,"overflowX")},Zv=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=h0(n,i);if(o){var a=f0(n,i),c=a[1],h=a[2];if(c>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},Dx=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},Ox=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},h0=function(n,e){return n==="v"?Nx(e):bx(e)},f0=function(n,e){return n==="v"?Dx(e):Ox(e)},Mx=function(n,e){return n==="h"&&e==="rtl"?-1:1},Lx=function(n,e,t,i,o){var a=Mx(n,window.getComputedStyle(e).direction),c=a*i,h=t.target,f=e.contains(h),g=!1,y=c>0,w=0,T=0;do{if(!h)break;var R=f0(n,h),M=R[0],I=R[1],A=R[2],L=I-A-a*M;(M||L)&&h0(n,h)&&(w+=L,T+=M);var F=h.parentNode;h=F&&F.nodeType===Node.DOCUMENT_FRAGMENT_NODE?F.host:F}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(y&&Math.abs(w)<1||!y&&Math.abs(T)<1)&&(g=!0),g},nc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},ey=function(n){return[n.deltaX,n.deltaY]},ty=function(n){return n&&"current"in n?n.current:n},Vx=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Fx=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},jx=0,Co=[];function Ux(n){var e=x.useRef([]),t=x.useRef([0,0]),i=x.useRef(),o=x.useState(jx++)[0],a=x.useState(c0)[0],c=x.useRef(n);x.useEffect(function(){c.current=n},[n]),x.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var I=ax([n.lockRef.current],(n.shards||[]).map(ty),!0).filter(Boolean);return I.forEach(function(A){return A.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),I.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=x.useCallback(function(I,A){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!c.current.allowPinchZoom;var L=nc(I),F=t.current,B="deltaX"in I?I.deltaX:F[0]-L[0],K="deltaY"in I?I.deltaY:F[1]-L[1],J,Z=I.target,P=Math.abs(B)>Math.abs(K)?"h":"v";if("touches"in I&&P==="h"&&Z.type==="range")return!1;var C=window.getSelection(),k=C&&C.anchorNode,O=k?k===Z||k.contains(Z):!1;if(O)return!1;var V=Zv(P,Z);if(!V)return!0;if(V?J=P:(J=P==="v"?"h":"v",V=Zv(P,Z)),!V)return!1;if(!i.current&&"changedTouches"in I&&(B||K)&&(i.current=J),!J)return!0;var U=i.current||J;return Lx(U,A,I,U==="h"?B:K)},[]),f=x.useCallback(function(I){var A=I;if(!(!Co.length||Co[Co.length-1]!==a)){var L="deltaY"in A?ey(A):nc(A),F=e.current.filter(function(J){return J.name===A.type&&(J.target===A.target||A.target===J.shadowParent)&&Vx(J.delta,L)})[0];if(F&&F.should){A.cancelable&&A.preventDefault();return}if(!F){var B=(c.current.shards||[]).map(ty).filter(Boolean).filter(function(J){return J.contains(A.target)}),K=B.length>0?h(A,B[0]):!c.current.noIsolation;K&&A.cancelable&&A.preventDefault()}}},[]),g=x.useCallback(function(I,A,L,F){var B={name:I,delta:A,target:L,should:F,shadowParent:Bx(L)};e.current.push(B),setTimeout(function(){e.current=e.current.filter(function(K){return K!==B})},1)},[]),y=x.useCallback(function(I){t.current=nc(I),i.current=void 0},[]),w=x.useCallback(function(I){g(I.type,ey(I),I.target,h(I,n.lockRef.current))},[]),T=x.useCallback(function(I){g(I.type,nc(I),I.target,h(I,n.lockRef.current))},[]);x.useEffect(function(){return Co.push(a),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:T}),document.addEventListener("wheel",f,Io),document.addEventListener("touchmove",f,Io),document.addEventListener("touchstart",y,Io),function(){Co=Co.filter(function(I){return I!==a}),document.removeEventListener("wheel",f,Io),document.removeEventListener("touchmove",f,Io),document.removeEventListener("touchstart",y,Io)}},[]);var R=n.removeScrollBar,M=n.inert;return x.createElement(x.Fragment,null,M?x.createElement(a,{styles:Fx(o)}):null,R?x.createElement(Px,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Bx(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const zx=gx(u0,Ux);var fp=x.forwardRef(function(n,e){return x.createElement(Zc,cr({},n,{ref:e,sideCar:zx}))});fp.classNames=Zc.classNames;var $x=[" ","Enter","ArrowUp","ArrowDown"],Wx=[" ","Enter"],Ts="Select",[ed,td,Hx]=KC(Ts),[Qo]=wl(Ts,[Hx,Qc]),nd=Qc(),[qx,Vi]=Qo(Ts),[Kx,Gx]=Qo(Ts),p0=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:a,value:c,defaultValue:h,onValueChange:f,dir:g,name:y,autoComplete:w,disabled:T,required:R,form:M}=n,I=nd(e),[A,L]=x.useState(null),[F,B]=x.useState(null),[K,J]=x.useState(!1),Z=QC(g),[P,C]=Cc({prop:i,defaultProp:o??!1,onChange:a,caller:Ts}),[k,O]=Cc({prop:c,defaultProp:h,onChange:f,caller:Ts}),V=x.useRef(null),U=A?M||!!A.closest("form"):!0,[N,ye]=x.useState(new Set),Ae=Array.from(N).map(we=>we.props.value).join(";");return b.jsx($_,{...I,children:b.jsxs(qx,{required:R,scope:e,trigger:A,onTriggerChange:L,valueNode:F,onValueNodeChange:B,valueNodeHasChildren:K,onValueNodeHasChildrenChange:J,contentId:vs(),value:k,onValueChange:O,open:P,onOpenChange:C,dir:Z,triggerPointerDownPosRef:V,disabled:T,children:[b.jsx(ed.Provider,{scope:e,children:b.jsx(Kx,{scope:n.__scopeSelect,onNativeOptionAdd:x.useCallback(we=>{ye(de=>new Set(de).add(we))},[]),onNativeOptionRemove:x.useCallback(we=>{ye(de=>{const X=new Set(de);return X.delete(we),X})},[]),children:t})}),U?b.jsxs(L0,{"aria-hidden":!0,required:R,tabIndex:-1,name:y,autoComplete:w,value:k,onChange:we=>O(we.target.value),disabled:T,form:M,children:[k===void 0?b.jsx("option",{value:""}):null,Array.from(N)]},Ae):null]})})};p0.displayName=Ts;var m0="SelectTrigger",g0=x.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=n,a=nd(t),c=Vi(m0,t),h=c.disabled||i,f=ot(e,c.onTriggerChange),g=td(t),y=x.useRef("touch"),[w,T,R]=F0(I=>{const A=g().filter(B=>!B.disabled),L=A.find(B=>B.value===c.value),F=j0(A,I,L);F!==void 0&&c.onValueChange(F.value)}),M=I=>{h||(c.onOpenChange(!0),R()),I&&(c.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return b.jsx(W_,{asChild:!0,...a,children:b.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":V0(c.value)?"":void 0,...o,ref:f,onClick:Ke(o.onClick,I=>{I.currentTarget.focus(),y.current!=="mouse"&&M(I)}),onPointerDown:Ke(o.onPointerDown,I=>{y.current=I.pointerType;const A=I.target;A.hasPointerCapture(I.pointerId)&&A.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(M(I),I.preventDefault())}),onKeyDown:Ke(o.onKeyDown,I=>{const A=w.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&T(I.key),!(A&&I.key===" ")&&$x.includes(I.key)&&(M(),I.preventDefault())})})})});g0.displayName=m0;var v0="SelectValue",y0=x.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,children:a,placeholder:c="",...h}=n,f=Vi(v0,t),{onValueNodeHasChildrenChange:g}=f,y=a!==void 0,w=ot(e,f.onValueNodeChange);return Ht(()=>{g(y)},[g,y]),b.jsx(Ye.span,{...h,ref:w,style:{pointerEvents:"none"},children:V0(f.value)?b.jsx(b.Fragment,{children:c}):a})});y0.displayName=v0;var Qx="SelectIcon",_0=x.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...o}=n;return b.jsx(Ye.span,{"aria-hidden":!0,...o,ref:e,children:i||""})});_0.displayName=Qx;var Xx="SelectPortal",w0=n=>b.jsx(Xc,{asChild:!0,...n});w0.displayName=Xx;var Ss="SelectContent",E0=x.forwardRef((n,e)=>{const t=Vi(Ss,n.__scopeSelect),[i,o]=x.useState();if(Ht(()=>{o(new DocumentFragment)},[]),!t.open){const a=i;return a?El.createPortal(b.jsx(T0,{scope:n.__scopeSelect,children:b.jsx(ed.Slot,{scope:n.__scopeSelect,children:b.jsx("div",{children:n.children})})}),a):null}return b.jsx(S0,{...n,ref:e})});E0.displayName=Ss;var Kn=10,[T0,Fi]=Qo(Ss),Yx="SelectContentImpl",Jx=sl("SelectContent.RemoveScroll"),S0=x.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:h,sideOffset:f,align:g,alignOffset:y,arrowPadding:w,collisionBoundary:T,collisionPadding:R,sticky:M,hideWhenDetached:I,avoidCollisions:A,...L}=n,F=Vi(Ss,t),[B,K]=x.useState(null),[J,Z]=x.useState(null),P=ot(e,ue=>K(ue)),[C,k]=x.useState(null),[O,V]=x.useState(null),U=td(t),[N,ye]=x.useState(!1),Ae=x.useRef(!1);x.useEffect(()=>{if(B)return a0(B)},[B]),i0();const we=x.useCallback(ue=>{const[_e,...Oe]=U().map(je=>je.ref.current),[ke]=Oe.slice(-1),Le=document.activeElement;for(const je of ue)if(je===Le||(je==null||je.scrollIntoView({block:"nearest"}),je===_e&&J&&(J.scrollTop=0),je===ke&&J&&(J.scrollTop=J.scrollHeight),je==null||je.focus(),document.activeElement!==Le))return},[U,J]),de=x.useCallback(()=>we([C,B]),[we,C,B]);x.useEffect(()=>{N&&de()},[N,de]);const{onOpenChange:X,triggerPointerDownPosRef:le}=F;x.useEffect(()=>{if(B){let ue={x:0,y:0};const _e=ke=>{var Le,je;ue={x:Math.abs(Math.round(ke.pageX)-(((Le=le.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((je=le.current)==null?void 0:je.y)??0))}},Oe=ke=>{ue.x<=10&&ue.y<=10?ke.preventDefault():B.contains(ke.target)||X(!1),document.removeEventListener("pointermove",_e),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[B,X,le]),x.useEffect(()=>{const ue=()=>X(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[X]);const[oe,$]=F0(ue=>{const _e=U().filter(Le=>!Le.disabled),Oe=_e.find(Le=>Le.ref.current===document.activeElement),ke=j0(_e,ue,Oe);ke&&setTimeout(()=>ke.ref.current.focus())}),Y=x.useCallback((ue,_e,Oe)=>{const ke=!Ae.current&&!Oe;(F.value!==void 0&&F.value===_e||ke)&&(k(ue),ke&&(Ae.current=!0))},[F.value]),fe=x.useCallback(()=>B==null?void 0:B.focus(),[B]),Ce=x.useCallback((ue,_e,Oe)=>{const ke=!Ae.current&&!Oe;(F.value!==void 0&&F.value===_e||ke)&&V(ue)},[F.value]),Pe=i==="popper"?xf:I0,Me=Pe===xf?{side:h,sideOffset:f,align:g,alignOffset:y,arrowPadding:w,collisionBoundary:T,collisionPadding:R,sticky:M,hideWhenDetached:I,avoidCollisions:A}:{};return b.jsx(T0,{scope:t,content:B,viewport:J,onViewportChange:Z,itemRefCallback:Y,selectedItem:C,onItemLeave:fe,itemTextRefCallback:Ce,focusSelectedItem:de,selectedItemText:O,position:i,isPositioned:N,searchRef:oe,children:b.jsx(fp,{as:Jx,allowPinchZoom:!0,children:b.jsx(hp,{asChild:!0,trapped:F.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Ke(o,ue=>{var _e;(_e=F.trigger)==null||_e.focus({preventScroll:!0}),ue.preventDefault()}),children:b.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>F.onOpenChange(!1),children:b.jsx(Pe,{role:"listbox",id:F.contentId,"data-state":F.open?"open":"closed",dir:F.dir,onContextMenu:ue=>ue.preventDefault(),...L,...Me,onPlaced:()=>ye(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...L.style},onKeyDown:Ke(L.onKeyDown,ue=>{const _e=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!_e&&ue.key.length===1&&$(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let ke=U().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Le=ue.target,je=ke.indexOf(Le);ke=ke.slice(je+1)}setTimeout(()=>we(ke)),ue.preventDefault()}})})})})})})});S0.displayName=Yx;var Zx="SelectItemAlignedPosition",I0=x.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=n,a=Vi(Ss,t),c=Fi(Ss,t),[h,f]=x.useState(null),[g,y]=x.useState(null),w=ot(e,P=>y(P)),T=td(t),R=x.useRef(!1),M=x.useRef(!0),{viewport:I,selectedItem:A,selectedItemText:L,focusSelectedItem:F}=c,B=x.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&g&&I&&A&&L){const P=a.trigger.getBoundingClientRect(),C=g.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),O=L.getBoundingClientRect();if(a.dir!=="rtl"){const Le=O.left-C.left,je=k.left-Le,lt=P.left-je,It=P.width+lt,mn=Math.max(It,C.width),Pn=window.innerWidth-Kn,kn=Hv(je,[Kn,Math.max(Kn,Pn-mn)]);h.style.minWidth=It+"px",h.style.left=kn+"px"}else{const Le=C.right-O.right,je=window.innerWidth-k.right-Le,lt=window.innerWidth-P.right-je,It=P.width+lt,mn=Math.max(It,C.width),Pn=window.innerWidth-Kn,kn=Hv(je,[Kn,Math.max(Kn,Pn-mn)]);h.style.minWidth=It+"px",h.style.right=kn+"px"}const V=T(),U=window.innerHeight-Kn*2,N=I.scrollHeight,ye=window.getComputedStyle(g),Ae=parseInt(ye.borderTopWidth,10),we=parseInt(ye.paddingTop,10),de=parseInt(ye.borderBottomWidth,10),X=parseInt(ye.paddingBottom,10),le=Ae+we+N+X+de,oe=Math.min(A.offsetHeight*5,le),$=window.getComputedStyle(I),Y=parseInt($.paddingTop,10),fe=parseInt($.paddingBottom,10),Ce=P.top+P.height/2-Kn,Pe=U-Ce,Me=A.offsetHeight/2,ue=A.offsetTop+Me,_e=Ae+we+ue,Oe=le-_e;if(_e<=Ce){const Le=V.length>0&&A===V[V.length-1].ref.current;h.style.bottom="0px";const je=g.clientHeight-I.offsetTop-I.offsetHeight,lt=Math.max(Pe,Me+(Le?fe:0)+je+de),It=_e+lt;h.style.height=It+"px"}else{const Le=V.length>0&&A===V[0].ref.current;h.style.top="0px";const lt=Math.max(Ce,Ae+I.offsetTop+(Le?Y:0)+Me)+Oe;h.style.height=lt+"px",I.scrollTop=_e-Ce+I.offsetTop}h.style.margin=`${Kn}px 0`,h.style.minHeight=oe+"px",h.style.maxHeight=U+"px",i==null||i(),requestAnimationFrame(()=>R.current=!0)}},[T,a.trigger,a.valueNode,h,g,I,A,L,a.dir,i]);Ht(()=>B(),[B]);const[K,J]=x.useState();Ht(()=>{g&&J(window.getComputedStyle(g).zIndex)},[g]);const Z=x.useCallback(P=>{P&&M.current===!0&&(B(),F==null||F(),M.current=!1)},[B,F]);return b.jsx(tR,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:R,onScrollButtonChange:Z,children:b.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:K},children:b.jsx(Ye.div,{...o,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});I0.displayName=Zx;var eR="SelectPopperPosition",xf=x.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=Kn,...a}=n,c=nd(t);return b.jsx(H_,{...c,...a,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xf.displayName=eR;var[tR,pp]=Qo(Ss,{}),Rf="SelectViewport",C0=x.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...o}=n,a=Fi(Rf,t),c=pp(Rf,t),h=ot(e,a.onViewportChange),f=x.useRef(0);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),b.jsx(ed.Slot,{scope:t,children:b.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ke(o.onScroll,g=>{const y=g.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:T}=c;if(T!=null&&T.current&&w){const R=Math.abs(f.current-y.scrollTop);if(R>0){const M=window.innerHeight-Kn*2,I=parseFloat(w.style.minHeight),A=parseFloat(w.style.height),L=Math.max(I,A);if(L<M){const F=L+R,B=Math.min(M,F),K=F-B;w.style.height=B+"px",w.style.bottom==="0px"&&(y.scrollTop=K>0?K:0,w.style.justifyContent="flex-end")}}}f.current=y.scrollTop})})})]})});C0.displayName=Rf;var x0="SelectGroup",[nR,rR]=Qo(x0),iR=x.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=vs();return b.jsx(nR,{scope:t,id:o,children:b.jsx(Ye.div,{role:"group","aria-labelledby":o,...i,ref:e})})});iR.displayName=x0;var R0="SelectLabel",sR=x.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=rR(R0,t);return b.jsx(Ye.div,{id:o.id,...i,ref:e})});sR.displayName=R0;var xc="SelectItem",[oR,A0]=Qo(xc),P0=x.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:a,...c}=n,h=Vi(xc,t),f=Fi(xc,t),g=h.value===i,[y,w]=x.useState(a??""),[T,R]=x.useState(!1),M=ot(e,F=>{var B;return(B=f.itemRefCallback)==null?void 0:B.call(f,F,i,o)}),I=vs(),A=x.useRef("touch"),L=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return b.jsx(oR,{scope:t,value:i,disabled:o,textId:I,isSelected:g,onItemTextChange:x.useCallback(F=>{w(B=>B||((F==null?void 0:F.textContent)??"").trim())},[]),children:b.jsx(ed.ItemSlot,{scope:t,value:i,disabled:o,textValue:y,children:b.jsx(Ye.div,{role:"option","aria-labelledby":I,"data-highlighted":T?"":void 0,"aria-selected":g&&T,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:M,onFocus:Ke(c.onFocus,()=>R(!0)),onBlur:Ke(c.onBlur,()=>R(!1)),onClick:Ke(c.onClick,()=>{A.current!=="mouse"&&L()}),onPointerUp:Ke(c.onPointerUp,()=>{A.current==="mouse"&&L()}),onPointerDown:Ke(c.onPointerDown,F=>{A.current=F.pointerType}),onPointerMove:Ke(c.onPointerMove,F=>{var B;A.current=F.pointerType,o?(B=f.onItemLeave)==null||B.call(f):A.current==="mouse"&&F.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(c.onPointerLeave,F=>{var B;F.currentTarget===document.activeElement&&((B=f.onItemLeave)==null||B.call(f))}),onKeyDown:Ke(c.onKeyDown,F=>{var K;((K=f.searchRef)==null?void 0:K.current)!==""&&F.key===" "||(Wx.includes(F.key)&&L(),F.key===" "&&F.preventDefault())})})})})});P0.displayName=xc;var Xa="SelectItemText",k0=x.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,...a}=n,c=Vi(Xa,t),h=Fi(Xa,t),f=A0(Xa,t),g=Gx(Xa,t),[y,w]=x.useState(null),T=ot(e,L=>w(L),f.onItemTextChange,L=>{var F;return(F=h.itemTextRefCallback)==null?void 0:F.call(h,L,f.value,f.disabled)}),R=y==null?void 0:y.textContent,M=x.useMemo(()=>b.jsx("option",{value:f.value,disabled:f.disabled,children:R},f.value),[f.disabled,f.value,R]),{onNativeOptionAdd:I,onNativeOptionRemove:A}=g;return Ht(()=>(I(M),()=>A(M)),[I,A,M]),b.jsxs(b.Fragment,{children:[b.jsx(Ye.span,{id:f.textId,...a,ref:T}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?El.createPortal(a.children,c.valueNode):null]})});k0.displayName=Xa;var N0="SelectItemIndicator",b0=x.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return A0(N0,t).isSelected?b.jsx(Ye.span,{"aria-hidden":!0,...i,ref:e}):null});b0.displayName=N0;var Af="SelectScrollUpButton",D0=x.forwardRef((n,e)=>{const t=Fi(Af,n.__scopeSelect),i=pp(Af,n.__scopeSelect),[o,a]=x.useState(!1),c=ot(e,i.onScrollButtonChange);return Ht(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=f.scrollTop>0;a(g)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?b.jsx(M0,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});D0.displayName=Af;var Pf="SelectScrollDownButton",O0=x.forwardRef((n,e)=>{const t=Fi(Pf,n.__scopeSelect),i=pp(Pf,n.__scopeSelect),[o,a]=x.useState(!1),c=ot(e,i.onScrollButtonChange);return Ht(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=f.scrollHeight-f.clientHeight,y=Math.ceil(f.scrollTop)<g;a(y)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?b.jsx(M0,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});O0.displayName=Pf;var M0=x.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=n,a=Fi("SelectScrollButton",t),c=x.useRef(null),h=td(t),f=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>f(),[f]),Ht(()=>{var y;const g=h().find(w=>w.ref.current===document.activeElement);(y=g==null?void 0:g.ref.current)==null||y.scrollIntoView({block:"nearest"})},[h]),b.jsx(Ye.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ke(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:Ke(o.onPointerMove,()=>{var g;(g=a.onItemLeave)==null||g.call(a),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:Ke(o.onPointerLeave,()=>{f()})})}),aR="SelectSeparator",lR=x.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return b.jsx(Ye.div,{"aria-hidden":!0,...i,ref:e})});lR.displayName=aR;var kf="SelectArrow",uR=x.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=nd(t),a=Vi(kf,t),c=Fi(kf,t);return a.open&&c.position==="popper"?b.jsx(q_,{...o,...i,ref:e}):null});uR.displayName=kf;var cR="SelectBubbleInput",L0=x.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const o=x.useRef(null),a=ot(i,o),c=rx(e);return x.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&y){const w=new Event("change",{bubbles:!0});y.call(h,e),h.dispatchEvent(w)}},[c,e]),b.jsx(Ye.select,{...t,style:{...K_,...t.style},ref:a,defaultValue:e})});L0.displayName=cR;function V0(n){return n===""||n===void 0}function F0(n){const e=ws(n),t=x.useRef(""),i=x.useRef(0),o=x.useCallback(c=>{const h=t.current+c;e(h),(function f(g){t.current=g,window.clearTimeout(i.current),g!==""&&(i.current=window.setTimeout(()=>f(""),1e3))})(h)},[e]),a=x.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,a]}function j0(n,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=dR(n,Math.max(a,0));o.length===1&&(c=c.filter(g=>g!==t));const f=c.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==t?f:void 0}function dR(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var hR=p0,fR=g0,pR=y0,mR=_0,gR=w0,vR=E0,yR=C0,ny=P0,ry=k0,_R=b0,wR=D0,ER=O0;function TR({value:n,onChange:e,options:t,placeholder:i="..."}){return b.jsxs(hR,{value:n||"__none__",onValueChange:o=>e(o==="__none__"?"":o),children:[b.jsxs(fR,{className:`flex-1 min-w-0 flex items-center justify-between gap-1 h-10 px-3
          rounded-xl border border-[rgba(223,205,128,0.65)] bg-black/25
          text-[#dfcd80] font-kanit font-bold text-sm outline-none
          focus:border-[#dfcd80] focus:ring-2 focus:ring-[rgba(223,205,128,0.15)]
          data-[placeholder]:text-[rgba(223,205,128,0.5)]
          truncate cursor-pointer`,"aria-label":"",children:[b.jsx(pR,{placeholder:i,className:"truncate"}),b.jsx(mR,{className:"ml-1 opacity-60 flex-shrink-0",children:b.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:b.jsx("path",{d:"M7 10l5 5 5-5z"})})})]}),b.jsx(gR,{children:b.jsxs(vR,{position:"popper",sideOffset:4,className:`z-50 min-w-[180px] max-h-60 overflow-auto rounded-xl
            border border-[rgba(223,205,128,0.3)] bg-zinc-900 shadow-2xl
            data-[state=open]:animate-in data-[state=closed]:animate-out
            data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0`,children:[b.jsx(wR,{className:"flex items-center justify-center h-6 text-[#dfcd80]",children:b.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:b.jsx("path",{d:"M7 14l5-5 5 5z"})})}),b.jsxs(yR,{className:"p-1",children:[b.jsx(ny,{value:"__none__",className:`flex items-center px-3 py-2 rounded-lg text-sm text-zinc-500
                cursor-pointer outline-none select-none
                data-[highlighted]:bg-zinc-800 data-[highlighted]:text-zinc-300`,children:b.jsx(ry,{children:i})}),t.map(o=>b.jsxs(ny,{value:o,className:`flex items-center px-3 py-2 rounded-lg text-sm
                  text-[#dfcd80] cursor-pointer outline-none select-none
                  data-[highlighted]:bg-zinc-800 data-[state=checked]:font-bold`,children:[b.jsx(_R,{className:"mr-2",children:b.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:b.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",fill:"none"})})}),b.jsx(ry,{children:o})]},o))]}),b.jsx(ER,{className:"flex items-center justify-center h-6 text-[#dfcd80]",children:b.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:b.jsx("path",{d:"M7 10l5 5 5-5z"})})})]})})]})}var rd="Dialog",[U0]=wl(rd),[SR,Jn]=U0(rd),B0=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:o,onOpenChange:a,modal:c=!0}=n,h=x.useRef(null),f=x.useRef(null),[g,y]=Cc({prop:i,defaultProp:o??!1,onChange:a,caller:rd});return b.jsx(SR,{scope:e,triggerRef:h,contentRef:f,contentId:vs(),titleId:vs(),descriptionId:vs(),open:g,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(w=>!w),[y]),modal:c,children:t})};B0.displayName=rd;var z0="DialogTrigger",IR=x.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(z0,t),a=ot(e,o.triggerRef);return b.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":vp(o.open),...i,ref:a,onClick:Ke(n.onClick,o.onOpenToggle)})});IR.displayName=z0;var mp="DialogPortal",[CR,$0]=U0(mp,{forceMount:void 0}),W0=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:o}=n,a=Jn(mp,e);return b.jsx(CR,{scope:e,forceMount:t,children:x.Children.map(i,c=>b.jsx(Go,{present:t||a.open,children:b.jsx(Xc,{asChild:!0,container:o,children:c})}))})};W0.displayName=mp;var Rc="DialogOverlay",H0=x.forwardRef((n,e)=>{const t=$0(Rc,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=Jn(Rc,n.__scopeDialog);return a.modal?b.jsx(Go,{present:i||a.open,children:b.jsx(RR,{...o,ref:e})}):null});H0.displayName=Rc;var xR=sl("DialogOverlay.RemoveScroll"),RR=x.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Rc,t);return b.jsx(fp,{as:xR,allowPinchZoom:!0,shards:[o.contentRef],children:b.jsx(Ye.div,{"data-state":vp(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Is="DialogContent",q0=x.forwardRef((n,e)=>{const t=$0(Is,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=Jn(Is,n.__scopeDialog);return b.jsx(Go,{present:i||a.open,children:a.modal?b.jsx(AR,{...o,ref:e}):b.jsx(PR,{...o,ref:e})})});q0.displayName=Is;var AR=x.forwardRef((n,e)=>{const t=Jn(Is,n.__scopeDialog),i=x.useRef(null),o=ot(e,t.contentRef,i);return x.useEffect(()=>{const a=i.current;if(a)return a0(a)},[]),b.jsx(K0,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(n.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ke(n.onPointerDownOutside,a=>{const c=a.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0;(c.button===2||h)&&a.preventDefault()}),onFocusOutside:Ke(n.onFocusOutside,a=>a.preventDefault())})}),PR=x.forwardRef((n,e)=>{const t=Jn(Is,n.__scopeDialog),i=x.useRef(!1),o=x.useRef(!1);return b.jsx(K0,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,h;(c=n.onCloseAutoFocus)==null||c.call(n,a),a.defaultPrevented||(i.current||(h=t.triggerRef.current)==null||h.focus(),a.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:a=>{var f,g;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((g=t.triggerRef.current)==null?void 0:g.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),K0=x.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=n,h=Jn(Is,t),f=x.useRef(null),g=ot(e,f);return i0(),b.jsxs(b.Fragment,{children:[b.jsx(hp,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:a,children:b.jsx(Wc,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":vp(h.open),...c,ref:g,onDismiss:()=>h.onOpenChange(!1)})}),b.jsxs(b.Fragment,{children:[b.jsx(kR,{titleId:h.titleId}),b.jsx(bR,{contentRef:f,descriptionId:h.descriptionId})]})]})}),gp="DialogTitle",G0=x.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(gp,t);return b.jsx(Ye.h2,{id:o.titleId,...i,ref:e})});G0.displayName=gp;var Q0="DialogDescription",X0=x.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Q0,t);return b.jsx(Ye.p,{id:o.descriptionId,...i,ref:e})});X0.displayName=Q0;var Y0="DialogClose",J0=x.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Y0,t);return b.jsx(Ye.button,{type:"button",...i,ref:e,onClick:Ke(n.onClick,()=>o.onOpenChange(!1))})});J0.displayName=Y0;function vp(n){return n?"open":"closed"}var Z0="DialogTitleWarning",[Zb,ew]=LS(Z0,{contentName:Is,titleName:gp,docsSlug:"dialog"}),kR=({titleId:n})=>{const e=ew(Z0),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},NR="DialogDescriptionWarning",bR=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ew(NR).contentName}}.`;return x.useEffect(()=>{var a;const o=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},tw=B0,nw=W0,rw=H0,iw=q0,sw=G0,ow=X0,aw=J0;function lw({open:n,title:e,label:t,defaultValue:i="",onConfirm:o,onCancel:a}){const[c,h]=x.useState(i),f=x.useRef(null);x.useEffect(()=>{n&&(h(i),setTimeout(()=>{var w;return(w=f.current)==null?void 0:w.focus()},50))},[n,i]);function g(){const w=c.trim();w&&o(w)}function y(w){w.key==="Enter"&&g(),w.key==="Escape"&&a()}return b.jsx(tw,{open:n,onOpenChange:w=>!w&&a(),children:b.jsxs(nw,{children:[b.jsx(rw,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50"}),b.jsxs(iw,{className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50
            w-[90vw] max-w-sm rounded-2xl border border-[rgba(223,205,128,0.3)]
            bg-zinc-900 p-6 shadow-2xl`,children:[b.jsx(sw,{className:"text-[#dfcd80] font-bold text-lg mb-1",children:e}),b.jsx(ow,{className:"text-zinc-400 text-sm mb-4",children:t}),b.jsx("input",{ref:f,value:c,onChange:w=>h(w.target.value),onKeyDown:y,className:`w-full h-11 rounded-xl border-2 border-[#dfcd80] bg-white
              text-black font-bold text-base px-3 outline-none`,placeholder:"..."}),b.jsxs("div",{className:"flex gap-3 mt-4",children:[b.jsx("button",{onClick:g,className:`flex-1 h-11 rounded-xl bg-[#dfcd80] text-black font-extrabold
                text-base hover:brightness-105 active:scale-[0.985] transition-all`,children:""}),b.jsx("button",{onClick:a,className:`flex-1 h-11 rounded-xl border border-[rgba(223,205,128,0.55)]
                text-[#dfcd80] font-extrabold text-base bg-transparent
                hover:bg-[rgba(223,205,128,0.08)] active:scale-[0.985] transition-all`,children:""})]}),b.jsx(aw,{asChild:!0,children:b.jsx("button",{"aria-label":"Close",className:`absolute top-3 right-3 text-zinc-500 hover:text-zinc-300
                w-7 h-7 flex items-center justify-center rounded-full text-lg`,onClick:a,children:""})})]})]})})}const fs=200,sf=[{name:"",steps:5},{name:"",steps:10},{name:"",steps:10},{name:"",steps:20},{name:"",steps:25},{name:"",steps:25},{name:"",steps:25},{name:"",steps:25},{name:"",steps:50},{name:"",steps:50}],hc=[{id:"extream",count:8,label:"Extream"},{id:"sport",count:7,label:"Sport"},{id:"standard",count:7,label:"Standard"}],DR={extream:["LaFerrari","Huayra BC","Ford GT","Centodieci","SVJ","Benz GT R","Chiron","Vulcan"],sport:["Reventon","Giulia","GT-R","XJ220","F-Type","NSX-R","4C Spider"],standard:["RX7","DB5","Emira","911 Carrera","Mach 1","Camaro Z/28","S15"]},uw={extream:[{pointBox:[.42,.27,.147,.1]},{pointBox:[.595,.27,.14,.1]},{pointBox:[.745,.27,.163,.1]},{pointBox:[.42,.5,.147,.1]},{pointBox:[.595,.5,.14,.1]},{pointBox:[.755,.5,.145,.1]},{pointBox:[.415,.73,.168,.12]},{pointBox:[.6,.73,.155,.12]}],sport:[{pointBox:[.436,.312,.155,.07]},{pointBox:[.619,.319,.14,.055]},{pointBox:[.794,.32,.14,.053]},{pointBox:[.444,.547,.139,.058]},{pointBox:[.619,.548,.139,.055]},{pointBox:[.768,.547,.14,.054]},{pointBox:[.417,.775,.14,.054]}],standard:[{pointBox:[.418,.388,.138,.039]},{pointBox:[.594,.39,.137,.037]},{pointBox:[.768,.386,.138,.045]},{pointBox:[.444,.616,.139,.041]},{pointBox:[.62,.617,.136,.039]},{pointBox:[.796,.617,.135,.038]},{pointBox:[.445,.844,.136,.039]}]};function ll(n){return String(n||"").trim()}function ps(n){return ll(n).toLowerCase()}function Nf(n,e){var h;const t=DR[n]||[],i=((h=e.customCars)==null?void 0:h[n])||[],o=[...t,...i].map(ll).filter(Boolean),a=new Set,c=[];for(const f of o){const g=ps(f);a.has(g)||(a.add(g),c.push(f))}return c}function OR({index:n,sectionId:e,value:t,isLocked:i,carValue:o,state:a,onValueChange:c,onToggleLock:h,onCarChange:f,onAddCustomCar:g,onCalc:y}){const[w,T]=x.useState(!1),R=Nf(e,a);function M(I){const A=ll(I);if(!A)return;R.some(F=>ps(F)===ps(A))||g(A),f(A),T(!1)}return b.jsx(qC,{delayDuration:400,children:b.jsxs("div",{className:`flex gap-[6px] items-center ${i?"locked-row":""}`,children:[b.jsx("input",{type:"number",inputMode:"numeric",placeholder:` #${n+1}`,value:t,onChange:I=>c(I.target.value),onKeyDown:I=>I.key==="Enter"&&y(),className:`w-[130px] flex-shrink-0 h-10 rounded-xl border-2 border-[#dfcd80]
            bg-white text-black font-extrabold text-base text-center px-2 outline-none
            placeholder:text-gray-400 placeholder:font-semibold
            [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none
            [&::-webkit-outer-spin-button]:appearance-none`}),b.jsxs(Uv,{children:[b.jsx(Bv,{asChild:!0,children:b.jsx("button",{type:"button",onClick:h,className:`w-10 h-10 flex-shrink-0 rounded-xl flex items-center justify-center
                cursor-pointer transition-all active:scale-[0.97]
                ${i?"border border-[rgba(223,205,128,0.65)] bg-[rgba(223,205,128,0.12)] text-[#dfcd80]":"border border-white/20 bg-transparent text-white/80 hover:bg-white/5"}`,children:i?b.jsx(NS,{}):b.jsx(bS,{})})}),b.jsx(zv,{children:b.jsxs($v,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[i?" (Reset )":"",b.jsx(Wv,{className:"fill-zinc-800"})]})})]}),b.jsx(TR,{value:o,onChange:f,options:R}),b.jsxs(Uv,{children:[b.jsx(Bv,{asChild:!0,children:b.jsx("button",{type:"button",onClick:()=>T(!0),className:`w-10 h-10 flex-shrink-0 rounded-xl border border-[rgba(223,205,128,0.55)]
                bg-[rgba(223,205,128,0.10)] text-[#dfcd80]
                flex items-center justify-center cursor-pointer
                hover:bg-[rgba(223,205,128,0.18)] active:scale-[0.97] transition-all`,children:b.jsx(DS,{})})}),b.jsx(zv,{children:b.jsxs($v,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[" / ",b.jsx(Wv,{className:"fill-zinc-800"})]})})]}),b.jsx(lw,{open:w,title:"",label:" ( dropdown )",defaultValue:o,onConfirm:M,onCancel:()=>T(!1)})]})})}function MR({sectionId:n,label:e,badgeText:t,state:i,isImporting:o,onStateChange:a,onImport:c,onCalc:h}){const[f,g]=x.useState(!1),y=i.sections[n],w=i.locked[n],T=i.cars[n];function R(A,L,F){a(B=>{const K=[...B[L][n]];return K[A]=F,{...B,[L]:{...B[L],[n]:K}}})}function M(A){const L=ll(A);!L||Nf(n,i).some(B=>ps(B)===ps(L))||a(B=>({...B,customCars:{...B.customCars,[n]:[...B.customCars[n]||[],L]}}))}function I(A){const L=ll(A);if(!L)return;Nf(n,i).some(B=>ps(B)===ps(L))||M(L),g(!1)}return b.jsxs("div",{className:`flex flex-col rounded-[18px] bg-gradient-to-b from-[#0b0b0b] to-[#101010]
      border border-[rgba(223,205,128,0.22)] shadow-[0_10px_30px_rgba(0,0,0,0.55)]
      p-3 min-h-0`,children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-shrink-0",children:[b.jsx("span",{className:"text-[#dfcd80] font-bold text-[17px]",children:e}),b.jsx("span",{className:"text-[12px] text-black bg-[#dfcd80] rounded-full px-[10px] py-[2px] font-bold",children:t}),b.jsxs("button",{type:"button",onClick:()=>c(n),disabled:o,className:`ml-auto flex items-center gap-1.5 h-7 px-[10px] rounded-full
            border border-[rgba(223,205,128,0.55)] bg-[rgba(223,205,128,0.10)]
            text-[#dfcd80] font-extrabold text-[12px] cursor-pointer
            hover:bg-[rgba(223,205,128,0.16)] active:scale-[0.98] transition-all
            disabled:opacity-50 disabled:cursor-wait`,children:[b.jsx(OS,{}),"Import"]}),b.jsx("button",{type:"button",onClick:()=>g(!0),className:`flex items-center gap-1 h-7 px-[10px] rounded-full
            border border-[rgba(223,205,128,0.55)] bg-[rgba(223,205,128,0.10)]
            text-[#dfcd80] font-extrabold text-[12px] cursor-pointer
            hover:bg-[rgba(223,205,128,0.16)] active:scale-[0.98] transition-all`,children:"+ Add"})]}),b.jsx("div",{className:"flex flex-col gap-[10px] overflow-auto section-scroll min-h-0 pr-1",children:y.map((A,L)=>b.jsx(OR,{index:L,sectionId:n,value:A,isLocked:w[L],carValue:T[L],state:i,onValueChange:F=>R(L,"sections",F),onToggleLock:()=>R(L,"locked",!w[L]),onCarChange:F=>R(L,"cars",F),onAddCustomCar:M,onCalc:h},L))}),b.jsx(lw,{open:f,title:` ${e}`,label:" dropdown",onConfirm:I,onCancel:()=>g(!1)})]})}function LR({bonus:n,onBonusChange:e,onCalc:t,onReset:i,result:o,isCalculating:a}){return b.jsxs("div",{className:`flex flex-col rounded-[18px] bg-gradient-to-b from-[#0b0b0b] to-[#101010]
      border border-[rgba(223,205,128,0.22)] shadow-[0_10px_30px_rgba(0,0,0,0.55)]
      p-3 min-h-0 min-w-[280px]`,children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-shrink-0",children:[b.jsx("span",{className:"text-[#dfcd80] font-bold text-[17px]",children:""}),b.jsx("span",{className:"text-[12px] text-black bg-[#dfcd80] rounded-full px-[10px] py-[2px] font-bold",children:""})]}),b.jsxs("div",{className:"flex flex-col gap-[10px]",children:[b.jsxs("div",{className:`rounded-2xl border border-dashed border-[rgba(223,205,128,0.35)]
          bg-white/[0.04] p-3 grid gap-3`,children:[b.jsxs("div",{className:"flex items-center justify-between gap-2",children:[b.jsx("span",{className:"text-[#dfcd80] font-bold whitespace-nowrap text-sm",children:""}),b.jsx("input",{type:"number",value:n,onChange:c=>e(Number(c.target.value)),className:`w-[110px] h-[42px] rounded-xl border-2 border-[#dfcd80]
                bg-white text-black font-extrabold text-base text-center
                outline-none [appearance:textfield]
                [&::-webkit-inner-spin-button]:appearance-none
                [&::-webkit-outer-spin-button]:appearance-none`})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-[10px]",children:[b.jsx("button",{type:"button",onClick:t,disabled:a,className:`h-[46px] rounded-[14px] bg-[#dfcd80] text-black font-extrabold text-base
                cursor-pointer hover:brightness-[1.03] active:scale-[0.985] transition-all
                disabled:opacity-70 disabled:cursor-wait flex items-center justify-center gap-2`,children:a?b.jsxs(b.Fragment,{children:["...",b.jsx("span",{className:`inline-block w-4 h-4 border-2 border-black/35
                    border-t-black/85 rounded-full animate-spin-fast`})]}):""}),b.jsx("button",{type:"button",onClick:i,className:`h-[46px] rounded-[14px] border border-[rgba(223,205,128,0.55)]
                text-[#dfcd80] font-extrabold text-base bg-transparent
                cursor-pointer hover:bg-[rgba(223,205,128,0.08)] active:scale-[0.985] transition-all`,children:"Reset"})]})]}),b.jsxs("div",{className:`rounded-[18px] border border-[rgba(223,205,128,0.25)]
          bg-white/[0.04] p-[14px]`,children:[b.jsxs("div",{className:"flex justify-between items-baseline gap-2 flex-wrap mb-1",children:[b.jsx("h2",{className:"m-0 text-[18px] text-[#dfcd80] font-extrabold",children:""}),b.jsx("span",{className:"text-[#eaeaea] text-sm font-mono tabular-nums",children:o?`: ${o.total.toLocaleString()} ( ${o.sum.toLocaleString()} +  ${o.bonus.toLocaleString()})`:": -"})]}),b.jsx("div",{className:"mt-1.5 text-[22px] font-extrabold text-white",children:o?`${o.rank.hat} ${o.rank.stepInHat} (${o.rank.inStep}/${o.rank.stepMax})`:"-"}),b.jsx("div",{className:"mt-1.5 text-[#a9a9a9] text-[13px] leading-[1.45]",children:o?` 1  = ${fs}    "${o.rank.hat}"  ${o.rank.stepInHat} / ${o.rank.hatSteps}`:`: 1  = ${fs}    " + "`})]})]})]})}function VR({user:n,onSignIn:e,onSignOut:t}){return b.jsxs("button",{type:"button",onClick:n?t:e,className:`fixed top-3 right-3 z-50 flex items-center gap-2
        h-9 px-3 rounded-[10px] bg-[#dfcd80] text-black font-bold text-sm
        cursor-pointer hover:brightness-105 active:scale-[0.98] transition-all
        shadow-lg`,children:[b.jsx(MS,{className:"w-4 h-4"}),n?`Logout (${n.displayName||"Google"})`:"Sign in with Google"]})}const rc=["#ff4444","#ff8800","#ffdd00","#44ff88","#00ccff","#aa44ff","#ff66cc","#ffffff"];function FR({open:n,imageUrl:e,sectionId:t,points:i,badgeRightEdges:o=[],onClose:a}){const c=x.useRef(null);return x.useEffect(()=>{if(!n||!e||!c.current)return;const h=c.current,f=h.getContext("2d"),g=new Image;g.onerror=y=>console.error("[OcrDebug] image load failed",y),g.onload=()=>{const y=Math.min(900,g.naturalWidth),w=y/g.naturalWidth;h.width=y,h.height=g.naturalHeight*w,f.drawImage(g,0,0,h.width,h.height);const T=Math.round(g.naturalWidth*.005);uw[t].forEach((M,I)=>{const[A,L,F,B]=M.pointBox,K=rc[I%rc.length],J=A*h.width,Z=L*h.height,P=F*h.width,C=B*h.height;f.save(),f.setLineDash([5,4]),f.strokeStyle="#ffee00",f.lineWidth=1.5,f.strokeRect(J,Z,P,C),f.restore();const k=o[I],O=Math.round(g.naturalWidth*A),V=Math.round(g.naturalHeight*L),U=Math.round(g.naturalWidth*F),N=Math.round(g.naturalHeight*B),ye=k!=null?k+T:O+Math.round(U*.65),Ae=O+U,we=Math.max(0,Ae-ye),de=ye*w,X=V*w,le=we*w,oe=N*w;if(f.fillStyle=K+"28",f.fillRect(de,X,le,oe),f.strokeStyle=K,f.lineWidth=2,f.strokeRect(de,X,le,oe),k!=null){const fe=(k+T)*w;f.save(),f.strokeStyle="#ff69b4",f.lineWidth=1.5,f.setLineDash([3,3]),f.beginPath(),f.moveTo(fe,X),f.lineTo(fe,X+oe),f.stroke(),f.restore()}const $=`#${I+1}: ${i[I]||""}`;f.font="bold 13px monospace";const Y=f.measureText($).width;f.fillStyle="rgba(0,0,0,0.8)",f.fillRect(de,X-21,Y+8,20),f.fillStyle=K,f.fillText($,de+4,X-6)})},g.src=e},[n,e,t,i,o]),b.jsx(tw,{open:n,onOpenChange:h=>!h&&a(),children:b.jsxs(nw,{children:[b.jsx(rw,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),b.jsxs(iw,{className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50
            w-[95vw] max-w-5xl max-h-[90vh] flex flex-col
            rounded-2xl border border-[rgba(223,205,128,0.3)] bg-zinc-900 shadow-2xl overflow-hidden`,children:[b.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-zinc-800 flex-shrink-0 gap-4",children:[b.jsxs(sw,{className:"text-[#dfcd80] font-bold text-lg whitespace-nowrap",children:["OCR Debug  ",t.toUpperCase()]}),b.jsxs(ow,{className:"text-zinc-500 text-xs text-center flex-1",children:[b.jsxs("span",{className:"inline-block mr-3",children:[b.jsx("span",{className:"text-yellow-300",children:"- - -"})," = zone  badge "]}),b.jsxs("span",{className:"inline-block mr-3",children:[b.jsx("span",{className:"text-pink-400",children:"| |"})," =  badge"]}),b.jsxs("span",{className:"inline-block",children:[b.jsx("span",{className:"text-green-400",children:""})," = zone OCR "]})]}),b.jsx(aw,{asChild:!0,children:b.jsx("button",{onClick:a,className:`text-zinc-400 hover:text-white w-8 h-8 flex items-center justify-center
                  rounded-full hover:bg-zinc-700 text-xl transition-colors flex-shrink-0`,children:""})})]}),b.jsx("div",{className:"overflow-auto p-4 flex-1",children:b.jsx("canvas",{ref:c,className:"w-full rounded-xl border border-zinc-700",style:{imageRendering:"auto"}})}),b.jsx("div",{className:"flex flex-wrap gap-2 px-5 py-3 border-t border-zinc-800 flex-shrink-0",children:i.map((h,f)=>b.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-mono px-2 py-1 rounded-lg bg-zinc-800",children:[b.jsx("span",{className:"inline-block w-3 h-3 rounded-sm flex-shrink-0",style:{background:rc[f%rc.length]}}),b.jsxs("span",{className:"text-zinc-400",children:["#",f+1]}),b.jsx("span",{className:h?"text-white font-bold":"text-red-400",children:h||""}),o[f]!=null?b.jsx("span",{className:"text-pink-400 text-[10px]",children:"badge"}):b.jsx("span",{className:"text-zinc-600 text-[10px]",children:"fallback"})]},f))})]})]})})}const cw="rm_rank_calc_split_v1";function of(){return{bonus:1200,sections:{extream:Array(8).fill(""),sport:Array(7).fill(""),standard:Array(7).fill("")},locked:{extream:Array(8).fill(!1),sport:Array(7).fill(!1),standard:Array(7).fill(!1)},cars:{extream:Array(8).fill(""),sport:Array(7).fill(""),standard:Array(7).fill("")},customCars:{extream:[],sport:[],standard:[]}}}function jR(){var n,e,t,i;try{const o=localStorage.getItem(cw);if(!o)return of();const a=JSON.parse(o),c=of();for(const h of hc){const f=h.id;Array.isArray((n=a.sections)==null?void 0:n[f])&&(c.sections[f]=a.sections[f].slice(0,c.sections[f].length)),Array.isArray((e=a.locked)==null?void 0:e[f])&&(c.locked[f]=a.locked[f].slice(0,c.locked[f].length)),Array.isArray((t=a.cars)==null?void 0:t[f])&&(c.cars[f]=a.cars[f].slice(0,c.cars[f].length)),Array.isArray((i=a.customCars)==null?void 0:i[f])&&(c.customCars[f]=a.customCars[f])}return Number.isFinite(Number(a.bonus))&&(c.bonus=Number(a.bonus)),c}catch{return of()}}function iy(n){localStorage.setItem(cw,JSON.stringify(n))}function UR(n){(!Number.isFinite(n)||n<0)&&(n=0);const e=Math.floor(n/fs),t=n%fs;let i=0;for(const a of sf){const c=i+a.steps;if(e<c){const h=e-i+1;return{hat:a.name,stepInHat:h,inStep:t,stepMax:fs,hatSteps:a.steps}}i=c}const o=sf[sf.length-1];return{hat:o.name,stepInHat:o.steps,inStep:fs-1,stepMax:fs,hatSteps:o.steps}}const BR="modulepreload",zR=function(n){return"/cal-ranking-rm/"+n},sy={},$R=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let c=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=c(t.map(g=>{if(g=zR(g),g in sy)return;sy[g]=!0;const y=g.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":BR,y||(T.as="script"),T.crossOrigin="",T.href=g,f&&T.setAttribute("nonce",f),document.head.appendChild(T),y)return new Promise((R,M)=>{T.addEventListener("load",R),T.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};function WR(n){const t=[...String(n||"").matchAll(/\d+/g)].map(o=>o[0]).find(o=>o.length===4&&Number(o)>=1e3);if(t)return t;const i=String(n||"").replace(/\D/g,"");if(i.length>=4)for(let o=0;o<=i.length-4;o++){const a=i.slice(o,o+4);if(Number(a)>=1e3)return a}return""}function HR(n,e,t){const i=Math.max(n,e,t),o=Math.min(n,e,t),a=i-o;if(a<40)return!1;let c=0;i===n?c=((e-t)/a+(e<t?6:0))*60:i===e?c=((t-n)/a+2)*60:c=((n-e)/a+4)*60;const h=(i+o)/2/255,f=a/255/(1-Math.abs(2*h-1));return c>=240&&c<=315&&f>.35&&h>.15&&h<.75}function qR(n,e,t,i,o){const a=document.createElement("canvas");a.width=i,a.height=o;const c=a.getContext("2d");c.drawImage(n,e,t,i,o,0,0,i,o);const{data:h}=c.getImageData(0,0,i,o);let f=-1;for(let g=0;g<i;g++){let y=0;for(let w=0;w<o;w++){const T=(w*i+g)*4;HR(h[T],h[T+1],h[T+2])&&y++}y>o*.2&&(f=g)}return f>=0?e+f:null}function KR(n){return new Promise((e,t)=>{const i=URL.createObjectURL(n),o=new Image;o.onload=()=>{URL.revokeObjectURL(i),e(o)},o.onerror=t,o.src=i})}function GR(n,e,t,i,o,a,c,h){const f=Math.round(n.naturalWidth*.005),g=a!==null?a+f:e+Math.round(i*.65),y=e+i,w=Math.max(8,y-g),T=document.createElement("canvas"),R=4;T.width=w*R,T.height=o*R;const M=T.getContext("2d");M.imageSmoothingEnabled=!0,M.imageSmoothingQuality="high",M.fillStyle="#fff",M.fillRect(0,0,T.width,T.height),M.drawImage(n,g,t,w,o,0,0,T.width,T.height);const I=M.getImageData(0,0,T.width,T.height),A=I.data;for(let L=0;L<A.length;L+=4){const B=A[L]*.299+A[L+1]*.587+A[L+2]*.114>c,K=(h?B:!B)?0:255;A[L]=A[L+1]=A[L+2]=K,A[L+3]=255}return M.putImageData(I,0,0),T}async function QR(n,e){const{data:t}=await e.recognize(n);return(t.text||"").trim()}async function XR(n,e){const t=uw[n];if(!(t!=null&&t.length))throw new Error(" OCR_BOXES ");return new Promise((i,o)=>{const a=document.createElement("input");a.type="file",a.accept="image/*",a.style.display="none",document.body.appendChild(a),a.onchange=async()=>{var f;const c=(f=a.files)==null?void 0:f[0];if(document.body.removeChild(a),!c){i({points:[],debugLog:[],imageUrl:"",badgeRightEdges:[]});return}const h=URL.createObjectURL(c);try{const g=await KR(c),{createWorker:y}=await $R(async()=>{const{createWorker:I}=await import("./index-pvf44FG9.js").then(A=>A.i);return{createWorker:I}},[]),w=await y("eng");await w.setParameters({tessedit_char_whitelist:"0123456789"});const T=[],R=[],M=[];for(let I=0;I<t.length;I++){const[A,L,F,B]=t[I].pointBox,K=Math.round(g.naturalWidth*A),J=Math.round(g.naturalHeight*L),Z=Math.max(1,Math.round(g.naturalWidth*F)),P=Math.max(1,Math.round(g.naturalHeight*B)),C=qR(g,K,J,Z,P);M.push(C);const k=[[155,!0],[120,!0],[140,!1]];let O="";const V=[];for(const[ye,Ae]of k){const we=GR(g,K,J,Z,P,C,ye,Ae),de=await QR(we,w);V.push(`t${ye}${Ae?"i":"n"}:"${de}"`);const X=WR(de);X&&!O&&(O=X)}const U=C!==null?`badgex${C}`:"no-badge(fallback)",N=`box${I+1}[${U}]: ${V.join(" | ")}  "${O}"`;R.push(N),console.log(`[OCR ${n}] ${N}`),T.push(O),e(Math.round((I+1)/t.length*100))}await w.terminate(),i({points:T,debugLog:R,imageUrl:h,badgeRightEdges:M})}catch(g){URL.revokeObjectURL(h),o(g)}},a.click()})}var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},YR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},hw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,g=f?n[o+2]:0,y=a>>2,w=(a&3)<<4|h>>4;let T=(h&15)<<2|g>>6,R=g&63;f||(R=64,c||(T=64)),i.push(t[y],t[w],t[T],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||g==null||w==null)throw new JR;const T=a<<2|h>>4;if(i.push(T),g!==64){const R=h<<4&240|g>>2;if(i.push(R),w!==64){const M=g<<6&192|w;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class JR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZR=function(n){const e=dw(n);return hw.encodeByteArray(e,!0)},Ac=function(n){return ZR(n).replace(/\./g,"")},fw=function(n){try{return hw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=()=>eA().__FIREBASE_DEFAULTS__,nA=()=>{if(typeof process>"u"||typeof oy>"u")return;const n=oy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fw(n[1]);return e&&JSON.parse(e)},id=()=>{try{return tA()||nA()||rA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pw=n=>{var e,t;return(t=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},iA=n=>{const e=pw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},mw=()=>{var n;return(n=id())===null||n===void 0?void 0:n.config},gw=n=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ac(JSON.stringify(t)),Ac(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function lA(){var n;const e=(n=id())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hA(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fA(){return!lA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pA(){try{return typeof indexedDB=="object"}catch{return!1}}function mA(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="FirebaseError";class Yr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=gA,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?vA(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Yr(o,h,i)}}function vA(n,e){return n.replace(yA,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const yA=/\{\$([^}]+)}/g;function _A(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(ay(a)&&ay(c)){if(!Pc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ay(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wA(n,e){const t=new EA(n,e);return t.subscribe.bind(t)}class EA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");TA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=af),o.error===void 0&&(o.error=af),o.complete===void 0&&(o.complete=af);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){return n&&n._delegate?n._delegate:n}class Cs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new sA;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CA(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:IA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IA(n){return n===hs?void 0:n}function CA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const RA={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},AA=Be.INFO,PA={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},kA=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=PA[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=AA,this._logHandler=kA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const NA=(n,e)=>e.some(t=>n instanceof t);let ly,uy;function bA(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DA(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vw=new WeakMap,bf=new WeakMap,yw=new WeakMap,lf=new WeakMap,_p=new WeakMap;function OA(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Ai(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&vw.set(t,n)}).catch(()=>{}),_p.set(e,n),e}function MA(n){if(bf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});bf.set(n,e)}let Df={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ai(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LA(n){Df=n(Df)}function VA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(uf(this),e,...t);return yw.set(i,e.sort?e.sort():[e]),Ai(i)}:DA().includes(n)?function(...e){return n.apply(uf(this),e),Ai(vw.get(this))}:function(...e){return Ai(n.apply(uf(this),e))}}function FA(n){return typeof n=="function"?VA(n):(n instanceof IDBTransaction&&MA(n),NA(n,bA())?new Proxy(n,Df):n)}function Ai(n){if(n instanceof IDBRequest)return OA(n);if(lf.has(n))return lf.get(n);const e=FA(n);return e!==n&&(lf.set(n,e),_p.set(e,n)),e}const uf=n=>_p.get(n);function jA(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=Ai(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Ai(c.result),f.oldVersion,f.newVersion,Ai(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const UA=["get","getKey","getAll","getAllKeys","count"],BA=["put","add","delete","clear"],cf=new Map;function cy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cf.get(e))return cf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=BA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||UA.includes(t)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),o&&f.done]))[0]};return cf.set(e,a),a}LA(n=>({...n,get:(e,t,i)=>cy(e,t)||n.get(e,t,i),has:(e,t)=>!!cy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($A(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function $A(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Of="@firebase/app",dy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new yp("@firebase/app"),WA="@firebase/app-compat",HA="@firebase/analytics-compat",qA="@firebase/analytics",KA="@firebase/app-check-compat",GA="@firebase/app-check",QA="@firebase/auth",XA="@firebase/auth-compat",YA="@firebase/database",JA="@firebase/data-connect",ZA="@firebase/database-compat",eP="@firebase/functions",tP="@firebase/functions-compat",nP="@firebase/installations",rP="@firebase/installations-compat",iP="@firebase/messaging",sP="@firebase/messaging-compat",oP="@firebase/performance",aP="@firebase/performance-compat",lP="@firebase/remote-config",uP="@firebase/remote-config-compat",cP="@firebase/storage",dP="@firebase/storage-compat",hP="@firebase/firestore",fP="@firebase/vertexai-preview",pP="@firebase/firestore-compat",mP="firebase",gP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]",vP={[Of]:"fire-core",[WA]:"fire-core-compat",[qA]:"fire-analytics",[HA]:"fire-analytics-compat",[GA]:"fire-app-check",[KA]:"fire-app-check-compat",[QA]:"fire-auth",[XA]:"fire-auth-compat",[YA]:"fire-rtdb",[JA]:"fire-data-connect",[ZA]:"fire-rtdb-compat",[eP]:"fire-fn",[tP]:"fire-fn-compat",[nP]:"fire-iid",[rP]:"fire-iid-compat",[iP]:"fire-fcm",[sP]:"fire-fcm-compat",[oP]:"fire-perf",[aP]:"fire-perf-compat",[lP]:"fire-rc",[uP]:"fire-rc-compat",[cP]:"fire-gcs",[dP]:"fire-gcs-compat",[hP]:"fire-fst",[pP]:"fire-fst-compat",[fP]:"fire-vertex","fire-js":"fire-js",[mP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,yP=new Map,Lf=new Map;function hy(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vo(n){const e=n.name;if(Lf.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Lf.set(e,n);for(const t of kc.values())hy(t,n);for(const t of yP.values())hy(t,n);return!0}function wp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ur(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Cl("app","Firebase",_P);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=gP;function _w(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Mf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Pi.create("bad-app-name",{appName:String(o)});if(t||(t=mw()),!t)throw Pi.create("no-options");const a=kc.get(o);if(a){if(Pc(t,a.options)&&Pc(i,a.config))return a;throw Pi.create("duplicate-app",{appName:o})}const c=new xA(o);for(const f of Lf.values())c.addComponent(f);const h=new wP(t,i,c);return kc.set(o,h),h}function ww(n=Mf){const e=kc.get(n);if(!e&&n===Mf&&mw())return _w();if(!e)throw Pi.create("no-app",{appName:n});return e}function ki(n,e,t){var i;let o=(i=vP[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(h.join(" "));return}Vo(new Cs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="firebase-heartbeat-database",TP=1,ul="firebase-heartbeat-store";let df=null;function Ew(){return df||(df=jA(EP,TP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ul)}catch(t){console.warn(t)}}}}).catch(n=>{throw Pi.create("idb-open",{originalErrorMessage:n.message})})),df}async function SP(n){try{const t=(await Ew()).transaction(ul),i=await t.objectStore(ul).get(Tw(n));return await t.done,i}catch(e){if(e instanceof Yr)Kr.warn(e.message);else{const t=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(t.message)}}}async function fy(n,e){try{const i=(await Ew()).transaction(ul,"readwrite");await i.objectStore(ul).put(e,Tw(n)),await i.done}catch(t){if(t instanceof Yr)Kr.warn(t.message);else{const i=Pi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Kr.warn(i.message)}}}function Tw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=1024,CP=720*60*60*1e3;class xP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=py();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=CP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Kr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=py(),{heartbeatsToSend:i,unsentEntries:o}=RP(this._heartbeatsCache.heartbeats),a=Ac(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Kr.warn(t),""}}}function py(){return new Date().toISOString().substring(0,10)}function RP(n,e=IP){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),my(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),my(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class AP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pA()?mA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return fy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return fy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function my(n){return Ac(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(n){Vo(new Cs("platform-logger",e=>new zA(e),"PRIVATE")),Vo(new Cs("heartbeat",e=>new xP(e),"PRIVATE")),ki(Of,dy,n),ki(Of,dy,"esm2017"),ki("fire-js","")}PP("");var kP="firebase",NP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(kP,NP,"app");function Sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bP=Sw,Iw=new Cl("auth","Firebase",Sw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new yp("@firebase/auth");function DP(n,...e){Nc.logLevel<=Be.WARN&&Nc.warn(`Auth (${Xo}): ${n}`,...e)}function fc(n,...e){Nc.logLevel<=Be.ERROR&&Nc.error(`Auth (${Xo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,...e){throw Tp(n,...e)}function Qn(n,...e){return Tp(n,...e)}function Ep(n,e,t){const i=Object.assign(Object.assign({},bP()),{[e]:t});return new Cl("auth","Firebase",i).create(e,{appName:n.name})}function ys(n){return Ep(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&vr(n,"argument-error"),Ep(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Iw.create(n,...e)}function Re(n,e,...t){if(!n)throw Tp(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw fc(e),new Error(e)}function Gr(n,e){n||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function MP(){return gy()==="http:"||gy()==="https:"}function gy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MP()||cA()||"connection"in navigator)?navigator.onLine:!0}function VP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gr(t>e,"Short delay should be less than long delay!"),this.isMobile=aA()||dA()}get(){return LP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n,e){Gr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new Rl(3e4,6e4);function Ip(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Yo(n,e,t,i,o={}){return xw(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=xl(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:f},a);return uA()||(g.referrerPolicy="no-referrer"),Cw.fetch()(Rw(n,n.config.apiHost,t,h),g)})}async function xw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},FP),e);try{const o=new BP(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw ic(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw ic(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw ic(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ep(n,y,g);vr(n,y)}}catch(o){if(o instanceof Yr)throw o;vr(n,"network-request-failed",{message:String(o)})}}async function UP(n,e,t,i,o={}){const a=await Yo(n,e,t,i,o);return"mfaPendingCredential"in a&&vr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Rw(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Sp(n.config,o):`${n.config.apiScheme}://${o}`}class BP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Qn(this.auth,"network-request-failed")),jP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ic(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Qn(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(n,e){return Yo(n,"POST","/v1/accounts:delete",e)}async function Aw(n,e){return Yo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $P(n,e=!1){const t=An(n),i=await t.getIdToken(e),o=Cp(i);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:el(hf(o.auth_time)),issuedAtTime:el(hf(o.iat)),expirationTime:el(hf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hf(n){return Number(n)*1e3}function Cp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=fw(t);return o?JSON.parse(o):(fc("Failed to decode base64 JWT payload"),null)}catch(o){return fc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function vy(n){const e=Cp(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Yr&&WP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function WP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await cl(n,Aw(t,{idToken:i}));Re(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Pw(a.providerUserInfo):[],h=KP(n.providerData,c),f=n.isAnonymous,g=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),y=f?g:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Ff(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function qP(n){const e=An(n);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Pw(n){return n.map(e=>{var{providerId:t}=e,i=Il(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(n,e){const t=await xw(n,{},async()=>{const i=xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=Rw(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Cw.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QP(n,e){return Yo(n,"POST","/v2/accounts:revokeToken",Ip(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=vy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await GP(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new No;return i&&(Re(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Re(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Re(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Il(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ff(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await cl(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $P(this,e)}reload(){return qP(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await bc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await cl(this,zP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,f,g,y;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,M=(c=t.photoURL)!==null&&c!==void 0?c:void 0,I=(h=t.tenantId)!==null&&h!==void 0?h:void 0,A=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,L=(g=t.createdAt)!==null&&g!==void 0?g:void 0,F=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:B,emailVerified:K,isAnonymous:J,providerData:Z,stsTokenManager:P}=t;Re(B&&P,e,"internal-error");const C=No.fromJSON(this.name,P);Re(typeof B=="string",e,"internal-error"),Ti(w,e.name),Ti(T,e.name),Re(typeof K=="boolean",e,"internal-error"),Re(typeof J=="boolean",e,"internal-error"),Ti(R,e.name),Ti(M,e.name),Ti(I,e.name),Ti(A,e.name),Ti(L,e.name),Ti(F,e.name);const k=new zr({uid:B,auth:e,email:T,emailVerified:K,displayName:w,isAnonymous:J,photoURL:M,phoneNumber:R,tenantId:I,stsTokenManager:C,createdAt:L,lastLoginAt:F});return Z&&Array.isArray(Z)&&(k.providerData=Z.map(O=>Object.assign({},O))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new No;o.updateFromServerResponse(t);const a=new zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await bc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Pw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new No;h.updateFromIdToken(i);const f=new zr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ff(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=new Map;function $r(n){Gr(n instanceof Function,"Expected a class definition");let e=yy.get(n);return e?(Gr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kw.type="NONE";const _y=kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(n,e,t){return`firebase:${n}:${e}:${t}`}class bo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=pc(this.userKey,o.apiKey,a),this.fullPersistenceKey=pc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new bo($r(_y),e,i);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||$r(_y);const c=pc(i,e.config.apiKey,e.name);let h=null;for(const g of t)try{const y=await g._get(c);if(y){const w=zr._fromJSON(e,y);g!==a&&(h=w),a=g;break}}catch{}const f=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new bo(a,e,i):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(c)}catch{}})),new bo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lw(e))return"Blackberry";if(Vw(e))return"Webos";if(bw(e))return"Safari";if((e.includes("chrome/")||Dw(e))&&!e.includes("edge/"))return"Chrome";if(Mw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Nw(n=qt()){return/firefox\//i.test(n)}function bw(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dw(n=qt()){return/crios\//i.test(n)}function Ow(n=qt()){return/iemobile/i.test(n)}function Mw(n=qt()){return/android/i.test(n)}function Lw(n=qt()){return/blackberry/i.test(n)}function Vw(n=qt()){return/webos/i.test(n)}function xp(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XP(n=qt()){var e;return xp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YP(){return hA()&&document.documentMode===10}function Fw(n=qt()){return xp(n)||Mw(n)||Vw(n)||Lw(n)||/windows phone/i.test(n)||Ow(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,e=[]){let t;switch(n){case"Browser":t=wy(qt());break;case"Worker":t=`${wy(qt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(n,e={}){return Yo(n,"GET","/v2/passwordPolicy",Ip(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=6;class t1{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:e1,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ey(this),this.idTokenSubscription=new Ey(this),this.beforeStateQueue=new JP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Aw(this,{idToken:e}),i=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ur(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(ys(this));const t=e?An(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZP(this),t=new t1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await QP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&DP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function sd(n){return An(n)}class Ey{constructor(e){this.auth=e,this.observer=null,this.addObserver=wA(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r1(n){Rp=n}function i1(n){return Rp.loadJS(n)}function s1(){return Rp.gapiScript}function o1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n,e){const t=wp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Pc(a,e??{}))return o;vr(o,"already-initialized")}return t.initialize({options:e})}function l1(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map($r);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function u1(n,e,t){const i=sd(n);Re(i._canInitEmulator,i,"emulator-config-failed"),Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Uw(e),{host:c,port:h}=c1(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),d1()}function Uw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function c1(n){const e=Uw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Ty(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Ty(c)}}}function Ty(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function d1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(n,e){return UP(n,"POST","/v1/accounts:signInWithIdp",Ip(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="http://localhost";class xs extends Bw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Il(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new xs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Do(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:h1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Ap{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Al{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return jr.credential(t,i)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Al{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Al{constructor(){super("twitter.com")}static credential(e,t){return xs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return xi.credential(t,i)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await zr._fromIdTokenResponse(e,i,o),c=Sy(i);return new Fo({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Sy(i);return new Fo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Sy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Yr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Dc(e,t,i,o)}}function zw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(n,a,e,i):a})}async function f1(n,e,t=!1){const i=await cl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(n,e,t=!1){const{auth:i}=n;if(Ur(i.app))return Promise.reject(ys(i));const o="reauthenticate";try{const a=await cl(n,zw(i,o,e,n),t);Re(a.idToken,i,"internal-error");const c=Cp(a.idToken);Re(c,i,"internal-error");const{sub:h}=c;return Re(n.uid===h,i,"user-mismatch"),Fo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&vr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(n,e,t=!1){if(Ur(n.app))return Promise.reject(ys(n));const i="signIn",o=await zw(n,i,e),a=await Fo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}function g1(n,e,t,i){return An(n).onIdTokenChanged(e,t,i)}function v1(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function y1(n,e,t,i){return An(n).onAuthStateChanged(e,t,i)}function _1(n){return An(n).signOut()}const Oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=1e3,E1=10;class Ww extends $w{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);YP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,E1):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},w1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ww.type="LOCAL";const T1=Ww;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends $w{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Hw.type="SESSION";const qw=Hw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new od(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async g=>g(t.origin,a)),f=await S1(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const g=Pp("",20);o.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function C1(n){fr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function x1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function A1(){return Kw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firebaseLocalStorageDb",P1=1,Mc="firebaseLocalStorage",Qw="fbase_key";class Pl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ad(n,e){return n.transaction([Mc],e?"readwrite":"readonly").objectStore(Mc)}function k1(){const n=indexedDB.deleteDatabase(Gw);return new Pl(n).toPromise()}function jf(){const n=indexedDB.open(Gw,P1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Mc,{keyPath:Qw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Mc)?e(i):(i.close(),await k1(),e(await jf()))})})}async function Iy(n,e,t){const i=ad(n,!0).put({[Qw]:e,value:t});return new Pl(i).toPromise()}async function N1(n,e){const t=ad(n,!1).get(e),i=await new Pl(t).toPromise();return i===void 0?null:i.value}function Cy(n,e){const t=ad(n,!0).delete(e);return new Pl(t).toPromise()}const b1=800,D1=3;class Xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>D1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(A1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await x1(),!this.activeServiceWorker)return;this.sender=new I1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jf();return await Iy(e,Oc,"1"),await Cy(e,Oc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Iy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>N1(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Cy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=ad(o,!1).getAll();return new Pl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xw.type="LOCAL";const O1=Xw;new Rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n,e){return e?$r(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends Bw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function M1(n){return m1(n.auth,new kp(n),n.bypassAuthState)}function L1(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),p1(t,new kp(n),n.bypassAuthState)}async function V1(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),f1(t,new kp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M1;case"linkViaPopup":case"linkViaRedirect":return V1;case"reauthViaPopup":case"reauthViaRedirect":return L1;default:vr(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Rl(2e3,1e4);async function j1(n,e,t){if(Ur(n.app))return Promise.reject(Qn(n,"operation-not-supported-in-this-environment"));const i=sd(n);OP(n,e,Ap);const o=Yw(i,t);return new ms(i,"signInViaPopup",e,o).executeNotNull()}class ms extends Jw{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F1.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="pendingRedirect",mc=new Map;class B1 extends Jw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=mc.get(this.auth._key());if(!e){try{const i=await z1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}mc.set(this.auth._key(),e)}return this.bypassAuthState||mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z1(n,e){const t=H1(e),i=W1(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function $1(n,e){mc.set(n._key(),e)}function W1(n){return $r(n._redirectPersistence)}function H1(n){return pc(U1,n.config.apiKey,n.name)}async function q1(n,e,t=!1){if(Ur(n.app))return Promise.reject(ys(n));const i=sd(n),o=Yw(i,e),c=await new B1(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=600*1e3;class G1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Zw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K1&&this.cachedEventUids.clear(),this.cachedEventUids.has(xy(e))}saveEventToCache(e){this.cachedEventUids.add(xy(e)),this.lastProcessedEventTime=Date.now()}}function xy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Zw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(n,e={}){return Yo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J1=/^https?/;async function Z1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await X1(n);for(const t of e)try{if(ek(t))return}catch{}vr(n,"unauthorized-domain")}function ek(n){const e=Vf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!J1.test(t))return!1;if(Y1.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Rl(3e4,6e4);function Ry(){const n=fr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nk(n){return new Promise((e,t)=>{var i,o,a;function c(){Ry(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ry(),t(Qn(n,"network-request-failed"))},timeout:tk.get()})}if(!((o=(i=fr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=fr().gapi)===null||a===void 0)&&a.load)c();else{const h=o1("iframefcb");return fr()[h]=()=>{gapi.load?c():t(Qn(n,"network-request-failed"))},i1(`${s1()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw gc=null,e})}let gc=null;function rk(n){return gc=gc||nk(n),gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new Rl(5e3,15e3),sk="__/auth/iframe",ok="emulator/auth/iframe",ak={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uk(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sp(e,ok):`https://${n.config.authDomain}/${sk}`,i={apiKey:e.apiKey,appName:n.name,v:Xo},o=lk.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${xl(i).slice(1)}`}async function ck(n){const e=await rk(n),t=fr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:uk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ak,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Qn(n,"network-request-failed"),h=fr().setTimeout(()=>{a(c)},ik.get());function f(){fr().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hk=500,fk=600,pk="_blank",mk="http://localhost";class Ay{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gk(n,e,t,i=hk,o=fk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},dk),{width:i.toString(),height:o.toString(),top:a,left:c}),g=qt().toLowerCase();t&&(h=Dw(g)?pk:t),Nw(g)&&(e=e||mk,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[R,M])=>`${T}${R}=${M},`,"");if(XP(g)&&h!=="_self")return vk(e||"",h),new Ay(null);const w=window.open(e||"",h,y);Re(w,n,"popup-blocked");try{w.focus()}catch{}return new Ay(w)}function vk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="__/auth/handler",_k="emulator/auth/handler",wk=encodeURIComponent("fac");async function Py(n,e,t,i,o,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Xo,eventId:o};if(e instanceof Ap){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",_A(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof Al){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),g=f?`#${wk}=${encodeURIComponent(f)}`:"";return`${Ek(n)}?${xl(h).slice(1)}${g}`}function Ek({config:n}){return n.emulator?Sp(n,_k):`https://${n.authDomain}/${yk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="webStorageSupport";class Tk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qw,this._completeRedirectFn=q1,this._overrideRedirectResult=$1}async _openPopup(e,t,i,o){var a;Gr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Py(e,t,i,Vf(),o);return gk(e,c,Pp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Py(e,t,i,Vf(),o);return C1(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Gr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ck(e),i=new G1(e);return t.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ff,{type:ff},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[ff];c!==void 0&&t(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Z1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Fw()||bw()||xp()}}const Sk=Tk;var ky="@firebase/auth",Ny="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xk(n){Vo(new Cs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jw(n)},g=new n1(i,o,a,f);return l1(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Vo(new Cs("auth-internal",e=>{const t=sd(e.getProvider("auth").getImmediate());return(i=>new Ik(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(ky,Ny,Ck(n)),ki(ky,Ny,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=300,Ak=gw("authIdTokenMaxAge")||Rk;let by=null;const Pk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Ak)return;const o=t==null?void 0:t.token;by!==o&&(by=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kk(n=ww()){const e=wp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=a1(n,{popupRedirectResolver:Sk,persistence:[O1,T1,qw]}),i=gw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=Pk(a.toString());v1(t,c,()=>c(t.currentUser)),g1(t,h=>c(h))}}const o=pw("auth");return o&&u1(t,`http://${o}`),t}function Nk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}r1({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Qn("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",Nk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xk("Browser");var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,eE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function k(){}k.prototype=C.prototype,P.D=C.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(O,V,U){for(var N=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)N[ye-2]=arguments[ye];return C.prototype[V].apply(O,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,C,k){k||(k=0);var O=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)O[V]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(V=0;16>V;++V)O[V]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=P.g[0],k=P.g[1],V=P.g[2];var U=P.g[3],N=C+(U^k&(V^U))+O[0]+3614090360&4294967295;C=k+(N<<7&4294967295|N>>>25),N=U+(V^C&(k^V))+O[1]+3905402710&4294967295,U=C+(N<<12&4294967295|N>>>20),N=V+(k^U&(C^k))+O[2]+606105819&4294967295,V=U+(N<<17&4294967295|N>>>15),N=k+(C^V&(U^C))+O[3]+3250441966&4294967295,k=V+(N<<22&4294967295|N>>>10),N=C+(U^k&(V^U))+O[4]+4118548399&4294967295,C=k+(N<<7&4294967295|N>>>25),N=U+(V^C&(k^V))+O[5]+1200080426&4294967295,U=C+(N<<12&4294967295|N>>>20),N=V+(k^U&(C^k))+O[6]+2821735955&4294967295,V=U+(N<<17&4294967295|N>>>15),N=k+(C^V&(U^C))+O[7]+4249261313&4294967295,k=V+(N<<22&4294967295|N>>>10),N=C+(U^k&(V^U))+O[8]+1770035416&4294967295,C=k+(N<<7&4294967295|N>>>25),N=U+(V^C&(k^V))+O[9]+2336552879&4294967295,U=C+(N<<12&4294967295|N>>>20),N=V+(k^U&(C^k))+O[10]+4294925233&4294967295,V=U+(N<<17&4294967295|N>>>15),N=k+(C^V&(U^C))+O[11]+2304563134&4294967295,k=V+(N<<22&4294967295|N>>>10),N=C+(U^k&(V^U))+O[12]+1804603682&4294967295,C=k+(N<<7&4294967295|N>>>25),N=U+(V^C&(k^V))+O[13]+4254626195&4294967295,U=C+(N<<12&4294967295|N>>>20),N=V+(k^U&(C^k))+O[14]+2792965006&4294967295,V=U+(N<<17&4294967295|N>>>15),N=k+(C^V&(U^C))+O[15]+1236535329&4294967295,k=V+(N<<22&4294967295|N>>>10),N=C+(V^U&(k^V))+O[1]+4129170786&4294967295,C=k+(N<<5&4294967295|N>>>27),N=U+(k^V&(C^k))+O[6]+3225465664&4294967295,U=C+(N<<9&4294967295|N>>>23),N=V+(C^k&(U^C))+O[11]+643717713&4294967295,V=U+(N<<14&4294967295|N>>>18),N=k+(U^C&(V^U))+O[0]+3921069994&4294967295,k=V+(N<<20&4294967295|N>>>12),N=C+(V^U&(k^V))+O[5]+3593408605&4294967295,C=k+(N<<5&4294967295|N>>>27),N=U+(k^V&(C^k))+O[10]+38016083&4294967295,U=C+(N<<9&4294967295|N>>>23),N=V+(C^k&(U^C))+O[15]+3634488961&4294967295,V=U+(N<<14&4294967295|N>>>18),N=k+(U^C&(V^U))+O[4]+3889429448&4294967295,k=V+(N<<20&4294967295|N>>>12),N=C+(V^U&(k^V))+O[9]+568446438&4294967295,C=k+(N<<5&4294967295|N>>>27),N=U+(k^V&(C^k))+O[14]+3275163606&4294967295,U=C+(N<<9&4294967295|N>>>23),N=V+(C^k&(U^C))+O[3]+4107603335&4294967295,V=U+(N<<14&4294967295|N>>>18),N=k+(U^C&(V^U))+O[8]+1163531501&4294967295,k=V+(N<<20&4294967295|N>>>12),N=C+(V^U&(k^V))+O[13]+2850285829&4294967295,C=k+(N<<5&4294967295|N>>>27),N=U+(k^V&(C^k))+O[2]+4243563512&4294967295,U=C+(N<<9&4294967295|N>>>23),N=V+(C^k&(U^C))+O[7]+1735328473&4294967295,V=U+(N<<14&4294967295|N>>>18),N=k+(U^C&(V^U))+O[12]+2368359562&4294967295,k=V+(N<<20&4294967295|N>>>12),N=C+(k^V^U)+O[5]+4294588738&4294967295,C=k+(N<<4&4294967295|N>>>28),N=U+(C^k^V)+O[8]+2272392833&4294967295,U=C+(N<<11&4294967295|N>>>21),N=V+(U^C^k)+O[11]+1839030562&4294967295,V=U+(N<<16&4294967295|N>>>16),N=k+(V^U^C)+O[14]+4259657740&4294967295,k=V+(N<<23&4294967295|N>>>9),N=C+(k^V^U)+O[1]+2763975236&4294967295,C=k+(N<<4&4294967295|N>>>28),N=U+(C^k^V)+O[4]+1272893353&4294967295,U=C+(N<<11&4294967295|N>>>21),N=V+(U^C^k)+O[7]+4139469664&4294967295,V=U+(N<<16&4294967295|N>>>16),N=k+(V^U^C)+O[10]+3200236656&4294967295,k=V+(N<<23&4294967295|N>>>9),N=C+(k^V^U)+O[13]+681279174&4294967295,C=k+(N<<4&4294967295|N>>>28),N=U+(C^k^V)+O[0]+3936430074&4294967295,U=C+(N<<11&4294967295|N>>>21),N=V+(U^C^k)+O[3]+3572445317&4294967295,V=U+(N<<16&4294967295|N>>>16),N=k+(V^U^C)+O[6]+76029189&4294967295,k=V+(N<<23&4294967295|N>>>9),N=C+(k^V^U)+O[9]+3654602809&4294967295,C=k+(N<<4&4294967295|N>>>28),N=U+(C^k^V)+O[12]+3873151461&4294967295,U=C+(N<<11&4294967295|N>>>21),N=V+(U^C^k)+O[15]+530742520&4294967295,V=U+(N<<16&4294967295|N>>>16),N=k+(V^U^C)+O[2]+3299628645&4294967295,k=V+(N<<23&4294967295|N>>>9),N=C+(V^(k|~U))+O[0]+4096336452&4294967295,C=k+(N<<6&4294967295|N>>>26),N=U+(k^(C|~V))+O[7]+1126891415&4294967295,U=C+(N<<10&4294967295|N>>>22),N=V+(C^(U|~k))+O[14]+2878612391&4294967295,V=U+(N<<15&4294967295|N>>>17),N=k+(U^(V|~C))+O[5]+4237533241&4294967295,k=V+(N<<21&4294967295|N>>>11),N=C+(V^(k|~U))+O[12]+1700485571&4294967295,C=k+(N<<6&4294967295|N>>>26),N=U+(k^(C|~V))+O[3]+2399980690&4294967295,U=C+(N<<10&4294967295|N>>>22),N=V+(C^(U|~k))+O[10]+4293915773&4294967295,V=U+(N<<15&4294967295|N>>>17),N=k+(U^(V|~C))+O[1]+2240044497&4294967295,k=V+(N<<21&4294967295|N>>>11),N=C+(V^(k|~U))+O[8]+1873313359&4294967295,C=k+(N<<6&4294967295|N>>>26),N=U+(k^(C|~V))+O[15]+4264355552&4294967295,U=C+(N<<10&4294967295|N>>>22),N=V+(C^(U|~k))+O[6]+2734768916&4294967295,V=U+(N<<15&4294967295|N>>>17),N=k+(U^(V|~C))+O[13]+1309151649&4294967295,k=V+(N<<21&4294967295|N>>>11),N=C+(V^(k|~U))+O[4]+4149444226&4294967295,C=k+(N<<6&4294967295|N>>>26),N=U+(k^(C|~V))+O[11]+3174756917&4294967295,U=C+(N<<10&4294967295|N>>>22),N=V+(C^(U|~k))+O[2]+718787259&4294967295,V=U+(N<<15&4294967295|N>>>17),N=k+(U^(V|~C))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+U&4294967295}i.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var k=C-this.blockSize,O=this.B,V=this.h,U=0;U<C;){if(V==0)for(;U<=k;)o(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<C;)if(O[V++]=P.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<C;)if(O[V++]=P[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=C},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var k=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=k&255,k/=256;for(this.u(P),P=Array(16),C=k=0;4>C;++C)for(var O=0;32>O;O+=8)P[k++]=this.g[C]>>>O&255;return P};function a(P,C){var k=h;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=C(P)}function c(P,C){this.h=C;for(var k=[],O=!0,V=P.length-1;0<=V;V--){var U=P[V]|0;O&&U==C||(k[V]=U,O=!1)}this.g=k}var h={};function f(P){return-128<=P&&128>P?a(P,function(C){return new c([C|0],0>C?-1:0)}):new c([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return A(g(-P));for(var C=[],k=1,O=0;P>=k;O++)C[O]=P/k|0,k*=4294967296;return new c(C,0)}function y(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return A(y(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=g(Math.pow(C,8)),O=w,V=0;V<P.length;V+=8){var U=Math.min(8,P.length-V),N=parseInt(P.substring(V,V+U),C);8>U?(U=g(Math.pow(C,U)),O=O.j(U).add(g(N))):(O=O.j(k),O=O.add(g(N)))}return O}var w=f(0),T=f(1),R=f(16777216);n=c.prototype,n.m=function(){if(I(this))return-A(this).m();for(var P=0,C=1,k=0;k<this.g.length;k++){var O=this.i(k);P+=(0<=O?O:4294967296+O)*C,C*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M(this))return"0";if(I(this))return"-"+A(this).toString(P);for(var C=g(Math.pow(P,6)),k=this,O="";;){var V=K(k,C).g;k=L(k,V.j(C));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=V,M(k))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function M(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function I(P){return P.h==-1}n.l=function(P){return P=L(this,P),I(P)?-1:M(P)?0:1};function A(P){for(var C=P.g.length,k=[],O=0;O<C;O++)k[O]=~P.g[O];return new c(k,~P.h).add(T)}n.abs=function(){return I(this)?A(this):this},n.add=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],O=0,V=0;V<=C;V++){var U=O+(this.i(V)&65535)+(P.i(V)&65535),N=(U>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);O=N>>>16,U&=65535,N&=65535,k[V]=N<<16|U}return new c(k,k[k.length-1]&-2147483648?-1:0)};function L(P,C){return P.add(A(C))}n.j=function(P){if(M(this)||M(P))return w;if(I(this))return I(P)?A(this).j(A(P)):A(A(this).j(P));if(I(P))return A(this.j(A(P)));if(0>this.l(R)&&0>P.l(R))return g(this.m()*P.m());for(var C=this.g.length+P.g.length,k=[],O=0;O<2*C;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<P.g.length;V++){var U=this.i(O)>>>16,N=this.i(O)&65535,ye=P.i(V)>>>16,Ae=P.i(V)&65535;k[2*O+2*V]+=N*Ae,F(k,2*O+2*V),k[2*O+2*V+1]+=U*Ae,F(k,2*O+2*V+1),k[2*O+2*V+1]+=N*ye,F(k,2*O+2*V+1),k[2*O+2*V+2]+=U*ye,F(k,2*O+2*V+2)}for(O=0;O<C;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=C;O<2*C;O++)k[O]=0;return new c(k,0)};function F(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function B(P,C){this.g=P,this.h=C}function K(P,C){if(M(C))throw Error("division by zero");if(M(P))return new B(w,w);if(I(P))return C=K(A(P),C),new B(A(C.g),A(C.h));if(I(C))return C=K(P,A(C)),new B(A(C.g),C.h);if(30<P.g.length){if(I(P)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var k=T,O=C;0>=O.l(P);)k=J(k),O=J(O);var V=Z(k,1),U=Z(O,1);for(O=Z(O,2),k=Z(k,2);!M(O);){var N=U.add(O);0>=N.l(P)&&(V=V.add(k),U=N),O=Z(O,1),k=Z(k,1)}return C=L(P,V.j(C)),new B(V,C)}for(V=w;0<=P.l(C);){for(k=Math.max(1,Math.floor(P.m()/C.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=g(k),N=U.j(C);I(N)||0<N.l(P);)k-=O,U=g(k),N=U.j(C);M(U)&&(U=T),V=V.add(U),P=L(P,N)}return new B(V,P)}n.A=function(P){return K(this,P).h},n.and=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],O=0;O<C;O++)k[O]=this.i(O)&P.i(O);return new c(k,this.h&P.h)},n.or=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],O=0;O<C;O++)k[O]=this.i(O)|P.i(O);return new c(k,this.h|P.h)},n.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],O=0;O<C;O++)k[O]=this.i(O)^P.i(O);return new c(k,this.h^P.h)};function J(P){for(var C=P.g.length+1,k=[],O=0;O<C;O++)k[O]=P.i(O)<<1|P.i(O-1)>>>31;return new c(k,P.h)}function Z(P,C){var k=C>>5;C%=32;for(var O=P.g.length-k,V=[],U=0;U<O;U++)V[U]=0<C?P.i(U+k)>>>C|P.i(U+k+1)<<32-C:P.i(U+k);return new c(V,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,eE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,_s=c}).apply(typeof Dy<"u"?Dy:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tE,Ya,nE,vc,Uf,rE,iE,sE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var W=u[S];if(!(W in _))break e;_=_[W]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var _=0,S=!1,W={next:function(){if(!S&&_<u.length){var Q=_++;return{value:m(Q,u[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function w(u,m,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,S),u.apply(m,W)}}return function(){return u.apply(m,arguments)}}function T(u,m,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,T.apply(null,arguments)}function R(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function M(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,W,Q){for(var ae=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ae[Ge-2]=arguments[Ge];return m.prototype[W].apply(S,ae)}}function I(u){const m=u.length;if(0<m){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function A(u,m){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const W=u.length||0,Q=S.length||0;u.length=W+Q;for(let ae=0;ae<Q;ae++)u[W+ae]=S[ae]}else u.push(S)}}class L{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function F(u){return/^[\s\xa0]*$/.test(u)}function B(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function K(u){return K[" "](u),u}K[" "]=function(){};var J=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Z(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function P(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function C(u){const m={};for(const _ in u)m[_]=u[_];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(_ in S)u[_]=S[_];for(let Q=0;Q<k.length;Q++)_=k[Q],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){h.setTimeout(()=>{throw u},0)}function N(){var u=le;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,_){const S=Ae.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ae=new L(()=>new we,u=>u.reset());class we{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let de,X=!1,le=new ye,oe=()=>{const u=h.Promise.resolve(void 0);de=()=>{u.then($)}};var $=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(_){U(_)}var m=Ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}X=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ce=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,m),h.removeEventListener("test",_,m)}catch{}return u})();function Pe(u,m){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(J){e:{try{K(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}M(Pe,fe);var Me={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Oe(u,m,_,S,W){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=W,this.key=++_e,this.da=this.fa=!1}function ke(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u){this.src=u,this.g={},this.h=0}Le.prototype.add=function(u,m,_,S,W){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ae=lt(u,m,S,W);return-1<ae?(m=u[ae],_||(m.fa=!1)):(m=new Oe(m,this.src,Q,!!S,W),m.fa=_,u.push(m)),m};function je(u,m){var _=m.type;if(_ in u.g){var S=u.g[_],W=Array.prototype.indexOf.call(S,m,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(S,W,1),Q&&(ke(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function lt(u,m,_,S){for(var W=0;W<u.length;++W){var Q=u[W];if(!Q.da&&Q.listener==m&&Q.capture==!!_&&Q.ha==S)return W}return-1}var It="closure_lm_"+(1e6*Math.random()|0),mn={};function Pn(u,m,_,S,W){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Pn(u,m[Q],_,S,W);return null}return _=ra(_),u&&u[ue]?u.K(m,_,g(S)?!!S.capture:!1,W):kn(u,m,_,!1,S,W)}function kn(u,m,_,S,W,Q){if(!m)throw Error("Invalid event type");var ae=g(W)?!!W.capture:!!W,Ge=Ds(u);if(Ge||(u[It]=Ge=new Le(u)),_=Ge.add(m,_,S,ae,Q),_.proxy)return _;if(S=bs(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)Ce||(W=ae),W===void 0&&(W=!1),u.addEventListener(m.toString(),S,W);else if(u.attachEvent)u.attachEvent(Tr(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function bs(){function u(_){return m.call(u.src,u.listener,_)}const m=na;return u}function Nn(u,m,_,S,W){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Nn(u,m[Q],_,S,W);else S=g(S)?!!S.capture:!!S,_=ra(_),u&&u[ue]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],_=lt(Q,_,S,W),-1<_&&(ke(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ds(u))&&(m=u.g[m.toString()],u=-1,m&&(u=lt(m,_,S,W)),(_=-1<u?m[u]:null)&&Er(_))}function Er(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])je(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(Tr(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Ds(m))?(je(_,u),_.h==0&&(_.src=null,m[It]=null)):ke(u)}}}function Tr(u){return u in mn?mn[u]:mn[u]="on"+u}function na(u,m){if(u.da)u=!0;else{m=new Pe(m,this);var _=u.listener,S=u.ha||u.src;u.fa&&Er(u),u=_.call(S,m)}return u}function Ds(u){return u=u[It],u instanceof Le?u:null}var Os="__closure_events_fn_"+(1e9*Math.random()>>>0);function ra(u){return typeof u=="function"?u:(u[Os]||(u[Os]=function(m){return u.handleEvent(m)}),u[Os])}function vt(){Y.call(this),this.i=new Le(this),this.M=this,this.F=null}M(vt,Y),vt.prototype[ue]=!0,vt.prototype.removeEventListener=function(u,m,_,S){Nn(this,u,m,_,S)};function yt(u,m){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new fe(m,u);else if(m instanceof fe)m.target=m.target||u;else{var W=m;m=new fe(S,u),O(m,W)}if(W=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ae=m.g=_[Q];W=Sr(ae,S,!0,m)&&W}if(ae=m.g=u,W=Sr(ae,S,!0,m)&&W,W=Sr(ae,S,!1,m)&&W,_)for(Q=0;Q<_.length;Q++)ae=m.g=_[Q],W=Sr(ae,S,!1,m)&&W}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],S=0;S<_.length;S++)ke(_[S]);delete u.g[m],u.h--}}this.F=null},vt.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},vt.prototype.L=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function Sr(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,Q=0;Q<m.length;++Q){var ae=m[Q];if(ae&&!ae.da&&ae.capture==_){var Ge=ae.listener,_t=ae.ha||ae.src;ae.fa&&je(u.i,ae),W=Ge.call(_t,S)!==!1&&W}}return W&&!S.defaultPrevented}function ia(u,m,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function Jr(u){u.g=ia(()=>{u.g=null,u.i&&(u.i=!1,Jr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ji extends Y{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(u){Y.call(this),this.h=u,this.g={}}M(Ui,Y);var sa=[];function oa(u){Z(u.g,function(m,_){this.g.hasOwnProperty(_)&&Er(m)},u),u.g={}}Ui.prototype.N=function(){Ui.aa.N.call(this),oa(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var aa=h.JSON.stringify,la=h.JSON.parse,ua=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Bi(){}Bi.prototype.h=null;function Ms(u){return u.h||(u.h=u.i())}function Ls(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){fe.call(this,"d")}M(Zn,fe);function Vs(){fe.call(this,"c")}M(Vs,fe);var er={},ca=null;function zi(){return ca=ca||new vt}er.La="serverreachability";function da(u){fe.call(this,er.La,u)}M(da,fe);function Ir(u){const m=zi();yt(m,new da(m))}er.STAT_EVENT="statevent";function ha(u,m){fe.call(this,er.STAT_EVENT,u),this.stat=m}M(ha,fe);function dt(u){const m=zi();yt(m,new ha(m,u))}er.Ma="timingevent";function Fs(u,m){fe.call(this,er.Ma,u),this.size=m}M(Fs,fe);function bn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function Wi(u,m,_,S,W,Q){u.info(function(){if(u.g)if(Q)for(var ae="",Ge=Q.split("&"),_t=0;_t<Ge.length;_t++){var ze=Ge[_t].split("=");if(1<ze.length){var Ct=ze[0];ze=ze[1];var pt=Ct.split("_");ae=2<=pt.length&&pt[1]=="type"?ae+(Ct+"="+ze+"&"):ae+(Ct+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+m+`
`+_+`
`+ae})}function js(u,m,_,S,W,Q,ae){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+m+`
`+_+`
`+Q+" "+ae})}function Dn(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+yd(u,_)+(S?" "+S:"")})}function fa(u,m){u.info(function(){return"TIMEOUT: "+m})}$i.prototype.info=function(){};function yd(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var W=S[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return aa(_)}catch{return m}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ll={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Hi(){}M(Hi,Bi),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},On=new Hi;function Mn(u,m,_,S){this.j=u,this.i=m,this.l=_,this.R=S||1,this.U=new Ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vl}function Vl(){this.i=null,this.g="",this.h=!1}var pa={},Bs={};function zs(u,m,_){u.L=1,u.v=ri(an(m)),u.m=_,u.P=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Je(u),u.A=an(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),si(_.i,"t",S),u.C=0,_=u.j.J,u.h=new Vl,u.g=tu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ji(T(u.Y,u,u.g),u.O)),m=u.U,_=u.g,S=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(sa[0]=W.toString()),W=sa);for(var Q=0;Q<W.length;Q++){var ae=Pn(_,W[Q],S||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ir(),Wi(u.i,u.u,u.A,u.l,u.R,u.m)}Mn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Jt(u)==3?m.j():this.Y(u)},Mn.prototype.Y=function(u){try{if(u==this.g)e:{const pt=Jt(this.g);var m=this.g.Ba();const _n=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Ea(this.g)))){this.J||pt!=4||m==7||(m==8||0>=_n?Ir(3):Ir(2)),qi(this);var _=this.g.Z();this.X=_;t:if(Fl(this)){var S=Ea(this.g);u="";var W=S.length,Q=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Zr(this);var ae="";break t}this.h.i=new h.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(Q&&m==W-1)});S.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,js(this.i,this.u,this.A,this.l,this.R,pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,_t=this.g;if((Ge=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ge)){var ze=Ge;break t}}ze=null}if(_=ze)Dn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ga(this,_);else{this.o=!1,this.s=3,dt(12),vn(this),Zr(this);break e}}if(this.P){_=!0;let un;for(;!this.J&&this.C<ae.length;)if(un=_d(this,ae),un==Bs){pt==4&&(this.s=4,dt(14),_=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==pa){this.s=4,dt(15),Dn(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else Dn(this.i,this.l,un,null),ga(this,un);if(Fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Dn(this.i,this.l,ae,"[Invalid Chunked Response]"),vn(this),Zr(this);else if(0<ae.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Sa(Ct),Ct.M=!0,dt(11))}}else Dn(this.i,this.l,ae,null),ga(this,ae);pt==4&&vn(this),this.o&&!this.J&&(pt==4?Zs(this.j,this):(this.o=!1,Je(this)))}else Gs(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),vn(this),Zr(this)}}}catch{}finally{}};function Fl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _d(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?Bs:(_=Number(m.substring(_,S)),isNaN(_)?pa:(S+=1,S+_>m.length?Bs:(m=m.slice(S,S+_),u.C=S+_,m)))}Mn.prototype.cancel=function(){this.J=!0,vn(this)};function Je(u){u.S=Date.now()+u.I,jl(u,u.I)}function jl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=bn(T(u.ba,u),m)}function qi(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Mn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(fa(this.i,this.A),this.L!=2&&(Ir(),dt(17)),vn(this),this.s=2,Zr(this)):jl(this,this.S-u)};function Zr(u){u.j.G==0||u.J||Zs(u.j,u)}function vn(u){qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,oa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ga(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Kt(_.h,u))){if(!u.K&&Kt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Js(_),Un(_);else break e;Ys(_),dt(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=bn(T(_.Za,_),6e3));if(1>=Bl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Pr(_,11)}else if((u.K||_.g==u)&&Js(_),!F(m))for(W=_.Da.g.parse(m),m=0;m<W.length;m++){let ze=W[m];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const Ct=ze[3];Ct!=null&&(_.la=Ct,_.j.info("VER="+_.la));const pt=ze[4];pt!=null&&(_.Aa=pt,_.j.info("SVER="+_.Aa));const _n=ze[5];_n!=null&&typeof _n=="number"&&0<_n&&(S=1.5*_n,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const un=u.g;if(un){const Zi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var Q=S.h;Q.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(va(Q,Q.h),Q.h=null))}if(S.D){const to=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(S.ya=to,Xe(S.I,S.D,to))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ae=u;if(S.qa=eu(S,S.J?S.ia:null,S.W),ae.K){zl(S.h,ae);var Ge=ae,_t=S.L;_t&&(Ge.I=_t),Ge.B&&(qi(Ge),Je(Ge)),S.g=ae}else Ji(S);0<_.i.length&&ir(_)}else ze[0]!="stop"&&ze[0]!="close"||Pr(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Pr(_,7):Nt(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}Ir(4)}catch{}}var Ul=class{constructor(u,m){this.g=u,this.map=m}};function Ki(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Bl(u){return u.h?1:u.g?u.g.size:0}function Kt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function va(u,m){u.g?u.g.add(m):u.h=m}function zl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ki.prototype.cancel=function(){if(this.i=$l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $l(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return I(u.i)}function $s(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var m=[],_=u.length,S=0;S<_;S++)m.push(u[S]);return m}m=[],_=0;for(S in u)m[_++]=u[S];return m}function Ws(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const S in u)m[_++]=S;return m}}}function ei(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ws(u),S=$s(u),W=S.length,Q=0;Q<W;Q++)m.call(void 0,S[Q],_&&_[Q],u)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wd(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),W=null;if(0<=S){var Q=u[_].substring(0,S);W=u[_].substring(S+1)}else Q=u[_];m(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Cr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Cr){this.h=u.h,Qi(this,u.j),this.o=u.o,this.g=u.g,ti(this,u.s),this.l=u.l;var m=u.i,_=new tr;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),ni(this,_),this.m=u.m}else u&&(m=String(u).match(Gi))?(this.h=!1,Qi(this,m[1]||"",!0),this.o=Ue(m[2]||""),this.g=Ue(m[3]||"",!0),ti(this,m[4]),this.l=Ue(m[5]||"",!0),ni(this,m[6]||"",!0),this.m=Ue(m[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}Cr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ii(m,Hs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ii(m,Hs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ii(_,_.charAt(0)=="/"?ql:Hl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ii(_,ya)),u.join("")};function an(u){return new Cr(u)}function Qi(u,m,_){u.j=_?Ue(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ti(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ni(u,m,_){m instanceof tr?(u.i=m,nr(u.i,u.h)):(_||(m=ii(m,Kl)),u.i=new tr(m,u.h))}function Xe(u,m,_){u.i.set(m,_)}function ri(u){return Xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ue(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ii(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Wl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Wl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,Hl=/[#\?:]/g,ql=/[#\?]/g,Kl=/[#\?@]/g,ya=/#/g;function tr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function kt(u){u.g||(u.g=new Map,u.h=0,u.i&&wd(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=tr.prototype,n.add=function(u,m){kt(this),this.i=null,u=yn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ln(u,m){kt(u),m=yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vn(u,m){return kt(u),m=yn(u,m),u.g.has(m)}n.forEach=function(u,m){kt(this),this.g.forEach(function(_,S){_.forEach(function(W){u.call(m,W,S,this)},this)},this)},n.na=function(){kt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let S=0;S<m.length;S++){const W=u[S];for(let Q=0;Q<W.length;Q++)_.push(m[S])}return _},n.V=function(u){kt(this);let m=[];if(typeof u=="string")Vn(this,u)&&(m=m.concat(this.g.get(yn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return kt(this),this.i=null,u=yn(this,u),Vn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function si(u,m,_){Ln(u,m),0<_.length&&(u.i=null,u.g.set(yn(u,m),I(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var S=m[_];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var W=Q;ae[S]!==""&&(W+="="+encodeURIComponent(String(ae[S]))),u.push(W)}}return this.i=u.join("&")};function yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function nr(u,m){m&&!u.j&&(kt(u),u.i=null,u.g.forEach(function(_,S){var W=S.toLowerCase();S!=W&&(Ln(this,S),si(this,W,_))},u)),u.j=m}function Ed(u,m){const _=new $i;if(h.Image){const S=new Image;S.onload=R(Yt,_,"TestLoadImage: loaded",!0,m,S),S.onerror=R(Yt,_,"TestLoadImage: error",!1,m,S),S.onabort=R(Yt,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=R(Yt,_,"TestLoadImage: timeout",!1,m,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Gl(u,m){const _=new $i,S=new AbortController,W=setTimeout(()=>{S.abort(),Yt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(Q=>{clearTimeout(W),Q.ok?Yt(_,"TestPingServer: ok",!0,m):Yt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),Yt(_,"TestPingServer: error",!1,m)})}function Yt(u,m,_,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(_)}catch{}}function Td(){this.g=new ua}function Ql(u,m,_){const S=_||"";try{ei(u,function(W,Q){let ae=W;g(W)&&(ae=aa(W)),m.push(S+Q+"="+encodeURIComponent(ae))})}catch(W){throw m.push(S+"type="+encodeURIComponent("_badmap")),W}}function xr(u){this.l=u.Ub||null,this.j=u.eb||!1}M(xr,Bi),xr.prototype.g=function(){return new Xi(this.l,this.j)},xr.prototype.i=(function(u){return function(){return u}})({});function Xi(u,m){vt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Xi,vt),n=Xi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,jn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):jn(this),this.readyState==3&&Xl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},n.Qa=function(u){this.g&&(this.response=u,Fn(this))},n.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rr(u){let m="";return Z(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function oi(u,m,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Rr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Xe(u,m,_))}function nt(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(nt,vt);var Sd=/^https?$/i,_a=["POST","PUT"];n=nt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Ms(this.o):Ms(On),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){Yi(this,Q);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)_.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(_a,m,void 0))||S||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of _)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Yi(this,Q)}};function Yi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,qs(u),ln(u)}function qs(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},n.bb=function(){wa(this)};function wa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Jt(u)!=4||u.Z()!=2)){if(u.u&&Jt(u)==4)ia(u.Ea,0,u);else if(yt(u,"readystatechange"),Jt(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var S;if(S=ae===0){var W=String(u.D).match(Gi)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),S=!Sd.test(W?W.toLowerCase():"")}_=S}if(_)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var Q=2<Jt(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",qs(u)}}finally{ln(u)}}}}function ln(u,m){if(u.g){Ks(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||yt(u,"ready");try{_.onreadystatechange=S}catch{}}}function Ks(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Jt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),la(m)}};function Ea(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(u){const m={};u=(u.g&&2<=Jt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(F(u[S]))continue;var _=V(u[S]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=m[W]||[];m[W]=Q,Q.push(_)}P(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ta(u){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,u),this.cb=rr("retryDelaySeedMs",1e4,u),this.Wa=rr("forwardChannelMaxRetries",2,u),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(u&&u.concurrentRequestLimit),this.Da=new Td,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ta.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,S){dt(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=eu(this,null,this.W),ir(this)};function Nt(u){if(Qs(u),u.G==3){var m=u.U++,_=an(u.I);if(Xe(_,"SID",u.K),Xe(_,"RID",m),Xe(_,"TYPE","terminate"),Ar(u,_),m=new Mn(u,u.j,m),m.L=2,m.v=ri(an(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=m.v,_=!0),_||(m.g=tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Je(m)}Zl(u)}function Un(u){u.g&&(Sa(u),u.g.cancel(),u.g=null)}function Qs(u){Un(u),u.u&&(h.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function ir(u){if(!on(u.h)&&!u.s){u.s=!0;var m=u.Ga;de||oe(),X||(de(),X=!0),le.add(m,u),u.B=0}}function Id(u,m){return Bl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=bn(T(u.Ga,u,m),Jl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new Mn(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=C(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=ai(this,W,m),_=an(this.I),Xe(_,"RID",u),Xe(_,"CVER",22),this.D&&Xe(_,"X-HTTP-Session-Id",this.D),Ar(this,_),Q&&(this.O?m="headers="+encodeURIComponent(String(Rr(Q)))+"&"+m:this.m&&oi(_,this.m,Q)),va(this.h,W),this.Ua&&Xe(_,"TYPE","init"),this.P?(Xe(_,"$req",m),Xe(_,"SID","null"),W.T=!0,zs(W,_,null)):zs(W,_,m),this.G=2}}else this.G==3&&(u?Xs(this,u):this.i.length==0||on(this.h)||Xs(this))};function Xs(u,m){var _;m?_=m.l:_=u.U++;const S=an(u.I);Xe(S,"SID",u.K),Xe(S,"RID",_),Xe(S,"AID",u.T),Ar(u,S),u.m&&u.o&&oi(S,u.m,u.o),_=new Mn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ai(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),va(u.h,_),zs(_,S,m)}function Ar(u,m){u.H&&Z(u.H,function(_,S){Xe(m,S,_)}),u.l&&ei({},function(_,S){Xe(m,S,_)})}function ai(u,m,_){_=Math.min(u.i.length,_);var S=u.l?T(u.l.Na,u.l,u):null;e:{var W=u.i;let Q=-1;for(;;){const ae=["count="+_];Q==-1?0<_?(Q=W[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ge=!0;for(let _t=0;_t<_;_t++){let ze=W[_t].g;const Ct=W[_t].map;if(ze-=Q,0>ze)Q=Math.max(0,W[_t].g-100),Ge=!1;else try{Ql(Ct,ae,"req"+ze+"_")}catch{S&&S(Ct)}}if(Ge){S=ae.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,S}function Ji(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;de||oe(),X||(de(),X=!0),le.add(m,u),u.v=0}}function Ys(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=bn(T(u.Fa,u),Jl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Yl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=bn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Un(this),Yl(this))};function Sa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Yl(u){u.g=new Mn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Xe(m,"RID","rpc"),Xe(m,"SID",u.K),Xe(m,"AID",u.T),Xe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xe(m,"TO",u.ja),Xe(m,"TYPE","xmlhttp"),Ar(u,m),u.m&&u.o&&oi(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ri(an(m)),_.m=null,_.P=!0,ma(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Un(this),Ys(this),dt(19))};function Js(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Zs(u,m){var _=null;if(u.g==m){Js(u),Sa(u),u.g=null;var S=2}else if(Kt(u.h,m))_=m.D,zl(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var W=u.B;S=zi(),yt(S,new Fs(S,_)),ir(u)}else Ji(u);else if(W=m.s,W==3||W==0&&0<m.X||!(S==1&&Id(u,m)||S==2&&Ys(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),W){case 1:Pr(u,5);break;case 4:Pr(u,10);break;case 3:Pr(u,6);break;default:Pr(u,2)}}}function Jl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Pr(u,m){if(u.j.info("Error code "+m),m==2){var _=T(u.fb,u),S=u.Xa;const W=!S;S=new Cr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Qi(S,"https"),ri(S),W?Ed(S.toString(),_):Gl(S.toString(),_)}else dt(2);u.G=0,u.l&&u.l.sa(m),Zl(u),Qs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Zl(u){if(u.G=0,u.ka=[],u.l){const m=$l(u.h);(m.length!=0||u.i.length!=0)&&(A(u.ka,m),A(u.ka,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.ra()}}function eu(u,m,_){var S=_ instanceof Cr?an(_):new Cr(_);if(S.g!="")m&&(S.g=m+"."+S.g),ti(S,S.s);else{var W=h.location;S=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var Q=new Cr(null);S&&Qi(Q,S),m&&(Q.g=m),W&&ti(Q,W),_&&(Q.l=_),S=Q}return _=u.D,m=u.ya,_&&m&&Xe(S,_,m),Xe(S,"VER",u.la),Ar(u,S),S}function tu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new nt(new xr({eb:_})):new nt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ia(){}n=Ia.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eo(){}eo.prototype.g=function(u,m){return new Gt(u,m)};function Gt(u,m){vt.call(this),this.g=new Ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!F(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!F(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new sr(this)}M(Gt,vt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Nt(this.g)},Gt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=aa(u),u=_);m.i.push(new Ul(m.Ya++,u)),m.G==3&&ir(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Gt.aa.N.call(this)};function nu(u){Zn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}M(nu,Zn);function ru(){Vs.call(this),this.status=1}M(ru,Vs);function sr(u){this.g=u}M(sr,Ia),sr.prototype.ua=function(){yt(this.g,"a")},sr.prototype.ta=function(u){yt(this.g,new nu(u))},sr.prototype.sa=function(u){yt(this.g,new ru)},sr.prototype.ra=function(){yt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,sE=function(){return new eo},iE=function(){return zi()},rE=er,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,vc=Us,Ll.COMPLETE="complete",nE=Ll,Ls.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ya=Ls,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,tE=nt}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const Oy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new yp("@firebase/firestore");function Qa(){return Rs.logLevel}function ge(n,...e){if(Rs.logLevel<=Be.DEBUG){const t=e.map(Np);Rs.debug(`Firestore (${Jo}): ${n}`,...t)}}function Qr(n,...e){if(Rs.logLevel<=Be.ERROR){const t=e.map(Np);Rs.error(`Firestore (${Jo}): ${n}`,...t)}}function jo(n,...e){if(Rs.logLevel<=Be.WARN){const t=e.map(Np);Rs.warn(`Firestore (${Jo}): ${n}`,...t)}}function Np(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function Qe(n,e){n||Ne()}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($t.UNAUTHENTICATED)))}shutdown(){}}class Dk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ok{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ni,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ni)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string"),new oE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new $t(e)}}class Mk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Lk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Mk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const i=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new Vk(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=jk(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function qe(n,e){return n<e?-1:n>e?1:0}function Uo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new St(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new St(0,0))}static max(){return new be(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ne(),i===void 0?i=e.length-t:i>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return dl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ct extends dl{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const Uk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends dl{construct(e,t,i){return new Mt(e,t,i)}static isValidIdentifier(e){return Uk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Se(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Se(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new Se(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(ct.fromString(e))}static fromName(e){return new Ie(ct.fromString(e).popFirst(5))}static empty(){return new Ie(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new ct(e.slice()))}}function Bk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=be.fromTimestamp(i===1e9?new St(t+1,0):new St(t,i));return new Oi(o,Ie.empty(),e)}function zk(n){return new Oi(n.readTime,n.key,-1)}class Oi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Oi(be.min(),Ie.empty(),-1)}static max(){return new Oi(be.max(),Ie.empty(),-1)}}function $k(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==Wk)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,i)=>{t(e)}))}static reject(e){return new ne(((t,i)=>{i(e)}))}static waitFor(e){return new ne(((t,i)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&t()}),(f=>i(f)))})),c=!0,a===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next((o=>o?ne.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,a)=>{i.push(t.call(this,o,a))})),this.waitFor(i)}static mapArray(e,t){return new ne(((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const g=f;t(e[g]).next((y=>{c[g]=y,++h,h===a&&i(c)}),(y=>o(y)))}}))}static doWhile(e,t){return new ne(((i,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):i()};a()}))}}function qk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bp.oe=-1;function ld(n){return n==null}function Lc(n){return n===0&&1/n==-1/0}function Kk(n){return typeof n=="number"&&Number.isInteger(n)&&!Lc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}}class oc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=a??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Ot(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Lt(Mt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uE("Invalid base64 string: "+a):a}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const Gk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=Gk.exec(n);if(Qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function As(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Op(n){const e=n.mapValue.fields.__previous_value__;return Dp(e)?Op(e):e}function hl(n){const e=Mi(n.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,t,i,o,a,c,h,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g}}class fl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac={mapValue:{}};function Ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dp(n)?4:Yk(n)?9007199254740991:Xk(n)?10:11:Ne()}function yr(n,e){if(n===e)return!0;const t=Ps(n);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hl(n).isEqual(hl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Mi(o.timestampValue),h=Mi(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return As(o.bytesValue).isEqual(As(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return ft(o.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return ft(o.integerValue)===ft(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=ft(o.doubleValue),h=ft(a.doubleValue);return c===h?Lc(c)===Lc(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return Uo(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(My(c)!==My(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!yr(c[f],h[f])))return!1;return!0})(n,e);default:return Ne()}}function pl(n,e){return(n.values||[]).find((t=>yr(t,e)))!==void 0}function Bo(n,e){if(n===e)return 0;const t=Ps(n),i=Ps(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=ft(a.integerValue||a.doubleValue),f=ft(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return Vy(n.timestampValue,e.timestampValue);case 4:return Vy(hl(n),hl(e));case 5:return qe(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=As(a),f=As(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=qe(h[g],f[g]);if(y!==0)return y}return qe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=qe(ft(a.latitude),ft(c.latitude));return h!==0?h:qe(ft(a.longitude),ft(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Fy(n.arrayValue,e.arrayValue);case 10:return(function(a,c){var h,f,g,y;const w=a.fields||{},T=c.fields||{},R=(h=w.value)===null||h===void 0?void 0:h.arrayValue,M=(f=T.value)===null||f===void 0?void 0:f.arrayValue,I=qe(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0);return I!==0?I:Fy(R,M)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===ac.mapValue&&c===ac.mapValue)return 0;if(a===ac.mapValue)return 1;if(c===ac.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),g=c.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const T=qe(f[w],y[w]);if(T!==0)return T;const R=Bo(h[f[w]],g[y[w]]);if(R!==0)return R}return qe(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Ne()}}function Vy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Mi(n),i=Mi(e),o=qe(t.seconds,i.seconds);return o!==0?o:qe(t.nanos,i.nanos)}function Fy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Bo(t[o],i[o]);if(a)return a}return qe(t.length,i.length)}function zo(n){return Bf(n)}function Bf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Mi(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return As(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Bf(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Bf(t.fields[c])}`;return o+"}"})(n.mapValue):Ne()}function zf(n){return!!n&&"integerValue"in n}function Mp(n){return!!n&&"arrayValue"in n}function jy(n){return!!n&&"nullValue"in n}function Uy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yc(n){return!!n&&"mapValue"in n}function Xk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zo(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=tl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Yk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=Mt.emptyPath(),i={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=tl(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Zo(t,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new xn(tl(this.value))}}function cE(n){const e=[];return Zo(n.fields,((t,i)=>{const o=new Mt([t]);if(yc(i)){const a=cE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),xn.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,be.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,be.min(),be.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,be.min(),be.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t){this.position=e,this.inclusive=t}}function By(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),t.key):i=Bo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function zy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{}class Tt extends dE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new eN(e,t,i):t==="array-contains"?new rN(e,i):t==="in"?new iN(e,i):t==="not-in"?new sN(e,i):t==="array-contains-any"?new oN(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new tN(e,i):new nN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bo(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends dE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _r(e,t)}matches(e){return hE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hE(n){return n.op==="and"}function fE(n){return Zk(n)&&hE(n)}function Zk(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function $f(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+zo(n.value);if(fE(n))return n.filters.map((e=>$f(e))).join(",");{const e=n.filters.map((t=>$f(t))).join(",");return`${n.op}(${e})`}}function pE(n,e){return n instanceof Tt?(function(i,o){return o instanceof Tt&&i.op===o.op&&i.field.isEqual(o.field)&&yr(i.value,o.value)})(n,e):n instanceof _r?(function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,c,h)=>a&&pE(c,o.filters[h])),!0):!1})(n,e):void Ne()}function mE(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${zo(t.value)}`})(n):n instanceof _r?(function(t){return t.op.toString()+" {"+t.getFilters().map(mE).join(" ,")+"}"})(n):"Filter"}class eN extends Tt{constructor(e,t,i){super(e,t,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class tN extends Tt{constructor(e,t){super(e,"in",t),this.keys=gE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class nN extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=gE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>Ie.fromName(i.referenceValue)))}class rN extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mp(t)&&pl(t.arrayValue,this.value)}}class iN extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pl(this.value.arrayValue,t)}}class sN extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!pl(this.value.arrayValue,t)}}class oN extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>pl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function $y(n,e=null,t=[],i=[],o=null,a=null,c=null){return new aN(n,e,t,i,o,a,c)}function Lp(n){const e=De(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>$f(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>zo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>zo(i))).join(",")),e.ue=t}return e.ue}function Vp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Jk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zy(n.startAt,e.startAt)&&zy(n.endAt,e.endAt)}function Wf(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lN(n,e,t,i,o,a,c,h){return new ud(n,e,t,i,o,a,c,h)}function Fp(n){return new ud(n)}function Wy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uN(n){return n.collectionGroup!==null}function nl(n){const e=De(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Lt(Mt.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Fc(a,i))})),t.has(Mt.keyField().canonicalString())||e.ce.push(new Fc(Mt.keyField(),i))}return e.ce}function pr(n){const e=De(n);return e.le||(e.le=cN(e,nl(n))),e.le}function cN(n,e){if(n.limitType==="F")return $y(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Fc(o.field,a)}));const t=n.endAt?new Vc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vc(n.startAt.position,n.startAt.inclusive):null;return $y(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Hf(n,e,t){return new ud(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cd(n,e){return Vp(pr(n),pr(e))&&n.limitType===e.limitType}function vE(n){return`${Lp(pr(n))}|lt:${n.limitType}`}function xo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>mE(o))).join(", ")}]`),ld(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>zo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>zo(o))).join(",")),`Target(${i})`})(pr(n))}; limitType=${n.limitType})`}function dd(n,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ie.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,o){for(const a of nl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,h,f){const g=By(c,h,f);return c.inclusive?g<=0:g<0})(i.startAt,nl(i),o)||i.endAt&&!(function(c,h,f){const g=By(c,h,f);return c.inclusive?g>=0:g>0})(i.endAt,nl(i),o))})(n,e)}function dN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yE(n){return(e,t)=>{let i=!1;for(const o of nl(n)){const a=hN(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function hN(n,e,t){const i=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(a,c,h){const f=c.data.field(a),g=h.data.field(a);return f!==null&&g!==null?Bo(f,g):Ne()})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,((t,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new at(Ie.comparator);function Xr(){return fN}const _E=new at(Ie.comparator);function Ja(...n){let e=_E;for(const t of n)e=e.insert(t.key,t);return e}function wE(n){let e=_E;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function gs(){return rl()}function EE(){return rl()}function rl(){return new ea((n=>n.toString()),((n,e)=>n.isEqual(e)))}const pN=new at(Ie.comparator),mN=new Lt(Ie.comparator);function Fe(...n){let e=mN;for(const t of n)e=e.add(t);return e}const gN=new Lt(qe);function vN(){return gN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(e)?"-0":e}}function TE(n){return{integerValue:""+n}}function yN(n,e){return Kk(e)?TE(e):jp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function _N(n,e,t){return n instanceof ml?(function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Dp(a)&&(a=Op(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}})(t,e):n instanceof gl?IE(n,e):n instanceof vl?CE(n,e):(function(o,a){const c=SE(o,a),h=Hy(c)+Hy(o.Pe);return zf(c)&&zf(o.Pe)?TE(h):jp(o.serializer,h)})(n,e)}function wN(n,e,t){return n instanceof gl?IE(n,e):n instanceof vl?CE(n,e):t}function SE(n,e){return n instanceof jc?(function(i){return zf(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class ml extends hd{}class gl extends hd{constructor(e){super(),this.elements=e}}function IE(n,e){const t=xE(e);for(const i of n.elements)t.some((o=>yr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class vl extends hd{constructor(e){super(),this.elements=e}}function CE(n,e){let t=xE(e);for(const i of n.elements)t=t.filter((o=>!yr(o,i)));return{arrayValue:{values:t}}}class jc extends hd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Hy(n){return ft(n.integerValue||n.doubleValue)}function xE(n){return Mp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t){this.field=e,this.transform=t}}function TN(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof gl&&o instanceof gl||i instanceof vl&&o instanceof vl?Uo(i.elements,o.elements,yr):i instanceof jc&&o instanceof jc?yr(i.Pe,o.Pe):i instanceof ml&&o instanceof ml})(n.transform,e.transform)}class SN{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fd{}function RE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new PE(n.key,Wr.none()):new bl(n.key,n.data,Wr.none());{const t=n.data,i=xn.empty();let o=new Lt(Mt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new ks(n.key,i,new Gn(o.toArray()),Wr.none())}}function IN(n,e,t){n instanceof bl?(function(o,a,c){const h=o.value.clone(),f=Ky(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ks?(function(o,a,c){if(!_c(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=Ky(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(AE(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function il(n,e,t,i){return n instanceof bl?(function(a,c,h,f){if(!_c(a.precondition,c))return h;const g=a.value.clone(),y=Gy(a.fieldTransforms,f,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,i):n instanceof ks?(function(a,c,h,f){if(!_c(a.precondition,c))return h;const g=Gy(a.fieldTransforms,f,c),y=c.data;return y.setAll(AE(a)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,i):(function(a,c,h){return _c(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function CN(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=SE(i.transform,o||null);a!=null&&(t===null&&(t=xn.empty()),t.set(i.field,a))}return t||null}function qy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Uo(i,o,((a,c)=>TN(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bl extends fd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends fd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function AE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Ky(n,e,t){const i=new Map;Qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,wN(c,h,t[o]))}return i}function Gy(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,_N(a,c,e))}return i}class PE extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xN extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&IN(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=il(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=il(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=EE();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const f=RE(c,h);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(be.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,((t,i)=>qy(t,i)))&&Uo(this.baseMutations,e.baseMutations,((t,i)=>qy(t,i)))}}class Up{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Qe(e.mutations.length===i.length);let o=(function(){return pN})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Up(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,$e;function kN(n){switch(n){default:return Ne();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function kE(n){if(n===void 0)return Qr("GRPC error has no .code"),ie.UNKNOWN;switch(n){case gt.OK:return ie.OK;case gt.CANCELLED:return ie.CANCELLED;case gt.UNKNOWN:return ie.UNKNOWN;case gt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case gt.INTERNAL:return ie.INTERNAL;case gt.UNAVAILABLE:return ie.UNAVAILABLE;case gt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case gt.NOT_FOUND:return ie.NOT_FOUND;case gt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case gt.ABORTED:return ie.ABORTED;case gt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case gt.DATA_LOSS:return ie.DATA_LOSS;default:return Ne()}}($e=gt||(gt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new _s([4294967295,4294967295],0);function Qy(n){const e=NN().encode(n),t=new eE;return t.update(e),new Uint8Array(t.digest())}function Xy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _s([t,i],0),new _s([o,a],0)]}class Bp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Za(`Invalid padding: ${t}`);if(i<0)throw new Za(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Za(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Za(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=_s.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(_s.fromNumber(i)));return o.compare(bN)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Qy(e),[i,o]=Xy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Bp(a,o,t);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const t=Qy(e),[i,o]=Xy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new pd(be.min(),o,new at(qe),Xr(),Fe())}}class Dl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Dl(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class NE{constructor(e,t){this.targetId=e,this.me=t}}class bE{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Yy{constructor(){this.fe=0,this.ge=Zy(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),t=Fe(),i=Fe();return this.ge.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ne()}})),new Dl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Zy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class DN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xr(),this.qe=Jy(),this.Qe=new at(qe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Ne()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const a=o.target;if(Wf(a))if(i===0){const c=new Ie(a.path);this.Ue(t,c,Wt.newNoDocument(c,be.min()))}else Qe(i===1);else{const c=this.Ye(t);if(c!==i){const h=this.Ze(e),f=h?this.Xe(h,e,c):1;if(f!==0){this.je(t);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,g)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=As(i).toUint8Array()}catch(f){if(f instanceof uE)return jo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Bp(c,o,a)}catch(f){return jo(f instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((a=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,a,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((a,c)=>{const h=this.Je(c);if(h){if(a.current&&Wf(h.target)){const f=new Ie(h.target.path);this.ke.get(f)!==null||this.it(c,f)||this.Ue(c,f,Wt.newNoDocument(f,e))}a.be&&(t.set(c,a.ve()),a.Ce())}}));let i=Fe();this.qe.forEach(((a,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.Je(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.ke.forEach(((a,c)=>c.setReadTime(e)));const o=new pd(e,t,this.Qe,this.ke,i);return this.ke=Xr(),this.qe=Jy(),this.Qe=new at(qe),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Yy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Lt(qe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yy),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Jy(){return new at(Ie.comparator)}function Zy(){return new at(Ie.comparator)}const ON={asc:"ASCENDING",desc:"DESCENDING"},MN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LN={and:"AND",or:"OR"};class VN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qf(n,e){return n.useProto3Json||ld(e)?e:{value:e}}function Uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FN(n,e){return Uc(n,e.toTimestamp())}function mr(n){return Qe(!!n),be.fromTimestamp((function(t){const i=Mi(t);return new St(i.seconds,i.nanos)})(n))}function zp(n,e){return Kf(n,e).canonicalString()}function Kf(n,e){const t=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function OE(n){const e=ct.fromString(n);return Qe(jE(e)),e}function Gf(n,e){return zp(n.databaseId,e.path)}function pf(n,e){const t=OE(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(LE(t))}function ME(n,e){return zp(n.databaseId,e)}function jN(n){const e=OE(n);return e.length===4?ct.emptyPath():LE(e)}function Qf(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LE(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function e_(n,e,t){return{name:Gf(n,e),fields:t.value.mapValue.fields}}function UN(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(g,y){return g.useProto3Json?(Qe(y===void 0||typeof y=="string"),Vt.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Vt.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const y=g.code===void 0?ie.UNKNOWN:kE(g.code);return new Se(y,g.message||"")})(c);t=new bE(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=pf(n,i.document.name),a=mr(i.document.updateTime),c=i.document.createTime?mr(i.document.createTime):be.min(),h=new xn({mapValue:{fields:i.document.fields}}),f=Wt.newFoundDocument(o,a,c,h),g=i.targetIds||[],y=i.removedTargetIds||[];t=new wc(g,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=pf(n,i.document),a=i.readTime?mr(i.readTime):be.min(),c=Wt.newNoDocument(o,a),h=i.removedTargetIds||[];t=new wc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=pf(n,i.document),a=i.removedTargetIds||[];t=new wc([],a,o,null)}else{if(!("filter"in e))return Ne();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new PN(o,a),h=i.targetId;t=new NE(h,c)}}return t}function BN(n,e){let t;if(e instanceof bl)t={update:e_(n,e.key,e.value)};else if(e instanceof PE)t={delete:Gf(n,e.key)};else if(e instanceof ks)t={update:e_(n,e.key,e.data),updateMask:XN(e.fieldMask)};else{if(!(e instanceof xN))return Ne();t={verify:Gf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,c){const h=c.transform;if(h instanceof ml)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof gl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof jc)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Ne()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:FN(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne()})(n,e.precondition)),t}function zN(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map((t=>(function(o,a){let c=o.updateTime?mr(o.updateTime):mr(a);return c.isEqual(be.min())&&(c=mr(a)),new SN(c,o.transformResults||[])})(t,e)))):[]}function $N(n,e){return{documents:[ME(n,e.path)]}}function WN(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ME(n,o);const a=(function(g){if(g.length!==0)return FE(_r.create(g,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(g){if(g.length!==0)return g.map((y=>(function(T){return{field:Ro(T.field),direction:KN(T.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=qf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{_t:t,parent:o}}function HN(n){let e=jN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Qe(i===1);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=(function(w){const T=VE(w);return T instanceof _r&&fE(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((T=>(function(M){return new Fc(Ao(M.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(w){let T;return T=typeof w=="object"?w.value:w,ld(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(w){const T=!!w.before,R=w.values||[];return new Vc(R,T)})(t.startAt));let g=null;return t.endAt&&(g=(function(w){const T=!w.before,R=w.values||[];return new Vc(R,T)})(t.endAt)),lN(e,o,c,a,h,"F",f,g)}function qN(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ao(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ao(t.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ao(t.unaryFilter.field);return Tt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(Ao(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return _r.create(t.compositeFilter.filters.map((i=>VE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne()}})(t.compositeFilter.op))})(n):Ne()}function KN(n){return ON[n]}function GN(n){return MN[n]}function QN(n){return LN[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function Ao(n){return Mt.fromServerFormat(n.fieldPath)}function FE(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(Uy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(jy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Uy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(jy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:GN(t.op),value:t.value}}})(n):n instanceof _r?(function(t){const i=t.getFilters().map((o=>FE(o)));return i.length===1?i[0]:{compositeFilter:{op:QN(t.op),filters:i}}})(n):Ne()}function XN(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function jE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t,i,o,a=be.min(),c=be.min(),h=Vt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.ct=e}}function JN(n){const e=HN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.un=new e2}addToCollectionParentIndex(e,t){return this.un.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Oi.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class e2{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Lt(ct.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Lt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $o(0)}static kn(){return new $o(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.changes=new ea((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&il(i.mutation,o,Gn.empty(),St.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Fe()){const o=gs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((a=>{let c=Ja();return a.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=gs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Fe())))}populateOverlays(e,t,i){const o=[];return i.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,i,o){let a=Xr();const c=rl(),h=(function(){return rl()})();return t.forEach(((f,g)=>{const y=i.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof ks)?a=a.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),il(y.mutation,g,y.mutation.getFieldMask(),St.now())):c.set(g.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((g,y)=>c.set(g,y))),t.forEach(((g,y)=>{var w;return h.set(g,new n2(y,(w=c.get(g))!==null&&w!==void 0?w:null))})),h)))}recalculateAndSaveOverlays(e,t){const i=rl();let o=new at(((c,h)=>c-h)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=t.get(f);if(g===null)return;let y=i.get(f)||Gn.empty();y=h.applyToLocalView(g,y),i.set(f,y);const w=(o.get(h.batchId)||Fe()).add(f);o=o.insert(h.batchId,w)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,w=EE();y.forEach((T=>{if(!a.has(T)){const R=RE(t.get(T),i.get(T));R!==null&&w.set(T,R),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ne.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ne.resolve(gs());let h=-1,f=a;return c.next((g=>ne.forEach(g,((y,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{f=f.insert(y,T)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,f,g,Fe()))).next((y=>({batchId:h,changes:wE(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((i=>{let o=Ja();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Ja();return this.indexManager.getCollectionParents(e,a).next((h=>ne.forEach(h,(f=>{const g=(function(w,T){return new ud(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,i,o).next((y=>{y.forEach(((w,T)=>{c=c.insert(w,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o)))).next((c=>{a.forEach(((f,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Wt.newInvalidDocument(y)))}));let h=Ja();return c.forEach(((f,g)=>{const y=a.get(f);y!==void 0&&il(y.mutation,g,Gn.empty(),St.now()),dd(t,g)&&(h=h.insert(f,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ne.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:JN(o.bundledQuery),readTime:mr(o.readTime)}})(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.overlays=new at(Ie.comparator),this.Ir=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=gs();return ne.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,a)=>{this.ht(e,t,a)})),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=gs(),a=t.length+1,c=new Ie(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new at(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let y=a.get(g.largestBatchId);y===null&&(y=gs(),a=a.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=gs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,y)=>h.set(g,y))),!(h.size()>=o)););return ne.resolve(h)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new AN(t,i));let a=this.Ir.get(t);a===void 0&&(a=Fe(),this.Ir.set(t,a)),this.Ir.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(){this.Tr=new Lt(Pt.Er),this.dr=new Lt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new Ie(new ct([])),i=new Pt(t,e),o=new Pt(t,e+1),a=[];return this.dr.forEachInRange([i,o],(c=>{this.Vr(c),a.push(c.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ie(new ct([])),i=new Pt(t,e),o=new Pt(t,e+1);let a=Fe();return this.dr.forEachInRange([i,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Pt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ie.comparator(e.key,t.key)||qe(e.wr,t.wr)}static Ar(e,t){return qe(e.wr,t.wr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Lt(Pt.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new RN(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.br=this.br.add(new Pt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],(c=>{const h=this.Dr(c.wr);a.push(h)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(qe);return t.forEach((o=>{const a=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],(h=>{i=i.add(h.wr)}))})),ne.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ie.isDocumentKey(a)||(a=a.child(""));const c=new Pt(new Ie(a),0);let h=new Lt(qe);return this.br.forEachWhile((f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===o&&(h=h.add(f.wr)),!0)}),c),ne.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ne.forEach(t.mutations,(o=>{const a=new Pt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new Pt(t,0),o=this.br.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.Mr=e,this.docs=(function(){return new at(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Xr();return t.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Wt.newInvalidDocument(o))})),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Xr();const c=t.path,h=new Ie(c.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||$k(zk(y),i)<=0||(o.has(y.key)||dd(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ne()}Or(e,t){return ne.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new u2(this)}getSize(e){return ne.resolve(this.size)}}class u2 extends t2{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),ne.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.persistence=e,this.Nr=new ea((t=>Lp(t)),Vp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $p,this.targetCount=0,this.kr=$o.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new $o(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Kn(t),ne.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ne.waitFor(a).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t){this.qr={},this.overlays={},this.Qr=new bp(0),this.Kr=!1,this.Kr=!0,this.$r=new o2,this.referenceDelegate=e(this),this.Ur=new c2(this),this.indexManager=new ZN,this.remoteDocumentCache=(function(o){return new l2(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new YN(t),this.Gr=new i2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new s2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new a2(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const o=new h2(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((a=>this.referenceDelegate.jr(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Hr(e,t){return ne.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class h2 extends Hk{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Jr=new $p,this.Yr=null}static Zr(e){return new Wp(e)}get Xr(){if(this.Yr)return this.Yr;throw Ne()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.Xr.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,(i=>{const o=Ie.fromPath(i);return this.ei(e,o).next((a=>{a||t.removeEntry(o,be.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return ne.or([()=>ne.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Fe(),o=Fe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Hp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return fA()?8:qk(qt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Yi(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.Zi(e,t,o,i).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new f2;return this.Xi(e,t,c).next((h=>{if(a.result=h,this.zi)return this.es(e,t,c,h.size)}))})).next((()=>a.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(Qa()<=Be.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(Qa()<=Be.DEBUG&&ge("QueryEngine","Query:",xo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(Qa()<=Be.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):ne.resolve())}Yi(e,t){if(Wy(t))return ne.resolve(null);let i=pr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Hf(t,null,"F"),i=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const c=Fe(...a);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const g=this.ts(t,h);return this.ns(t,g,c,f.readTime)?this.Yi(e,Hf(t,null,"F")):this.rs(e,g,t,f)}))))})))))}Zi(e,t,i,o){return Wy(t)||o.isEqual(be.min())?ne.resolve(null):this.Ji.getDocuments(e,i).next((a=>{const c=this.ts(t,a);return this.ns(t,c,i,o)?ne.resolve(null):(Qa()<=Be.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(t)),this.rs(e,c,t,Bk(o,-1)).next((h=>h)))}))}ts(e,t){let i=new Lt(yE(e));return t.forEach(((o,a)=>{dd(e,a)&&(i=i.add(a))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,i){return Qa()<=Be.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",xo(t)),this.Ji.getDocumentsMatchingQuery(e,t,Oi.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new at(qe),this._s=new ea((a=>Lp(a)),Vp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function g2(n,e,t,i){return new m2(n,e,t,i)}async function UE(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const c=[],h=[];let f=Fe();for(const g of o){c.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of a){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(i,f).next((g=>({hs:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function v2(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,y){const w=g.batch,T=w.keys();let R=ne.resolve();return T.forEach((M=>{R=R.next((()=>y.getEntry(f,M))).next((I=>{const A=g.docVersions.get(M);Qe(A!==null),I.version.compareTo(A)<0&&(w.applyToRemoteDocument(I,g),I.isValidDocument()&&(I.setReadTime(g.commitVersion),y.addEntry(I)))}))})),R.next((()=>h.mutationQueue.removeMutationBatch(f,w)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Fe();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function BE(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function y2(n,e){const t=De(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach(((y,w)=>{const T=o.get(w);if(!T)return;h.push(t.Ur.removeMatchingKeys(a,y.removedDocuments,w).next((()=>t.Ur.addMatchingKeys(a,y.addedDocuments,w))));let R=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?R=R.withResumeToken(Vt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,i)),o=o.insert(w,R),(function(I,A,L){return I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(T,R,y)&&h.push(t.Ur.updateTargetData(a,R))}));let f=Xr(),g=Fe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))})),h.push(_2(a,c,e.documentUpdates).next((y=>{f=y.Ps,g=y.Is}))),!i.isEqual(be.min())){const y=t.Ur.getLastRemoteSnapshotVersion(a).next((w=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(y)}return ne.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,g))).next((()=>f))})).then((a=>(t.os=o,a)))}function _2(n,e,t){let i=Fe(),o=Fe();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let c=Xr();return t.forEach(((h,f)=>{const g=a.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(be.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{Ps:c,Is:o}}))}function w2(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function E2(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((a=>a?(o=a,ne.resolve(o)):t.Ur.allocateTargetId(i).next((c=>(o=new Ri(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function Xf(n,e,t){const i=De(n),o=i.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Nl(c))throw c;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function t_(n,e,t){const i=De(n);let o=be.min(),a=Fe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,y){const w=De(f),T=w._s.get(y);return T!==void 0?ne.resolve(w.os.get(T)):w.Ur.getTargetData(g,y)})(i,c,pr(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,h.targetId).next((f=>{a=f}))})).next((()=>i.ss.getDocumentsMatchingQuery(c,e,t?o:be.min(),t?a:Fe()))).next((h=>(T2(i,dN(e),h),{documents:h,Ts:a})))))}function T2(n,e,t){let i=n.us.get(e)||be.min();t.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.us.set(e,i)}class n_{constructor(){this.activeTargetIds=vN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S2{constructor(){this.so=new n_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new n_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc=null;function mf(){return lc===null?lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():lc++,"0x"+lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class R2 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,i,o,a,c){const h=mf(),f=this.xo(t,i.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,a,c),this.No(t,f,g,o).then((y=>(ge("RestConnection",`Received RPC '${t}' ${h}: `,y),y)),(y=>{throw jo("RestConnection",`RPC '${t}' ${h} failed with error: `,y,"url: ",f,"request:",o),y}))}Lo(t,i,o,a,c,h){return this.Mo(t,i,o,a,c)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((a,c)=>t[c]=a)),o&&o.headers.forEach(((a,c)=>t[c]=a))}xo(t,i){const o=C2[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const a=mf();return new Promise(((c,h)=>{const f=new tE;f.setWithCredentials(!0),f.listenOnce(nE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case vc.NO_ERROR:const y=f.getResponseJson();ge(zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),c(y);break;case vc.TIMEOUT:ge(zt,`RPC '${e}' ${a} timed out`),h(new Se(ie.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const w=f.getStatus();if(ge(zt,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const M=(function(A){const L=A.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(L)>=0?L:ie.UNKNOWN})(R.status);h(new Se(M,R.message))}else h(new Se(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Se(ie.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ge(zt,`RPC '${e}' ${a} completed.`)}}));const g=JSON.stringify(o);ge(zt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",g,i,15)}))}Bo(e,t,i){const o=mf(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sE(),h=iE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const y=a.join("");ge(zt,`Creating RPC '${e}' stream ${o}: ${y}`,f);const w=c.createWebChannel(y,f);let T=!1,R=!1;const M=new x2({Io:A=>{R?ge(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(T||(ge(zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ge(zt,`RPC '${e}' stream ${o} sending:`,A),w.send(A))},To:()=>w.close()}),I=(A,L,F)=>{A.listen(L,(B=>{try{F(B)}catch(K){setTimeout((()=>{throw K}),0)}}))};return I(w,Ya.EventType.OPEN,(()=>{R||(ge(zt,`RPC '${e}' stream ${o} transport opened.`),M.yo())})),I(w,Ya.EventType.CLOSE,(()=>{R||(R=!0,ge(zt,`RPC '${e}' stream ${o} transport closed`),M.So())})),I(w,Ya.EventType.ERROR,(A=>{R||(R=!0,jo(zt,`RPC '${e}' stream ${o} transport errored:`,A),M.So(new Se(ie.UNAVAILABLE,"The operation could not be completed")))})),I(w,Ya.EventType.MESSAGE,(A=>{var L;if(!R){const F=A.data[0];Qe(!!F);const B=F,K=B.error||((L=B[0])===null||L===void 0?void 0:L.error);if(K){ge(zt,`RPC '${e}' stream ${o} received error:`,K);const J=K.status;let Z=(function(k){const O=gt[k];if(O!==void 0)return kE(O)})(J),P=K.message;Z===void 0&&(Z=ie.INTERNAL,P="Unknown error status: "+J+" with message "+K.message),R=!0,M.So(new Se(Z,P)),w.close()}else ge(zt,`RPC '${e}' stream ${o} received:`,F),M.bo(F)}})),I(h,rE.STAT_EVENT,(A=>{A.stat===Uf.PROXY?ge(zt,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===Uf.NOPROXY&&ge(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.wo()}),0),M}}function gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n){return new VN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t,i,o,a,c,h,f){this.ui=e,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zE(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new Se(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class A2 extends $E{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=UN(this.serializer,e),i=(function(a){if(!("targetChange"in a))return be.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?be.min():c.readTime?mr(c.readTime):be.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=Qf(this.serializer),t.addTarget=(function(a,c){let h;const f=c.target;if(h=Wf(f)?{documents:$N(a,f)}:{query:WN(a,f)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=DE(a,c.resumeToken);const g=qf(a,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(be.min())>0){h.readTime=Uc(a,c.snapshotVersion.toTimestamp());const g=qf(a,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const i=qN(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=Qf(this.serializer),t.removeTarget=e,this.a_(t)}}class P2 extends $E{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=zN(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=Qf(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>BN(this.serializer,i)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Mo(e,Kf(t,i),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ie.UNKNOWN,a.toString())}))}Lo(e,t,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,Kf(t,i),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ie.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class N2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qr(t),this.D_=!1):ge("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((c=>{i.enqueueAndForget((async()=>{Ns(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const g=De(f);g.L_.add(4),await Ol(g),g.q_.set("Unknown"),g.L_.delete(4),await gd(g)})(this))}))})),this.q_=new N2(i,o)}}async function gd(n){if(Ns(n))for(const e of n.B_)await e(!0)}async function Ol(n){for(const e of n.B_)await e(!1)}function WE(n,e){const t=De(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Qp(t)?Gp(t):ta(t).r_()&&Kp(t,e))}function qp(n,e){const t=De(n),i=ta(t);t.N_.delete(e),i.r_()&&HE(t,e),t.N_.size===0&&(i.r_()?i.o_():Ns(t)&&t.q_.set("Unknown"))}function Kp(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ta(n).A_(e)}function HE(n,e){n.Q_.xe(e),ta(n).R_(e)}function Gp(n){n.Q_=new DN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ta(n).start(),n.q_.v_()}function Qp(n){return Ns(n)&&!ta(n).n_()&&n.N_.size>0}function Ns(n){return De(n).L_.size===0}function qE(n){n.Q_=void 0}async function D2(n){n.q_.set("Online")}async function O2(n){n.N_.forEach(((e,t)=>{Kp(n,e)}))}async function M2(n,e){qE(n),Qp(n)?(n.q_.M_(e),Gp(n)):n.q_.set("Unknown")}async function L2(n,e,t){if(n.q_.set("Online"),e instanceof bE&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.N_.delete(h),o.Q_.removeTarget(h))})(n,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Bc(n,i)}else if(e instanceof wc?n.Q_.Ke(e):e instanceof NE?n.Q_.He(e):n.Q_.We(e),!t.isEqual(be.min()))try{const i=await BE(n.localStore);t.compareTo(i)>=0&&await(function(a,c){const h=a.Q_.rt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.N_.get(g);y&&a.N_.set(g,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const y=a.N_.get(f);if(!y)return;a.N_.set(f,y.withResumeToken(Vt.EMPTY_BYTE_STRING,y.snapshotVersion)),HE(a,f);const w=new Ri(y.target,f,g,y.sequenceNumber);Kp(a,w)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await Bc(n,i)}}async function Bc(n,e,t){if(!Nl(e))throw e;n.L_.add(1),await Ol(n),n.q_.set("Offline"),t||(t=()=>BE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await gd(n)}))}function KE(n,e){return e().catch((t=>Bc(n,t,e)))}async function vd(n){const e=De(n),t=Li(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;V2(e);)try{const o=await w2(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,F2(e,o)}catch(o){await Bc(e,o)}GE(e)&&QE(e)}function V2(n){return Ns(n)&&n.O_.length<10}function F2(n,e){n.O_.push(e);const t=Li(n);t.r_()&&t.V_&&t.m_(e.mutations)}function GE(n){return Ns(n)&&!Li(n).n_()&&n.O_.length>0}function QE(n){Li(n).start()}async function j2(n){Li(n).p_()}async function U2(n){const e=Li(n);for(const t of n.O_)e.m_(t.mutations)}async function B2(n,e,t){const i=n.O_.shift(),o=Up.from(i,e,t);await KE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await vd(n)}async function z2(n,e){e&&Li(n).V_&&await(async function(i,o){if((function(c){return kN(c)&&c!==ie.ABORTED})(o.code)){const a=i.O_.shift();Li(i).s_(),await KE(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await vd(i)}})(n,e),GE(n)&&QE(n)}async function i_(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=Ns(t);t.L_.add(3),await Ol(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await gd(t)}async function $2(n,e){const t=De(n);e?(t.L_.delete(2),await gd(t)):e||(t.L_.add(2),await Ol(t),t.q_.set("Unknown"))}function ta(n){return n.K_||(n.K_=(function(t,i,o){const a=De(t);return a.w_(),new A2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:D2.bind(null,n),Ro:O2.bind(null,n),mo:M2.bind(null,n),d_:L2.bind(null,n)}),n.B_.push((async e=>{e?(n.K_.s_(),Qp(n)?Gp(n):n.q_.set("Unknown")):(await n.K_.stop(),qE(n))}))),n.K_}function Li(n){return n.U_||(n.U_=(function(t,i,o){const a=De(t);return a.w_(),new P2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:j2.bind(null,n),mo:z2.bind(null,n),f_:U2.bind(null,n),g_:B2.bind(null,n)}),n.B_.push((async e=>{e?(n.U_.s_(),await vd(n)):(await n.U_.stop(),n.O_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new Xp(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yp(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),Nl(n))return new Se(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ie.comparator(t.key,i.key):(t,i)=>Ie.comparator(t.key,i.key),this.keyedMap=Ja(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Oo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Oo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.W_=new at(Ie.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ne():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Wo{constructor(e,t,i,o,a,c,h,f,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Wo(e,t,Oo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class H2{constructor(){this.queries=o_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=De(t),a=o.queries;o.queries=o_(),a.forEach(((c,h)=>{for(const f of h.j_)f.onError(i)}))})(this,new Se(ie.ABORTED,"Firestore shutting down"))}}function o_(){return new ea((n=>vE(n)),cd)}async function q2(n,e){const t=De(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(i=2):(a=new W2,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=Yp(c,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&Jp(t)}async function K2(n,e){const t=De(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function G2(n,e){const t=De(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.j_)h.X_(o)&&(i=!0);c.z_=o}}i&&Jp(t)}function Q2(n,e,t){const i=De(n),o=i.queries.get(e);if(o)for(const a of o.j_)a.onError(t);i.queries.delete(e)}function Jp(n){n.Y_.forEach((e=>{e.next()}))}var Yf,a_;(a_=Yf||(Yf={})).ea="default",a_.Cache="cache";class X2{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Wo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Yf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.key=e}}class YE{constructor(e){this.key=e}}class Y2{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fe(),this.mutatedKeys=Fe(),this.Aa=yE(e),this.Ra=new Oo(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new s_,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,w)=>{const T=o.get(y),R=dd(this.query,w)?w:null,M=!!T&&this.mutatedKeys.has(T.key),I=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let A=!1;T&&R?T.data.isEqual(R.data)?M!==I&&(i.track({type:3,doc:R}),A=!0):this.ga(T,R)||(i.track({type:2,doc:R}),A=!0,(f&&this.Aa(R,f)>0||g&&this.Aa(R,g)<0)&&(h=!0)):!T&&R?(i.track({type:0,doc:R}),A=!0):T&&!R&&(i.track({type:1,doc:T}),A=!0,(f||g)&&(h=!0)),A&&(R?(c=c.add(R),a=I?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{Ra:c,fa:i,ns:h,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((y,w)=>(function(R,M){const I=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return I(R)-I(M)})(y.type,w.type)||this.Aa(y.doc,w.doc))),this.pa(i),o=o!=null&&o;const h=t&&!o?this.ya():[],f=this.da.size===0&&this.current&&!o?1:0,g=f!==this.Ea;return this.Ea=f,c.length!==0||g?{snapshot:new Wo(this.query,e.Ra,a,c,e.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new s_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fe(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new YE(i))})),this.da.forEach((i=>{e.has(i)||t.push(new XE(i))})),t}ba(e){this.Ta=e.Ts,this.da=Fe();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Wo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class J2{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Z2{constructor(e){this.key=e,this.va=!1}}class eb{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new ea((h=>vE(h)),cd),this.Ma=new Map,this.xa=new Set,this.Oa=new at(Ie.comparator),this.Na=new Map,this.La=new $p,this.Ba={},this.ka=new Map,this.qa=$o.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function tb(n,e,t=!0){const i=rT(n);let o;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await JE(i,e,t,!0),o}async function nb(n,e){const t=rT(n);await JE(t,e,!0,!1)}async function JE(n,e,t,i){const o=await E2(n.localStore,pr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await rb(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&WE(n.remoteStore,o),h}async function rb(n,e,t,i,o){n.Ka=(w,T,R)=>(async function(I,A,L,F){let B=A.view.ma(L);B.ns&&(B=await t_(I.localStore,A.query,!1).then((({documents:P})=>A.view.ma(P,B))));const K=F&&F.targetChanges.get(A.targetId),J=F&&F.targetMismatches.get(A.targetId)!=null,Z=A.view.applyChanges(B,I.isPrimaryClient,K,J);return u_(I,A.targetId,Z.wa),Z.snapshot})(n,w,T,R);const a=await t_(n.localStore,e,!0),c=new Y2(e,a.Ts),h=c.ma(a.documents),f=Dl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),g=c.applyChanges(h,n.isPrimaryClient,f);u_(n,t,g.wa);const y=new J2(e,t,c);return n.Fa.set(e,y),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),g.snapshot}async function ib(n,e,t){const i=De(n),o=i.Fa.get(e),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter((c=>!cd(c,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Xf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&qp(i.remoteStore,o.targetId),Jf(i,o.targetId)})).catch(kl)):(Jf(i,o.targetId),await Xf(i.localStore,o.targetId,!0))}async function sb(n,e){const t=De(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),qp(t.remoteStore,i.targetId))}async function ob(n,e,t){const i=fb(n);try{const o=await(function(c,h){const f=De(c),g=St.now(),y=h.reduce(((R,M)=>R.add(M.key)),Fe());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let M=Xr(),I=Fe();return f.cs.getEntries(R,y).next((A=>{M=A,M.forEach(((L,F)=>{F.isValidDocument()||(I=I.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(R,M))).next((A=>{w=A;const L=[];for(const F of h){const B=CN(F,w.get(F.key).overlayedDocument);B!=null&&L.push(new ks(F.key,B,cE(B.value.mapValue),Wr.exists(!0)))}return f.mutationQueue.addMutationBatch(R,g,L,h)})).next((A=>{T=A;const L=A.applyToLocalDocumentSet(w,I);return f.documentOverlayCache.saveOverlays(R,A.batchId,L)}))})).then((()=>({batchId:T.batchId,changes:wE(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,h,f){let g=c.Ba[c.currentUser.toKey()];g||(g=new at(qe)),g=g.insert(h,f),c.Ba[c.currentUser.toKey()]=g})(i,o.batchId,t),await Ml(i,o.changes),await vd(i.remoteStore)}catch(o){const a=Yp(o,"Failed to persist write");t.reject(a)}}async function ZE(n,e){const t=De(n);try{const i=await y2(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Na.get(a);c&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Qe(c.va):o.removedDocuments.size>0&&(Qe(c.va),c.va=!1))})),await Ml(t,i,e)}catch(i){await kl(i)}}function l_(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((a,c)=>{const h=c.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const f=De(c);f.onlineState=h;let g=!1;f.queries.forEach(((y,w)=>{for(const T of w.j_)T.Z_(h)&&(g=!0)})),g&&Jp(f)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ab(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),a=o&&o.key;if(a){let c=new at(Ie.comparator);c=c.insert(a,Wt.newNoDocument(a,be.min()));const h=Fe().add(a),f=new pd(be.min(),new Map,new at(qe),c,h);await ZE(i,f),i.Oa=i.Oa.remove(a),i.Na.delete(e),Zp(i)}else await Xf(i.localStore,e,!1).then((()=>Jf(i,e,t))).catch(kl)}async function lb(n,e){const t=De(n),i=e.batch.batchId;try{const o=await v2(t.localStore,e);tT(t,i,null),eT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ml(t,o)}catch(o){await kl(o)}}async function ub(n,e,t){const i=De(n);try{const o=await(function(c,h){const f=De(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next((w=>(Qe(w!==null),y=w.keys(),f.mutationQueue.removeMutationBatch(g,w)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>f.localDocuments.getDocuments(g,y)))}))})(i.localStore,e);tT(i,e,t),eT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ml(i,o)}catch(o){await kl(o)}}function eT(n,e){(n.ka.get(e)||[]).forEach((t=>{t.resolve()})),n.ka.delete(e)}function tT(n,e,t){const i=De(n);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function Jf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach((i=>{n.La.containsKey(i)||nT(n,i)}))}function nT(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(qp(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Zp(n))}function u_(n,e,t){for(const i of t)i instanceof XE?(n.La.addReference(i.key,e),cb(n,i)):i instanceof YE?(ge("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||nT(n,i.key)):Ne()}function cb(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(ge("SyncEngine","New document in limbo: "+t),n.xa.add(i),Zp(n))}function Zp(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Ie(ct.fromString(e)),i=n.qa.next();n.Na.set(i,new Z2(t)),n.Oa=n.Oa.insert(t,i),WE(n.remoteStore,new Ri(pr(Fp(t.path)),i,"TargetPurposeLimboResolution",bp.oe))}}async function Ml(n,e,t){const i=De(n),o=[],a=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach(((h,f)=>{c.push(i.Ka(f,e,t).then((g=>{var y;if((g||t)&&i.isPrimaryClient){const w=g?!g.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Hp.Wi(f.targetId,g);a.push(w)}})))})),await Promise.all(c),i.Ca.d_(o),await(async function(f,g){const y=De(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ne.forEach(g,(T=>ne.forEach(T.$i,(R=>y.persistence.referenceDelegate.addReference(w,T.targetId,R))).next((()=>ne.forEach(T.Ui,(R=>y.persistence.referenceDelegate.removeReference(w,T.targetId,R)))))))))}catch(w){if(!Nl(w))throw w;ge("LocalStore","Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const R=y.os.get(T),M=R.snapshotVersion,I=R.withLastLimboFreeSnapshotVersion(M);y.os=y.os.insert(T,I)}}})(i.localStore,a))}async function db(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await UE(t.localStore,e);t.currentUser=e,(function(a,c){a.ka.forEach((h=>{h.forEach((f=>{f.reject(new Se(ie.CANCELLED,c))}))})),a.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ml(t,i.hs)}}function hb(n,e){const t=De(n),i=t.Na.get(e);if(i&&i.va)return Fe().add(i.key);{let o=Fe();const a=t.Ma.get(e);if(!a)return o;for(const c of a){const h=t.Fa.get(c);o=o.unionWith(h.view.Va)}return o}}function rT(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ab.bind(null,e),e.Ca.d_=G2.bind(null,e.eventManager),e.Ca.$a=Q2.bind(null,e.eventManager),e}function fb(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ub.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return g2(this.persistence,new p2,e.initialUser,this.serializer)}Ga(e){return new d2(Wp.Zr,this.serializer)}Wa(e){return new S2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class Zf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>l_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=db.bind(null,this.syncEngine),await $2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new H2})()}createDatastore(e){const t=md(e.databaseInfo.databaseId),i=(function(a){return new R2(a)})(e.databaseInfo);return(function(a,c,h,f){return new k2(a,c,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,a,c,h){return new b2(i,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>l_(this.syncEngine,t,0)),(function(){return r_.D()?new r_:new I2})())}createSyncEngine(e,t){return(function(o,a,c,h,f,g,y){const w=new eb(o,a,c,h,f,g);return y&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=De(o);ge("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ol(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Zf.provider={build:()=>new Zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=aE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async c=>{ge("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Yp(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function vf(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await UE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function c_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await gb(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>i_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>i_(e.remoteStore,o))),n._onlineComponents=e}async function gb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await vf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await vf(n,new zc)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await vf(n,new zc);return n._offlineComponents}async function iT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await c_(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await c_(n,new Zf))),n._onlineComponents}function vb(n){return iT(n).then((e=>e.syncEngine))}async function yb(n){const e=await iT(n),t=e.eventManager;return t.onListen=tb.bind(null,e.syncEngine),t.onUnlisten=ib.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nb.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sb.bind(null,e.syncEngine),t}function _b(n,e,t={}){const i=new Ni;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,g){const y=new pb({next:T=>{y.Za(),c.enqueueAndForget((()=>K2(a,w)));const R=T.docs.has(h);!R&&T.fromCache?g.reject(new Se(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&f&&f.source==="server"?g.reject(new Se(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new X2(Fp(h.path),y,{includeMetadataChanges:!0,_a:!0});return q2(a,w)})(await yb(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n,e,t){if(!t)throw new Se(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Eb(n,e,t,i){if(e===!0&&i===!0)throw new Se(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function h_(n){if(!Ie.isDocumentKey(n))throw new Se(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function em(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne()}function yl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=em(n);throw new Se(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Eb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new bk;switch(i.type){case"firstParty":return new Lk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=d_.get(t);i&&(ge("ComponentProvider","Removing Datastore"),d_.delete(t),i.terminate())})(this),Promise.resolve()}}function Tb(n,e,t,i={}){var o;const a=(n=yl(n,tm))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=$t.MOCK_USER;else{h=oA(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Se(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(g)}n._authCredentials=new Dk(new oE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new nm(this.firestore,e,this._query)}}class Rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class _l extends nm{constructor(e,t,i){super(e,t,Fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ie(e))}withConverter(e){return new _l(this.firestore,e,this._path)}}function Sb(n,e,...t){if(n=An(n),arguments.length===1&&(e=aE.newId()),wb("doc","path",e),n instanceof tm){const i=ct.fromString(e,...t);return h_(i),new Rn(n,null,new Ie(i))}{if(!(n instanceof Rn||n instanceof _l))throw new Se(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return h_(i),new Rn(n.firestore,n instanceof _l?n.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zE(this,"async_queue_retry"),this.Vu=()=>{const i=gf();i&&ge("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=gf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=gf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ni;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nl(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(i);throw Qr("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Xp.createAndSchedule(this,e,t,i,(a=>this.yu(a)));return this.Tu.push(o),o}fu(){this.Eu&&Ne()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class rm extends tm{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new p_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p_(e),this._firestoreClient=void 0,await e}}}function Ib(n,e){const t=typeof n=="object"?n:ww(),i=typeof n=="string"?n:"(default)",o=wp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=iA("firestore");a&&Tb(o,...a)}return o}function oT(n){if(n._terminated)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Cb(n),n._firestoreClient}function Cb(n){var e,t,i;const o=n._freezeSettings(),a=(function(h,f,g,y){return new Qk(h,f,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,sT(y.experimentalLongPollingOptions),y.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new mb(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(Vt.fromBase64String(e))}catch(t){throw new Se(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ho(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=/^__.*__$/;class Rb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new bl(e,this.data,t,this.fieldTransforms)}}function aT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class lm{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new lm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $c(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aT(this.Cu)&&xb.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ab{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||md(e)}Qu(e,t,i,o=!1){return new lm({Cu:e,methodName:t,qu:i,path:Mt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pb(n){const e=n._freezeSettings(),t=md(n._databaseId);return new Ab(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kb(n,e,t,i,o,a={}){const c=n.Qu(a.merge||a.mergeFields?2:0,e,t,o);dT("Data must be an object, but it was:",c,i);const h=uT(i,c);let f,g;if(a.merge)f=new Gn(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const T=Nb(e,w,t);if(!c.contains(T))throw new Se(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Db(y,T)||y.push(T)}f=new Gn(y),g=c.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,g=c.fieldTransforms;return new Rb(new xn(h),f,g)}class um extends sm{_toFieldTransform(e){return new EN(e.path,new ml)}isEqual(e){return e instanceof um}}function lT(n,e){if(cT(n=An(n)))return dT("Unsupported field value:",e,n),uT(n,e);if(n instanceof sm)return(function(i,o){if(!aT(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const a=[];let c=0;for(const h of i){let f=lT(h,o.Lu(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(n,e)}return(function(i,o){if((i=An(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return yN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=St.fromDate(i);return{timestampValue:Uc(o.serializer,a)}}if(i instanceof St){const a=new St(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Uc(o.serializer,a)}}if(i instanceof om)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ho)return{bytesValue:DE(o.serializer,i._byteString)};if(i instanceof Rn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof am)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Bu("VectorValues must only contain numeric values.");return jp(h.serializer,f)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${em(i)}`)})(n,e)}function uT(n,e){const t={};return lE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(n,((i,o)=>{const a=lT(o,e.Mu(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function cT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof om||n instanceof Ho||n instanceof Rn||n instanceof sm||n instanceof am)}function dT(n,e,t){if(!cT(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=em(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function Nb(n,e,t){if((e=An(e))instanceof im)return e._internalPath;if(typeof e=="string")return hT(n,e);throw $c("Field path arguments must be of type string or ",n,!1,void 0,t)}const bb=new RegExp("[~\\*/\\[\\]]");function hT(n,e,t){if(e.search(bb)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new im(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $c(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new Se(ie.INVALID_ARGUMENT,h+n+f)}function Db(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ob(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ob extends fT{data(){return super.data()}}function pT(n,e){return typeof e=="string"?hT(n,e):e instanceof im?e._internalPath:e._delegate._internalPath}class Mb{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Zo(e,((o,a)=>{i[o]=this.convertValue(a,t)})),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((c=>ft(c.doubleValue)));return new am(a)}convertGeoPoint(e){return new om(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Op(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const t=Mi(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);Qe(jE(i));const o=new fl(i.get(1),i.get(3)),a=new Ie(i.popFirst(5));return o.isEqual(t)||Qr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mT extends fT{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(pT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Fb extends mT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(n){n=yl(n,Rn);const e=yl(n.firestore,rm);return _b(oT(e),n._key).then((t=>$b(e,n,t)))}class Ub extends Mb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function Bb(n,e,t){n=yl(n,Rn);const i=yl(n.firestore,rm),o=Lb(n.converter,e,t);return zb(i,[kb(Pb(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Wr.none())])}function zb(n,e){return(function(i,o){const a=new Ni;return i.asyncQueue.enqueueAndForget((async()=>ob(await vb(i),o,a))),a.promise})(oT(n),e)}function $b(n,e,t){const i=t.docs.get(e._key),o=new Ub(n);return new mT(n,o,e._key,i,new Vb(t.hasPendingWrites,t.fromCache),e.converter)}function Wb(){return new um("serverTimestamp")}(function(e,t=!0){(function(o){Jo=o})(Xo),Vo(new Cs("firestore",((i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new rm(new Ok(i.getProvider("auth-internal")),new Fk(i.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Se(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(g.options.projectId,y)})(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),ki(Oy,"4.7.3",e),ki(Oy,"4.7.3","esm2017")})();const Hb={apiKey:"AIzaSyBsfan9ZXraevVDpTe8q1GL7DkfUER0wc0",authDomain:"cal-ranking-rm.firebaseapp.com",projectId:"cal-ranking-rm",storageBucket:"cal-ranking-rm.firebasestorage.app",messagingSenderId:"937306488262",appId:"1:937306488262:web:4428898ff1903d6ffd46c7",measurementId:"G-13CK76G4Q7"},gT=_w(Hb),cm=kk(gT),qb=Ib(gT),Kb=new jr;function vT(n){return Sb(qb,"users",n,"apps","rm_rank_calc")}function Gb(){return j1(cm,Kb)}function Qb(){return _1(cm)}async function Xb(n){const e=vT(n.uid),t=await jb(e);if(!t.exists())return null;const i=t.data();return(i==null?void 0:i.state)||null}let yf=null;function m_(n,e){n&&(yf&&clearTimeout(yf),yf=setTimeout(async()=>{try{const t=vT(n.uid);await Bb(t,{state:e,updatedAt:Wb()},{merge:!0})}catch(t){console.warn("Cloud save failed:",t)}},700))}function Yb(n){return y1(cm,e=>n(e||null))}function Jb(){const[n,e]=x.useState(()=>jR()),[t,i]=x.useState(null),[o,a]=x.useState(!1),[c,h]=x.useState(null),[f,g]=x.useState(null),[y,w]=x.useState(null),T=x.useRef(null);T.current=f;function R(L){e(F=>{const B=typeof L=="function"?L(F):L;return iy(B),m_(T.current,B),B})}const M=x.useCallback(L=>{const F=L??n;a(!0),setTimeout(()=>{let B=0;for(const P of hc)for(const C of F.sections[P.id]){const k=Number(C);Number.isFinite(k)&&(B+=k)}const K=Number.isFinite(F.bonus)?F.bonus:0,J=B+K,Z=UR(J);i({sum:B,bonus:K,total:J,rank:Z}),a(!1)},350)},[n]);function I(){R(L=>{const F={...L};F.sections={...L.sections};for(const B of hc)F.sections[B.id]=L.sections[B.id].map((K,J)=>L.locked[B.id][J]?K:"");return F}),i(null)}async function A(L){if(!c){h(L);try{const{points:F,debugLog:B,imageUrl:K,badgeRightEdges:J}=await XR(L,()=>{});if(!F.length)return;R(C=>{const k=[...C.sections[L]];F.forEach((V,U)=>{U<k.length&&(k[U]=V)});const O={...C,sections:{...C.sections,[L]:k}};return setTimeout(()=>M(O),400),O}),w({imageUrl:K,sectionId:L,points:F,badgeRightEdges:J});const Z=F.filter(Boolean).length,P=F.map((C,k)=>C?null:`#${k+1}: ${B[k]??"-"}`).filter(Boolean);P.length&&console.warn(`[OCR] Failed slots:
${P.join(`
`)}`),console.log(`[OCR] ${L} done: ${Z}/${F.length}`)}catch(F){console.error(F),alert(`Import  
 Console  (F12)  error `)}finally{h(null)}}}return x.useEffect(()=>Yb(async F=>{if(g(F),!!F)try{const B=await Xb(F);B?(e(B),iy(B),M(B)):m_(F,n)}catch(B){console.warn("Cloud load failed:",B)}}),[]),x.useEffect(()=>{M(n)},[]),b.jsxs("div",{className:`min-h-screen bg-black text-[#eaeaea] font-kanit flex justify-center
      overflow-y-auto -webkit-overflow-scrolling-touch px-[14px] py-4`,children:[b.jsxs("div",{className:"w-full max-w-[1320px] flex flex-col",children:[b.jsx(VR,{user:f,onSignIn:()=>Gb().catch(console.error),onSignOut:()=>Qb().catch(console.error)}),b.jsx("h1",{className:`text-center text-[#dfcd80] text-[26px] font-bold tracking-[0.2px]
          mt-1.5 mb-3`,children:""}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3 flex-1 min-h-0",children:[hc.map(L=>b.jsx(MR,{sectionId:L.id,label:L.label,badgeText:`${L.count} `,state:n,isImporting:c===L.id,onStateChange:R,onImport:A,onCalc:()=>M()},L.id)),b.jsx(LR,{bonus:n.bonus,onBonusChange:L=>R(F=>({...F,bonus:L})),onCalc:()=>M(),onReset:I,result:t,isCalculating:o})]})]}),y&&b.jsx(FR,{open:!!y,imageUrl:y.imageUrl,sectionId:y.sectionId,points:y.points,badgeRightEdges:y.badgeRightEdges,onClose:()=>{URL.revokeObjectURL(y.imageUrl),w(null)}})]})}kS.createRoot(document.getElementById("root")).render(b.jsx(Fr.StrictMode,{children:b.jsx(Jb,{})}));export{ep as g};
