function hS(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Zf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $h={exports:{}},Ga={},Wh={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function fS(){if(gv)return Ve;gv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T($){return $===null||typeof $!="object"?null:($=w&&$[w]||$["@@iterator"],typeof $=="function"?$:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,S={};function C($,X,fe){this.props=$,this.context=X,this.refs=S,this.updater=fe||A}C.prototype.isReactComponent={},C.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function M(){}M.prototype=C.prototype;function U($,X,fe){this.props=$,this.context=X,this.refs=S,this.updater=fe||A}var z=U.prototype=new M;z.constructor=U,L(z,C.prototype),z.isPureReactComponent=!0;var G=Array.isArray,Z=Object.prototype.hasOwnProperty,J={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function x($,X,fe){var Ce,xe={},Oe=null,ue=null;if(X!=null)for(Ce in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(Oe=""+X.key),X)Z.call(X,Ce)&&!P.hasOwnProperty(Ce)&&(xe[Ce]=X[Ce]);var ye=arguments.length-2;if(ye===1)xe.children=fe;else if(1<ye){for(var De=Array(ye),Pe=0;Pe<ye;Pe++)De[Pe]=arguments[Pe+2];xe.children=De}if($&&$.defaultProps)for(Ce in ye=$.defaultProps,ye)xe[Ce]===void 0&&(xe[Ce]=ye[Ce]);return{$$typeof:n,type:$,key:Oe,ref:ue,props:xe,_owner:J.current}}function N($,X){return{$$typeof:n,type:$.type,key:X,ref:$.ref,props:$.props,_owner:$._owner}}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function V($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(fe){return X[fe]})}var j=/\/+/g;function k($,X){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):X.toString(36)}function _e($,X,fe,Ce,xe){var Oe=typeof $;(Oe==="undefined"||Oe==="boolean")&&($=null);var ue=!1;if($===null)ue=!0;else switch(Oe){case"string":case"number":ue=!0;break;case"object":switch($.$$typeof){case n:case e:ue=!0}}if(ue)return ue=$,xe=xe(ue),$=Ce===""?"."+k(ue,0):Ce,G(xe)?(fe="",$!=null&&(fe=$.replace(j,"$&/")+"/"),_e(xe,X,fe,"",function(Pe){return Pe})):xe!=null&&(D(xe)&&(xe=N(xe,fe+(!xe.key||ue&&ue.key===xe.key?"":(""+xe.key).replace(j,"$&/")+"/")+$)),X.push(xe)),1;if(ue=0,Ce=Ce===""?".":Ce+":",G($))for(var ye=0;ye<$.length;ye++){Oe=$[ye];var De=Ce+k(Oe,ye);ue+=_e(Oe,X,fe,De,xe)}else if(De=T($),typeof De=="function")for($=De.call($),ye=0;!(Oe=$.next()).done;)Oe=Oe.value,De=Ce+k(Oe,ye++),ue+=_e(Oe,X,fe,De,xe);else if(Oe==="object")throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function Le($,X,fe){if($==null)return $;var Ce=[],xe=0;return _e($,Ce,"","",function(Oe){return X.call(fe,Oe,xe++)}),Ce}function Te($){if($._status===-1){var X=$._result;X=X(),X.then(function(fe){($._status===0||$._status===-1)&&($._status=1,$._result=fe)},function(fe){($._status===0||$._status===-1)&&($._status=2,$._result=fe)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var ve={current:null},Y={transition:null},le={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:Y,ReactCurrentOwner:J};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Le,forEach:function($,X,fe){Le($,function(){X.apply(this,arguments)},fe)},count:function($){var X=0;return Le($,function(){X++}),X},toArray:function($){return Le($,function(X){return X})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ve.Component=C,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=U,Ve.StrictMode=i,Ve.Suspense=f,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ve.act=oe,Ve.cloneElement=function($,X,fe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ce=L({},$.props),xe=$.key,Oe=$.ref,ue=$._owner;if(X!=null){if(X.ref!==void 0&&(Oe=X.ref,ue=J.current),X.key!==void 0&&(xe=""+X.key),$.type&&$.type.defaultProps)var ye=$.type.defaultProps;for(De in X)Z.call(X,De)&&!P.hasOwnProperty(De)&&(Ce[De]=X[De]===void 0&&ye!==void 0?ye[De]:X[De])}var De=arguments.length-2;if(De===1)Ce.children=fe;else if(1<De){ye=Array(De);for(var Pe=0;Pe<De;Pe++)ye[Pe]=arguments[Pe+2];Ce.children=ye}return{$$typeof:n,type:$.type,key:xe,ref:Oe,props:Ce,_owner:ue}},Ve.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Ve.createElement=x,Ve.createFactory=function($){var X=x.bind(null,$);return X.type=$,X},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function($){return{$$typeof:h,render:$}},Ve.isValidElement=D,Ve.lazy=function($){return{$$typeof:_,_payload:{_status:-1,_result:$},_init:Te}},Ve.memo=function($,X){return{$$typeof:v,type:$,compare:X===void 0?null:X}},Ve.startTransition=function($){var X=Y.transition;Y.transition={};try{$()}finally{Y.transition=X}},Ve.unstable_act=oe,Ve.useCallback=function($,X){return ve.current.useCallback($,X)},Ve.useContext=function($){return ve.current.useContext($)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function($){return ve.current.useDeferredValue($)},Ve.useEffect=function($,X){return ve.current.useEffect($,X)},Ve.useId=function(){return ve.current.useId()},Ve.useImperativeHandle=function($,X,fe){return ve.current.useImperativeHandle($,X,fe)},Ve.useInsertionEffect=function($,X){return ve.current.useInsertionEffect($,X)},Ve.useLayoutEffect=function($,X){return ve.current.useLayoutEffect($,X)},Ve.useMemo=function($,X){return ve.current.useMemo($,X)},Ve.useReducer=function($,X,fe){return ve.current.useReducer($,X,fe)},Ve.useRef=function($){return ve.current.useRef($)},Ve.useState=function($){return ve.current.useState($)},Ve.useSyncExternalStore=function($,X,fe){return ve.current.useSyncExternalStore($,X,fe)},Ve.useTransition=function(){return ve.current.useTransition()},Ve.version="18.3.1",Ve}var vv;function ep(){return vv||(vv=1,Wh.exports=fS()),Wh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function pS(){if(yv)return Ga;yv=1;var n=ep(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,v){var _,w={},T=null,A=null;v!==void 0&&(T=""+v),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(A=f.ref);for(_ in f)i.call(f,_)&&!a.hasOwnProperty(_)&&(w[_]=f[_]);if(h&&h.defaultProps)for(_ in f=h.defaultProps,f)w[_]===void 0&&(w[_]=f[_]);return{$$typeof:e,type:h,key:T,ref:A,props:w,_owner:o.current}}return Ga.Fragment=t,Ga.jsx=c,Ga.jsxs=c,Ga}var _v;function mS(){return _v||(_v=1,$h.exports=pS()),$h.exports}var O=mS(),R=ep();const Fr=Zf(R),m_=hS({__proto__:null,default:Fr},[R]);var Yu={},Hh={exports:{}},sn={},qh={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function gS(){return wv||(wv=1,(function(n){function e(Y,le){var oe=Y.length;Y.push(le);e:for(;0<oe;){var $=oe-1>>>1,X=Y[$];if(0<o(X,le))Y[$]=le,Y[oe]=X,oe=$;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var le=Y[0],oe=Y.pop();if(oe!==le){Y[0]=oe;e:for(var $=0,X=Y.length,fe=X>>>1;$<fe;){var Ce=2*($+1)-1,xe=Y[Ce],Oe=Ce+1,ue=Y[Oe];if(0>o(xe,oe))Oe<X&&0>o(ue,xe)?(Y[$]=ue,Y[Oe]=oe,$=Oe):(Y[$]=xe,Y[Ce]=oe,$=Ce);else if(Oe<X&&0>o(ue,oe))Y[$]=ue,Y[Oe]=oe,$=Oe;else break e}}return le}function o(Y,le){var oe=Y.sortIndex-le.sortIndex;return oe!==0?oe:Y.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],v=[],_=1,w=null,T=3,A=!1,L=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(Y){for(var le=t(v);le!==null;){if(le.callback===null)i(v);else if(le.startTime<=Y)i(v),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(v)}}function G(Y){if(S=!1,z(Y),!L)if(t(f)!==null)L=!0,Te(Z);else{var le=t(v);le!==null&&ve(G,le.startTime-Y)}}function Z(Y,le){L=!1,S&&(S=!1,M(x),x=-1),A=!0;var oe=T;try{for(z(le),w=t(f);w!==null&&(!(w.expirationTime>le)||Y&&!V());){var $=w.callback;if(typeof $=="function"){w.callback=null,T=w.priorityLevel;var X=$(w.expirationTime<=le);le=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&i(f),z(le)}else i(f);w=t(f)}if(w!==null)var fe=!0;else{var Ce=t(v);Ce!==null&&ve(G,Ce.startTime-le),fe=!1}return fe}finally{w=null,T=oe,A=!1}}var J=!1,P=null,x=-1,N=5,D=-1;function V(){return!(n.unstable_now()-D<N)}function j(){if(P!==null){var Y=n.unstable_now();D=Y;var le=!0;try{le=P(!0,Y)}finally{le?k():(J=!1,P=null)}}else J=!1}var k;if(typeof U=="function")k=function(){U(j)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Le=_e.port2;_e.port1.onmessage=j,k=function(){Le.postMessage(null)}}else k=function(){C(j,0)};function Te(Y){P=Y,J||(J=!0,k())}function ve(Y,le){x=C(function(){Y(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){L||A||(L=!0,Te(Z))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var oe=T;T=le;try{return Y()}finally{T=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=T;T=Y;try{return le()}finally{T=oe}},n.unstable_scheduleCallback=function(Y,le,oe){var $=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?$+oe:$):oe=$,Y){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,Y={id:_++,callback:le,priorityLevel:Y,startTime:oe,expirationTime:X,sortIndex:-1},oe>$?(Y.sortIndex=oe,e(v,Y),t(f)===null&&Y===t(v)&&(S?(M(x),x=-1):S=!0,ve(G,oe-$))):(Y.sortIndex=X,e(f,Y),L||A||(L=!0,Te(Z))),Y},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Y){var le=T;return function(){var oe=T;T=le;try{return Y.apply(this,arguments)}finally{T=oe}}}})(Kh)),Kh}var Ev;function vS(){return Ev||(Ev=1,qh.exports=gS()),qh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function yS(){if(Tv)return sn;Tv=1;var n=ep(),e=vS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(r){return f.call(w,r)?!0:f.call(_,r)?!1:v.test(r)?w[r]=!0:(_[r]=!0,!1)}function A(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function L(r,s,l,d){if(s===null||typeof s>"u"||A(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(r,s,l,d,p,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];C[s]=new S(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function U(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(M,U);C[s]=new S(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(M,U);C[s]=new S(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(M,U);C[s]=new S(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function z(r,s,l,d){var p=C.hasOwnProperty(s)?C[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,l,p,d)&&(l=null),d||p===null?T(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),J=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),Y=Symbol.iterator;function le(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,$;function X(r){if($===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+r}var fe=!1;function Ce(r,s){if(!r||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(K){var d=K}Reflect.construct(r,[],s)}else{try{s.call()}catch(K){d=K}r.call(s.prototype)}else{try{throw Error()}catch(K){d=K}r()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var p=K.stack.split(`
`),g=d.stack.split(`
`),E=p.length-1,b=g.length-1;1<=E&&0<=b&&p[E]!==g[b];)b--;for(;1<=E&&0<=b;E--,b--)if(p[E]!==g[b]){if(E!==1||b!==1)do if(E--,b--,0>b||p[E]!==g[b]){var F=`
`+p[E].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=E&&0<=b);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?X(r):""}function xe(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case J:return"Portal";case N:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case _e:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Le:return s=r.displayName||null,s!==null?s:Oe(r.type)||"Memo";case Te:s=r._payload,r=r._init;try{return Oe(r(s))}catch{}}return null}function ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ye(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function De(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pe(r){var s=De(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Me(r){r._valueTracker||(r._valueTracker=Pe(r))}function Ue(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=De(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function lt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function It(r,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function mn(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=ye(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pn(r,s){s=s.checked,s!=null&&z(r,"checked",s,!1)}function kn(r,s){Pn(r,s);var l=ye(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Nn(r,s.type,l):s.hasOwnProperty("defaultValue")&&Nn(r,s.type,ye(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function bs(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Nn(r,s,l){(s!=="number"||lt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Er=Array.isArray;function Tr(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+ye(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function na(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ds(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Er(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:ye(l)}}function Os(r,s){var l=ye(s.value),d=ye(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ra(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function vt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?vt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Sr,ia=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Sr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Jr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ji=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(r){ji.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ui[s]=Ui[r]})});function sa(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ui.hasOwnProperty(r)&&Ui[r]?(""+s).trim():s+"px"}function oa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=sa(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var aa=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(r,s){if(s){if(aa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ua(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Ls(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ms=null,gn=null,Zn=null;function Vs(r){if(r=Da(r)){if(typeof Ms!="function")throw Error(t(280));var s=r.stateNode;s&&(s=du(s),Ms(r.stateNode,r.type,s))}}function er(r){gn?Zn?Zn.push(r):Zn=[r]:gn=r}function ca(){if(gn){var r=gn,s=Zn;if(Zn=gn=null,Vs(r),s)for(r=0;r<s.length;r++)Vs(s[r])}}function zi(r,s){return r(s)}function da(){}var Ir=!1;function ha(r,s,l){if(Ir)return r(s,l);Ir=!0;try{return zi(r,s,l)}finally{Ir=!1,(gn!==null||Zn!==null)&&(da(),ca())}}function dt(r,s){var l=r.stateNode;if(l===null)return null;var d=du(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Fs=!1;if(h)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{Fs=!1}function $i(r,s,l,d,p,g,E,b,F){var K=Array.prototype.slice.call(arguments,3);try{s.apply(l,K)}catch(te){this.onError(te)}}var Wi=!1,Us=null,Dn=!1,fa=null,vd={onError:function(r){Wi=!0,Us=r}};function js(r,s,l,d,p,g,E,b,F){Wi=!1,Us=null,$i.apply(vd,arguments)}function Ml(r,s,l,d,p,g,E,b,F){if(js.apply(this,arguments),Wi){if(Wi){var K=Us;Wi=!1,Us=null}else throw Error(t(198));Dn||(Dn=!0,fa=K)}}function On(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Hi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ln(r){if(On(r)!==r)throw Error(t(188))}function Vl(r){var s=r.alternate;if(!s){if(s=On(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return Ln(p),r;if(g===d)return Ln(p),s;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=g;else{for(var E=!1,b=p.child;b;){if(b===l){E=!0,l=p,d=g;break}if(b===d){E=!0,d=p,l=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===l){E=!0,l=g,d=p;break}if(b===d){E=!0,d=g,l=p;break}b=b.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function pa(r){return r=Vl(r),r!==null?Bs(r):null}function Bs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Bs(r);if(s!==null)return s;r=r.sibling}return null}var zs=e.unstable_scheduleCallback,ma=e.unstable_cancelCallback,Fl=e.unstable_shouldYield,yd=e.unstable_requestPaint,Je=e.unstable_now,Ul=e.unstable_getCurrentPriorityLevel,qi=e.unstable_ImmediatePriority,Zr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,ga=e.unstable_LowPriority,jl=e.unstable_IdlePriority,Ki=null,on=null;function Bl(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ki,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:$l,va=Math.log,zl=Math.LN2;function $l(r){return r>>>=0,r===0?32:31-(va(r)/zl|0)|0}var $s=64,Ws=4194304;function ei(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gi(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,g=r.pingedLanes,E=l&268435455;if(E!==0){var b=E&~p;b!==0?d=ei(b):(g&=E,g!==0&&(d=ei(g)))}else E=l&~p,E!==0?d=ei(E):g!==0&&(d=ei(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Kt(s),p=1<<l,d|=r[l],s&=~p;return d}function _d(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Kt(g),b=1<<E,F=p[E];F===-1?((b&l)===0||(b&d)!==0)&&(p[E]=_d(b,s)):F<=s&&(r.expiredLanes|=b),g&=~b}}function an(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Qi(){var r=$s;return $s<<=1,($s&4194240)===0&&($s=64),r}function ti(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ni(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=l}function Ye(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Kt(l),g=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~g}}function ri(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Kt(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var je=0;function ii(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Wl,Hs,Hl,ql,Kl,ya=!1,tr=[],kt=null,Mn=null,Vn=null,si=new Map,yn=new Map,nr=[],wd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gl(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":si.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(s.pointerId)}}function Xt(r,s,l,d,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Da(s),s!==null&&Hs(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Ed(r,s,l,d,p){switch(s){case"focusin":return kt=Xt(kt,r,s,l,d,p),!0;case"dragenter":return Mn=Xt(Mn,r,s,l,d,p),!0;case"mouseover":return Vn=Xt(Vn,r,s,l,d,p),!0;case"pointerover":var g=p.pointerId;return si.set(g,Xt(si.get(g)||null,r,s,l,d,p)),!0;case"gotpointercapture":return g=p.pointerId,yn.set(g,Xt(yn.get(g)||null,r,s,l,d,p)),!0}return!1}function Ql(r){var s=es(r.target);if(s!==null){var l=On(s);if(l!==null){if(s=l.tag,s===13){if(s=Hi(l),s!==null){r.blockedOn=s,Kl(r.priority,function(){Hl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ar(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=qs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Bi=d,l.target.dispatchEvent(d),Bi=null}else return s=Da(l),s!==null&&Hs(s),r.blockedOn=l,!1;s.shift()}return!0}function Yi(r,s,l){Ar(r)&&l.delete(s)}function Yl(){ya=!1,kt!==null&&Ar(kt)&&(kt=null),Mn!==null&&Ar(Mn)&&(Mn=null),Vn!==null&&Ar(Vn)&&(Vn=null),si.forEach(Yi),yn.forEach(Yi)}function Fn(r,s){r.blockedOn===s&&(r.blockedOn=null,ya||(ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yl)))}function Un(r){function s(p){return Fn(p,r)}if(0<tr.length){Fn(tr[0],r);for(var l=1;l<tr.length;l++){var d=tr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(kt!==null&&Fn(kt,r),Mn!==null&&Fn(Mn,r),Vn!==null&&Fn(Vn,r),si.forEach(s),yn.forEach(s),l=0;l<nr.length;l++)d=nr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<nr.length&&(l=nr[0],l.blockedOn===null);)Ql(l),l.blockedOn===null&&nr.shift()}var Rr=G.ReactCurrentBatchConfig,oi=!0;function nt(r,s,l,d){var p=je,g=Rr.transition;Rr.transition=null;try{je=1,_a(r,s,l,d)}finally{je=p,Rr.transition=g}}function Td(r,s,l,d){var p=je,g=Rr.transition;Rr.transition=null;try{je=4,_a(r,s,l,d)}finally{je=p,Rr.transition=g}}function _a(r,s,l,d){if(oi){var p=qs(r,s,l,d);if(p===null)Dd(r,s,d,Xi,l),Gl(r,d);else if(Ed(p,r,s,l,d))d.stopPropagation();else if(Gl(r,d),s&4&&-1<wd.indexOf(r)){for(;p!==null;){var g=Da(p);if(g!==null&&Wl(g),g=qs(r,s,l,d),g===null&&Dd(r,s,d,Xi,l),g===p)break;p=g}p!==null&&d.stopPropagation()}else Dd(r,s,d,null,l)}}var Xi=null;function qs(r,s,l,d){if(Xi=null,r=Ls(d),r=es(r),r!==null)if(s=On(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Hi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Xi=r,null}function wa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ul()){case qi:return 1;case Zr:return 4;case vn:case ga:return 16;case jl:return 536870912;default:return 16}default:return 16}}var ln=null,Ks=null,Jt=null;function Ea(){if(Jt)return Jt;var r,s=Ks,l=s.length,d,p="value"in ln?ln.value:ln.textContent,g=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===p[g-d];d++);return Jt=p.slice(r,1<d?1-d:void 0)}function Gs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function rr(){return!0}function Ta(){return!1}function Nt(r){function s(l,d,p,g,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(l=r[b],this[b]=l?l(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?rr:Ta,this.isPropagationStopped=Ta,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),s}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Nt(jn),ir=oe({},jn,{view:0,detail:0}),Sd=Nt(ir),Ys,xr,ai,Ji=oe({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(Ys=r.screenX-ai.screenX,xr=r.screenY-ai.screenY):xr=Ys=0,ai=r),Ys)},movementY:function(r){return"movementY"in r?r.movementY:xr}}),Xs=Nt(Ji),Sa=oe({},Ji,{dataTransfer:0}),Xl=Nt(Sa),Js=oe({},ir,{relatedTarget:0}),Zs=Nt(Js),Jl=oe({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Pr=Nt(Jl),Zl=oe({},jn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),eu=Nt(Zl),tu=oe({},jn,{data:0}),Ia=Nt(tu),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nu[r])?!!s[r]:!1}function sr(){return ru}var u=oe({},ir,{key:function(r){if(r.key){var s=eo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Gs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(r){return r.type==="keypress"?Gs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Nt(u),y=oe({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Nt(y),W=oe({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),Q=Nt(W),ae=oe({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Nt(ae),_t=oe({},Ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Nt(_t),Ct=[9,13,27,32],pt=h&&"CompositionEvent"in window,_n=null;h&&"documentMode"in document&&(_n=document.documentMode);var un=h&&"TextEvent"in window&&!_n,Zi=h&&(!pt||_n&&8<_n&&11>=_n),to=" ",cm=!1;function dm(r,s){switch(r){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var no=!1;function uT(r,s){switch(r){case"compositionend":return hm(s);case"keypress":return s.which!==32?null:(cm=!0,to);case"textInput":return r=s.data,r===to&&cm?null:r;default:return null}}function cT(r,s){if(no)return r==="compositionend"||!pt&&dm(r,s)?(r=Ea(),Jt=Ks=ln=null,no=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zi&&s.locale!=="ko"?null:s.data;default:return null}}var dT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!dT[r.type]:s==="textarea"}function pm(r,s,l,d){er(d),s=lu(s,"onChange"),0<s.length&&(l=new Qs("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ca=null,Aa=null;function hT(r){bm(r,0)}function iu(r){var s=ao(r);if(Ue(s))return r}function fT(r,s){if(r==="change")return s}var mm=!1;if(h){var Id;if(h){var Cd="oninput"in document;if(!Cd){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),Cd=typeof gm.oninput=="function"}Id=Cd}else Id=!1;mm=Id&&(!document.documentMode||9<document.documentMode)}function vm(){Ca&&(Ca.detachEvent("onpropertychange",ym),Aa=Ca=null)}function ym(r){if(r.propertyName==="value"&&iu(Aa)){var s=[];pm(s,Aa,r,Ls(r)),ha(hT,s)}}function pT(r,s,l){r==="focusin"?(vm(),Ca=s,Aa=l,Ca.attachEvent("onpropertychange",ym)):r==="focusout"&&vm()}function mT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return iu(Aa)}function gT(r,s){if(r==="click")return iu(s)}function vT(r,s){if(r==="input"||r==="change")return iu(s)}function yT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:yT;function Ra(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!Bn(r[p],s[p]))return!1}return!0}function _m(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wm(r,s){var l=_m(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_m(l)}}function Em(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Em(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Tm(){for(var r=window,s=lt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=lt(r.document)}return s}function Ad(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function _T(r){var s=Tm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Em(l.ownerDocument.documentElement,l)){if(d!==null&&Ad(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!r.extend&&g>d&&(p=d,d=g,g=p),p=wm(l,g);var E=wm(l,d);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var wT=h&&"documentMode"in document&&11>=document.documentMode,ro=null,Rd=null,xa=null,xd=!1;function Sm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;xd||ro==null||ro!==lt(d)||(d=ro,"selectionStart"in d&&Ad(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),xa&&Ra(xa,d)||(xa=d,d=lu(Rd,"onSelect"),0<d.length&&(s=new Qs("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=ro)))}function su(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var io={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},Pd={},Im={};h&&(Im=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ou(r){if(Pd[r])return Pd[r];if(!io[r])return r;var s=io[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Im)return Pd[r]=s[l];return r}var Cm=ou("animationend"),Am=ou("animationiteration"),Rm=ou("animationstart"),xm=ou("transitionend"),Pm=new Map,km="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(r,s){Pm.set(r,s),a(s,[r])}for(var kd=0;kd<km.length;kd++){var Nd=km[kd],ET=Nd.toLowerCase(),TT=Nd[0].toUpperCase()+Nd.slice(1);li(ET,"on"+TT)}li(Cm,"onAnimationEnd"),li(Am,"onAnimationIteration"),li(Rm,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(xm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function Nm(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,Ml(d,s,void 0,r),r.currentTarget=null}function bm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var E=d.length-1;0<=E;E--){var b=d[E],F=b.instance,K=b.currentTarget;if(b=b.listener,F!==g&&p.isPropagationStopped())break e;Nm(p,b,K),g=F}else for(E=0;E<d.length;E++){if(b=d[E],F=b.instance,K=b.currentTarget,b=b.listener,F!==g&&p.isPropagationStopped())break e;Nm(p,b,K),g=F}}}if(Dn)throw r=fa,Dn=!1,fa=null,r}function et(r,s){var l=s[Ud];l===void 0&&(l=s[Ud]=new Set);var d=r+"__bubble";l.has(d)||(Dm(s,r,2,!1),l.add(d))}function bd(r,s,l){var d=0;s&&(d|=4),Dm(l,r,d,s)}var au="_reactListening"+Math.random().toString(36).slice(2);function ka(r){if(!r[au]){r[au]=!0,i.forEach(function(l){l!=="selectionchange"&&(ST.has(l)||bd(l,!1,r),bd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[au]||(s[au]=!0,bd("selectionchange",!1,s))}}function Dm(r,s,l,d){switch(wa(s)){case 1:var p=nt;break;case 4:p=Td;break;default:p=_a}l=p.bind(null,s,l,r),p=void 0,!Fs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Dd(r,s,l,d,p){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var b=d.stateNode.containerInfo;if(b===p||b.nodeType===8&&b.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var F=E.tag;if((F===3||F===4)&&(F=E.stateNode.containerInfo,F===p||F.nodeType===8&&F.parentNode===p))return;E=E.return}for(;b!==null;){if(E=es(b),E===null)return;if(F=E.tag,F===5||F===6){d=g=E;continue e}b=b.parentNode}}d=d.return}ha(function(){var K=g,te=Ls(l),re=[];e:{var ee=Pm.get(r);if(ee!==void 0){var ce=Qs,he=r;switch(r){case"keypress":if(Gs(l)===0)break e;case"keydown":case"keyup":ce=m;break;case"focusin":he="focus",ce=Zs;break;case"focusout":he="blur",ce=Zs;break;case"beforeblur":case"afterblur":ce=Zs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Xl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Q;break;case Cm:case Am:case Rm:ce=Pr;break;case xm:ce=Ge;break;case"scroll":ce=Sd;break;case"wheel":ce=ze;break;case"copy":case"cut":case"paste":ce=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=I}var pe=(s&4)!==0,ht=!pe&&r==="scroll",H=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var B=K,q;B!==null;){q=B;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,H!==null&&(se=dt(B,H),se!=null&&pe.push(Na(B,se,q)))),ht)break;B=B.return}0<pe.length&&(ee=new ce(ee,he,null,l,te),re.push({event:ee,listeners:pe}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",ee&&l!==Bi&&(he=l.relatedTarget||l.fromElement)&&(es(he)||he[kr]))break e;if((ce||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(he=l.relatedTarget||l.toElement,ce=K,he=he?es(he):null,he!==null&&(ht=On(he),he!==ht||he.tag!==5&&he.tag!==6)&&(he=null)):(ce=null,he=K),ce!==he)){if(pe=Xs,se="onMouseLeave",H="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(pe=I,se="onPointerLeave",H="onPointerEnter",B="pointer"),ht=ce==null?ee:ao(ce),q=he==null?ee:ao(he),ee=new pe(se,B+"leave",ce,l,te),ee.target=ht,ee.relatedTarget=q,se=null,es(te)===K&&(pe=new pe(H,B+"enter",he,l,te),pe.target=q,pe.relatedTarget=ht,se=pe),ht=se,ce&&he)t:{for(pe=ce,H=he,B=0,q=pe;q;q=so(q))B++;for(q=0,se=H;se;se=so(se))q++;for(;0<B-q;)pe=so(pe),B--;for(;0<q-B;)H=so(H),q--;for(;B--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=so(pe),H=so(H)}pe=null}else pe=null;ce!==null&&Om(re,ee,ce,pe,!1),he!==null&&ht!==null&&Om(re,ht,he,pe,!0)}}e:{if(ee=K?ao(K):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var ge=fT;else if(fm(ee))if(mm)ge=vT;else{ge=mT;var we=pT}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=gT);if(ge&&(ge=ge(r,K))){pm(re,ge,l,te);break e}we&&we(r,ee,K),r==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&Nn(ee,"number",ee.value)}switch(we=K?ao(K):window,r){case"focusin":(fm(we)||we.contentEditable==="true")&&(ro=we,Rd=K,xa=null);break;case"focusout":xa=Rd=ro=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,Sm(re,l,te);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":Sm(re,l,te)}var Ee;if(pt)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else no?dm(r,l)&&(Ae="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(Zi&&l.locale!=="ko"&&(no||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&no&&(Ee=Ea()):(ln=te,Ks="value"in ln?ln.value:ln.textContent,no=!0)),we=lu(K,Ae),0<we.length&&(Ae=new Ia(Ae,r,null,l,te),re.push({event:Ae,listeners:we}),Ee?Ae.data=Ee:(Ee=hm(l),Ee!==null&&(Ae.data=Ee)))),(Ee=un?uT(r,l):cT(r,l))&&(K=lu(K,"onBeforeInput"),0<K.length&&(te=new Ia("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:K}),te.data=Ee))}bm(re,s)})}function Na(r,s,l){return{instance:r,listener:s,currentTarget:l}}function lu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=dt(r,l),g!=null&&d.unshift(Na(r,g,p)),g=dt(r,s),g!=null&&d.push(Na(r,g,p))),r=r.return}return d}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Om(r,s,l,d,p){for(var g=s._reactName,E=[];l!==null&&l!==d;){var b=l,F=b.alternate,K=b.stateNode;if(F!==null&&F===d)break;b.tag===5&&K!==null&&(b=K,p?(F=dt(l,g),F!=null&&E.unshift(Na(l,F,b))):p||(F=dt(l,g),F!=null&&E.push(Na(l,F,b)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var IT=/\r\n?/g,CT=/\u0000|\uFFFD/g;function Lm(r){return(typeof r=="string"?r:""+r).replace(IT,`
`).replace(CT,"")}function uu(r,s,l){if(s=Lm(s),Lm(r)!==s&&l)throw Error(t(425))}function cu(){}var Od=null,Ld=null;function Md(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vd=typeof setTimeout=="function"?setTimeout:void 0,AT=typeof clearTimeout=="function"?clearTimeout:void 0,Mm=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof Mm<"u"?function(r){return Mm.resolve(null).then(r).catch(xT)}:Vd;function xT(r){setTimeout(function(){throw r})}function Fd(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),Un(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Un(s)}function ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Vm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var oo=Math.random().toString(36).slice(2),or="__reactFiber$"+oo,ba="__reactProps$"+oo,kr="__reactContainer$"+oo,Ud="__reactEvents$"+oo,PT="__reactListeners$"+oo,kT="__reactHandles$"+oo;function es(r){var s=r[or];if(s)return s;for(var l=r.parentNode;l;){if(s=l[kr]||l[or]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Vm(r);r!==null;){if(l=r[or])return l;r=Vm(r)}return s}r=l,l=r.parentNode}return null}function Da(r){return r=r[or]||r[kr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function du(r){return r[ba]||null}var jd=[],lo=-1;function ci(r){return{current:r}}function tt(r){0>lo||(r.current=jd[lo],jd[lo]=null,lo--)}function Ze(r,s){lo++,jd[lo]=r.current,r.current=s}var di={},Ft=ci(di),Zt=ci(!1),ts=di;function uo(r,s){var l=r.type.contextTypes;if(!l)return di;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function en(r){return r=r.childContextTypes,r!=null}function hu(){tt(Zt),tt(Ft)}function Fm(r,s,l){if(Ft.current!==di)throw Error(t(168));Ze(Ft,s),Ze(Zt,l)}function Um(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,ue(r)||"Unknown",p));return oe({},l,d)}function fu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||di,ts=Ft.current,Ze(Ft,r),Ze(Zt,Zt.current),!0}function jm(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Um(r,s,ts),d.__reactInternalMemoizedMergedChildContext=r,tt(Zt),tt(Ft),Ze(Ft,r)):tt(Zt),Ze(Zt,l)}var Nr=null,pu=!1,Bd=!1;function Bm(r){Nr===null?Nr=[r]:Nr.push(r)}function NT(r){pu=!0,Bm(r)}function hi(){if(!Bd&&Nr!==null){Bd=!0;var r=0,s=je;try{var l=Nr;for(je=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Nr=null,pu=!1}catch(p){throw Nr!==null&&(Nr=Nr.slice(r+1)),zs(qi,hi),p}finally{je=s,Bd=!1}}return null}var co=[],ho=0,mu=null,gu=0,wn=[],En=0,ns=null,br=1,Dr="";function rs(r,s){co[ho++]=gu,co[ho++]=mu,mu=r,gu=s}function zm(r,s,l){wn[En++]=br,wn[En++]=Dr,wn[En++]=ns,ns=r;var d=br;r=Dr;var p=32-Kt(d)-1;d&=~(1<<p),l+=1;var g=32-Kt(s)+p;if(30<g){var E=p-p%5;g=(d&(1<<E)-1).toString(32),d>>=E,p-=E,br=1<<32-Kt(s)+p|l<<p|d,Dr=g+r}else br=1<<g|l<<p|d,Dr=r}function zd(r){r.return!==null&&(rs(r,1),zm(r,1,0))}function $d(r){for(;r===mu;)mu=co[--ho],co[ho]=null,gu=co[--ho],co[ho]=null;for(;r===ns;)ns=wn[--En],wn[En]=null,Dr=wn[--En],wn[En]=null,br=wn[--En],wn[En]=null}var cn=null,dn=null,rt=!1,zn=null;function $m(r,s){var l=Cn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Wm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,cn=r,dn=ui(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,cn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ns!==null?{id:br,overflow:Dr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Cn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,cn=r,dn=null,!0):!1;default:return!1}}function Wd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Hd(r){if(rt){var s=dn;if(s){var l=s;if(!Wm(r,s)){if(Wd(r))throw Error(t(418));s=ui(l.nextSibling);var d=cn;s&&Wm(r,s)?$m(d,l):(r.flags=r.flags&-4097|2,rt=!1,cn=r)}}else{if(Wd(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,cn=r}}}function Hm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;cn=r}function vu(r){if(r!==cn)return!1;if(!rt)return Hm(r),rt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Md(r.type,r.memoizedProps)),s&&(s=dn)){if(Wd(r))throw qm(),Error(t(418));for(;s;)$m(r,s),s=ui(s.nextSibling)}if(Hm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){dn=ui(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=cn?ui(r.stateNode.nextSibling):null;return!0}function qm(){for(var r=dn;r;)r=ui(r.nextSibling)}function fo(){dn=cn=null,rt=!1}function qd(r){zn===null?zn=[r]:zn.push(r)}var bT=G.ReactCurrentBatchConfig;function Oa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var b=p.refs;E===null?delete b[g]:b[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function yu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Km(r){var s=r._init;return s(r._payload)}function Gm(r){function s(H,B){if(r){var q=H.deletions;q===null?(H.deletions=[B],H.flags|=16):q.push(B)}}function l(H,B){if(!r)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function d(H,B){for(H=new Map;B!==null;)B.key!==null?H.set(B.key,B):H.set(B.index,B),B=B.sibling;return H}function p(H,B){return H=wi(H,B),H.index=0,H.sibling=null,H}function g(H,B,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<B?(H.flags|=2,B):q):(H.flags|=2,B)):(H.flags|=1048576,B)}function E(H){return r&&H.alternate===null&&(H.flags|=2),H}function b(H,B,q,se){return B===null||B.tag!==6?(B=Vh(q,H.mode,se),B.return=H,B):(B=p(B,q),B.return=H,B)}function F(H,B,q,se){var ge=q.type;return ge===P?te(H,B,q.props.children,se,q.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Te&&Km(ge)===B.type)?(se=p(B,q.props),se.ref=Oa(H,B,q),se.return=H,se):(se=zu(q.type,q.key,q.props,null,H.mode,se),se.ref=Oa(H,B,q),se.return=H,se)}function K(H,B,q,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=Fh(q,H.mode,se),B.return=H,B):(B=p(B,q.children||[]),B.return=H,B)}function te(H,B,q,se,ge){return B===null||B.tag!==7?(B=ds(q,H.mode,se,ge),B.return=H,B):(B=p(B,q),B.return=H,B)}function re(H,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Vh(""+B,H.mode,q),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Z:return q=zu(B.type,B.key,B.props,null,H.mode,q),q.ref=Oa(H,null,B),q.return=H,q;case J:return B=Fh(B,H.mode,q),B.return=H,B;case Te:var se=B._init;return re(H,se(B._payload),q)}if(Er(B)||le(B))return B=ds(B,H.mode,q,null),B.return=H,B;yu(H,B)}return null}function ee(H,B,q,se){var ge=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:b(H,B,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:return q.key===ge?F(H,B,q,se):null;case J:return q.key===ge?K(H,B,q,se):null;case Te:return ge=q._init,ee(H,B,ge(q._payload),se)}if(Er(q)||le(q))return ge!==null?null:te(H,B,q,se,null);yu(H,q)}return null}function ce(H,B,q,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(q)||null,b(B,H,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Z:return H=H.get(se.key===null?q:se.key)||null,F(B,H,se,ge);case J:return H=H.get(se.key===null?q:se.key)||null,K(B,H,se,ge);case Te:var we=se._init;return ce(H,B,q,we(se._payload),ge)}if(Er(se)||le(se))return H=H.get(q)||null,te(B,H,se,ge,null);yu(B,se)}return null}function he(H,B,q,se){for(var ge=null,we=null,Ee=B,Ae=B=0,xt=null;Ee!==null&&Ae<q.length;Ae++){Ee.index>Ae?(xt=Ee,Ee=null):xt=Ee.sibling;var He=ee(H,Ee,q[Ae],se);if(He===null){Ee===null&&(Ee=xt);break}r&&Ee&&He.alternate===null&&s(H,Ee),B=g(He,B,Ae),we===null?ge=He:we.sibling=He,we=He,Ee=xt}if(Ae===q.length)return l(H,Ee),rt&&rs(H,Ae),ge;if(Ee===null){for(;Ae<q.length;Ae++)Ee=re(H,q[Ae],se),Ee!==null&&(B=g(Ee,B,Ae),we===null?ge=Ee:we.sibling=Ee,we=Ee);return rt&&rs(H,Ae),ge}for(Ee=d(H,Ee);Ae<q.length;Ae++)xt=ce(Ee,H,Ae,q[Ae],se),xt!==null&&(r&&xt.alternate!==null&&Ee.delete(xt.key===null?Ae:xt.key),B=g(xt,B,Ae),we===null?ge=xt:we.sibling=xt,we=xt);return r&&Ee.forEach(function(Ei){return s(H,Ei)}),rt&&rs(H,Ae),ge}function pe(H,B,q,se){var ge=le(q);if(typeof ge!="function")throw Error(t(150));if(q=ge.call(q),q==null)throw Error(t(151));for(var we=ge=null,Ee=B,Ae=B=0,xt=null,He=q.next();Ee!==null&&!He.done;Ae++,He=q.next()){Ee.index>Ae?(xt=Ee,Ee=null):xt=Ee.sibling;var Ei=ee(H,Ee,He.value,se);if(Ei===null){Ee===null&&(Ee=xt);break}r&&Ee&&Ei.alternate===null&&s(H,Ee),B=g(Ei,B,Ae),we===null?ge=Ei:we.sibling=Ei,we=Ei,Ee=xt}if(He.done)return l(H,Ee),rt&&rs(H,Ae),ge;if(Ee===null){for(;!He.done;Ae++,He=q.next())He=re(H,He.value,se),He!==null&&(B=g(He,B,Ae),we===null?ge=He:we.sibling=He,we=He);return rt&&rs(H,Ae),ge}for(Ee=d(H,Ee);!He.done;Ae++,He=q.next())He=ce(Ee,H,Ae,He.value,se),He!==null&&(r&&He.alternate!==null&&Ee.delete(He.key===null?Ae:He.key),B=g(He,B,Ae),we===null?ge=He:we.sibling=He,we=He);return r&&Ee.forEach(function(dS){return s(H,dS)}),rt&&rs(H,Ae),ge}function ht(H,B,q,se){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:e:{for(var ge=q.key,we=B;we!==null;){if(we.key===ge){if(ge=q.type,ge===P){if(we.tag===7){l(H,we.sibling),B=p(we,q.props.children),B.return=H,H=B;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Te&&Km(ge)===we.type){l(H,we.sibling),B=p(we,q.props),B.ref=Oa(H,we,q),B.return=H,H=B;break e}l(H,we);break}else s(H,we);we=we.sibling}q.type===P?(B=ds(q.props.children,H.mode,se,q.key),B.return=H,H=B):(se=zu(q.type,q.key,q.props,null,H.mode,se),se.ref=Oa(H,B,q),se.return=H,H=se)}return E(H);case J:e:{for(we=q.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){l(H,B.sibling),B=p(B,q.children||[]),B.return=H,H=B;break e}else{l(H,B);break}else s(H,B);B=B.sibling}B=Fh(q,H.mode,se),B.return=H,H=B}return E(H);case Te:return we=q._init,ht(H,B,we(q._payload),se)}if(Er(q))return he(H,B,q,se);if(le(q))return pe(H,B,q,se);yu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(l(H,B.sibling),B=p(B,q),B.return=H,H=B):(l(H,B),B=Vh(q,H.mode,se),B.return=H,H=B),E(H)):l(H,B)}return ht}var po=Gm(!0),Qm=Gm(!1),_u=ci(null),wu=null,mo=null,Kd=null;function Gd(){Kd=mo=wu=null}function Qd(r){var s=_u.current;tt(_u),r._currentValue=s}function Yd(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function go(r,s){wu=r,Kd=mo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(tn=!0),r.firstContext=null)}function Tn(r){var s=r._currentValue;if(Kd!==r)if(r={context:r,memoizedValue:s,next:null},mo===null){if(wu===null)throw Error(t(308));mo=r,wu.dependencies={lanes:0,firstContext:r}}else mo=mo.next=r;return s}var is=null;function Xd(r){is===null?is=[r]:is.push(r)}function Ym(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Xd(s)):(l.next=p.next,p.next=l),s.interleaved=l,Or(r,d)}function Or(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var fi=!1;function Jd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Lr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function pi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Or(r,l)}return p=d.interleaved,p===null?(s.next=s,Xd(d)):(s.next=p.next,p.next=s),d.interleaved=s,Or(r,l)}function Eu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ri(r,l)}}function Jm(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Tu(r,s,l,d){var p=r.updateQueue;fi=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,b=p.shared.pending;if(b!==null){p.shared.pending=null;var F=b,K=F.next;F.next=null,E===null?g=K:E.next=K,E=F;var te=r.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==E&&(b===null?te.firstBaseUpdate=K:b.next=K,te.lastBaseUpdate=F))}if(g!==null){var re=p.baseState;E=0,te=K=F=null,b=g;do{var ee=b.lane,ce=b.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:ce,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var he=r,pe=b;switch(ee=s,ce=l,pe.tag){case 1:if(he=pe.payload,typeof he=="function"){re=he.call(ce,re,ee);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,ee=typeof he=="function"?he.call(ce,re,ee):he,ee==null)break e;re=oe({},re,ee);break e;case 2:fi=!0}}b.callback!==null&&b.lane!==0&&(r.flags|=64,ee=p.effects,ee===null?p.effects=[b]:ee.push(b))}else ce={eventTime:ce,lane:ee,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(K=te=ce,F=re):te=te.next=ce,E|=ee;if(b=b.next,b===null){if(b=p.shared.pending,b===null)break;ee=b,b=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(F=re),p.baseState=F,p.firstBaseUpdate=K,p.lastBaseUpdate=te,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);as|=E,r.lanes=E,r.memoizedState=re}}function Zm(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var La={},ar=ci(La),Ma=ci(La),Va=ci(La);function ss(r){if(r===La)throw Error(t(174));return r}function Zd(r,s){switch(Ze(Va,s),Ze(Ma,r),Ze(ar,La),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}tt(ar),Ze(ar,s)}function vo(){tt(ar),tt(Ma),tt(Va)}function eg(r){ss(Va.current);var s=ss(ar.current),l=yt(s,r.type);s!==l&&(Ze(Ma,r),Ze(ar,l))}function eh(r){Ma.current===r&&(tt(ar),tt(Ma))}var it=ci(0);function Su(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var th=[];function nh(){for(var r=0;r<th.length;r++)th[r]._workInProgressVersionPrimary=null;th.length=0}var Iu=G.ReactCurrentDispatcher,rh=G.ReactCurrentBatchConfig,os=0,st=null,wt=null,At=null,Cu=!1,Fa=!1,Ua=0,DT=0;function Ut(){throw Error(t(321))}function ih(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Bn(r[l],s[l]))return!1;return!0}function sh(r,s,l,d,p,g){if(os=g,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Iu.current=r===null||r.memoizedState===null?VT:FT,r=l(d,p),Fa){g=0;do{if(Fa=!1,Ua=0,25<=g)throw Error(t(301));g+=1,At=wt=null,s.updateQueue=null,Iu.current=UT,r=l(d,p)}while(Fa)}if(Iu.current=xu,s=wt!==null&&wt.next!==null,os=0,At=wt=st=null,Cu=!1,s)throw Error(t(300));return r}function oh(){var r=Ua!==0;return Ua=0,r}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?st.memoizedState=At=r:At=At.next=r,At}function Sn(){if(wt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=At===null?st.memoizedState:At.next;if(s!==null)At=s,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?st.memoizedState=At=r:At=At.next=r}return At}function ja(r,s){return typeof s=="function"?s(r):s}function ah(r){var s=Sn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=wt,p=d.baseQueue,g=l.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}d.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,d=d.baseState;var b=E=null,F=null,K=g;do{var te=K.lane;if((os&te)===te)F!==null&&(F=F.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:r(d,K.action);else{var re={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};F===null?(b=F=re,E=d):F=F.next=re,st.lanes|=te,as|=te}K=K.next}while(K!==null&&K!==g);F===null?E=d:F.next=b,Bn(d,s.memoizedState)||(tn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=F,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do g=p.lane,st.lanes|=g,as|=g,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function lh(r){var s=Sn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do g=r(g,E.action),E=E.next;while(E!==p);Bn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function tg(){}function ng(r,s){var l=st,d=Sn(),p=s(),g=!Bn(d.memoizedState,p);if(g&&(d.memoizedState=p,tn=!0),d=d.queue,uh(sg.bind(null,l,d,r),[r]),d.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ba(9,ig.bind(null,l,d,p,s),void 0,null),Rt===null)throw Error(t(349));(os&30)!==0||rg(l,s,p)}return p}function rg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function ig(r,s,l,d){s.value=l,s.getSnapshot=d,og(s)&&ag(r)}function sg(r,s,l){return l(function(){og(s)&&ag(r)})}function og(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Bn(r,l)}catch{return!0}}function ag(r){var s=Or(r,1);s!==null&&qn(s,r,1,-1)}function lg(r){var s=lr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:r},s.queue=r,r=r.dispatch=MT.bind(null,st,r),[s.memoizedState,r]}function Ba(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function ug(){return Sn().memoizedState}function Au(r,s,l,d){var p=lr();st.flags|=r,p.memoizedState=Ba(1|s,l,void 0,d===void 0?null:d)}function Ru(r,s,l,d){var p=Sn();d=d===void 0?null:d;var g=void 0;if(wt!==null){var E=wt.memoizedState;if(g=E.destroy,d!==null&&ih(d,E.deps)){p.memoizedState=Ba(s,l,g,d);return}}st.flags|=r,p.memoizedState=Ba(1|s,l,g,d)}function cg(r,s){return Au(8390656,8,r,s)}function uh(r,s){return Ru(2048,8,r,s)}function dg(r,s){return Ru(4,2,r,s)}function hg(r,s){return Ru(4,4,r,s)}function fg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function pg(r,s,l){return l=l!=null?l.concat([r]):null,Ru(4,4,fg.bind(null,s,r),l)}function ch(){}function mg(r,s){var l=Sn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&ih(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function gg(r,s){var l=Sn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&ih(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function vg(r,s,l){return(os&21)===0?(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=l):(Bn(l,s)||(l=Qi(),st.lanes|=l,as|=l,r.baseState=!0),s)}function OT(r,s){var l=je;je=l!==0&&4>l?l:4,r(!0);var d=rh.transition;rh.transition={};try{r(!1),s()}finally{je=l,rh.transition=d}}function yg(){return Sn().memoizedState}function LT(r,s,l){var d=yi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},_g(r))wg(s,l);else if(l=Ym(r,s,l,d),l!==null){var p=Yt();qn(l,r,d,p),Eg(l,s,d)}}function MT(r,s,l){var d=yi(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(_g(r))wg(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,b=g(E,l);if(p.hasEagerState=!0,p.eagerState=b,Bn(b,E)){var F=s.interleaved;F===null?(p.next=p,Xd(s)):(p.next=F.next,F.next=p),s.interleaved=p;return}}catch{}finally{}l=Ym(r,s,p,d),l!==null&&(p=Yt(),qn(l,r,d,p),Eg(l,s,d))}}function _g(r){var s=r.alternate;return r===st||s!==null&&s===st}function wg(r,s){Fa=Cu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Eg(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ri(r,l)}}var xu={readContext:Tn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},VT={readContext:Tn,useCallback:function(r,s){return lr().memoizedState=[r,s===void 0?null:s],r},useContext:Tn,useEffect:cg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Au(4194308,4,fg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Au(4194308,4,r,s)},useInsertionEffect:function(r,s){return Au(4,2,r,s)},useMemo:function(r,s){var l=lr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=lr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=LT.bind(null,st,r),[d.memoizedState,r]},useRef:function(r){var s=lr();return r={current:r},s.memoizedState=r},useState:lg,useDebugValue:ch,useDeferredValue:function(r){return lr().memoizedState=r},useTransition:function(){var r=lg(!1),s=r[0];return r=OT.bind(null,r[1]),lr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=st,p=lr();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Rt===null)throw Error(t(349));(os&30)!==0||rg(d,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,cg(sg.bind(null,d,g,r),[r]),d.flags|=2048,Ba(9,ig.bind(null,d,g,l,s),void 0,null),l},useId:function(){var r=lr(),s=Rt.identifierPrefix;if(rt){var l=Dr,d=br;l=(d&~(1<<32-Kt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ua++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=DT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},FT={readContext:Tn,useCallback:mg,useContext:Tn,useEffect:uh,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:ah,useRef:ug,useState:function(){return ah(ja)},useDebugValue:ch,useDeferredValue:function(r){var s=Sn();return vg(s,wt.memoizedState,r)},useTransition:function(){var r=ah(ja)[0],s=Sn().memoizedState;return[r,s]},useMutableSource:tg,useSyncExternalStore:ng,useId:yg,unstable_isNewReconciler:!1},UT={readContext:Tn,useCallback:mg,useContext:Tn,useEffect:uh,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:lh,useRef:ug,useState:function(){return lh(ja)},useDebugValue:ch,useDeferredValue:function(r){var s=Sn();return wt===null?s.memoizedState=r:vg(s,wt.memoizedState,r)},useTransition:function(){var r=lh(ja)[0],s=Sn().memoizedState;return[r,s]},useMutableSource:tg,useSyncExternalStore:ng,useId:yg,unstable_isNewReconciler:!1};function $n(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function dh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:oe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Pu={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Yt(),p=yi(r),g=Lr(d,p);g.payload=s,l!=null&&(g.callback=l),s=pi(r,g,p),s!==null&&(qn(s,r,p,d),Eu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Yt(),p=yi(r),g=Lr(d,p);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=pi(r,g,p),s!==null&&(qn(s,r,p,d),Eu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Yt(),d=yi(r),p=Lr(l,d);p.tag=2,s!=null&&(p.callback=s),s=pi(r,p,d),s!==null&&(qn(s,r,d,l),Eu(s,r,d))}};function Tg(r,s,l,d,p,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,E):s.prototype&&s.prototype.isPureReactComponent?!Ra(l,d)||!Ra(p,g):!0}function Sg(r,s,l){var d=!1,p=di,g=s.contextType;return typeof g=="object"&&g!==null?g=Tn(g):(p=en(s)?ts:Ft.current,d=s.contextTypes,g=(d=d!=null)?uo(r,p):di),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Pu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),s}function Ig(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Pu.enqueueReplaceState(s,s.state,null)}function hh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Jd(r);var g=s.contextType;typeof g=="object"&&g!==null?p.context=Tn(g):(g=en(s)?ts:Ft.current,p.context=uo(r,g)),p.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(dh(r,s,g,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Pu.enqueueReplaceState(p,p.state,null),Tu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function yo(r,s){try{var l="",d=s;do l+=xe(d),d=d.return;while(d);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:p,digest:null}}function fh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function ph(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var jT=typeof WeakMap=="function"?WeakMap:Map;function Cg(r,s,l){l=Lr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Mu||(Mu=!0,Ph=d),ph(r,s)},l}function Ag(r,s,l){l=Lr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){ph(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){ph(r,s),typeof d!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Rg(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new jT;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=eS.bind(null,r,s,l),s.then(r,r))}function xg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Pg(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Lr(-1,1),s.tag=2,pi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var BT=G.ReactCurrentOwner,tn=!1;function Qt(r,s,l,d){s.child=r===null?Qm(s,null,l,d):po(s,r.child,l,d)}function kg(r,s,l,d,p){l=l.render;var g=s.ref;return go(s,p),d=sh(r,s,l,d,g,p),l=oh(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Mr(r,s,p)):(rt&&l&&zd(s),s.flags|=1,Qt(r,s,d,p),s.child)}function Ng(r,s,l,d,p){if(r===null){var g=l.type;return typeof g=="function"&&!Mh(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,bg(r,s,g,d,p)):(r=zu(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&p)===0){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ra,l(E,d)&&r.ref===s.ref)return Mr(r,s,p)}return s.flags|=1,r=wi(g,d),r.ref=s.ref,r.return=s,s.child=r}function bg(r,s,l,d,p){if(r!==null){var g=r.memoizedProps;if(Ra(g,d)&&r.ref===s.ref)if(tn=!1,s.pendingProps=d=g,(r.lanes&p)!==0)(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,Mr(r,s,p)}return mh(r,s,l,d,p)}function Dg(r,s,l){var d=s.pendingProps,p=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(wo,hn),hn|=l;else{if((l&1073741824)===0)return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ze(wo,hn),hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,Ze(wo,hn),hn|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,Ze(wo,hn),hn|=d;return Qt(r,s,p,l),s.child}function Og(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function mh(r,s,l,d,p){var g=en(l)?ts:Ft.current;return g=uo(s,g),go(s,p),l=sh(r,s,l,d,g,p),d=oh(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Mr(r,s,p)):(rt&&d&&zd(s),s.flags|=1,Qt(r,s,l,p),s.child)}function Lg(r,s,l,d,p){if(en(l)){var g=!0;fu(s)}else g=!1;if(go(s,p),s.stateNode===null)Nu(r,s),Sg(s,l,d),hh(s,l,d,p),d=!0;else if(r===null){var E=s.stateNode,b=s.memoizedProps;E.props=b;var F=E.context,K=l.contextType;typeof K=="object"&&K!==null?K=Tn(K):(K=en(l)?ts:Ft.current,K=uo(s,K));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==d||F!==K)&&Ig(s,E,d,K),fi=!1;var ee=s.memoizedState;E.state=ee,Tu(s,d,E,p),F=s.memoizedState,b!==d||ee!==F||Zt.current||fi?(typeof te=="function"&&(dh(s,l,te,d),F=s.memoizedState),(b=fi||Tg(s,l,b,d,ee,F,K))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=F),E.props=d,E.state=F,E.context=K,d=b):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,Xm(r,s),b=s.memoizedProps,K=s.type===s.elementType?b:$n(s.type,b),E.props=K,re=s.pendingProps,ee=E.context,F=l.contextType,typeof F=="object"&&F!==null?F=Tn(F):(F=en(l)?ts:Ft.current,F=uo(s,F));var ce=l.getDerivedStateFromProps;(te=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==re||ee!==F)&&Ig(s,E,d,F),fi=!1,ee=s.memoizedState,E.state=ee,Tu(s,d,E,p);var he=s.memoizedState;b!==re||ee!==he||Zt.current||fi?(typeof ce=="function"&&(dh(s,l,ce,d),he=s.memoizedState),(K=fi||Tg(s,l,K,d,ee,he,F)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,he,F),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,he,F)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||b===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=he),E.props=d,E.state=he,E.context=F,d=K):(typeof E.componentDidUpdate!="function"||b===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),d=!1)}return gh(r,s,l,d,g,p)}function gh(r,s,l,d,p,g){Og(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return p&&jm(s,l,!1),Mr(r,s,g);d=s.stateNode,BT.current=s;var b=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=po(s,r.child,null,g),s.child=po(s,null,b,g)):Qt(r,s,b,g),s.memoizedState=d.state,p&&jm(s,l,!0),s.child}function Mg(r){var s=r.stateNode;s.pendingContext?Fm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Fm(r,s.context,!1),Zd(r,s.containerInfo)}function Vg(r,s,l,d,p){return fo(),qd(p),s.flags|=256,Qt(r,s,l,d),s.child}var vh={dehydrated:null,treeContext:null,retryLane:0};function yh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Fg(r,s,l){var d=s.pendingProps,p=it.current,g=!1,E=(s.flags&128)!==0,b;if((b=E)||(b=r!==null&&r.memoizedState===null?!1:(p&2)!==0),b?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ze(it,p&1),r===null)return Hd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=d.children,r=d.fallback,g?(d=s.mode,g=s.child,E={mode:"hidden",children:E},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=$u(E,d,0,null),r=ds(r,d,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=yh(l),s.memoizedState=vh,r):_h(s,E));if(p=r.memoizedState,p!==null&&(b=p.dehydrated,b!==null))return zT(r,s,E,d,b,p,l);if(g){g=d.fallback,E=s.mode,p=r.child,b=p.sibling;var F={mode:"hidden",children:d.children};return(E&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=F,s.deletions=null):(d=wi(p,F),d.subtreeFlags=p.subtreeFlags&14680064),b!==null?g=wi(b,g):(g=ds(g,E,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,E=r.child.memoizedState,E=E===null?yh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~l,s.memoizedState=vh,d}return g=r.child,r=g.sibling,d=wi(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function _h(r,s){return s=$u({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ku(r,s,l,d){return d!==null&&qd(d),po(s,r.child,null,l),r=_h(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function zT(r,s,l,d,p,g,E){if(l)return s.flags&256?(s.flags&=-257,d=fh(Error(t(422))),ku(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,p=s.mode,d=$u({mode:"visible",children:d.children},p,0,null),g=ds(g,p,E,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&po(s,r.child,null,E),s.child.memoizedState=yh(E),s.memoizedState=vh,g);if((s.mode&1)===0)return ku(r,s,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var b=d.dgst;return d=b,g=Error(t(419)),d=fh(g,d,void 0),ku(r,s,E,d)}if(b=(E&r.childLanes)!==0,tn||b){if(d=Rt,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Or(r,p),qn(d,r,p,-1))}return Lh(),d=fh(Error(t(421))),ku(r,s,E,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=tS.bind(null,r),p._reactRetry=s,null):(r=g.treeContext,dn=ui(p.nextSibling),cn=s,rt=!0,zn=null,r!==null&&(wn[En++]=br,wn[En++]=Dr,wn[En++]=ns,br=r.id,Dr=r.overflow,ns=s),s=_h(s,d.children),s.flags|=4096,s)}function Ug(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Yd(r.return,s,l)}function wh(r,s,l,d,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=p)}function jg(r,s,l){var d=s.pendingProps,p=d.revealOrder,g=d.tail;if(Qt(r,s,d.children,l),d=it.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ug(r,l,s);else if(r.tag===19)Ug(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ze(it,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Su(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),wh(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Su(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}wh(s,!0,l,null,g);break;case"together":wh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Nu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Mr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),as|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=wi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=wi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function $T(r,s,l){switch(s.tag){case 3:Mg(s),fo();break;case 5:eg(s);break;case 1:en(s.type)&&fu(s);break;case 4:Zd(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Ze(_u,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ze(it,it.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Fg(r,s,l):(Ze(it,it.current&1),r=Mr(r,s,l),r!==null?r.sibling:null);Ze(it,it.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return jg(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ze(it,it.current),d)break;return null;case 22:case 23:return s.lanes=0,Dg(r,s,l)}return Mr(r,s,l)}var Bg,Eh,zg,$g;Bg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Eh=function(){},zg=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,ss(ar.current);var g=null;switch(l){case"input":p=It(r,p),d=It(r,d),g=[];break;case"select":p=oe({},p,{value:void 0}),d=oe({},d,{value:void 0}),g=[];break;case"textarea":p=na(r,p),d=na(r,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=cu)}la(l,d);var E;l=null;for(K in p)if(!d.hasOwnProperty(K)&&p.hasOwnProperty(K)&&p[K]!=null)if(K==="style"){var b=p[K];for(E in b)b.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in d){var F=d[K];if(b=p!=null?p[K]:void 0,d.hasOwnProperty(K)&&F!==b&&(F!=null||b!=null))if(K==="style")if(b){for(E in b)!b.hasOwnProperty(E)||F&&F.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in F)F.hasOwnProperty(E)&&b[E]!==F[E]&&(l||(l={}),l[E]=F[E])}else l||(g||(g=[]),g.push(K,l)),l=F;else K==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,b=b?b.__html:void 0,F!=null&&b!==F&&(g=g||[]).push(K,F)):K==="children"?typeof F!="string"&&typeof F!="number"||(g=g||[]).push(K,""+F):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(F!=null&&K==="onScroll"&&et("scroll",r),g||b===F||(g=[])):(g=g||[]).push(K,F))}l&&(g=g||[]).push("style",l);var K=g;(s.updateQueue=K)&&(s.flags|=4)}},$g=function(r,s,l,d){l!==d&&(s.flags|=4)};function za(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function WT(r,s,l){var d=s.pendingProps;switch($d(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return en(s.type)&&hu(),jt(s),null;case 3:return d=s.stateNode,vo(),tt(Zt),tt(Ft),nh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(vu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zn!==null&&(bh(zn),zn=null))),Eh(r,s),jt(s),null;case 5:eh(s);var p=ss(Va.current);if(l=s.type,r!==null&&s.stateNode!=null)zg(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return jt(s),null}if(r=ss(ar.current),vu(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[or]=s,d[ba]=g,r=(s.mode&1)!==0,l){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(p=0;p<Pa.length;p++)et(Pa[p],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":mn(d,g),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},et("invalid",d);break;case"textarea":Ds(d,g),et("invalid",d)}la(l,g),p=null;for(var E in g)if(g.hasOwnProperty(E)){var b=g[E];E==="children"?typeof b=="string"?d.textContent!==b&&(g.suppressHydrationWarning!==!0&&uu(d.textContent,b,r),p=["children",b]):typeof b=="number"&&d.textContent!==""+b&&(g.suppressHydrationWarning!==!0&&uu(d.textContent,b,r),p=["children",""+b]):o.hasOwnProperty(E)&&b!=null&&E==="onScroll"&&et("scroll",d)}switch(l){case"input":Me(d),bs(d,g,!0);break;case"textarea":Me(d),ra(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=cu)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=vt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[or]=s,r[ba]=d,Bg(r,s,!1,!1),s.stateNode=r;e:{switch(E=ua(l,d),l){case"dialog":et("cancel",r),et("close",r),p=d;break;case"iframe":case"object":case"embed":et("load",r),p=d;break;case"video":case"audio":for(p=0;p<Pa.length;p++)et(Pa[p],r);p=d;break;case"source":et("error",r),p=d;break;case"img":case"image":case"link":et("error",r),et("load",r),p=d;break;case"details":et("toggle",r),p=d;break;case"input":mn(r,d),p=It(r,d),et("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=oe({},d,{value:void 0}),et("invalid",r);break;case"textarea":Ds(r,d),p=na(r,d),et("invalid",r);break;default:p=d}la(l,p),b=p;for(g in b)if(b.hasOwnProperty(g)){var F=b[g];g==="style"?oa(r,F):g==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&ia(r,F)):g==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Jr(r,F):typeof F=="number"&&Jr(r,""+F):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?F!=null&&g==="onScroll"&&et("scroll",r):F!=null&&z(r,g,F,E))}switch(l){case"input":Me(r),bs(r,d,!1);break;case"textarea":Me(r),ra(r);break;case"option":d.value!=null&&r.setAttribute("value",""+ye(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?Tr(r,!!d.multiple,g,!1):d.defaultValue!=null&&Tr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=cu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return jt(s),null;case 6:if(r&&s.stateNode!=null)$g(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=ss(Va.current),ss(ar.current),vu(s)){if(d=s.stateNode,l=s.memoizedProps,d[or]=s,(g=d.nodeValue!==l)&&(r=cn,r!==null))switch(r.tag){case 3:uu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&uu(d.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[or]=s,s.stateNode=d}return jt(s),null;case 13:if(tt(it),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)qm(),fo(),s.flags|=98560,g=!1;else if(g=vu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[or]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),g=!1}else zn!==null&&(bh(zn),zn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(it.current&1)!==0?Et===0&&(Et=3):Lh())),s.updateQueue!==null&&(s.flags|=4),jt(s),null);case 4:return vo(),Eh(r,s),r===null&&ka(s.stateNode.containerInfo),jt(s),null;case 10:return Qd(s.type._context),jt(s),null;case 17:return en(s.type)&&hu(),jt(s),null;case 19:if(tt(it),g=s.memoizedState,g===null)return jt(s),null;if(d=(s.flags&128)!==0,E=g.rendering,E===null)if(d)za(g,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Su(r),E!==null){for(s.flags|=128,za(g,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,r=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ze(it,it.current&1|2),s.child}r=r.sibling}g.tail!==null&&Je()>Eo&&(s.flags|=128,d=!0,za(g,!1),s.lanes=4194304)}else{if(!d)if(r=Su(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),za(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!rt)return jt(s),null}else 2*Je()-g.renderingStartTime>Eo&&l!==1073741824&&(s.flags|=128,d=!0,za(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(l=g.last,l!==null?l.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Je(),s.sibling=null,l=it.current,Ze(it,d?l&1|2:l&1),s):(jt(s),null);case 22:case 23:return Oh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(hn&1073741824)!==0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function HT(r,s){switch($d(s),s.tag){case 1:return en(s.type)&&hu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return vo(),tt(Zt),tt(Ft),nh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return eh(s),null;case 13:if(tt(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(it),null;case 4:return vo(),null;case 10:return Qd(s.type._context),null;case 22:case 23:return Oh(),null;case 24:return null;default:return null}}var bu=!1,Bt=!1,qT=typeof WeakSet=="function"?WeakSet:Set,de=null;function _o(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ut(r,s,d)}else l.current=null}function Th(r,s,l){try{l()}catch(d){ut(r,s,d)}}var Wg=!1;function KT(r,s){if(Od=oi,r=Tm(),Ad(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,b=-1,F=-1,K=0,te=0,re=r,ee=null;t:for(;;){for(var ce;re!==l||p!==0&&re.nodeType!==3||(b=E+p),re!==g||d!==0&&re.nodeType!==3||(F=E+d),re.nodeType===3&&(E+=re.nodeValue.length),(ce=re.firstChild)!==null;)ee=re,re=ce;for(;;){if(re===r)break t;if(ee===l&&++K===p&&(b=E),ee===g&&++te===d&&(F=E),(ce=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ce}l=b===-1||F===-1?null:{start:b,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ld={focusedElem:r,selectionRange:l},oi=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var pe=he.memoizedProps,ht=he.memoizedState,H=s.stateNode,B=H.getSnapshotBeforeUpdate(s.elementType===s.type?pe:$n(s.type,pe),ht);H.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ut(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return he=Wg,Wg=!1,he}function $a(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&Th(s,l,g)}p=p.next}while(p!==d)}}function Du(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Sh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Hg(r){var s=r.alternate;s!==null&&(r.alternate=null,Hg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[or],delete s[ba],delete s[Ud],delete s[PT],delete s[kT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function qg(r){return r.tag===5||r.tag===3||r.tag===4}function Kg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||qg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ih(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=cu));else if(d!==4&&(r=r.child,r!==null))for(Ih(r,s,l),r=r.sibling;r!==null;)Ih(r,s,l),r=r.sibling}function Ch(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Ch(r,s,l),r=r.sibling;r!==null;)Ch(r,s,l),r=r.sibling}var bt=null,Wn=!1;function mi(r,s,l){for(l=l.child;l!==null;)Gg(r,s,l),l=l.sibling}function Gg(r,s,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ki,l)}catch{}switch(l.tag){case 5:Bt||_o(l,s);case 6:var d=bt,p=Wn;bt=null,mi(r,s,l),bt=d,Wn=p,bt!==null&&(Wn?(r=bt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(Wn?(r=bt,l=l.stateNode,r.nodeType===8?Fd(r.parentNode,l):r.nodeType===1&&Fd(r,l),Un(r)):Fd(bt,l.stateNode));break;case 4:d=bt,p=Wn,bt=l.stateNode.containerInfo,Wn=!0,mi(r,s,l),bt=d,Wn=p;break;case 0:case 11:case 14:case 15:if(!Bt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&Th(l,s,E),p=p.next}while(p!==d)}mi(r,s,l);break;case 1:if(!Bt&&(_o(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(b){ut(l,s,b)}mi(r,s,l);break;case 21:mi(r,s,l);break;case 22:l.mode&1?(Bt=(d=Bt)||l.memoizedState!==null,mi(r,s,l),Bt=d):mi(r,s,l);break;default:mi(r,s,l)}}function Qg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new qT),s.forEach(function(d){var p=nS.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Hn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var g=r,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 5:bt=b.stateNode,Wn=!1;break e;case 3:bt=b.stateNode.containerInfo,Wn=!0;break e;case 4:bt=b.stateNode.containerInfo,Wn=!0;break e}b=b.return}if(bt===null)throw Error(t(160));Gg(g,E,p),bt=null,Wn=!1;var F=p.alternate;F!==null&&(F.return=null),p.return=null}catch(K){ut(p,s,K)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Yg(s,r),s=s.sibling}function Yg(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Hn(s,r),ur(r),d&4){try{$a(3,r,r.return),Du(3,r)}catch(pe){ut(r,r.return,pe)}try{$a(5,r,r.return)}catch(pe){ut(r,r.return,pe)}}break;case 1:Hn(s,r),ur(r),d&512&&l!==null&&_o(l,l.return);break;case 5:if(Hn(s,r),ur(r),d&512&&l!==null&&_o(l,l.return),r.flags&32){var p=r.stateNode;try{Jr(p,"")}catch(pe){ut(r,r.return,pe)}}if(d&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,E=l!==null?l.memoizedProps:g,b=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{b==="input"&&g.type==="radio"&&g.name!=null&&Pn(p,g),ua(b,E);var K=ua(b,g);for(E=0;E<F.length;E+=2){var te=F[E],re=F[E+1];te==="style"?oa(p,re):te==="dangerouslySetInnerHTML"?ia(p,re):te==="children"?Jr(p,re):z(p,te,re,K)}switch(b){case"input":kn(p,g);break;case"textarea":Os(p,g);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ce=g.value;ce!=null?Tr(p,!!g.multiple,ce,!1):ee!==!!g.multiple&&(g.defaultValue!=null?Tr(p,!!g.multiple,g.defaultValue,!0):Tr(p,!!g.multiple,g.multiple?[]:"",!1))}p[ba]=g}catch(pe){ut(r,r.return,pe)}}break;case 6:if(Hn(s,r),ur(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(pe){ut(r,r.return,pe)}}break;case 3:if(Hn(s,r),ur(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Un(s.containerInfo)}catch(pe){ut(r,r.return,pe)}break;case 4:Hn(s,r),ur(r);break;case 13:Hn(s,r),ur(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(xh=Je())),d&4&&Qg(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Bt=(K=Bt)||te,Hn(s,r),Bt=K):Hn(s,r),ur(r),d&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!te&&(r.mode&1)!==0)for(de=r,te=r.child;te!==null;){for(re=de=te;de!==null;){switch(ee=de,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:$a(4,ee,ee.return);break;case 1:_o(ee,ee.return);var he=ee.stateNode;if(typeof he.componentWillUnmount=="function"){d=ee,l=ee.return;try{s=d,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(pe){ut(d,l,pe)}}break;case 5:_o(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Zg(re);continue}}ce!==null?(ce.return=ee,de=ce):Zg(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{p=re.stateNode,K?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(b=re.stateNode,F=re.memoizedProps.style,E=F!=null&&F.hasOwnProperty("display")?F.display:null,b.style.display=sa("display",E))}catch(pe){ut(r,r.return,pe)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(pe){ut(r,r.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Hn(s,r),ur(r),d&4&&Qg(r);break;case 21:break;default:Hn(s,r),ur(r)}}function ur(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(qg(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Jr(p,""),d.flags&=-33);var g=Kg(r);Ch(r,g,p);break;case 3:case 4:var E=d.stateNode.containerInfo,b=Kg(r);Ih(r,b,E);break;default:throw Error(t(161))}}catch(F){ut(r,r.return,F)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function GT(r,s,l){de=r,Xg(r)}function Xg(r,s,l){for(var d=(r.mode&1)!==0;de!==null;){var p=de,g=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||bu;if(!E){var b=p.alternate,F=b!==null&&b.memoizedState!==null||Bt;b=bu;var K=Bt;if(bu=E,(Bt=F)&&!K)for(de=p;de!==null;)E=de,F=E.child,E.tag===22&&E.memoizedState!==null?ev(p):F!==null?(F.return=E,de=F):ev(p);for(;g!==null;)de=g,Xg(g),g=g.sibling;de=p,bu=b,Bt=K}Jg(r)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,de=g):Jg(r)}}function Jg(r){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Bt||Du(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Bt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:$n(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Zm(s,g,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Zm(s,E,l)}break;case 5:var b=s.stateNode;if(l===null&&s.flags&4){l=b;var F=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var K=s.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Un(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||s.flags&512&&Sh(s)}catch(ee){ut(s,s.return,ee)}}if(s===r){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function Zg(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function ev(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Du(4,s)}catch(F){ut(s,l,F)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(F){ut(s,p,F)}}var g=s.return;try{Sh(s)}catch(F){ut(s,g,F)}break;case 5:var E=s.return;try{Sh(s)}catch(F){ut(s,E,F)}}}catch(F){ut(s,s.return,F)}if(s===r){de=null;break}var b=s.sibling;if(b!==null){b.return=s.return,de=b;break}de=s.return}}var QT=Math.ceil,Ou=G.ReactCurrentDispatcher,Ah=G.ReactCurrentOwner,In=G.ReactCurrentBatchConfig,We=0,Rt=null,mt=null,Dt=0,hn=0,wo=ci(0),Et=0,Wa=null,as=0,Lu=0,Rh=0,Ha=null,nn=null,xh=0,Eo=1/0,Vr=null,Mu=!1,Ph=null,gi=null,Vu=!1,vi=null,Fu=0,qa=0,kh=null,Uu=-1,ju=0;function Yt(){return(We&6)!==0?Je():Uu!==-1?Uu:Uu=Je()}function yi(r){return(r.mode&1)===0?1:(We&2)!==0&&Dt!==0?Dt&-Dt:bT.transition!==null?(ju===0&&(ju=Qi()),ju):(r=je,r!==0||(r=window.event,r=r===void 0?16:wa(r.type)),r)}function qn(r,s,l,d){if(50<qa)throw qa=0,kh=null,Error(t(185));ni(r,l,d),((We&2)===0||r!==Rt)&&(r===Rt&&((We&2)===0&&(Lu|=l),Et===4&&_i(r,Dt)),rn(r,d),l===1&&We===0&&(s.mode&1)===0&&(Eo=Je()+500,pu&&hi()))}function rn(r,s){var l=r.callbackNode;Cr(r,s);var d=Gi(r,r===Rt?Dt:0);if(d===0)l!==null&&ma(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&ma(l),s===1)r.tag===0?NT(nv.bind(null,r)):Bm(nv.bind(null,r)),RT(function(){(We&6)===0&&hi()}),l=null;else{switch(ii(d)){case 1:l=qi;break;case 4:l=Zr;break;case 16:l=vn;break;case 536870912:l=jl;break;default:l=vn}l=cv(l,tv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function tv(r,s){if(Uu=-1,ju=0,(We&6)!==0)throw Error(t(327));var l=r.callbackNode;if(To()&&r.callbackNode!==l)return null;var d=Gi(r,r===Rt?Dt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=Bu(r,d);else{s=d;var p=We;We|=2;var g=iv();(Rt!==r||Dt!==s)&&(Vr=null,Eo=Je()+500,us(r,s));do try{JT();break}catch(b){rv(r,b)}while(!0);Gd(),Ou.current=g,We=p,mt!==null?s=0:(Rt=null,Dt=0,s=Et)}if(s!==0){if(s===2&&(p=an(r),p!==0&&(d=p,s=Nh(r,p))),s===1)throw l=Wa,us(r,0),_i(r,d),rn(r,Je()),l;if(s===6)_i(r,d);else{if(p=r.current.alternate,(d&30)===0&&!YT(p)&&(s=Bu(r,d),s===2&&(g=an(r),g!==0&&(d=g,s=Nh(r,g))),s===1))throw l=Wa,us(r,0),_i(r,d),rn(r,Je()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:cs(r,nn,Vr);break;case 3:if(_i(r,d),(d&130023424)===d&&(s=xh+500-Je(),10<s)){if(Gi(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Yt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Vd(cs.bind(null,r,nn,Vr),s);break}cs(r,nn,Vr);break;case 4:if(_i(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var E=31-Kt(d);g=1<<E,E=s[E],E>p&&(p=E),d&=~g}if(d=p,d=Je()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*QT(d/1960))-d,10<d){r.timeoutHandle=Vd(cs.bind(null,r,nn,Vr),d);break}cs(r,nn,Vr);break;case 5:cs(r,nn,Vr);break;default:throw Error(t(329))}}}return rn(r,Je()),r.callbackNode===l?tv.bind(null,r):null}function Nh(r,s){var l=Ha;return r.current.memoizedState.isDehydrated&&(us(r,s).flags|=256),r=Bu(r,s),r!==2&&(s=nn,nn=l,s!==null&&bh(s)),r}function bh(r){nn===null?nn=r:nn.push.apply(nn,r)}function YT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],g=p.getSnapshot;p=p.value;try{if(!Bn(g(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(r,s){for(s&=~Rh,s&=~Lu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Kt(s),d=1<<l;r[l]=-1,s&=~d}}function nv(r){if((We&6)!==0)throw Error(t(327));To();var s=Gi(r,0);if((s&1)===0)return rn(r,Je()),null;var l=Bu(r,s);if(r.tag!==0&&l===2){var d=an(r);d!==0&&(s=d,l=Nh(r,d))}if(l===1)throw l=Wa,us(r,0),_i(r,s),rn(r,Je()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,cs(r,nn,Vr),rn(r,Je()),null}function Dh(r,s){var l=We;We|=1;try{return r(s)}finally{We=l,We===0&&(Eo=Je()+500,pu&&hi())}}function ls(r){vi!==null&&vi.tag===0&&(We&6)===0&&To();var s=We;We|=1;var l=In.transition,d=je;try{if(In.transition=null,je=1,r)return r()}finally{je=d,In.transition=l,We=s,(We&6)===0&&hi()}}function Oh(){hn=wo.current,tt(wo)}function us(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,AT(l)),mt!==null)for(l=mt.return;l!==null;){var d=l;switch($d(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&hu();break;case 3:vo(),tt(Zt),tt(Ft),nh();break;case 5:eh(d);break;case 4:vo();break;case 13:tt(it);break;case 19:tt(it);break;case 10:Qd(d.type._context);break;case 22:case 23:Oh()}l=l.return}if(Rt=r,mt=r=wi(r.current,null),Dt=hn=s,Et=0,Wa=null,Rh=Lu=as=0,nn=Ha=null,is!==null){for(s=0;s<is.length;s++)if(l=is[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,g=l.pending;if(g!==null){var E=g.next;g.next=p,d.next=E}l.pending=d}is=null}return r}function rv(r,s){do{var l=mt;try{if(Gd(),Iu.current=xu,Cu){for(var d=st.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Cu=!1}if(os=0,At=wt=st=null,Fa=!1,Ua=0,Ah.current=null,l===null||l.return===null){Et=1,Wa=s,mt=null;break}e:{var g=r,E=l.return,b=l,F=s;if(s=Dt,b.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var K=F,te=b,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ce=xg(E);if(ce!==null){ce.flags&=-257,Pg(ce,E,b,g,s),ce.mode&1&&Rg(g,K,s),s=ce,F=K;var he=s.updateQueue;if(he===null){var pe=new Set;pe.add(F),s.updateQueue=pe}else he.add(F);break e}else{if((s&1)===0){Rg(g,K,s),Lh();break e}F=Error(t(426))}}else if(rt&&b.mode&1){var ht=xg(E);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Pg(ht,E,b,g,s),qd(yo(F,b));break e}}g=F=yo(F,b),Et!==4&&(Et=2),Ha===null?Ha=[g]:Ha.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var H=Cg(g,F,s);Jm(g,H);break e;case 1:b=F;var B=g.type,q=g.stateNode;if((g.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(gi===null||!gi.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=Ag(g,b,s);Jm(g,se);break e}}g=g.return}while(g!==null)}ov(l)}catch(ge){s=ge,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(!0)}function iv(){var r=Ou.current;return Ou.current=xu,r===null?xu:r}function Lh(){(Et===0||Et===3||Et===2)&&(Et=4),Rt===null||(as&268435455)===0&&(Lu&268435455)===0||_i(Rt,Dt)}function Bu(r,s){var l=We;We|=2;var d=iv();(Rt!==r||Dt!==s)&&(Vr=null,us(r,s));do try{XT();break}catch(p){rv(r,p)}while(!0);if(Gd(),We=l,Ou.current=d,mt!==null)throw Error(t(261));return Rt=null,Dt=0,Et}function XT(){for(;mt!==null;)sv(mt)}function JT(){for(;mt!==null&&!Fl();)sv(mt)}function sv(r){var s=uv(r.alternate,r,hn);r.memoizedProps=r.pendingProps,s===null?ov(r):mt=s,Ah.current=null}function ov(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=WT(l,s,hn),l!==null){mt=l;return}}else{if(l=HT(l,s),l!==null){l.flags&=32767,mt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,mt=null;return}}if(s=s.sibling,s!==null){mt=s;return}mt=s=r}while(s!==null);Et===0&&(Et=5)}function cs(r,s,l){var d=je,p=In.transition;try{In.transition=null,je=1,ZT(r,s,l,d)}finally{In.transition=p,je=d}return null}function ZT(r,s,l,d){do To();while(vi!==null);if((We&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Ye(r,g),r===Rt&&(mt=Rt=null,Dt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Vu||(Vu=!0,cv(vn,function(){return To(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=In.transition,In.transition=null;var E=je;je=1;var b=We;We|=4,Ah.current=null,KT(r,l),Yg(l,r),_T(Ld),oi=!!Od,Ld=Od=null,r.current=l,GT(l),yd(),We=b,je=E,In.transition=g}else r.current=l;if(Vu&&(Vu=!1,vi=r,Fu=p),g=r.pendingLanes,g===0&&(gi=null),Bl(l.stateNode),rn(r,Je()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Mu)throw Mu=!1,r=Ph,Ph=null,r;return(Fu&1)!==0&&r.tag!==0&&To(),g=r.pendingLanes,(g&1)!==0?r===kh?qa++:(qa=0,kh=r):qa=0,hi(),null}function To(){if(vi!==null){var r=ii(Fu),s=In.transition,l=je;try{if(In.transition=null,je=16>r?16:r,vi===null)var d=!1;else{if(r=vi,vi=null,Fu=0,(We&6)!==0)throw Error(t(331));var p=We;for(We|=4,de=r.current;de!==null;){var g=de,E=g.child;if((de.flags&16)!==0){var b=g.deletions;if(b!==null){for(var F=0;F<b.length;F++){var K=b[F];for(de=K;de!==null;){var te=de;switch(te.tag){case 0:case 11:case 15:$a(8,te,g)}var re=te.child;if(re!==null)re.return=te,de=re;else for(;de!==null;){te=de;var ee=te.sibling,ce=te.return;if(Hg(te),te===K){de=null;break}if(ee!==null){ee.return=ce,de=ee;break}de=ce}}}var he=g.alternate;if(he!==null){var pe=he.child;if(pe!==null){he.child=null;do{var ht=pe.sibling;pe.sibling=null,pe=ht}while(pe!==null)}}de=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,de=E;else e:for(;de!==null;){if(g=de,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:$a(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,de=H;break e}de=g.return}}var B=r.current;for(de=B;de!==null;){E=de;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,de=q;else e:for(E=B;de!==null;){if(b=de,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Du(9,b)}}catch(ge){ut(b,b.return,ge)}if(b===E){de=null;break e}var se=b.sibling;if(se!==null){se.return=b.return,de=se;break e}de=b.return}}if(We=p,hi(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ki,r)}catch{}d=!0}return d}finally{je=l,In.transition=s}}return!1}function av(r,s,l){s=yo(l,s),s=Cg(r,s,1),r=pi(r,s,1),s=Yt(),r!==null&&(ni(r,1,s),rn(r,s))}function ut(r,s,l){if(r.tag===3)av(r,r,l);else for(;s!==null;){if(s.tag===3){av(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(gi===null||!gi.has(d))){r=yo(l,r),r=Ag(s,r,1),s=pi(s,r,1),r=Yt(),s!==null&&(ni(s,1,r),rn(s,r));break}}s=s.return}}function eS(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Yt(),r.pingedLanes|=r.suspendedLanes&l,Rt===r&&(Dt&l)===l&&(Et===4||Et===3&&(Dt&130023424)===Dt&&500>Je()-xh?us(r,0):Rh|=l),rn(r,s)}function lv(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ws,Ws<<=1,(Ws&130023424)===0&&(Ws=4194304)));var l=Yt();r=Or(r,s),r!==null&&(ni(r,s,l),rn(r,l))}function tS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),lv(r,l)}function nS(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),lv(r,l)}var uv;uv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)tn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return tn=!1,$T(r,s,l);tn=(r.flags&131072)!==0}else tn=!1,rt&&(s.flags&1048576)!==0&&zm(s,gu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Nu(r,s),r=s.pendingProps;var p=uo(s,Ft.current);go(s,l),p=sh(null,s,d,r,p,l);var g=oh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,en(d)?(g=!0,fu(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Jd(s),p.updater=Pu,s.stateNode=p,p._reactInternals=s,hh(s,d,r,l),s=gh(null,s,d,!0,g,l)):(s.tag=0,rt&&g&&zd(s),Qt(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Nu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=iS(d),r=$n(d,r),p){case 0:s=mh(null,s,d,r,l);break e;case 1:s=Lg(null,s,d,r,l);break e;case 11:s=kg(null,s,d,r,l);break e;case 14:s=Ng(null,s,d,$n(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),mh(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),Lg(r,s,d,p,l);case 3:e:{if(Mg(s),r===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,p=g.element,Xm(r,s),Tu(s,d,null,l);var E=s.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=yo(Error(t(423)),s),s=Vg(r,s,d,l,p);break e}else if(d!==p){p=yo(Error(t(424)),s),s=Vg(r,s,d,l,p);break e}else for(dn=ui(s.stateNode.containerInfo.firstChild),cn=s,rt=!0,zn=null,l=Qm(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fo(),d===p){s=Mr(r,s,l);break e}Qt(r,s,d,l)}s=s.child}return s;case 5:return eg(s),r===null&&Hd(s),d=s.type,p=s.pendingProps,g=r!==null?r.memoizedProps:null,E=p.children,Md(d,p)?E=null:g!==null&&Md(d,g)&&(s.flags|=32),Og(r,s),Qt(r,s,E,l),s.child;case 6:return r===null&&Hd(s),null;case 13:return Fg(r,s,l);case 4:return Zd(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=po(s,null,d,l):Qt(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),kg(r,s,d,p,l);case 7:return Qt(r,s,s.pendingProps,l),s.child;case 8:return Qt(r,s,s.pendingProps.children,l),s.child;case 12:return Qt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,g=s.memoizedProps,E=p.value,Ze(_u,d._currentValue),d._currentValue=E,g!==null)if(Bn(g.value,E)){if(g.children===p.children&&!Zt.current){s=Mr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var b=g.dependencies;if(b!==null){E=g.child;for(var F=b.firstContext;F!==null;){if(F.context===d){if(g.tag===1){F=Lr(-1,l&-l),F.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?F.next=F:(F.next=te.next,te.next=F),K.pending=F}}g.lanes|=l,F=g.alternate,F!==null&&(F.lanes|=l),Yd(g.return,l,s),b.lanes|=l;break}F=F.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,b=E.alternate,b!==null&&(b.lanes|=l),Yd(E,l,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Qt(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,go(s,l),p=Tn(p),d=d(p),s.flags|=1,Qt(r,s,d,l),s.child;case 14:return d=s.type,p=$n(d,s.pendingProps),p=$n(d.type,p),Ng(r,s,d,p,l);case 15:return bg(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),Nu(r,s),s.tag=1,en(d)?(r=!0,fu(s)):r=!1,go(s,l),Sg(s,d,p),hh(s,d,p,l),gh(null,s,d,!0,r,l);case 19:return jg(r,s,l);case 22:return Dg(r,s,l)}throw Error(t(156,s.tag))};function cv(r,s){return zs(r,s)}function rS(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,s,l,d){return new rS(r,s,l,d)}function Mh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function iS(r){if(typeof r=="function")return Mh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===Le)return 14}return 2}function wi(r,s){var l=r.alternate;return l===null?(l=Cn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function zu(r,s,l,d,p,g){var E=2;if(d=r,typeof r=="function")Mh(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case P:return ds(l.children,p,g,s);case x:E=8,p|=8;break;case N:return r=Cn(12,l,s,p|2),r.elementType=N,r.lanes=g,r;case k:return r=Cn(13,l,s,p),r.elementType=k,r.lanes=g,r;case _e:return r=Cn(19,l,s,p),r.elementType=_e,r.lanes=g,r;case ve:return $u(l,p,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:E=10;break e;case V:E=9;break e;case j:E=11;break e;case Le:E=14;break e;case Te:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Cn(E,l,s,p),s.elementType=r,s.type=d,s.lanes=g,s}function ds(r,s,l,d){return r=Cn(7,r,d,s),r.lanes=l,r}function $u(r,s,l,d){return r=Cn(22,r,d,s),r.elementType=ve,r.lanes=l,r.stateNode={isHidden:!1},r}function Vh(r,s,l){return r=Cn(6,r,null,s),r.lanes=l,r}function Fh(r,s,l){return s=Cn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function sS(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Uh(r,s,l,d,p,g,E,b,F){return r=new sS(r,s,l,b,F),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Cn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jd(g),r}function oS(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function dv(r){if(!r)return di;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(en(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(en(l))return Um(r,l,s)}return s}function hv(r,s,l,d,p,g,E,b,F){return r=Uh(l,d,!0,r,p,g,E,b,F),r.context=dv(null),l=r.current,d=Yt(),p=yi(l),g=Lr(d,p),g.callback=s??null,pi(l,g,p),r.current.lanes=p,ni(r,p,d),rn(r,d),r}function Wu(r,s,l,d){var p=s.current,g=Yt(),E=yi(p);return l=dv(l),s.context===null?s.context=l:s.pendingContext=l,s=Lr(g,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=pi(p,s,E),r!==null&&(qn(r,p,E,g),Eu(r,p,E)),E}function Hu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function fv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function jh(r,s){fv(r,s),(r=r.alternate)&&fv(r,s)}function aS(){return null}var pv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Bh(r){this._internalRoot=r}qu.prototype.render=Bh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Wu(r,s,null,null)},qu.prototype.unmount=Bh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ls(function(){Wu(null,r,null,null)}),s[kr]=null}};function qu(r){this._internalRoot=r}qu.prototype.unstable_scheduleHydration=function(r){if(r){var s=ql();r={blockedOn:null,target:r,priority:s};for(var l=0;l<nr.length&&s!==0&&s<nr[l].priority;l++);nr.splice(l,0,r),l===0&&Ql(r)}};function zh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ku(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function mv(){}function lS(r,s,l,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var K=Hu(E);g.call(K)}}var E=hv(s,d,r,0,null,!1,!1,"",mv);return r._reactRootContainer=E,r[kr]=E.current,ka(r.nodeType===8?r.parentNode:r),ls(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var b=d;d=function(){var K=Hu(F);b.call(K)}}var F=Uh(r,0,!1,null,null,!1,!1,"",mv);return r._reactRootContainer=F,r[kr]=F.current,ka(r.nodeType===8?r.parentNode:r),ls(function(){Wu(s,F,l,d)}),F}function Gu(r,s,l,d,p){var g=l._reactRootContainer;if(g){var E=g;if(typeof p=="function"){var b=p;p=function(){var F=Hu(E);b.call(F)}}Wu(s,E,r,p)}else E=lS(l,s,r,p,d);return Hu(E)}Wl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ei(s.pendingLanes);l!==0&&(ri(s,l|1),rn(s,Je()),(We&6)===0&&(Eo=Je()+500,hi()))}break;case 13:ls(function(){var d=Or(r,1);if(d!==null){var p=Yt();qn(d,r,1,p)}}),jh(r,1)}},Hs=function(r){if(r.tag===13){var s=Or(r,134217728);if(s!==null){var l=Yt();qn(s,r,134217728,l)}jh(r,134217728)}},Hl=function(r){if(r.tag===13){var s=yi(r),l=Or(r,s);if(l!==null){var d=Yt();qn(l,r,s,d)}jh(r,s)}},ql=function(){return je},Kl=function(r,s){var l=je;try{return je=r,s()}finally{je=l}},Ms=function(r,s,l){switch(s){case"input":if(kn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=du(d);if(!p)throw Error(t(90));Ue(d),kn(d,p)}}}break;case"textarea":Os(r,l);break;case"select":s=l.value,s!=null&&Tr(r,!!l.multiple,s,!1)}},zi=Dh,da=ls;var uS={usingClientEntryPoint:!1,Events:[Da,ao,du,er,ca,Dh]},Ka={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cS={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=pa(r),r===null?null:r.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||aS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Ki=Qu.inject(cS),on=Qu}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uS,sn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zh(s))throw Error(t(200));return oS(r,s,null,l)},sn.createRoot=function(r,s){if(!zh(r))throw Error(t(299));var l=!1,d="",p=pv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Uh(r,1,!1,null,null,l,!1,d,p),r[kr]=s.current,ka(r.nodeType===8?r.parentNode:r),new Bh(s)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=pa(s),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return ls(r)},sn.hydrate=function(r,s,l){if(!Ku(s))throw Error(t(200));return Gu(null,r,s,!0,l)},sn.hydrateRoot=function(r,s,l){if(!zh(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,g="",E=pv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=hv(s,null,r,1,l??null,p,!1,g,E),r[kr]=s.current,ka(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new qu(s)},sn.render=function(r,s,l){if(!Ku(s))throw Error(t(200));return Gu(null,r,s,!1,l)},sn.unmountComponentAtNode=function(r){if(!Ku(r))throw Error(t(40));return r._reactRootContainer?(ls(function(){Gu(null,null,r,!1,function(){r._reactRootContainer=null,r[kr]=null})}),!0):!1},sn.unstable_batchedUpdates=Dh,sn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Ku(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Gu(r,s,l,!1,d)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var Sv;function g_(){if(Sv)return Hh.exports;Sv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hh.exports=yS(),Hh.exports}var Iv;function _S(){if(Iv)return Yu;Iv=1;var n=g_();return Yu.createRoot=n.createRoot,Yu.hydrateRoot=n.hydrateRoot,Yu}var wS=_S();const ES=Zf(wS);function TS({className:n}){return O.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:O.jsx("path",{d:"M17 10h-1V8a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2Zm-7-2a2 2 0 1 1 4 0v2h-4V8Zm3.5 9.73V19h-3v-1.27a2 2 0 1 1 3 0Z"})})}function SS({className:n}){return O.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:O.jsx("path",{d:"M17 10h-7V8a2 2 0 1 1 4 0h2a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2Zm-4.5 7.73V19h-3v-1.27a2 2 0 1 1 3 0Z"})})}function IS({className:n}){return O.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[O.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),O.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}function CS({className:n}){return O.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[O.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),O.jsx("circle",{cx:"12",cy:"13",r:"4"})]})}function AS({className:n}){return O.jsxs("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",children:[O.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),O.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),O.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),O.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Ke(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Cv(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function v_(...n){return e=>{let t=!1;const i=n.map(o=>{const a=Cv(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():Cv(n[o],null)}}}}function ot(...n){return R.useCallback(v_(...n),n)}function RS(n,e){const t=R.createContext(e),i=a=>{const{children:c,...h}=a,f=R.useMemo(()=>h,Object.values(h));return O.jsx(t.Provider,{value:f,children:c})};i.displayName=n+"Provider";function o(a){const c=R.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[i,o]}function wl(n,e=[]){let t=[];function i(a,c){const h=R.createContext(c),f=t.length;t=[...t,c];const v=w=>{var M;const{scope:T,children:A,...L}=w,S=((M=T==null?void 0:T[n])==null?void 0:M[f])||h,C=R.useMemo(()=>L,Object.values(L));return O.jsx(S.Provider,{value:C,children:A})};v.displayName=a+"Provider";function _(w,T){var S;const A=((S=T==null?void 0:T[n])==null?void 0:S[f])||h,L=R.useContext(A);if(L)return L;if(c!==void 0)return c;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[v,_]}const o=()=>{const a=t.map(c=>R.createContext(c));return function(h){const f=(h==null?void 0:h[n])||a;return R.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return o.scopeName=n,[i,xS(o,...e)]}function xS(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=i.reduce((h,{useScope:f,scopeName:v})=>{const w=f(a)[`__scope${v}`];return{...h,...w}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var El=g_();const PS=Zf(El);function sl(n){const e=kS(n),t=R.forwardRef((i,o)=>{const{children:a,...c}=i,h=R.Children.toArray(a),f=h.find(bS);if(f){const v=f.props.children,_=h.map(w=>w===f?R.Children.count(v)>1?R.Children.only(null):R.isValidElement(v)?v.props.children:null:w);return O.jsx(e,{...c,ref:o,children:R.isValidElement(v)?R.cloneElement(v,void 0,_):null})}return O.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function kS(n){const e=R.forwardRef((t,i)=>{const{children:o,...a}=t;if(R.isValidElement(o)){const c=OS(o),h=DS(a,o.props);return o.type!==R.Fragment&&(h.ref=i?v_(i,c):c),R.cloneElement(o,h)}return R.Children.count(o)>1?R.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var y_=Symbol("radix.slottable");function NS(n){const e=({children:t})=>O.jsx(O.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=y_,e}function bS(n){return R.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===y_}function DS(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function OS(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var LS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=LS.reduce((n,e)=>{const t=sl(`Primitive.${e}`),i=R.forwardRef((o,a)=>{const{asChild:c,...h}=o,f=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(f,{...h,ref:a})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function MS(n,e){n&&El.flushSync(()=>n.dispatchEvent(e))}function ws(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n}),R.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function VS(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n);R.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var FS="DismissableLayer",yf="dismissableLayer.update",US="dismissableLayer.pointerDownOutside",jS="dismissableLayer.focusOutside",Av,__=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$c=R.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...f}=n,v=R.useContext(__),[_,w]=R.useState(null),T=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=R.useState({}),L=ot(e,P=>w(P)),S=Array.from(v.layers),[C]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),M=S.indexOf(C),U=_?S.indexOf(_):-1,z=v.layersWithOutsidePointerEventsDisabled.size>0,G=U>=M,Z=$S(P=>{const x=P.target,N=[...v.branches].some(D=>D.contains(x));!G||N||(o==null||o(P),c==null||c(P),P.defaultPrevented||h==null||h())},T),J=WS(P=>{const x=P.target;[...v.branches].some(D=>D.contains(x))||(a==null||a(P),c==null||c(P),P.defaultPrevented||h==null||h())},T);return VS(P=>{U===v.layers.size-1&&(i==null||i(P),!P.defaultPrevented&&h&&(P.preventDefault(),h()))},T),R.useEffect(()=>{if(_)return t&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(Av=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(_)),v.layers.add(_),Rv(),()=>{t&&v.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=Av)}},[_,T,t,v]),R.useEffect(()=>()=>{_&&(v.layers.delete(_),v.layersWithOutsidePointerEventsDisabled.delete(_),Rv())},[_,v]),R.useEffect(()=>{const P=()=>A({});return document.addEventListener(yf,P),()=>document.removeEventListener(yf,P)},[]),O.jsx(Xe.div,{...f,ref:L,style:{pointerEvents:z?G?"auto":"none":void 0,...n.style},onFocusCapture:Ke(n.onFocusCapture,J.onFocusCapture),onBlurCapture:Ke(n.onBlurCapture,J.onBlurCapture),onPointerDownCapture:Ke(n.onPointerDownCapture,Z.onPointerDownCapture)})});$c.displayName=FS;var BS="DismissableLayerBranch",zS=R.forwardRef((n,e)=>{const t=R.useContext(__),i=R.useRef(null),o=ot(e,i);return R.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),O.jsx(Xe.div,{...n,ref:o})});zS.displayName=BS;function $S(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n),i=R.useRef(!1),o=R.useRef(()=>{});return R.useEffect(()=>{const a=h=>{if(h.target&&!i.current){let f=function(){w_(US,t,v,{discrete:!0})};const v={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function WS(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n),i=R.useRef(!1);return R.useEffect(()=>{const o=a=>{a.target&&!i.current&&w_(jS,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Rv(){const n=new CustomEvent(yf);document.dispatchEvent(n)}function w_(n,e,t,{discrete:i}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?MS(o,a):o.dispatchEvent(a)}var Ht=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},HS=m_[" useId ".trim().toString()]||(()=>{}),qS=0;function vs(n){const[e,t]=R.useState(HS());return Ht(()=>{t(i=>i??String(qS++))},[n]),e?`radix-${e}`:""}const KS=["top","right","bottom","left"],bi=Math.min,fn=Math.max,wc=Math.round,Xu=Math.floor,hr=n=>({x:n,y:n}),GS={left:"right",right:"left",bottom:"top",top:"bottom"},QS={start:"end",end:"start"};function _f(n,e,t){return fn(n,bi(e,t))}function Hr(n,e){return typeof n=="function"?n(e):n}function qr(n){return n.split("-")[0]}function qo(n){return n.split("-")[1]}function tp(n){return n==="x"?"y":"x"}function np(n){return n==="y"?"height":"width"}const YS=new Set(["top","bottom"]);function dr(n){return YS.has(qr(n))?"y":"x"}function rp(n){return tp(dr(n))}function XS(n,e,t){t===void 0&&(t=!1);const i=qo(n),o=rp(n),a=np(o);let c=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Ec(c)),[c,Ec(c)]}function JS(n){const e=Ec(n);return[wf(n),e,wf(e)]}function wf(n){return n.replace(/start|end/g,e=>QS[e])}const xv=["left","right"],Pv=["right","left"],ZS=["top","bottom"],eI=["bottom","top"];function tI(n,e,t){switch(n){case"top":case"bottom":return t?e?Pv:xv:e?xv:Pv;case"left":case"right":return e?ZS:eI;default:return[]}}function nI(n,e,t,i){const o=qo(n);let a=tI(qr(n),t==="start",i);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(wf)))),a}function Ec(n){return n.replace(/left|right|bottom|top/g,e=>GS[e])}function rI(n){return{top:0,right:0,bottom:0,left:0,...n}}function E_(n){return typeof n!="number"?rI(n):{top:n,right:n,bottom:n,left:n}}function Tc(n){const{x:e,y:t,width:i,height:o}=n;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function kv(n,e,t){let{reference:i,floating:o}=n;const a=dr(e),c=rp(e),h=np(c),f=qr(e),v=a==="y",_=i.x+i.width/2-o.width/2,w=i.y+i.height/2-o.height/2,T=i[h]/2-o[h]/2;let A;switch(f){case"top":A={x:_,y:i.y-o.height};break;case"bottom":A={x:_,y:i.y+i.height};break;case"right":A={x:i.x+i.width,y:w};break;case"left":A={x:i.x-o.width,y:w};break;default:A={x:i.x,y:i.y}}switch(qo(e)){case"start":A[c]-=T*(t&&v?-1:1);break;case"end":A[c]+=T*(t&&v?-1:1);break}return A}async function iI(n,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:a,rects:c,elements:h,strategy:f}=n,{boundary:v="clippingAncestors",rootBoundary:_="viewport",elementContext:w="floating",altBoundary:T=!1,padding:A=0}=Hr(e,n),L=E_(A),C=h[T?w==="floating"?"reference":"floating":w],M=Tc(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(C)))==null||t?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:v,rootBoundary:_,strategy:f})),U=w==="floating"?{x:i,y:o,width:c.floating.width,height:c.floating.height}:c.reference,z=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),G=await(a.isElement==null?void 0:a.isElement(z))?await(a.getScale==null?void 0:a.getScale(z))||{x:1,y:1}:{x:1,y:1},Z=Tc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:U,offsetParent:z,strategy:f}):U);return{top:(M.top-Z.top+L.top)/G.y,bottom:(Z.bottom-M.bottom+L.bottom)/G.y,left:(M.left-Z.left+L.left)/G.x,right:(Z.right-M.right+L.right)/G.x}}const sI=async(n,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:c}=t,h=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let v=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:_,y:w}=kv(v,i,f),T=i,A={},L=0;for(let C=0;C<h.length;C++){var S;const{name:M,fn:U}=h[C],{x:z,y:G,data:Z,reset:J}=await U({x:_,y:w,initialPlacement:i,placement:T,strategy:o,middlewareData:A,rects:v,platform:{...c,detectOverflow:(S=c.detectOverflow)!=null?S:iI},elements:{reference:n,floating:e}});_=z??_,w=G??w,A={...A,[M]:{...A[M],...Z}},J&&L<=50&&(L++,typeof J=="object"&&(J.placement&&(T=J.placement),J.rects&&(v=J.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):J.rects),{x:_,y:w}=kv(v,T,f)),C=-1)}return{x:_,y:w,placement:T,strategy:o,middlewareData:A}},oI=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:o,rects:a,platform:c,elements:h,middlewareData:f}=e,{element:v,padding:_=0}=Hr(n,e)||{};if(v==null)return{};const w=E_(_),T={x:t,y:i},A=rp(o),L=np(A),S=await c.getDimensions(v),C=A==="y",M=C?"top":"left",U=C?"bottom":"right",z=C?"clientHeight":"clientWidth",G=a.reference[L]+a.reference[A]-T[A]-a.floating[L],Z=T[A]-a.reference[A],J=await(c.getOffsetParent==null?void 0:c.getOffsetParent(v));let P=J?J[z]:0;(!P||!await(c.isElement==null?void 0:c.isElement(J)))&&(P=h.floating[z]||a.floating[L]);const x=G/2-Z/2,N=P/2-S[L]/2-1,D=bi(w[M],N),V=bi(w[U],N),j=D,k=P-S[L]-V,_e=P/2-S[L]/2+x,Le=_f(j,_e,k),Te=!f.arrow&&qo(o)!=null&&_e!==Le&&a.reference[L]/2-(_e<j?D:V)-S[L]/2<0,ve=Te?_e<j?_e-j:_e-k:0;return{[A]:T[A]+ve,data:{[A]:Le,centerOffset:_e-Le-ve,...Te&&{alignmentOffset:ve}},reset:Te}}}),aI=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:o,middlewareData:a,rects:c,initialPlacement:h,platform:f,elements:v}=e,{mainAxis:_=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:L="none",flipAlignment:S=!0,...C}=Hr(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const M=qr(o),U=dr(h),z=qr(h)===h,G=await(f.isRTL==null?void 0:f.isRTL(v.floating)),Z=T||(z||!S?[Ec(h)]:JS(h)),J=L!=="none";!T&&J&&Z.push(...nI(h,S,L,G));const P=[h,...Z],x=await f.detectOverflow(e,C),N=[];let D=((i=a.flip)==null?void 0:i.overflows)||[];if(_&&N.push(x[M]),w){const _e=XS(o,c,G);N.push(x[_e[0]],x[_e[1]])}if(D=[...D,{placement:o,overflows:N}],!N.every(_e=>_e<=0)){var V,j;const _e=(((V=a.flip)==null?void 0:V.index)||0)+1,Le=P[_e];if(Le&&(!(w==="alignment"?U!==dr(Le):!1)||D.every(Y=>dr(Y.placement)===U?Y.overflows[0]>0:!0)))return{data:{index:_e,overflows:D},reset:{placement:Le}};let Te=(j=D.filter(ve=>ve.overflows[0]<=0).sort((ve,Y)=>ve.overflows[1]-Y.overflows[1])[0])==null?void 0:j.placement;if(!Te)switch(A){case"bestFit":{var k;const ve=(k=D.filter(Y=>{if(J){const le=dr(Y.placement);return le===U||le==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(le=>le>0).reduce((le,oe)=>le+oe,0)]).sort((Y,le)=>Y[1]-le[1])[0])==null?void 0:k[0];ve&&(Te=ve);break}case"initialPlacement":Te=h;break}if(o!==Te)return{reset:{placement:Te}}}return{}}}};function Nv(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function bv(n){return KS.some(e=>n[e]>=0)}const lI=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t,platform:i}=e,{strategy:o="referenceHidden",...a}=Hr(n,e);switch(o){case"referenceHidden":{const c=await i.detectOverflow(e,{...a,elementContext:"reference"}),h=Nv(c,t.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:bv(h)}}}case"escaped":{const c=await i.detectOverflow(e,{...a,altBoundary:!0}),h=Nv(c,t.floating);return{data:{escapedOffsets:h,escaped:bv(h)}}}default:return{}}}}},T_=new Set(["left","top"]);async function uI(n,e){const{placement:t,platform:i,elements:o}=n,a=await(i.isRTL==null?void 0:i.isRTL(o.floating)),c=qr(t),h=qo(t),f=dr(t)==="y",v=T_.has(c)?-1:1,_=a&&f?-1:1,w=Hr(e,n);let{mainAxis:T,crossAxis:A,alignmentAxis:L}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof L=="number"&&(A=h==="end"?L*-1:L),f?{x:A*_,y:T*v}:{x:T*v,y:A*_}}const cI=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:o,y:a,placement:c,middlewareData:h}=e,f=await uI(e,n);return c===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:c}}}}},dI=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:o,platform:a}=e,{mainAxis:c=!0,crossAxis:h=!1,limiter:f={fn:M=>{let{x:U,y:z}=M;return{x:U,y:z}}},...v}=Hr(n,e),_={x:t,y:i},w=await a.detectOverflow(e,v),T=dr(qr(o)),A=tp(T);let L=_[A],S=_[T];if(c){const M=A==="y"?"top":"left",U=A==="y"?"bottom":"right",z=L+w[M],G=L-w[U];L=_f(z,L,G)}if(h){const M=T==="y"?"top":"left",U=T==="y"?"bottom":"right",z=S+w[M],G=S-w[U];S=_f(z,S,G)}const C=f.fn({...e,[A]:L,[T]:S});return{...C,data:{x:C.x-t,y:C.y-i,enabled:{[A]:c,[T]:h}}}}}},hI=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:o,rects:a,middlewareData:c}=e,{offset:h=0,mainAxis:f=!0,crossAxis:v=!0}=Hr(n,e),_={x:t,y:i},w=dr(o),T=tp(w);let A=_[T],L=_[w];const S=Hr(h,e),C=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const z=T==="y"?"height":"width",G=a.reference[T]-a.floating[z]+C.mainAxis,Z=a.reference[T]+a.reference[z]-C.mainAxis;A<G?A=G:A>Z&&(A=Z)}if(v){var M,U;const z=T==="y"?"width":"height",G=T_.has(qr(o)),Z=a.reference[w]-a.floating[z]+(G&&((M=c.offset)==null?void 0:M[w])||0)+(G?0:C.crossAxis),J=a.reference[w]+a.reference[z]+(G?0:((U=c.offset)==null?void 0:U[w])||0)-(G?C.crossAxis:0);L<Z?L=Z:L>J&&(L=J)}return{[T]:A,[w]:L}}}},fI=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:o,rects:a,platform:c,elements:h}=e,{apply:f=()=>{},...v}=Hr(n,e),_=await c.detectOverflow(e,v),w=qr(o),T=qo(o),A=dr(o)==="y",{width:L,height:S}=a.floating;let C,M;w==="top"||w==="bottom"?(C=w,M=T===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(M=w,C=T==="end"?"top":"bottom");const U=S-_.top-_.bottom,z=L-_.left-_.right,G=bi(S-_[C],U),Z=bi(L-_[M],z),J=!e.middlewareData.shift;let P=G,x=Z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(x=z),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(P=U),J&&!T){const D=fn(_.left,0),V=fn(_.right,0),j=fn(_.top,0),k=fn(_.bottom,0);A?x=L-2*(D!==0||V!==0?D+V:fn(_.left,_.right)):P=S-2*(j!==0||k!==0?j+k:fn(_.top,_.bottom))}await f({...e,availableWidth:x,availableHeight:P});const N=await c.getDimensions(h.floating);return L!==N.width||S!==N.height?{reset:{rects:!0}}:{}}}};function Wc(){return typeof window<"u"}function Ko(n){return S_(n)?(n.nodeName||"").toLowerCase():"#document"}function pn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function wr(n){var e;return(e=(S_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function S_(n){return Wc()?n instanceof Node||n instanceof pn(n).Node:!1}function Yn(n){return Wc()?n instanceof Element||n instanceof pn(n).Element:!1}function gr(n){return Wc()?n instanceof HTMLElement||n instanceof pn(n).HTMLElement:!1}function Dv(n){return!Wc()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof pn(n).ShadowRoot}const pI=new Set(["inline","contents"]);function Tl(n){const{overflow:e,overflowX:t,overflowY:i,display:o}=Xn(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!pI.has(o)}const mI=new Set(["table","td","th"]);function gI(n){return mI.has(Ko(n))}const vI=[":popover-open",":modal"];function Hc(n){return vI.some(e=>{try{return n.matches(e)}catch{return!1}})}const yI=["transform","translate","scale","rotate","perspective"],_I=["transform","translate","scale","rotate","perspective","filter"],wI=["paint","layout","strict","content"];function ip(n){const e=sp(),t=Yn(n)?Xn(n):n;return yI.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||_I.some(i=>(t.willChange||"").includes(i))||wI.some(i=>(t.contain||"").includes(i))}function EI(n){let e=Di(n);for(;gr(e)&&!Lo(e);){if(ip(e))return e;if(Hc(e))return null;e=Di(e)}return null}function sp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TI=new Set(["html","body","#document"]);function Lo(n){return TI.has(Ko(n))}function Xn(n){return pn(n).getComputedStyle(n)}function qc(n){return Yn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Di(n){if(Ko(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Dv(n)&&n.host||wr(n);return Dv(e)?e.host:e}function I_(n){const e=Di(n);return Lo(e)?n.ownerDocument?n.ownerDocument.body:n.body:gr(e)&&Tl(e)?e:I_(e)}function ol(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=I_(n),a=o===((i=n.ownerDocument)==null?void 0:i.body),c=pn(o);if(a){const h=Ef(c);return e.concat(c,c.visualViewport||[],Tl(o)?o:[],h&&t?ol(h):[])}return e.concat(o,ol(o,[],t))}function Ef(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function C_(n){const e=Xn(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=gr(n),a=o?n.offsetWidth:t,c=o?n.offsetHeight:i,h=wc(t)!==a||wc(i)!==c;return h&&(t=a,i=c),{width:t,height:i,$:h}}function op(n){return Yn(n)?n:n.contextElement}function Po(n){const e=op(n);if(!gr(e))return hr(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:a}=C_(e);let c=(a?wc(t.width):t.width)/i,h=(a?wc(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const SI=hr(0);function A_(n){const e=pn(n);return!sp()||!e.visualViewport?SI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function II(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==pn(n)?!1:e}function Es(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=op(n);let c=hr(1);e&&(i?Yn(i)&&(c=Po(i)):c=Po(n));const h=II(a,t,i)?A_(a):hr(0);let f=(o.left+h.x)/c.x,v=(o.top+h.y)/c.y,_=o.width/c.x,w=o.height/c.y;if(a){const T=pn(a),A=i&&Yn(i)?pn(i):i;let L=T,S=Ef(L);for(;S&&i&&A!==L;){const C=Po(S),M=S.getBoundingClientRect(),U=Xn(S),z=M.left+(S.clientLeft+parseFloat(U.paddingLeft))*C.x,G=M.top+(S.clientTop+parseFloat(U.paddingTop))*C.y;f*=C.x,v*=C.y,_*=C.x,w*=C.y,f+=z,v+=G,L=pn(S),S=Ef(L)}}return Tc({width:_,height:w,x:f,y:v})}function Kc(n,e){const t=qc(n).scrollLeft;return e?e.left+t:Es(wr(n)).left+t}function R_(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-Kc(n,t),o=t.top+e.scrollTop;return{x:i,y:o}}function CI(n){let{elements:e,rect:t,offsetParent:i,strategy:o}=n;const a=o==="fixed",c=wr(i),h=e?Hc(e.floating):!1;if(i===c||h&&a)return t;let f={scrollLeft:0,scrollTop:0},v=hr(1);const _=hr(0),w=gr(i);if((w||!w&&!a)&&((Ko(i)!=="body"||Tl(c))&&(f=qc(i)),gr(i))){const A=Es(i);v=Po(i),_.x=A.x+i.clientLeft,_.y=A.y+i.clientTop}const T=c&&!w&&!a?R_(c,f):hr(0);return{width:t.width*v.x,height:t.height*v.y,x:t.x*v.x-f.scrollLeft*v.x+_.x+T.x,y:t.y*v.y-f.scrollTop*v.y+_.y+T.y}}function AI(n){return Array.from(n.getClientRects())}function RI(n){const e=wr(n),t=qc(n),i=n.ownerDocument.body,o=fn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=fn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Kc(n);const h=-t.scrollTop;return Xn(i).direction==="rtl"&&(c+=fn(e.clientWidth,i.clientWidth)-o),{width:o,height:a,x:c,y:h}}const Ov=25;function xI(n,e){const t=pn(n),i=wr(n),o=t.visualViewport;let a=i.clientWidth,c=i.clientHeight,h=0,f=0;if(o){a=o.width,c=o.height;const _=sp();(!_||_&&e==="fixed")&&(h=o.offsetLeft,f=o.offsetTop)}const v=Kc(i);if(v<=0){const _=i.ownerDocument,w=_.body,T=getComputedStyle(w),A=_.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,L=Math.abs(i.clientWidth-w.clientWidth-A);L<=Ov&&(a-=L)}else v<=Ov&&(a+=v);return{width:a,height:c,x:h,y:f}}const PI=new Set(["absolute","fixed"]);function kI(n,e){const t=Es(n,!0,e==="fixed"),i=t.top+n.clientTop,o=t.left+n.clientLeft,a=gr(n)?Po(n):hr(1),c=n.clientWidth*a.x,h=n.clientHeight*a.y,f=o*a.x,v=i*a.y;return{width:c,height:h,x:f,y:v}}function Lv(n,e,t){let i;if(e==="viewport")i=xI(n,t);else if(e==="document")i=RI(wr(n));else if(Yn(e))i=kI(e,t);else{const o=A_(n);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Tc(i)}function x_(n,e){const t=Di(n);return t===e||!Yn(t)||Lo(t)?!1:Xn(t).position==="fixed"||x_(t,e)}function NI(n,e){const t=e.get(n);if(t)return t;let i=ol(n,[],!1).filter(h=>Yn(h)&&Ko(h)!=="body"),o=null;const a=Xn(n).position==="fixed";let c=a?Di(n):n;for(;Yn(c)&&!Lo(c);){const h=Xn(c),f=ip(c);!f&&h.position==="fixed"&&(o=null),(a?!f&&!o:!f&&h.position==="static"&&!!o&&PI.has(o.position)||Tl(c)&&!f&&x_(n,c))?i=i.filter(_=>_!==c):o=h,c=Di(c)}return e.set(n,i),i}function bI(n){let{element:e,boundary:t,rootBoundary:i,strategy:o}=n;const c=[...t==="clippingAncestors"?Hc(e)?[]:NI(e,this._c):[].concat(t),i],h=c[0],f=c.reduce((v,_)=>{const w=Lv(e,_,o);return v.top=fn(w.top,v.top),v.right=bi(w.right,v.right),v.bottom=bi(w.bottom,v.bottom),v.left=fn(w.left,v.left),v},Lv(e,h,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function DI(n){const{width:e,height:t}=C_(n);return{width:e,height:t}}function OI(n,e,t){const i=gr(e),o=wr(e),a=t==="fixed",c=Es(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=hr(0);function v(){f.x=Kc(o)}if(i||!i&&!a)if((Ko(e)!=="body"||Tl(o))&&(h=qc(e)),i){const A=Es(e,!0,a,e);f.x=A.x+e.clientLeft,f.y=A.y+e.clientTop}else o&&v();a&&!i&&o&&v();const _=o&&!i&&!a?R_(o,h):hr(0),w=c.left+h.scrollLeft-f.x-_.x,T=c.top+h.scrollTop-f.y-_.y;return{x:w,y:T,width:c.width,height:c.height}}function Gh(n){return Xn(n).position==="static"}function Mv(n,e){if(!gr(n)||Xn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return wr(n)===t&&(t=t.ownerDocument.body),t}function P_(n,e){const t=pn(n);if(Hc(n))return t;if(!gr(n)){let o=Di(n);for(;o&&!Lo(o);){if(Yn(o)&&!Gh(o))return o;o=Di(o)}return t}let i=Mv(n,e);for(;i&&gI(i)&&Gh(i);)i=Mv(i,e);return i&&Lo(i)&&Gh(i)&&!ip(i)?t:i||EI(n)||t}const LI=async function(n){const e=this.getOffsetParent||P_,t=this.getDimensions,i=await t(n.floating);return{reference:OI(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function MI(n){return Xn(n).direction==="rtl"}const VI={convertOffsetParentRelativeRectToViewportRelativeRect:CI,getDocumentElement:wr,getClippingRect:bI,getOffsetParent:P_,getElementRects:LI,getClientRects:AI,getDimensions:DI,getScale:Po,isElement:Yn,isRTL:MI};function k_(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function FI(n,e){let t=null,i;const o=wr(n);function a(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function c(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const v=n.getBoundingClientRect(),{left:_,top:w,width:T,height:A}=v;if(h||e(),!T||!A)return;const L=Xu(w),S=Xu(o.clientWidth-(_+T)),C=Xu(o.clientHeight-(w+A)),M=Xu(_),z={rootMargin:-L+"px "+-S+"px "+-C+"px "+-M+"px",threshold:fn(0,bi(1,f))||1};let G=!0;function Z(J){const P=J[0].intersectionRatio;if(P!==f){if(!G)return c();P?c(!1,P):i=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!k_(v,n.getBoundingClientRect())&&c(),G=!1}try{t=new IntersectionObserver(Z,{...z,root:o.ownerDocument})}catch{t=new IntersectionObserver(Z,z)}t.observe(n)}return c(!0),a}function UI(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,v=op(n),_=o||a?[...v?ol(v):[],...ol(e)]:[];_.forEach(M=>{o&&M.addEventListener("scroll",t,{passive:!0}),a&&M.addEventListener("resize",t)});const w=v&&h?FI(v,t):null;let T=-1,A=null;c&&(A=new ResizeObserver(M=>{let[U]=M;U&&U.target===v&&A&&(A.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var z;(z=A)==null||z.observe(e)})),t()}),v&&!f&&A.observe(v),A.observe(e));let L,S=f?Es(n):null;f&&C();function C(){const M=Es(n);S&&!k_(S,M)&&t(),S=M,L=requestAnimationFrame(C)}return t(),()=>{var M;_.forEach(U=>{o&&U.removeEventListener("scroll",t),a&&U.removeEventListener("resize",t)}),w==null||w(),(M=A)==null||M.disconnect(),A=null,f&&cancelAnimationFrame(L)}}const jI=cI,BI=dI,zI=aI,$I=fI,WI=lI,Vv=oI,HI=hI,qI=(n,e,t)=>{const i=new Map,o={platform:VI,...t},a={...o.platform,_c:i};return sI(n,e,{...o,platform:a})};var KI=typeof document<"u",GI=function(){},lc=KI?R.useLayoutEffect:GI;function Sc(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Sc(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const a=o[i];if(!(a==="_owner"&&n.$$typeof)&&!Sc(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function N_(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Fv(n,e){const t=N_(n);return Math.round(e*t)/t}function Qh(n){const e=R.useRef(n);return lc(()=>{e.current=n}),e}function QI(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:f,open:v}=n,[_,w]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,A]=R.useState(i);Sc(T,i)||A(i);const[L,S]=R.useState(null),[C,M]=R.useState(null),U=R.useCallback(Y=>{Y!==J.current&&(J.current=Y,S(Y))},[]),z=R.useCallback(Y=>{Y!==P.current&&(P.current=Y,M(Y))},[]),G=a||L,Z=c||C,J=R.useRef(null),P=R.useRef(null),x=R.useRef(_),N=f!=null,D=Qh(f),V=Qh(o),j=Qh(v),k=R.useCallback(()=>{if(!J.current||!P.current)return;const Y={placement:e,strategy:t,middleware:T};V.current&&(Y.platform=V.current),qI(J.current,P.current,Y).then(le=>{const oe={...le,isPositioned:j.current!==!1};_e.current&&!Sc(x.current,oe)&&(x.current=oe,El.flushSync(()=>{w(oe)}))})},[T,e,t,V,j]);lc(()=>{v===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,w(Y=>({...Y,isPositioned:!1})))},[v]);const _e=R.useRef(!1);lc(()=>(_e.current=!0,()=>{_e.current=!1}),[]),lc(()=>{if(G&&(J.current=G),Z&&(P.current=Z),G&&Z){if(D.current)return D.current(G,Z,k);k()}},[G,Z,k,D,N]);const Le=R.useMemo(()=>({reference:J,floating:P,setReference:U,setFloating:z}),[U,z]),Te=R.useMemo(()=>({reference:G,floating:Z}),[G,Z]),ve=R.useMemo(()=>{const Y={position:t,left:0,top:0};if(!Te.floating)return Y;const le=Fv(Te.floating,_.x),oe=Fv(Te.floating,_.y);return h?{...Y,transform:"translate("+le+"px, "+oe+"px)",...N_(Te.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:oe}},[t,h,Te.floating,_.x,_.y]);return R.useMemo(()=>({..._,update:k,refs:Le,elements:Te,floatingStyles:ve}),[_,k,Le,Te,ve])}const YI=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:o}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Vv({element:i.current,padding:o}).fn(t):{}:i?Vv({element:i,padding:o}).fn(t):{}}}},XI=(n,e)=>({...jI(n),options:[n,e]}),JI=(n,e)=>({...BI(n),options:[n,e]}),ZI=(n,e)=>({...HI(n),options:[n,e]}),eC=(n,e)=>({...zI(n),options:[n,e]}),tC=(n,e)=>({...$I(n),options:[n,e]}),nC=(n,e)=>({...WI(n),options:[n,e]}),rC=(n,e)=>({...YI(n),options:[n,e]});var iC="Arrow",b_=R.forwardRef((n,e)=>{const{children:t,width:i=10,height:o=5,...a}=n;return O.jsx(Xe.svg,{...a,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:O.jsx("polygon",{points:"0,0 30,0 15,10"})})});b_.displayName=iC;var sC=b_;function oC(n){const[e,t]=R.useState(void 0);return Ht(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,h;if("borderBoxSize"in a){const f=a.borderBoxSize,v=Array.isArray(f)?f[0]:f;c=v.inlineSize,h=v.blockSize}else c=n.offsetWidth,h=n.offsetHeight;t({width:c,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var ap="Popper",[D_,Gc]=wl(ap),[aC,O_]=D_(ap),L_=n=>{const{__scopePopper:e,children:t}=n,[i,o]=R.useState(null);return O.jsx(aC,{scope:e,anchor:i,onAnchorChange:o,children:t})};L_.displayName=ap;var M_="PopperAnchor",V_=R.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...o}=n,a=O_(M_,t),c=R.useRef(null),h=ot(e,c),f=R.useRef(null);return R.useEffect(()=>{const v=f.current;f.current=(i==null?void 0:i.current)||c.current,v!==f.current&&a.onAnchorChange(f.current)}),i?null:O.jsx(Xe.div,{...o,ref:h})});V_.displayName=M_;var lp="PopperContent",[lC,uC]=D_(lp),F_=R.forwardRef((n,e)=>{var ue,ye,De,Pe,Me,Ue;const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:v=[],collisionPadding:_=0,sticky:w="partial",hideWhenDetached:T=!1,updatePositionStrategy:A="optimized",onPlaced:L,...S}=n,C=O_(lp,t),[M,U]=R.useState(null),z=ot(e,lt=>U(lt)),[G,Z]=R.useState(null),J=oC(G),P=(J==null?void 0:J.width)??0,x=(J==null?void 0:J.height)??0,N=i+(a!=="center"?"-"+a:""),D=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},V=Array.isArray(v)?v:[v],j=V.length>0,k={padding:D,boundary:V.filter(dC),altBoundary:j},{refs:_e,floatingStyles:Le,placement:Te,isPositioned:ve,middlewareData:Y}=QI({strategy:"fixed",placement:N,whileElementsMounted:(...lt)=>UI(...lt,{animationFrame:A==="always"}),elements:{reference:C.anchor},middleware:[XI({mainAxis:o+x,alignmentAxis:c}),f&&JI({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?ZI():void 0,...k}),f&&eC({...k}),tC({...k,apply:({elements:lt,rects:It,availableWidth:mn,availableHeight:Pn})=>{const{width:kn,height:bs}=It.reference,Nn=lt.floating.style;Nn.setProperty("--radix-popper-available-width",`${mn}px`),Nn.setProperty("--radix-popper-available-height",`${Pn}px`),Nn.setProperty("--radix-popper-anchor-width",`${kn}px`),Nn.setProperty("--radix-popper-anchor-height",`${bs}px`)}}),G&&rC({element:G,padding:h}),hC({arrowWidth:P,arrowHeight:x}),T&&nC({strategy:"referenceHidden",...k})]}),[le,oe]=B_(Te),$=ws(L);Ht(()=>{ve&&($==null||$())},[ve,$]);const X=(ue=Y.arrow)==null?void 0:ue.x,fe=(ye=Y.arrow)==null?void 0:ye.y,Ce=((De=Y.arrow)==null?void 0:De.centerOffset)!==0,[xe,Oe]=R.useState();return Ht(()=>{M&&Oe(window.getComputedStyle(M).zIndex)},[M]),O.jsx("div",{ref:_e.setFloating,"data-radix-popper-content-wrapper":"",style:{...Le,transform:ve?Le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(Pe=Y.transformOrigin)==null?void 0:Pe.x,(Me=Y.transformOrigin)==null?void 0:Me.y].join(" "),...((Ue=Y.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:O.jsx(lC,{scope:t,placedSide:le,onArrowChange:Z,arrowX:X,arrowY:fe,shouldHideArrow:Ce,children:O.jsx(Xe.div,{"data-side":le,"data-align":oe,...S,ref:z,style:{...S.style,animation:ve?void 0:"none"}})})})});F_.displayName=lp;var U_="PopperArrow",cC={top:"bottom",right:"left",bottom:"top",left:"right"},j_=R.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,a=uC(U_,i),c=cC[a.placedSide];return O.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:O.jsx(sC,{...o,ref:t,style:{...o.style,display:"block"}})})});j_.displayName=U_;function dC(n){return n!==null}var hC=n=>({name:"transformOrigin",options:n,fn(e){var C,M,U;const{placement:t,rects:i,middlewareData:o}=e,c=((C=o.arrow)==null?void 0:C.centerOffset)!==0,h=c?0:n.arrowWidth,f=c?0:n.arrowHeight,[v,_]=B_(t),w={start:"0%",center:"50%",end:"100%"}[_],T=(((M=o.arrow)==null?void 0:M.x)??0)+h/2,A=(((U=o.arrow)==null?void 0:U.y)??0)+f/2;let L="",S="";return v==="bottom"?(L=c?w:`${T}px`,S=`${-f}px`):v==="top"?(L=c?w:`${T}px`,S=`${i.floating.height+f}px`):v==="right"?(L=`${-f}px`,S=c?w:`${A}px`):v==="left"&&(L=`${i.floating.width+f}px`,S=c?w:`${A}px`),{data:{x:L,y:S}}}});function B_(n){const[e,t="center"]=n.split("-");return[e,t]}var z_=L_,$_=V_,W_=F_,H_=j_,fC="Portal",Qc=R.forwardRef((n,e)=>{var h;const{container:t,...i}=n,[o,a]=R.useState(!1);Ht(()=>a(!0),[]);const c=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?PS.createPortal(O.jsx(Xe.div,{...i,ref:e}),c):null});Qc.displayName=fC;function pC(n,e){return R.useReducer((t,i)=>e[t][i]??t,n)}var Go=n=>{const{present:e,children:t}=n,i=mC(e),o=typeof t=="function"?t({present:i.isPresent}):R.Children.only(t),a=ot(i.ref,gC(o));return typeof t=="function"||i.isPresent?R.cloneElement(o,{ref:a}):null};Go.displayName="Presence";function mC(n){const[e,t]=R.useState(),i=R.useRef(null),o=R.useRef(n),a=R.useRef("none"),c=n?"mounted":"unmounted",[h,f]=pC(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const v=Ju(i.current);a.current=h==="mounted"?v:"none"},[h]),Ht(()=>{const v=i.current,_=o.current;if(_!==n){const T=a.current,A=Ju(v);n?f("MOUNT"):A==="none"||(v==null?void 0:v.display)==="none"?f("UNMOUNT"):f(_&&T!==A?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),Ht(()=>{if(e){let v;const _=e.ownerDocument.defaultView??window,w=A=>{const S=Ju(i.current).includes(CSS.escape(A.animationName));if(A.target===e&&S&&(f("ANIMATION_END"),!o.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",v=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},T=A=>{A.target===e&&(a.current=Ju(i.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{_.clearTimeout(v),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:R.useCallback(v=>{i.current=v?getComputedStyle(v):null,t(v)},[])}}function Ju(n){return(n==null?void 0:n.animationName)||"none"}function gC(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var vC=m_[" useInsertionEffect ".trim().toString()]||Ht;function Ic({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,a,c]=yC({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:o;{const _=R.useRef(n!==void 0);R.useEffect(()=>{const w=_.current;w!==h&&console.warn(`${i} is changing from ${w?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=h},[h,i])}const v=R.useCallback(_=>{var w;if(h){const T=_C(_)?_(n):_;T!==n&&((w=c.current)==null||w.call(c,T))}else a(_)},[h,n,a,c]);return[f,v]}function yC({defaultProp:n,onChange:e}){const[t,i]=R.useState(n),o=R.useRef(t),a=R.useRef(e);return vC(()=>{a.current=e},[e]),R.useEffect(()=>{var c;o.current!==t&&((c=a.current)==null||c.call(a,t),o.current=t)},[t,o]),[t,i,a]}function _C(n){return typeof n=="function"}var q_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wC="VisuallyHidden",K_=R.forwardRef((n,e)=>O.jsx(Xe.span,{...n,ref:e,style:{...q_,...n.style}}));K_.displayName=wC;var EC=K_,[Yc]=wl("Tooltip",[Gc]),Xc=Gc(),G_="TooltipProvider",TC=700,Tf="tooltip.open",[SC,up]=Yc(G_),Q_=n=>{const{__scopeTooltip:e,delayDuration:t=TC,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:a}=n,c=R.useRef(!0),h=R.useRef(!1),f=R.useRef(0);return R.useEffect(()=>{const v=f.current;return()=>window.clearTimeout(v)},[]),O.jsx(SC,{scope:e,isOpenDelayedRef:c,delayDuration:t,onOpen:R.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,i)},[i]),isPointerInTransitRef:h,onPointerInTransitChange:R.useCallback(v=>{h.current=v},[]),disableHoverableContent:o,children:a})};Q_.displayName=G_;var al="Tooltip",[IC,Sl]=Yc(al),Y_=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:o,onOpenChange:a,disableHoverableContent:c,delayDuration:h}=n,f=up(al,n.__scopeTooltip),v=Xc(e),[_,w]=R.useState(null),T=vs(),A=R.useRef(0),L=c??f.disableHoverableContent,S=h??f.delayDuration,C=R.useRef(!1),[M,U]=Ic({prop:i,defaultProp:o??!1,onChange:P=>{P?(f.onOpen(),document.dispatchEvent(new CustomEvent(Tf))):f.onClose(),a==null||a(P)},caller:al}),z=R.useMemo(()=>M?C.current?"delayed-open":"instant-open":"closed",[M]),G=R.useCallback(()=>{window.clearTimeout(A.current),A.current=0,C.current=!1,U(!0)},[U]),Z=R.useCallback(()=>{window.clearTimeout(A.current),A.current=0,U(!1)},[U]),J=R.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>{C.current=!0,U(!0),A.current=0},S)},[S,U]);return R.useEffect(()=>()=>{A.current&&(window.clearTimeout(A.current),A.current=0)},[]),O.jsx(z_,{...v,children:O.jsx(IC,{scope:e,contentId:T,open:M,stateAttribute:z,trigger:_,onTriggerChange:w,onTriggerEnter:R.useCallback(()=>{f.isOpenDelayedRef.current?J():G()},[f.isOpenDelayedRef,J,G]),onTriggerLeave:R.useCallback(()=>{L?Z():(window.clearTimeout(A.current),A.current=0)},[Z,L]),onOpen:G,onClose:Z,disableHoverableContent:L,children:t})})};Y_.displayName=al;var Sf="TooltipTrigger",X_=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,o=Sl(Sf,t),a=up(Sf,t),c=Xc(t),h=R.useRef(null),f=ot(e,h,o.onTriggerChange),v=R.useRef(!1),_=R.useRef(!1),w=R.useCallback(()=>v.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),O.jsx($_,{asChild:!0,...c,children:O.jsx(Xe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:f,onPointerMove:Ke(n.onPointerMove,T=>{T.pointerType!=="touch"&&!_.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),_.current=!0)}),onPointerLeave:Ke(n.onPointerLeave,()=>{o.onTriggerLeave(),_.current=!1}),onPointerDown:Ke(n.onPointerDown,()=>{o.open&&o.onClose(),v.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Ke(n.onFocus,()=>{v.current||o.onOpen()}),onBlur:Ke(n.onBlur,o.onClose),onClick:Ke(n.onClick,o.onClose)})})});X_.displayName=Sf;var cp="TooltipPortal",[CC,AC]=Yc(cp,{forceMount:void 0}),J_=n=>{const{__scopeTooltip:e,forceMount:t,children:i,container:o}=n,a=Sl(cp,e);return O.jsx(CC,{scope:e,forceMount:t,children:O.jsx(Go,{present:t||a.open,children:O.jsx(Qc,{asChild:!0,container:o,children:i})})})};J_.displayName=cp;var Mo="TooltipContent",Z_=R.forwardRef((n,e)=>{const t=AC(Mo,n.__scopeTooltip),{forceMount:i=t.forceMount,side:o="top",...a}=n,c=Sl(Mo,n.__scopeTooltip);return O.jsx(Go,{present:i||c.open,children:c.disableHoverableContent?O.jsx(ew,{side:o,...a,ref:e}):O.jsx(RC,{side:o,...a,ref:e})})}),RC=R.forwardRef((n,e)=>{const t=Sl(Mo,n.__scopeTooltip),i=up(Mo,n.__scopeTooltip),o=R.useRef(null),a=ot(e,o),[c,h]=R.useState(null),{trigger:f,onClose:v}=t,_=o.current,{onPointerInTransitChange:w}=i,T=R.useCallback(()=>{h(null),w(!1)},[w]),A=R.useCallback((L,S)=>{const C=L.currentTarget,M={x:L.clientX,y:L.clientY},U=NC(M,C.getBoundingClientRect()),z=bC(M,U),G=DC(S.getBoundingClientRect()),Z=LC([...z,...G]);h(Z),w(!0)},[w]);return R.useEffect(()=>()=>T(),[T]),R.useEffect(()=>{if(f&&_){const L=C=>A(C,_),S=C=>A(C,f);return f.addEventListener("pointerleave",L),_.addEventListener("pointerleave",S),()=>{f.removeEventListener("pointerleave",L),_.removeEventListener("pointerleave",S)}}},[f,_,A,T]),R.useEffect(()=>{if(c){const L=S=>{const C=S.target,M={x:S.clientX,y:S.clientY},U=(f==null?void 0:f.contains(C))||(_==null?void 0:_.contains(C)),z=!OC(M,c);U?T():z&&(T(),v())};return document.addEventListener("pointermove",L),()=>document.removeEventListener("pointermove",L)}},[f,_,c,v,T]),O.jsx(ew,{...n,ref:a})}),[xC,PC]=Yc(al,{isInside:!1}),kC=NS("TooltipContent"),ew=R.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:c,...h}=n,f=Sl(Mo,t),v=Xc(t),{onClose:_}=f;return R.useEffect(()=>(document.addEventListener(Tf,_),()=>document.removeEventListener(Tf,_)),[_]),R.useEffect(()=>{if(f.trigger){const w=T=>{const A=T.target;A!=null&&A.contains(f.trigger)&&_()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,_]),O.jsx($c,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:w=>w.preventDefault(),onDismiss:_,children:O.jsxs(W_,{"data-state":f.stateAttribute,...v,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[O.jsx(kC,{children:i}),O.jsx(xC,{scope:t,isInside:!0,children:O.jsx(EC,{id:f.contentId,role:"tooltip",children:o||i})})]})})});Z_.displayName=Mo;var tw="TooltipArrow",nw=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,o=Xc(t);return PC(tw,t).isInside?null:O.jsx(H_,{...o,...i,ref:e})});nw.displayName=tw;function NC(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),o=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,i,o,a)){case a:return"left";case o:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function bC(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function DC(n){const{top:e,right:t,bottom:i,left:o}=n;return[{x:o,y:e},{x:t,y:e},{x:t,y:i},{x:o,y:i}]}function OC(n,e){const{x:t,y:i}=n;let o=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const h=e[a],f=e[c],v=h.x,_=h.y,w=f.x,T=f.y;_>i!=T>i&&t<(w-v)*(i-_)/(T-_)+v&&(o=!o)}return o}function LC(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),MC(e)}function MC(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const o=n[i];for(;e.length>=2;){const a=e[e.length-1],c=e[e.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))e.pop();else break}e.push(o)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const o=n[i];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var VC=Q_,Uv=Y_,jv=X_,Bv=J_,zv=Z_,$v=nw;function Wv(n,[e,t]){return Math.min(t,Math.max(e,n))}function FC(n){const e=n+"CollectionProvider",[t,i]=wl(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=S=>{const{scope:C,children:M}=S,U=Fr.useRef(null),z=Fr.useRef(new Map).current;return O.jsx(o,{scope:C,itemMap:z,collectionRef:U,children:M})};c.displayName=e;const h=n+"CollectionSlot",f=sl(h),v=Fr.forwardRef((S,C)=>{const{scope:M,children:U}=S,z=a(h,M),G=ot(C,z.collectionRef);return O.jsx(f,{ref:G,children:U})});v.displayName=h;const _=n+"CollectionItemSlot",w="data-radix-collection-item",T=sl(_),A=Fr.forwardRef((S,C)=>{const{scope:M,children:U,...z}=S,G=Fr.useRef(null),Z=ot(C,G),J=a(_,M);return Fr.useEffect(()=>(J.itemMap.set(G,{ref:G,...z}),()=>void J.itemMap.delete(G))),O.jsx(T,{[w]:"",ref:Z,children:U})});A.displayName=_;function L(S){const C=a(n+"CollectionConsumer",S);return Fr.useCallback(()=>{const U=C.collectionRef.current;if(!U)return[];const z=Array.from(U.querySelectorAll(`[${w}]`));return Array.from(C.itemMap.values()).sort((J,P)=>z.indexOf(J.ref.current)-z.indexOf(P.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:v,ItemSlot:A},L,i]}var UC=R.createContext(void 0);function jC(n){const e=R.useContext(UC);return n||e||"ltr"}var Yh=0;function rw(){R.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Hv()),document.body.insertAdjacentElement("beforeend",n[1]??Hv()),Yh++,()=>{Yh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yh--}},[])}function Hv(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Xh="focusScope.autoFocusOnMount",Jh="focusScope.autoFocusOnUnmount",qv={bubbles:!1,cancelable:!0},BC="FocusScope",dp=R.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[h,f]=R.useState(null),v=ws(o),_=ws(a),w=R.useRef(null),T=ot(e,S=>f(S)),A=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(i){let S=function(z){if(A.paused||!h)return;const G=z.target;h.contains(G)?w.current=G:Si(w.current,{select:!0})},C=function(z){if(A.paused||!h)return;const G=z.relatedTarget;G!==null&&(h.contains(G)||Si(w.current,{select:!0}))},M=function(z){if(document.activeElement===document.body)for(const Z of z)Z.removedNodes.length>0&&Si(h)};document.addEventListener("focusin",S),document.addEventListener("focusout",C);const U=new MutationObserver(M);return h&&U.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",C),U.disconnect()}}},[i,h,A.paused]),R.useEffect(()=>{if(h){Gv.add(A);const S=document.activeElement;if(!h.contains(S)){const M=new CustomEvent(Xh,qv);h.addEventListener(Xh,v),h.dispatchEvent(M),M.defaultPrevented||(zC(KC(iw(h)),{select:!0}),document.activeElement===S&&Si(h))}return()=>{h.removeEventListener(Xh,v),setTimeout(()=>{const M=new CustomEvent(Jh,qv);h.addEventListener(Jh,_),h.dispatchEvent(M),M.defaultPrevented||Si(S??document.body,{select:!0}),h.removeEventListener(Jh,_),Gv.remove(A)},0)}}},[h,v,_,A]);const L=R.useCallback(S=>{if(!t&&!i||A.paused)return;const C=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,M=document.activeElement;if(C&&M){const U=S.currentTarget,[z,G]=$C(U);z&&G?!S.shiftKey&&M===G?(S.preventDefault(),t&&Si(z,{select:!0})):S.shiftKey&&M===z&&(S.preventDefault(),t&&Si(G,{select:!0})):M===U&&S.preventDefault()}},[t,i,A.paused]);return O.jsx(Xe.div,{tabIndex:-1,...c,ref:T,onKeyDown:L})});dp.displayName=BC;function zC(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Si(i,{select:e}),document.activeElement!==t)return}function $C(n){const e=iw(n),t=Kv(e,n),i=Kv(e.reverse(),n);return[t,i]}function iw(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Kv(n,e){for(const t of n)if(!WC(t,{upTo:e}))return t}function WC(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function HC(n){return n instanceof HTMLInputElement&&"select"in n}function Si(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&HC(n)&&e&&n.select()}}var Gv=qC();function qC(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Qv(n,e),n.unshift(e)},remove(e){var t;n=Qv(n,e),(t=n[0])==null||t.resume()}}}function Qv(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function KC(n){return n.filter(e=>e.tagName!=="A")}function GC(n){const e=R.useRef({value:n,previous:n});return R.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var QC=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},So=new WeakMap,Zu=new WeakMap,ec={},Zh=0,sw=function(n){return n&&(n.host||sw(n.parentNode))},YC=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=sw(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},XC=function(n,e,t,i){var o=YC(e,Array.isArray(n)?n:[n]);ec[t]||(ec[t]=new WeakMap);var a=ec[t],c=[],h=new Set,f=new Set(o),v=function(w){!w||h.has(w)||(h.add(w),v(w.parentNode))};o.forEach(v);var _=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(T){if(h.has(T))_(T);else try{var A=T.getAttribute(i),L=A!==null&&A!=="false",S=(So.get(T)||0)+1,C=(a.get(T)||0)+1;So.set(T,S),a.set(T,C),c.push(T),S===1&&L&&Zu.set(T,!0),C===1&&T.setAttribute(t,"true"),L||T.setAttribute(i,"true")}catch(M){console.error("aria-hidden: cannot operate on ",T,M)}})};return _(e),h.clear(),Zh++,function(){c.forEach(function(w){var T=So.get(w)-1,A=a.get(w)-1;So.set(w,T),a.set(w,A),T||(Zu.has(w)||w.removeAttribute(i),Zu.delete(w)),A||w.removeAttribute(t)}),Zh--,Zh||(So=new WeakMap,So=new WeakMap,Zu=new WeakMap,ec={})}},ow=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=QC(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),XC(i,o,t,"aria-hidden")):function(){return null}},cr=function(){return cr=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},cr.apply(this,arguments)};function Il(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function JC(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}var uc="right-scroll-bar-position",cc="width-before-scroll-bar",ZC="with-scroll-bars-hidden",eA="--removed-body-scroll-bar-size";function ef(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function tA(n,e){var t=R.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var nA=typeof window<"u"?R.useLayoutEffect:R.useEffect,Yv=new WeakMap;function rA(n,e){var t=tA(null,function(i){return n.forEach(function(o){return ef(o,i)})});return nA(function(){var i=Yv.get(t);if(i){var o=new Set(i),a=new Set(n),c=t.current;o.forEach(function(h){a.has(h)||ef(h,null)}),a.forEach(function(h){o.has(h)||ef(h,c)})}Yv.set(t,n)},[n]),t}function iA(n){return n}function sA(n,e){e===void 0&&(e=iA);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,i);return t.push(c),function(){t=t.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(i=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){i=!0;var c=[];if(t.length){var h=t;t=[],h.forEach(a),c=t}var f=function(){var _=c;c=[],_.forEach(a)},v=function(){return Promise.resolve().then(f)};v(),t={push:function(_){c.push(_),v()},filter:function(_){return c=c.filter(_),t}}}};return o}function oA(n){n===void 0&&(n={});var e=sA(null);return e.options=cr({async:!0,ssr:!1},n),e}var aw=function(n){var e=n.sideCar,t=Il(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return R.createElement(i,cr({},t))};aw.isSideCarExport=!0;function aA(n,e){return n.useMedium(e),aw}var lw=oA(),tf=function(){},Jc=R.forwardRef(function(n,e){var t=R.useRef(null),i=R.useState({onScrollCapture:tf,onWheelCapture:tf,onTouchMoveCapture:tf}),o=i[0],a=i[1],c=n.forwardProps,h=n.children,f=n.className,v=n.removeScrollBar,_=n.enabled,w=n.shards,T=n.sideCar,A=n.noRelative,L=n.noIsolation,S=n.inert,C=n.allowPinchZoom,M=n.as,U=M===void 0?"div":M,z=n.gapMode,G=Il(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Z=T,J=rA([t,e]),P=cr(cr({},G),o);return R.createElement(R.Fragment,null,_&&R.createElement(Z,{sideCar:lw,removeScrollBar:v,shards:w,noRelative:A,noIsolation:L,inert:S,setCallbacks:a,allowPinchZoom:!!C,lockRef:t,gapMode:z}),c?R.cloneElement(R.Children.only(h),cr(cr({},P),{ref:J})):R.createElement(U,cr({},P,{className:f,ref:J}),h))});Jc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jc.classNames={fullWidth:cc,zeroRight:uc};var lA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uA(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=lA();return e&&n.setAttribute("nonce",e),n}function cA(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function dA(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var hA=function(){var n=0,e=null;return{add:function(t){n==0&&(e=uA())&&(cA(e,t),dA(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},fA=function(){var n=hA();return function(e,t){R.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},uw=function(){var n=fA(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},pA={left:0,top:0,right:0,gap:0},nf=function(n){return parseInt(n||"",10)||0},mA=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[nf(t),nf(i),nf(o)]},gA=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return pA;var e=mA(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},vA=uw(),ko="data-scroll-locked",yA=function(n,e,t,i){var o=n.left,a=n.top,c=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(ZC,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uc,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(cc,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(uc," .").concat(uc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(eA,": ").concat(h,`px;
  }
`)},Xv=function(){var n=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(n)?n:0},_A=function(){R.useEffect(function(){return document.body.setAttribute(ko,(Xv()+1).toString()),function(){var n=Xv()-1;n<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,n.toString())}},[])},wA=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;_A();var a=R.useMemo(function(){return gA(o)},[o]);return R.createElement(vA,{styles:yA(a,!e,o,t?"":"!important")})},If=!1;if(typeof window<"u")try{var tc=Object.defineProperty({},"passive",{get:function(){return If=!0,!0}});window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{If=!1}var Io=If?{passive:!1}:!1,EA=function(n){return n.tagName==="TEXTAREA"},cw=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!EA(n)&&t[e]==="visible")},TA=function(n){return cw(n,"overflowY")},SA=function(n){return cw(n,"overflowX")},Jv=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=dw(n,i);if(o){var a=hw(n,i),c=a[1],h=a[2];if(c>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},IA=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},CA=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},dw=function(n,e){return n==="v"?TA(e):SA(e)},hw=function(n,e){return n==="v"?IA(e):CA(e)},AA=function(n,e){return n==="h"&&e==="rtl"?-1:1},RA=function(n,e,t,i,o){var a=AA(n,window.getComputedStyle(e).direction),c=a*i,h=t.target,f=e.contains(h),v=!1,_=c>0,w=0,T=0;do{if(!h)break;var A=hw(n,h),L=A[0],S=A[1],C=A[2],M=S-C-a*L;(L||M)&&dw(n,h)&&(w+=M,T+=L);var U=h.parentNode;h=U&&U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?U.host:U}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(_&&Math.abs(w)<1||!_&&Math.abs(T)<1)&&(v=!0),v},nc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Zv=function(n){return[n.deltaX,n.deltaY]},ey=function(n){return n&&"current"in n?n.current:n},xA=function(n,e){return n[0]===e[0]&&n[1]===e[1]},PA=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},kA=0,Co=[];function NA(n){var e=R.useRef([]),t=R.useRef([0,0]),i=R.useRef(),o=R.useState(kA++)[0],a=R.useState(uw)[0],c=R.useRef(n);R.useEffect(function(){c.current=n},[n]),R.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var S=JC([n.lockRef.current],(n.shards||[]).map(ey),!0).filter(Boolean);return S.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=R.useCallback(function(S,C){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!c.current.allowPinchZoom;var M=nc(S),U=t.current,z="deltaX"in S?S.deltaX:U[0]-M[0],G="deltaY"in S?S.deltaY:U[1]-M[1],Z,J=S.target,P=Math.abs(z)>Math.abs(G)?"h":"v";if("touches"in S&&P==="h"&&J.type==="range")return!1;var x=window.getSelection(),N=x&&x.anchorNode,D=N?N===J||N.contains(J):!1;if(D)return!1;var V=Jv(P,J);if(!V)return!0;if(V?Z=P:(Z=P==="v"?"h":"v",V=Jv(P,J)),!V)return!1;if(!i.current&&"changedTouches"in S&&(z||G)&&(i.current=Z),!Z)return!0;var j=i.current||Z;return RA(j,C,S,j==="h"?z:G)},[]),f=R.useCallback(function(S){var C=S;if(!(!Co.length||Co[Co.length-1]!==a)){var M="deltaY"in C?Zv(C):nc(C),U=e.current.filter(function(Z){return Z.name===C.type&&(Z.target===C.target||C.target===Z.shadowParent)&&xA(Z.delta,M)})[0];if(U&&U.should){C.cancelable&&C.preventDefault();return}if(!U){var z=(c.current.shards||[]).map(ey).filter(Boolean).filter(function(Z){return Z.contains(C.target)}),G=z.length>0?h(C,z[0]):!c.current.noIsolation;G&&C.cancelable&&C.preventDefault()}}},[]),v=R.useCallback(function(S,C,M,U){var z={name:S,delta:C,target:M,should:U,shadowParent:bA(M)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(G){return G!==z})},1)},[]),_=R.useCallback(function(S){t.current=nc(S),i.current=void 0},[]),w=R.useCallback(function(S){v(S.type,Zv(S),S.target,h(S,n.lockRef.current))},[]),T=R.useCallback(function(S){v(S.type,nc(S),S.target,h(S,n.lockRef.current))},[]);R.useEffect(function(){return Co.push(a),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:T}),document.addEventListener("wheel",f,Io),document.addEventListener("touchmove",f,Io),document.addEventListener("touchstart",_,Io),function(){Co=Co.filter(function(S){return S!==a}),document.removeEventListener("wheel",f,Io),document.removeEventListener("touchmove",f,Io),document.removeEventListener("touchstart",_,Io)}},[]);var A=n.removeScrollBar,L=n.inert;return R.createElement(R.Fragment,null,L?R.createElement(a,{styles:PA(o)}):null,A?R.createElement(wA,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function bA(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const DA=aA(lw,NA);var hp=R.forwardRef(function(n,e){return R.createElement(Jc,cr({},n,{ref:e,sideCar:DA}))});hp.classNames=Jc.classNames;var OA=[" ","Enter","ArrowUp","ArrowDown"],LA=[" ","Enter"],Ts="Select",[Zc,ed,MA]=FC(Ts),[Qo]=wl(Ts,[MA,Gc]),td=Gc(),[VA,Vi]=Qo(Ts),[FA,UA]=Qo(Ts),fw=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:a,value:c,defaultValue:h,onValueChange:f,dir:v,name:_,autoComplete:w,disabled:T,required:A,form:L}=n,S=td(e),[C,M]=R.useState(null),[U,z]=R.useState(null),[G,Z]=R.useState(!1),J=jC(v),[P,x]=Ic({prop:i,defaultProp:o??!1,onChange:a,caller:Ts}),[N,D]=Ic({prop:c,defaultProp:h,onChange:f,caller:Ts}),V=R.useRef(null),j=C?L||!!C.closest("form"):!0,[k,_e]=R.useState(new Set),Le=Array.from(k).map(Te=>Te.props.value).join(";");return O.jsx(z_,{...S,children:O.jsxs(VA,{required:A,scope:e,trigger:C,onTriggerChange:M,valueNode:U,onValueNodeChange:z,valueNodeHasChildren:G,onValueNodeHasChildrenChange:Z,contentId:vs(),value:N,onValueChange:D,open:P,onOpenChange:x,dir:J,triggerPointerDownPosRef:V,disabled:T,children:[O.jsx(Zc.Provider,{scope:e,children:O.jsx(FA,{scope:n.__scopeSelect,onNativeOptionAdd:R.useCallback(Te=>{_e(ve=>new Set(ve).add(Te))},[]),onNativeOptionRemove:R.useCallback(Te=>{_e(ve=>{const Y=new Set(ve);return Y.delete(Te),Y})},[]),children:t})}),j?O.jsxs(Lw,{"aria-hidden":!0,required:A,tabIndex:-1,name:_,autoComplete:w,value:N,onChange:Te=>D(Te.target.value),disabled:T,form:L,children:[N===void 0?O.jsx("option",{value:""}):null,Array.from(k)]},Le):null]})})};fw.displayName=Ts;var pw="SelectTrigger",mw=R.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=n,a=td(t),c=Vi(pw,t),h=c.disabled||i,f=ot(e,c.onTriggerChange),v=ed(t),_=R.useRef("touch"),[w,T,A]=Vw(S=>{const C=v().filter(z=>!z.disabled),M=C.find(z=>z.value===c.value),U=Fw(C,S,M);U!==void 0&&c.onValueChange(U.value)}),L=S=>{h||(c.onOpenChange(!0),A()),S&&(c.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return O.jsx($_,{asChild:!0,...a,children:O.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Mw(c.value)?"":void 0,...o,ref:f,onClick:Ke(o.onClick,S=>{S.currentTarget.focus(),_.current!=="mouse"&&L(S)}),onPointerDown:Ke(o.onPointerDown,S=>{_.current=S.pointerType;const C=S.target;C.hasPointerCapture(S.pointerId)&&C.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(L(S),S.preventDefault())}),onKeyDown:Ke(o.onKeyDown,S=>{const C=w.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&T(S.key),!(C&&S.key===" ")&&OA.includes(S.key)&&(L(),S.preventDefault())})})})});mw.displayName=pw;var gw="SelectValue",vw=R.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,children:a,placeholder:c="",...h}=n,f=Vi(gw,t),{onValueNodeHasChildrenChange:v}=f,_=a!==void 0,w=ot(e,f.onValueNodeChange);return Ht(()=>{v(_)},[v,_]),O.jsx(Xe.span,{...h,ref:w,style:{pointerEvents:"none"},children:Mw(f.value)?O.jsx(O.Fragment,{children:c}):a})});vw.displayName=gw;var jA="SelectIcon",yw=R.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...o}=n;return O.jsx(Xe.span,{"aria-hidden":!0,...o,ref:e,children:i||""})});yw.displayName=jA;var BA="SelectPortal",_w=n=>O.jsx(Qc,{asChild:!0,...n});_w.displayName=BA;var Ss="SelectContent",ww=R.forwardRef((n,e)=>{const t=Vi(Ss,n.__scopeSelect),[i,o]=R.useState();if(Ht(()=>{o(new DocumentFragment)},[]),!t.open){const a=i;return a?El.createPortal(O.jsx(Ew,{scope:n.__scopeSelect,children:O.jsx(Zc.Slot,{scope:n.__scopeSelect,children:O.jsx("div",{children:n.children})})}),a):null}return O.jsx(Tw,{...n,ref:e})});ww.displayName=Ss;var Kn=10,[Ew,Fi]=Qo(Ss),zA="SelectContentImpl",$A=sl("SelectContent.RemoveScroll"),Tw=R.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:h,sideOffset:f,align:v,alignOffset:_,arrowPadding:w,collisionBoundary:T,collisionPadding:A,sticky:L,hideWhenDetached:S,avoidCollisions:C,...M}=n,U=Vi(Ss,t),[z,G]=R.useState(null),[Z,J]=R.useState(null),P=ot(e,ue=>G(ue)),[x,N]=R.useState(null),[D,V]=R.useState(null),j=ed(t),[k,_e]=R.useState(!1),Le=R.useRef(!1);R.useEffect(()=>{if(z)return ow(z)},[z]),rw();const Te=R.useCallback(ue=>{const[ye,...De]=j().map(Ue=>Ue.ref.current),[Pe]=De.slice(-1),Me=document.activeElement;for(const Ue of ue)if(Ue===Me||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===ye&&Z&&(Z.scrollTop=0),Ue===Pe&&Z&&(Z.scrollTop=Z.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==Me))return},[j,Z]),ve=R.useCallback(()=>Te([x,z]),[Te,x,z]);R.useEffect(()=>{k&&ve()},[k,ve]);const{onOpenChange:Y,triggerPointerDownPosRef:le}=U;R.useEffect(()=>{if(z){let ue={x:0,y:0};const ye=Pe=>{var Me,Ue;ue={x:Math.abs(Math.round(Pe.pageX)-(((Me=le.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((Ue=le.current)==null?void 0:Ue.y)??0))}},De=Pe=>{ue.x<=10&&ue.y<=10?Pe.preventDefault():z.contains(Pe.target)||Y(!1),document.removeEventListener("pointermove",ye),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",De,{capture:!0})}}},[z,Y,le]),R.useEffect(()=>{const ue=()=>Y(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[Y]);const[oe,$]=Vw(ue=>{const ye=j().filter(Me=>!Me.disabled),De=ye.find(Me=>Me.ref.current===document.activeElement),Pe=Fw(ye,ue,De);Pe&&setTimeout(()=>Pe.ref.current.focus())}),X=R.useCallback((ue,ye,De)=>{const Pe=!Le.current&&!De;(U.value!==void 0&&U.value===ye||Pe)&&(N(ue),Pe&&(Le.current=!0))},[U.value]),fe=R.useCallback(()=>z==null?void 0:z.focus(),[z]),Ce=R.useCallback((ue,ye,De)=>{const Pe=!Le.current&&!De;(U.value!==void 0&&U.value===ye||Pe)&&V(ue)},[U.value]),xe=i==="popper"?Cf:Sw,Oe=xe===Cf?{side:h,sideOffset:f,align:v,alignOffset:_,arrowPadding:w,collisionBoundary:T,collisionPadding:A,sticky:L,hideWhenDetached:S,avoidCollisions:C}:{};return O.jsx(Ew,{scope:t,content:z,viewport:Z,onViewportChange:J,itemRefCallback:X,selectedItem:x,onItemLeave:fe,itemTextRefCallback:Ce,focusSelectedItem:ve,selectedItemText:D,position:i,isPositioned:k,searchRef:oe,children:O.jsx(hp,{as:$A,allowPinchZoom:!0,children:O.jsx(dp,{asChild:!0,trapped:U.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Ke(o,ue=>{var ye;(ye=U.trigger)==null||ye.focus({preventScroll:!0}),ue.preventDefault()}),children:O.jsx($c,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:O.jsx(xe,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:ue=>ue.preventDefault(),...M,...Oe,onPlaced:()=>_e(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:Ke(M.onKeyDown,ue=>{const ye=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!ye&&ue.key.length===1&&$(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Pe=j().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Me=ue.target,Ue=Pe.indexOf(Me);Pe=Pe.slice(Ue+1)}setTimeout(()=>Te(Pe)),ue.preventDefault()}})})})})})})});Tw.displayName=zA;var WA="SelectItemAlignedPosition",Sw=R.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=n,a=Vi(Ss,t),c=Fi(Ss,t),[h,f]=R.useState(null),[v,_]=R.useState(null),w=ot(e,P=>_(P)),T=ed(t),A=R.useRef(!1),L=R.useRef(!0),{viewport:S,selectedItem:C,selectedItemText:M,focusSelectedItem:U}=c,z=R.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&v&&S&&C&&M){const P=a.trigger.getBoundingClientRect(),x=v.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),D=M.getBoundingClientRect();if(a.dir!=="rtl"){const Me=D.left-x.left,Ue=N.left-Me,lt=P.left-Ue,It=P.width+lt,mn=Math.max(It,x.width),Pn=window.innerWidth-Kn,kn=Wv(Ue,[Kn,Math.max(Kn,Pn-mn)]);h.style.minWidth=It+"px",h.style.left=kn+"px"}else{const Me=x.right-D.right,Ue=window.innerWidth-N.right-Me,lt=window.innerWidth-P.right-Ue,It=P.width+lt,mn=Math.max(It,x.width),Pn=window.innerWidth-Kn,kn=Wv(Ue,[Kn,Math.max(Kn,Pn-mn)]);h.style.minWidth=It+"px",h.style.right=kn+"px"}const V=T(),j=window.innerHeight-Kn*2,k=S.scrollHeight,_e=window.getComputedStyle(v),Le=parseInt(_e.borderTopWidth,10),Te=parseInt(_e.paddingTop,10),ve=parseInt(_e.borderBottomWidth,10),Y=parseInt(_e.paddingBottom,10),le=Le+Te+k+Y+ve,oe=Math.min(C.offsetHeight*5,le),$=window.getComputedStyle(S),X=parseInt($.paddingTop,10),fe=parseInt($.paddingBottom,10),Ce=P.top+P.height/2-Kn,xe=j-Ce,Oe=C.offsetHeight/2,ue=C.offsetTop+Oe,ye=Le+Te+ue,De=le-ye;if(ye<=Ce){const Me=V.length>0&&C===V[V.length-1].ref.current;h.style.bottom="0px";const Ue=v.clientHeight-S.offsetTop-S.offsetHeight,lt=Math.max(xe,Oe+(Me?fe:0)+Ue+ve),It=ye+lt;h.style.height=It+"px"}else{const Me=V.length>0&&C===V[0].ref.current;h.style.top="0px";const lt=Math.max(Ce,Le+S.offsetTop+(Me?X:0)+Oe)+De;h.style.height=lt+"px",S.scrollTop=ye-Ce+S.offsetTop}h.style.margin=`${Kn}px 0`,h.style.minHeight=oe+"px",h.style.maxHeight=j+"px",i==null||i(),requestAnimationFrame(()=>A.current=!0)}},[T,a.trigger,a.valueNode,h,v,S,C,M,a.dir,i]);Ht(()=>z(),[z]);const[G,Z]=R.useState();Ht(()=>{v&&Z(window.getComputedStyle(v).zIndex)},[v]);const J=R.useCallback(P=>{P&&L.current===!0&&(z(),U==null||U(),L.current=!1)},[z,U]);return O.jsx(qA,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:A,onScrollButtonChange:J,children:O.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:G},children:O.jsx(Xe.div,{...o,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Sw.displayName=WA;var HA="SelectPopperPosition",Cf=R.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=Kn,...a}=n,c=td(t);return O.jsx(W_,{...c,...a,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Cf.displayName=HA;var[qA,fp]=Qo(Ss,{}),Af="SelectViewport",Iw=R.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...o}=n,a=Fi(Af,t),c=fp(Af,t),h=ot(e,a.onViewportChange),f=R.useRef(0);return O.jsxs(O.Fragment,{children:[O.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),O.jsx(Zc.Slot,{scope:t,children:O.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ke(o.onScroll,v=>{const _=v.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:T}=c;if(T!=null&&T.current&&w){const A=Math.abs(f.current-_.scrollTop);if(A>0){const L=window.innerHeight-Kn*2,S=parseFloat(w.style.minHeight),C=parseFloat(w.style.height),M=Math.max(S,C);if(M<L){const U=M+A,z=Math.min(L,U),G=U-z;w.style.height=z+"px",w.style.bottom==="0px"&&(_.scrollTop=G>0?G:0,w.style.justifyContent="flex-end")}}}f.current=_.scrollTop})})})]})});Iw.displayName=Af;var Cw="SelectGroup",[KA,GA]=Qo(Cw),QA=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=vs();return O.jsx(KA,{scope:t,id:o,children:O.jsx(Xe.div,{role:"group","aria-labelledby":o,...i,ref:e})})});QA.displayName=Cw;var Aw="SelectLabel",YA=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=GA(Aw,t);return O.jsx(Xe.div,{id:o.id,...i,ref:e})});YA.displayName=Aw;var Cc="SelectItem",[XA,Rw]=Qo(Cc),xw=R.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:a,...c}=n,h=Vi(Cc,t),f=Fi(Cc,t),v=h.value===i,[_,w]=R.useState(a??""),[T,A]=R.useState(!1),L=ot(e,U=>{var z;return(z=f.itemRefCallback)==null?void 0:z.call(f,U,i,o)}),S=vs(),C=R.useRef("touch"),M=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return O.jsx(XA,{scope:t,value:i,disabled:o,textId:S,isSelected:v,onItemTextChange:R.useCallback(U=>{w(z=>z||((U==null?void 0:U.textContent)??"").trim())},[]),children:O.jsx(Zc.ItemSlot,{scope:t,value:i,disabled:o,textValue:_,children:O.jsx(Xe.div,{role:"option","aria-labelledby":S,"data-highlighted":T?"":void 0,"aria-selected":v&&T,"data-state":v?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:L,onFocus:Ke(c.onFocus,()=>A(!0)),onBlur:Ke(c.onBlur,()=>A(!1)),onClick:Ke(c.onClick,()=>{C.current!=="mouse"&&M()}),onPointerUp:Ke(c.onPointerUp,()=>{C.current==="mouse"&&M()}),onPointerDown:Ke(c.onPointerDown,U=>{C.current=U.pointerType}),onPointerMove:Ke(c.onPointerMove,U=>{var z;C.current=U.pointerType,o?(z=f.onItemLeave)==null||z.call(f):C.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(c.onPointerLeave,U=>{var z;U.currentTarget===document.activeElement&&((z=f.onItemLeave)==null||z.call(f))}),onKeyDown:Ke(c.onKeyDown,U=>{var G;((G=f.searchRef)==null?void 0:G.current)!==""&&U.key===" "||(LA.includes(U.key)&&M(),U.key===" "&&U.preventDefault())})})})})});xw.displayName=Cc;var Ya="SelectItemText",Pw=R.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,...a}=n,c=Vi(Ya,t),h=Fi(Ya,t),f=Rw(Ya,t),v=UA(Ya,t),[_,w]=R.useState(null),T=ot(e,M=>w(M),f.onItemTextChange,M=>{var U;return(U=h.itemTextRefCallback)==null?void 0:U.call(h,M,f.value,f.disabled)}),A=_==null?void 0:_.textContent,L=R.useMemo(()=>O.jsx("option",{value:f.value,disabled:f.disabled,children:A},f.value),[f.disabled,f.value,A]),{onNativeOptionAdd:S,onNativeOptionRemove:C}=v;return Ht(()=>(S(L),()=>C(L)),[S,C,L]),O.jsxs(O.Fragment,{children:[O.jsx(Xe.span,{id:f.textId,...a,ref:T}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?El.createPortal(a.children,c.valueNode):null]})});Pw.displayName=Ya;var kw="SelectItemIndicator",Nw=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return Rw(kw,t).isSelected?O.jsx(Xe.span,{"aria-hidden":!0,...i,ref:e}):null});Nw.displayName=kw;var Rf="SelectScrollUpButton",bw=R.forwardRef((n,e)=>{const t=Fi(Rf,n.__scopeSelect),i=fp(Rf,n.__scopeSelect),[o,a]=R.useState(!1),c=ot(e,i.onScrollButtonChange);return Ht(()=>{if(t.viewport&&t.isPositioned){let h=function(){const v=f.scrollTop>0;a(v)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?O.jsx(Ow,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});bw.displayName=Rf;var xf="SelectScrollDownButton",Dw=R.forwardRef((n,e)=>{const t=Fi(xf,n.__scopeSelect),i=fp(xf,n.__scopeSelect),[o,a]=R.useState(!1),c=ot(e,i.onScrollButtonChange);return Ht(()=>{if(t.viewport&&t.isPositioned){let h=function(){const v=f.scrollHeight-f.clientHeight,_=Math.ceil(f.scrollTop)<v;a(_)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?O.jsx(Ow,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});Dw.displayName=xf;var Ow=R.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=n,a=Fi("SelectScrollButton",t),c=R.useRef(null),h=ed(t),f=R.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return R.useEffect(()=>()=>f(),[f]),Ht(()=>{var _;const v=h().find(w=>w.ref.current===document.activeElement);(_=v==null?void 0:v.ref.current)==null||_.scrollIntoView({block:"nearest"})},[h]),O.jsx(Xe.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ke(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:Ke(o.onPointerMove,()=>{var v;(v=a.onItemLeave)==null||v.call(a),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:Ke(o.onPointerLeave,()=>{f()})})}),JA="SelectSeparator",ZA=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return O.jsx(Xe.div,{"aria-hidden":!0,...i,ref:e})});ZA.displayName=JA;var Pf="SelectArrow",eR=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=td(t),a=Vi(Pf,t),c=Fi(Pf,t);return a.open&&c.position==="popper"?O.jsx(H_,{...o,...i,ref:e}):null});eR.displayName=Pf;var tR="SelectBubbleInput",Lw=R.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const o=R.useRef(null),a=ot(i,o),c=GC(e);return R.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&_){const w=new Event("change",{bubbles:!0});_.call(h,e),h.dispatchEvent(w)}},[c,e]),O.jsx(Xe.select,{...t,style:{...q_,...t.style},ref:a,defaultValue:e})});Lw.displayName=tR;function Mw(n){return n===""||n===void 0}function Vw(n){const e=ws(n),t=R.useRef(""),i=R.useRef(0),o=R.useCallback(c=>{const h=t.current+c;e(h),(function f(v){t.current=v,window.clearTimeout(i.current),v!==""&&(i.current=window.setTimeout(()=>f(""),1e3))})(h)},[e]),a=R.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,a]}function Fw(n,e,t){const o=e.length>1&&Array.from(e).every(v=>v===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=nR(n,Math.max(a,0));o.length===1&&(c=c.filter(v=>v!==t));const f=c.find(v=>v.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==t?f:void 0}function nR(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var rR=fw,iR=mw,sR=vw,oR=yw,aR=_w,lR=ww,uR=Iw,ty=xw,ny=Pw,cR=Nw,dR=bw,hR=Dw;function fR({value:n,onChange:e,options:t,placeholder:i="..."}){return O.jsxs(rR,{value:n||"__none__",onValueChange:o=>e(o==="__none__"?"":o),children:[O.jsxs(iR,{className:`flex-1 min-w-0 flex items-center justify-between gap-1 h-10 px-3
          rounded-xl border border-[rgba(223,205,128,0.65)] bg-black/25
          text-[#dfcd80] font-kanit font-bold text-sm outline-none
          focus:border-[#dfcd80] focus:ring-2 focus:ring-[rgba(223,205,128,0.15)]
          data-[placeholder]:text-[rgba(223,205,128,0.5)]
          truncate cursor-pointer`,"aria-label":"",children:[O.jsx(sR,{placeholder:i,className:"truncate"}),O.jsx(oR,{className:"ml-1 opacity-60 flex-shrink-0",children:O.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:O.jsx("path",{d:"M7 10l5 5 5-5z"})})})]}),O.jsx(aR,{children:O.jsxs(lR,{position:"popper",sideOffset:4,className:`z-50 min-w-[180px] max-h-60 overflow-auto rounded-xl
            border border-[rgba(223,205,128,0.3)] bg-zinc-900 shadow-2xl
            data-[state=open]:animate-in data-[state=closed]:animate-out
            data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0`,children:[O.jsx(dR,{className:"flex items-center justify-center h-6 text-[#dfcd80]",children:O.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:O.jsx("path",{d:"M7 14l5-5 5 5z"})})}),O.jsxs(uR,{className:"p-1",children:[O.jsx(ty,{value:"__none__",className:`flex items-center px-3 py-2 rounded-lg text-sm text-zinc-500
                cursor-pointer outline-none select-none
                data-[highlighted]:bg-zinc-800 data-[highlighted]:text-zinc-300`,children:O.jsx(ny,{children:i})}),t.map(o=>O.jsxs(ty,{value:o,className:`flex items-center px-3 py-2 rounded-lg text-sm
                  text-[#dfcd80] cursor-pointer outline-none select-none
                  data-[highlighted]:bg-zinc-800 data-[state=checked]:font-bold`,children:[O.jsx(cR,{className:"mr-2",children:O.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:O.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",fill:"none"})})}),O.jsx(ny,{children:o})]},o))]}),O.jsx(hR,{className:"flex items-center justify-center h-6 text-[#dfcd80]",children:O.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:O.jsx("path",{d:"M7 10l5 5 5-5z"})})})]})})]})}var nd="Dialog",[Uw]=wl(nd),[pR,Jn]=Uw(nd),jw=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:o,onOpenChange:a,modal:c=!0}=n,h=R.useRef(null),f=R.useRef(null),[v,_]=Ic({prop:i,defaultProp:o??!1,onChange:a,caller:nd});return O.jsx(pR,{scope:e,triggerRef:h,contentRef:f,contentId:vs(),titleId:vs(),descriptionId:vs(),open:v,onOpenChange:_,onOpenToggle:R.useCallback(()=>_(w=>!w),[_]),modal:c,children:t})};jw.displayName=nd;var Bw="DialogTrigger",mR=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Bw,t),a=ot(e,o.triggerRef);return O.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":gp(o.open),...i,ref:a,onClick:Ke(n.onClick,o.onOpenToggle)})});mR.displayName=Bw;var pp="DialogPortal",[gR,zw]=Uw(pp,{forceMount:void 0}),$w=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:o}=n,a=Jn(pp,e);return O.jsx(gR,{scope:e,forceMount:t,children:R.Children.map(i,c=>O.jsx(Go,{present:t||a.open,children:O.jsx(Qc,{asChild:!0,container:o,children:c})}))})};$w.displayName=pp;var Ac="DialogOverlay",Ww=R.forwardRef((n,e)=>{const t=zw(Ac,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=Jn(Ac,n.__scopeDialog);return a.modal?O.jsx(Go,{present:i||a.open,children:O.jsx(yR,{...o,ref:e})}):null});Ww.displayName=Ac;var vR=sl("DialogOverlay.RemoveScroll"),yR=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Ac,t);return O.jsx(hp,{as:vR,allowPinchZoom:!0,shards:[o.contentRef],children:O.jsx(Xe.div,{"data-state":gp(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Is="DialogContent",Hw=R.forwardRef((n,e)=>{const t=zw(Is,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=Jn(Is,n.__scopeDialog);return O.jsx(Go,{present:i||a.open,children:a.modal?O.jsx(_R,{...o,ref:e}):O.jsx(wR,{...o,ref:e})})});Hw.displayName=Is;var _R=R.forwardRef((n,e)=>{const t=Jn(Is,n.__scopeDialog),i=R.useRef(null),o=ot(e,t.contentRef,i);return R.useEffect(()=>{const a=i.current;if(a)return ow(a)},[]),O.jsx(qw,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(n.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ke(n.onPointerDownOutside,a=>{const c=a.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0;(c.button===2||h)&&a.preventDefault()}),onFocusOutside:Ke(n.onFocusOutside,a=>a.preventDefault())})}),wR=R.forwardRef((n,e)=>{const t=Jn(Is,n.__scopeDialog),i=R.useRef(!1),o=R.useRef(!1);return O.jsx(qw,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,h;(c=n.onCloseAutoFocus)==null||c.call(n,a),a.defaultPrevented||(i.current||(h=t.triggerRef.current)==null||h.focus(),a.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:a=>{var f,v;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((v=t.triggerRef.current)==null?void 0:v.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),qw=R.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=n,h=Jn(Is,t),f=R.useRef(null),v=ot(e,f);return rw(),O.jsxs(O.Fragment,{children:[O.jsx(dp,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:a,children:O.jsx($c,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":gp(h.open),...c,ref:v,onDismiss:()=>h.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(ER,{titleId:h.titleId}),O.jsx(SR,{contentRef:f,descriptionId:h.descriptionId})]})]})}),mp="DialogTitle",Kw=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(mp,t);return O.jsx(Xe.h2,{id:o.titleId,...i,ref:e})});Kw.displayName=mp;var Gw="DialogDescription",Qw=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Gw,t);return O.jsx(Xe.p,{id:o.descriptionId,...i,ref:e})});Qw.displayName=Gw;var Yw="DialogClose",Xw=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Yw,t);return O.jsx(Xe.button,{type:"button",...i,ref:e,onClick:Ke(n.onClick,()=>o.onOpenChange(!1))})});Xw.displayName=Yw;function gp(n){return n?"open":"closed"}var Jw="DialogTitleWarning",[Qb,Zw]=RS(Jw,{contentName:Is,titleName:mp,docsSlug:"dialog"}),ER=({titleId:n})=>{const e=Zw(Jw),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return R.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},TR="DialogDescriptionWarning",SR=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Zw(TR).contentName}}.`;return R.useEffect(()=>{var a;const o=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},IR=jw,CR=$w,AR=Ww,RR=Hw,xR=Kw,PR=Qw,kR=Xw;function e0({open:n,title:e,label:t,defaultValue:i="",onConfirm:o,onCancel:a}){const[c,h]=R.useState(i),f=R.useRef(null);R.useEffect(()=>{n&&(h(i),setTimeout(()=>{var w;return(w=f.current)==null?void 0:w.focus()},50))},[n,i]);function v(){const w=c.trim();w&&o(w)}function _(w){w.key==="Enter"&&v(),w.key==="Escape"&&a()}return O.jsx(IR,{open:n,onOpenChange:w=>!w&&a(),children:O.jsxs(CR,{children:[O.jsx(AR,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50"}),O.jsxs(RR,{className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50
            w-[90vw] max-w-sm rounded-2xl border border-[rgba(223,205,128,0.3)]
            bg-zinc-900 p-6 shadow-2xl`,children:[O.jsx(xR,{className:"text-[#dfcd80] font-bold text-lg mb-1",children:e}),O.jsx(PR,{className:"text-zinc-400 text-sm mb-4",children:t}),O.jsx("input",{ref:f,value:c,onChange:w=>h(w.target.value),onKeyDown:_,className:`w-full h-11 rounded-xl border-2 border-[#dfcd80] bg-white
              text-black font-bold text-base px-3 outline-none`,placeholder:"..."}),O.jsxs("div",{className:"flex gap-3 mt-4",children:[O.jsx("button",{onClick:v,className:`flex-1 h-11 rounded-xl bg-[#dfcd80] text-black font-extrabold
                text-base hover:brightness-105 active:scale-[0.985] transition-all`,children:""}),O.jsx("button",{onClick:a,className:`flex-1 h-11 rounded-xl border border-[rgba(223,205,128,0.55)]
                text-[#dfcd80] font-extrabold text-base bg-transparent
                hover:bg-[rgba(223,205,128,0.08)] active:scale-[0.985] transition-all`,children:""})]}),O.jsx(kR,{asChild:!0,children:O.jsx("button",{"aria-label":"Close",className:`absolute top-3 right-3 text-zinc-500 hover:text-zinc-300
                w-7 h-7 flex items-center justify-center rounded-full text-lg`,onClick:a,children:""})})]})]})})}const fs=200,rf=[{name:"",steps:5},{name:"",steps:10},{name:"",steps:10},{name:"",steps:20},{name:"",steps:25},{name:"",steps:25},{name:"",steps:25},{name:"",steps:25},{name:"",steps:50},{name:"",steps:50}],dc=[{id:"extream",count:8,label:"Extream"},{id:"sport",count:7,label:"Sport"},{id:"standard",count:7,label:"Standard"}],NR={extream:["LaFerrari","Huayra BC","Ford GT","Centodieci","SVJ","Benz GT R","Chiron","Vulcan"],sport:["Reventon","Giulia","GT-R","XJ220","F-Type","NSX-R","4C Spider"],standard:["RX7","DB5","Emira","911 Carrera","Mach 1","Camaro Z/28","S15"]},bR={extream:[{pointBox:[.522,.27,.045,.1]},{pointBox:[.695,.27,.04,.1]},{pointBox:[.86,.27,.04,.1]},{pointBox:[.522,.5,.045,.1]},{pointBox:[.695,.5,.04,.1]},{pointBox:[.86,.5,.04,.1]},{pointBox:[.545,.73,.05,.12]},{pointBox:[.705,.73,.05,.12]}],sport:[{pointBox:[.536,.312,.055,.07]},{pointBox:[.719,.319,.04,.055]},{pointBox:[.894,.32,.04,.053]},{pointBox:[.544,.547,.039,.058]},{pointBox:[.719,.548,.039,.055]},{pointBox:[.868,.547,.04,.054]},{pointBox:[.517,.775,.04,.054]}],standard:[{pointBox:[.518,.388,.038,.039]},{pointBox:[.694,.39,.037,.037]},{pointBox:[.868,.386,.038,.045]},{pointBox:[.544,.616,.039,.041]},{pointBox:[.72,.617,.036,.039]},{pointBox:[.896,.617,.035,.038]},{pointBox:[.545,.844,.036,.039]}]};function ll(n){return String(n||"").trim()}function ps(n){return ll(n).toLowerCase()}function kf(n,e){var h;const t=NR[n]||[],i=((h=e.customCars)==null?void 0:h[n])||[],o=[...t,...i].map(ll).filter(Boolean),a=new Set,c=[];for(const f of o){const v=ps(f);a.has(v)||(a.add(v),c.push(f))}return c}function DR({index:n,sectionId:e,value:t,isLocked:i,carValue:o,state:a,onValueChange:c,onToggleLock:h,onCarChange:f,onAddCustomCar:v,onCalc:_}){const[w,T]=R.useState(!1),A=kf(e,a);function L(S){const C=ll(S);if(!C)return;A.some(U=>ps(U)===ps(C))||v(C),f(C),T(!1)}return O.jsx(VC,{delayDuration:400,children:O.jsxs("div",{className:`flex gap-[6px] items-center ${i?"locked-row":""}`,children:[O.jsx("input",{type:"number",inputMode:"numeric",placeholder:` #${n+1}`,value:t,onChange:S=>c(S.target.value),onKeyDown:S=>S.key==="Enter"&&_(),className:`w-[130px] flex-shrink-0 h-10 rounded-xl border-2 border-[#dfcd80]
            bg-white text-black font-extrabold text-base text-center px-2 outline-none
            placeholder:text-gray-400 placeholder:font-semibold
            [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none
            [&::-webkit-outer-spin-button]:appearance-none`}),O.jsxs(Uv,{children:[O.jsx(jv,{asChild:!0,children:O.jsx("button",{type:"button",onClick:h,className:`w-10 h-10 flex-shrink-0 rounded-xl flex items-center justify-center
                cursor-pointer transition-all active:scale-[0.97]
                ${i?"border border-[rgba(223,205,128,0.65)] bg-[rgba(223,205,128,0.12)] text-[#dfcd80]":"border border-white/20 bg-transparent text-white/80 hover:bg-white/5"}`,children:i?O.jsx(TS,{}):O.jsx(SS,{})})}),O.jsx(Bv,{children:O.jsxs(zv,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[i?" (Reset )":"",O.jsx($v,{className:"fill-zinc-800"})]})})]}),O.jsx(fR,{value:o,onChange:f,options:A}),O.jsxs(Uv,{children:[O.jsx(jv,{asChild:!0,children:O.jsx("button",{type:"button",onClick:()=>T(!0),className:`w-10 h-10 flex-shrink-0 rounded-xl border border-[rgba(223,205,128,0.55)]
                bg-[rgba(223,205,128,0.10)] text-[#dfcd80]
                flex items-center justify-center cursor-pointer
                hover:bg-[rgba(223,205,128,0.18)] active:scale-[0.97] transition-all`,children:O.jsx(IS,{})})}),O.jsx(Bv,{children:O.jsxs(zv,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[" / ",O.jsx($v,{className:"fill-zinc-800"})]})})]}),O.jsx(e0,{open:w,title:"",label:" ( dropdown )",defaultValue:o,onConfirm:L,onCancel:()=>T(!1)})]})})}function OR({sectionId:n,label:e,badgeText:t,state:i,isImporting:o,onStateChange:a,onImport:c,onCalc:h}){const[f,v]=R.useState(!1),_=i.sections[n],w=i.locked[n],T=i.cars[n];function A(C,M,U){a(z=>{const G=[...z[M][n]];return G[C]=U,{...z,[M]:{...z[M],[n]:G}}})}function L(C){const M=ll(C);!M||kf(n,i).some(z=>ps(z)===ps(M))||a(z=>({...z,customCars:{...z.customCars,[n]:[...z.customCars[n]||[],M]}}))}function S(C){const M=ll(C);if(!M)return;kf(n,i).some(z=>ps(z)===ps(M))||L(M),v(!1)}return O.jsxs("div",{className:`flex flex-col rounded-[18px] bg-gradient-to-b from-[#0b0b0b] to-[#101010]
      border border-[rgba(223,205,128,0.22)] shadow-[0_10px_30px_rgba(0,0,0,0.55)]
      p-3 min-h-0`,children:[O.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-shrink-0",children:[O.jsx("span",{className:"text-[#dfcd80] font-bold text-[17px]",children:e}),O.jsx("span",{className:"text-[12px] text-black bg-[#dfcd80] rounded-full px-[10px] py-[2px] font-bold",children:t}),O.jsxs("button",{type:"button",onClick:()=>c(n),disabled:o,className:`ml-auto flex items-center gap-1.5 h-7 px-[10px] rounded-full
            border border-[rgba(223,205,128,0.55)] bg-[rgba(223,205,128,0.10)]
            text-[#dfcd80] font-extrabold text-[12px] cursor-pointer
            hover:bg-[rgba(223,205,128,0.16)] active:scale-[0.98] transition-all
            disabled:opacity-50 disabled:cursor-wait`,children:[O.jsx(CS,{}),"Import"]}),O.jsx("button",{type:"button",onClick:()=>v(!0),className:`flex items-center gap-1 h-7 px-[10px] rounded-full
            border border-[rgba(223,205,128,0.55)] bg-[rgba(223,205,128,0.10)]
            text-[#dfcd80] font-extrabold text-[12px] cursor-pointer
            hover:bg-[rgba(223,205,128,0.16)] active:scale-[0.98] transition-all`,children:"+ Add"})]}),O.jsx("div",{className:"flex flex-col gap-[10px] overflow-auto section-scroll min-h-0 pr-1",children:_.map((C,M)=>O.jsx(DR,{index:M,sectionId:n,value:C,isLocked:w[M],carValue:T[M],state:i,onValueChange:U=>A(M,"sections",U),onToggleLock:()=>A(M,"locked",!w[M]),onCarChange:U=>A(M,"cars",U),onAddCustomCar:L,onCalc:h},M))}),O.jsx(e0,{open:f,title:` ${e}`,label:" dropdown",onConfirm:S,onCancel:()=>v(!1)})]})}function LR({bonus:n,onBonusChange:e,onCalc:t,onReset:i,result:o,isCalculating:a}){return O.jsxs("div",{className:`flex flex-col rounded-[18px] bg-gradient-to-b from-[#0b0b0b] to-[#101010]
      border border-[rgba(223,205,128,0.22)] shadow-[0_10px_30px_rgba(0,0,0,0.55)]
      p-3 min-h-0 min-w-[280px]`,children:[O.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-shrink-0",children:[O.jsx("span",{className:"text-[#dfcd80] font-bold text-[17px]",children:""}),O.jsx("span",{className:"text-[12px] text-black bg-[#dfcd80] rounded-full px-[10px] py-[2px] font-bold",children:""})]}),O.jsxs("div",{className:"flex flex-col gap-[10px]",children:[O.jsxs("div",{className:`rounded-2xl border border-dashed border-[rgba(223,205,128,0.35)]
          bg-white/[0.04] p-3 grid gap-3`,children:[O.jsxs("div",{className:"flex items-center justify-between gap-2",children:[O.jsx("span",{className:"text-[#dfcd80] font-bold whitespace-nowrap text-sm",children:""}),O.jsx("input",{type:"number",value:n,onChange:c=>e(Number(c.target.value)),className:`w-[110px] h-[42px] rounded-xl border-2 border-[#dfcd80]
                bg-white text-black font-extrabold text-base text-center
                outline-none [appearance:textfield]
                [&::-webkit-inner-spin-button]:appearance-none
                [&::-webkit-outer-spin-button]:appearance-none`})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-[10px]",children:[O.jsx("button",{type:"button",onClick:t,disabled:a,className:`h-[46px] rounded-[14px] bg-[#dfcd80] text-black font-extrabold text-base
                cursor-pointer hover:brightness-[1.03] active:scale-[0.985] transition-all
                disabled:opacity-70 disabled:cursor-wait flex items-center justify-center gap-2`,children:a?O.jsxs(O.Fragment,{children:["...",O.jsx("span",{className:`inline-block w-4 h-4 border-2 border-black/35
                    border-t-black/85 rounded-full animate-spin-fast`})]}):""}),O.jsx("button",{type:"button",onClick:i,className:`h-[46px] rounded-[14px] border border-[rgba(223,205,128,0.55)]
                text-[#dfcd80] font-extrabold text-base bg-transparent
                cursor-pointer hover:bg-[rgba(223,205,128,0.08)] active:scale-[0.985] transition-all`,children:"Reset"})]})]}),O.jsxs("div",{className:`rounded-[18px] border border-[rgba(223,205,128,0.25)]
          bg-white/[0.04] p-[14px]`,children:[O.jsxs("div",{className:"flex justify-between items-baseline gap-2 flex-wrap mb-1",children:[O.jsx("h2",{className:"m-0 text-[18px] text-[#dfcd80] font-extrabold",children:""}),O.jsx("span",{className:"text-[#eaeaea] text-sm font-mono tabular-nums",children:o?`: ${o.total.toLocaleString()} ( ${o.sum.toLocaleString()} +  ${o.bonus.toLocaleString()})`:": -"})]}),O.jsx("div",{className:"mt-1.5 text-[22px] font-extrabold text-white",children:o?`${o.rank.hat} ${o.rank.stepInHat} (${o.rank.inStep}/${o.rank.stepMax})`:"-"}),O.jsx("div",{className:"mt-1.5 text-[#a9a9a9] text-[13px] leading-[1.45]",children:o?` 1  = ${fs}    "${o.rank.hat}"  ${o.rank.stepInHat} / ${o.rank.hatSteps}`:`: 1  = ${fs}    " + "`})]})]})]})}function MR({user:n,onSignIn:e,onSignOut:t}){return O.jsxs("button",{type:"button",onClick:n?t:e,className:`fixed top-3 right-3 z-50 flex items-center gap-2
        h-9 px-3 rounded-[10px] bg-[#dfcd80] text-black font-bold text-sm
        cursor-pointer hover:brightness-105 active:scale-[0.98] transition-all
        shadow-lg`,children:[O.jsx(AS,{className:"w-4 h-4"}),n?`Logout (${n.displayName||"Google"})`:"Sign in with Google"]})}const t0="rm_rank_calc_split_v1";function sf(){return{bonus:1200,sections:{extream:Array(8).fill(""),sport:Array(7).fill(""),standard:Array(7).fill("")},locked:{extream:Array(8).fill(!1),sport:Array(7).fill(!1),standard:Array(7).fill(!1)},cars:{extream:Array(8).fill(""),sport:Array(7).fill(""),standard:Array(7).fill("")},customCars:{extream:[],sport:[],standard:[]}}}function VR(){var n,e,t,i;try{const o=localStorage.getItem(t0);if(!o)return sf();const a=JSON.parse(o),c=sf();for(const h of dc){const f=h.id;Array.isArray((n=a.sections)==null?void 0:n[f])&&(c.sections[f]=a.sections[f].slice(0,c.sections[f].length)),Array.isArray((e=a.locked)==null?void 0:e[f])&&(c.locked[f]=a.locked[f].slice(0,c.locked[f].length)),Array.isArray((t=a.cars)==null?void 0:t[f])&&(c.cars[f]=a.cars[f].slice(0,c.cars[f].length)),Array.isArray((i=a.customCars)==null?void 0:i[f])&&(c.customCars[f]=a.customCars[f])}return Number.isFinite(Number(a.bonus))&&(c.bonus=Number(a.bonus)),c}catch{return sf()}}function ry(n){localStorage.setItem(t0,JSON.stringify(n))}function FR(n){(!Number.isFinite(n)||n<0)&&(n=0);const e=Math.floor(n/fs),t=n%fs;let i=0;for(const a of rf){const c=i+a.steps;if(e<c){const h=e-i+1;return{hat:a.name,stepInHat:h,inStep:t,stepMax:fs,hatSteps:a.steps}}i=c}const o=rf[rf.length-1];return{hat:o.name,stepInHat:o.steps,inStep:fs-1,stepMax:fs,hatSteps:o.steps}}const UR="modulepreload",jR=function(n){return"/cal-ranking-rm/"+n},iy={},BR=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let c=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=c(t.map(v=>{if(v=jR(v),v in iy)return;iy[v]=!0;const _=v.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":UR,_||(T.as="script"),T.crossOrigin="",T.href=v,f&&T.setAttribute("nonce",f),document.head.appendChild(T),_)return new Promise((A,L)=>{T.addEventListener("load",A),T.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${v}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};function zR(n){const t=[...String(n||"").matchAll(/\d+/g)].map(o=>o[0]).find(o=>o.length===4&&Number(o)>=1e3);if(t)return t;const i=String(n||"").replace(/\D/g,"");if(i.length>=4)for(let o=0;o<=i.length-4;o++){const a=i.slice(o,o+4);if(Number(a)>=1e3)return a}return""}function $R(n){return new Promise((e,t)=>{const i=URL.createObjectURL(n),o=new Image;o.onload=()=>{URL.revokeObjectURL(i),e(o)},o.onerror=t,o.src=i})}function WR(n,e,t,i){const[o,a,c,h]=e,f=Math.round(n.naturalWidth*o),v=Math.round(n.naturalHeight*a),_=Math.max(1,Math.round(n.naturalWidth*c)),w=Math.max(1,Math.round(n.naturalHeight*h)),T=document.createElement("canvas"),A=4;T.width=_*A,T.height=w*A;const L=T.getContext("2d");L.imageSmoothingEnabled=!0,L.imageSmoothingQuality="high",L.fillStyle="#fff",L.fillRect(0,0,T.width,T.height),L.drawImage(n,f,v,_,w,0,0,T.width,T.height);const S=L.getImageData(0,0,T.width,T.height),C=S.data;for(let M=0;M<C.length;M+=4){const z=C[M]*.299+C[M+1]*.587+C[M+2]*.114>t,G=(i?z:!z)?0:255;C[M]=C[M+1]=C[M+2]=G,C[M+3]=255}return L.putImageData(S,0,0),T}async function HR(n,e){const{data:t}=await e.recognize(n);return(t.text||"").trim()}async function qR(n,e){const t=bR[n];if(!(t!=null&&t.length))throw new Error(" OCR_BOXES ");return new Promise((i,o)=>{const a=document.createElement("input");a.type="file",a.accept="image/*",a.style.display="none",document.body.appendChild(a),a.onchange=async()=>{var h;const c=(h=a.files)==null?void 0:h[0];if(document.body.removeChild(a),!c){i({points:[],debugLog:[]});return}try{const f=await $R(c),{createWorker:v}=await BR(async()=>{const{createWorker:A}=await import("./index-C59knU3D.js").then(L=>L.i);return{createWorker:A}},[]),_=await v("eng");await _.setParameters({tessedit_char_whitelist:"0123456789"});const w=[],T=[];for(let A=0;A<t.length;A++){const L=[[155,!0],[120,!0],[140,!1]];let S="";const C=[];for(const[U,z]of L){const G=WR(f,t[A].pointBox,U,z),Z=await HR(G,_);C.push(`t${U}${z?"i":"n"}:"${Z}"`);const J=zR(Z);J&&!S&&(S=J)}const M=`box${A+1}: ${C.join(" | ")}  "${S}"`;T.push(M),console.log(`[OCR ${n}] ${M}`),w.push(S),e(Math.round((A+1)/t.length*100))}await _.terminate(),i({points:w,debugLog:T})}catch(f){o(f)}},a.click()})}var sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},KR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},r0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,v=f?n[o+2]:0,_=a>>2,w=(a&3)<<4|h>>4;let T=(h&15)<<2|v>>6,A=v&63;f||(A=64,c||(T=64)),i.push(t[_],t[w],t[T],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(n0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||v==null||w==null)throw new GR;const T=a<<2|h>>4;if(i.push(T),v!==64){const A=h<<4&240|v>>2;if(i.push(A),w!==64){const L=v<<6&192|w;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class GR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QR=function(n){const e=n0(n);return r0.encodeByteArray(e,!0)},Rc=function(n){return QR(n).replace(/\./g,"")},i0=function(n){try{return r0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=()=>YR().__FIREBASE_DEFAULTS__,JR=()=>{if(typeof process>"u"||typeof sy>"u")return;const n=sy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&i0(n[1]);return e&&JSON.parse(e)},rd=()=>{try{return XR()||JR()||ZR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},s0=n=>{var e,t;return(t=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ex=n=>{const e=s0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},o0=()=>{var n;return(n=rd())===null||n===void 0?void 0:n.config},a0=n=>{var e;return(e=rd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rc(JSON.stringify(t)),Rc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function ix(){var n;const e=(n=rd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ox(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ax(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lx(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ux(){return!ix()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cx(){try{return typeof indexedDB=="object"}catch{return!1}}function dx(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="FirebaseError";class Xr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=hx,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?fx(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Xr(o,h,i)}}function fx(n,e){return n.replace(px,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const px=/\{\$([^}]+)}/g;function mx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(oy(a)&&oy(c)){if(!xc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function oy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gx(n,e){const t=new vx(n,e);return t.subscribe.bind(t)}class vx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");yx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=of),o.error===void 0&&(o.error=of),o.complete===void 0&&(o.complete=of);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(n){return n&&n._delegate?n._delegate:n}class Cs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new tx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ex(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wx(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wx(n){return n===hs?void 0:n}function Ex(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _x(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const Sx={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Ix=Be.INFO,Cx={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},Ax=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=Cx[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vp{constructor(e){this.name=e,this._logLevel=Ix,this._logHandler=Ax,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Rx=(n,e)=>e.some(t=>n instanceof t);let ay,ly;function xx(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Px(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l0=new WeakMap,Nf=new WeakMap,u0=new WeakMap,af=new WeakMap,yp=new WeakMap;function kx(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(xi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&l0.set(t,n)}).catch(()=>{}),yp.set(e,n),e}function Nx(n){if(Nf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Nf.set(n,e)}let bf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Nf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||u0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bx(n){bf=n(bf)}function Dx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(lf(this),e,...t);return u0.set(i,e.sort?e.sort():[e]),xi(i)}:Px().includes(n)?function(...e){return n.apply(lf(this),e),xi(l0.get(this))}:function(...e){return xi(n.apply(lf(this),e))}}function Ox(n){return typeof n=="function"?Dx(n):(n instanceof IDBTransaction&&Nx(n),Rx(n,xx())?new Proxy(n,bf):n)}function xi(n){if(n instanceof IDBRequest)return kx(n);if(af.has(n))return af.get(n);const e=Ox(n);return e!==n&&(af.set(n,e),yp.set(e,n)),e}const lf=n=>yp.get(n);function Lx(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=xi(c);return i&&c.addEventListener("upgradeneeded",f=>{i(xi(c.result),f.oldVersion,f.newVersion,xi(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),h}const Mx=["get","getKey","getAll","getAllKeys","count"],Vx=["put","add","delete","clear"],uf=new Map;function uy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uf.get(e))return uf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=Vx.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Mx.includes(t)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let v=f.store;return i&&(v=v.index(h.shift())),(await Promise.all([v[t](...h),o&&f.done]))[0]};return uf.set(e,a),a}bx(n=>({...n,get:(e,t,i)=>uy(e,t)||n.get(e,t,i),has:(e,t)=>!!uy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ux(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Ux(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Df="@firebase/app",cy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new vp("@firebase/app"),jx="@firebase/app-compat",Bx="@firebase/analytics-compat",zx="@firebase/analytics",$x="@firebase/app-check-compat",Wx="@firebase/app-check",Hx="@firebase/auth",qx="@firebase/auth-compat",Kx="@firebase/database",Gx="@firebase/data-connect",Qx="@firebase/database-compat",Yx="@firebase/functions",Xx="@firebase/functions-compat",Jx="@firebase/installations",Zx="@firebase/installations-compat",eP="@firebase/messaging",tP="@firebase/messaging-compat",nP="@firebase/performance",rP="@firebase/performance-compat",iP="@firebase/remote-config",sP="@firebase/remote-config-compat",oP="@firebase/storage",aP="@firebase/storage-compat",lP="@firebase/firestore",uP="@firebase/vertexai-preview",cP="@firebase/firestore-compat",dP="firebase",hP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]",fP={[Df]:"fire-core",[jx]:"fire-core-compat",[zx]:"fire-analytics",[Bx]:"fire-analytics-compat",[Wx]:"fire-app-check",[$x]:"fire-app-check-compat",[Hx]:"fire-auth",[qx]:"fire-auth-compat",[Kx]:"fire-rtdb",[Gx]:"fire-data-connect",[Qx]:"fire-rtdb-compat",[Yx]:"fire-fn",[Xx]:"fire-fn-compat",[Jx]:"fire-iid",[Zx]:"fire-iid-compat",[eP]:"fire-fcm",[tP]:"fire-fcm-compat",[nP]:"fire-perf",[rP]:"fire-perf-compat",[iP]:"fire-rc",[sP]:"fire-rc-compat",[oP]:"fire-gcs",[aP]:"fire-gcs-compat",[lP]:"fire-fst",[cP]:"fire-fst-compat",[uP]:"fire-vertex","fire-js":"fire-js",[dP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,pP=new Map,Lf=new Map;function dy(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vo(n){const e=n.name;if(Lf.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Lf.set(e,n);for(const t of Pc.values())dy(t,n);for(const t of pP.values())dy(t,n);return!0}function _p(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Cl("app","Firebase",mP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=hP;function c0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Of,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Pi.create("bad-app-name",{appName:String(o)});if(t||(t=o0()),!t)throw Pi.create("no-options");const a=Pc.get(o);if(a){if(xc(t,a.options)&&xc(i,a.config))return a;throw Pi.create("duplicate-app",{appName:o})}const c=new Tx(o);for(const f of Lf.values())c.addComponent(f);const h=new gP(t,i,c);return Pc.set(o,h),h}function d0(n=Of){const e=Pc.get(n);if(!e&&n===Of&&o0())return c0();if(!e)throw Pi.create("no-app",{appName:n});return e}function ki(n,e,t){var i;let o=(i=fP[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(h.join(" "));return}Vo(new Cs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="firebase-heartbeat-database",yP=1,ul="firebase-heartbeat-store";let cf=null;function h0(){return cf||(cf=Lx(vP,yP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ul)}catch(t){console.warn(t)}}}}).catch(n=>{throw Pi.create("idb-open",{originalErrorMessage:n.message})})),cf}async function _P(n){try{const t=(await h0()).transaction(ul),i=await t.objectStore(ul).get(f0(n));return await t.done,i}catch(e){if(e instanceof Xr)Kr.warn(e.message);else{const t=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(t.message)}}}async function hy(n,e){try{const i=(await h0()).transaction(ul,"readwrite");await i.objectStore(ul).put(e,f0(n)),await i.done}catch(t){if(t instanceof Xr)Kr.warn(t.message);else{const i=Pi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Kr.warn(i.message)}}}function f0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=1024,EP=720*60*60*1e3;class TP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=fy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=EP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Kr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fy(),{heartbeatsToSend:i,unsentEntries:o}=SP(this._heartbeatsCache.heartbeats),a=Rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Kr.warn(t),""}}}function fy(){return new Date().toISOString().substring(0,10)}function SP(n,e=wP){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),py(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),py(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class IP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cx()?dx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _P(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return hy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return hy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function py(n){return Rc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(n){Vo(new Cs("platform-logger",e=>new Fx(e),"PRIVATE")),Vo(new Cs("heartbeat",e=>new TP(e),"PRIVATE")),ki(Df,cy,n),ki(Df,cy,"esm2017"),ki("fire-js","")}CP("");var AP="firebase",RP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(AP,RP,"app");function p0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xP=p0,m0=new Cl("auth","Firebase",p0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new vp("@firebase/auth");function PP(n,...e){kc.logLevel<=Be.WARN&&kc.warn(`Auth (${Yo}): ${n}`,...e)}function hc(n,...e){kc.logLevel<=Be.ERROR&&kc.error(`Auth (${Yo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,...e){throw Ep(n,...e)}function Qn(n,...e){return Ep(n,...e)}function wp(n,e,t){const i=Object.assign(Object.assign({},xP()),{[e]:t});return new Cl("auth","Firebase",i).create(e,{appName:n.name})}function ys(n){return wp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&vr(n,"argument-error"),wp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ep(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return m0.create(n,...e)}function Re(n,e,...t){if(!n)throw Ep(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hc(e),new Error(e)}function Gr(n,e){n||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function NP(){return my()==="http:"||my()==="https:"}function my(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NP()||ox()||"connection"in navigator)?navigator.onLine:!0}function DP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gr(t>e,"Short delay should be less than long delay!"),this.isMobile=rx()||ax()}get(){return bP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(n,e){Gr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Rl(3e4,6e4);function Sp(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Xo(n,e,t,i,o={}){return v0(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Al(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:f},a);return sx()||(v.referrerPolicy="no-referrer"),g0.fetch()(y0(n,n.config.apiHost,t,h),v)})}async function v0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},OP),e);try{const o=new VP(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw rc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,v]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw rc(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw rc(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw wp(n,_,v);vr(n,_)}}catch(o){if(o instanceof Xr)throw o;vr(n,"network-request-failed",{message:String(o)})}}async function MP(n,e,t,i,o={}){const a=await Xo(n,e,t,i,o);return"mfaPendingCredential"in a&&vr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function y0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Tp(n.config,o):`${n.config.apiScheme}://${o}`}class VP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Qn(this.auth,"network-request-failed")),LP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Qn(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(n,e){return Xo(n,"POST","/v1/accounts:delete",e)}async function _0(n,e){return Xo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UP(n,e=!1){const t=xn(n),i=await t.getIdToken(e),o=Ip(i);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:el(df(o.auth_time)),issuedAtTime:el(df(o.iat)),expirationTime:el(df(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function df(n){return Number(n)*1e3}function Ip(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=i0(t);return o?JSON.parse(o):(hc("Failed to decode base64 JWT payload"),null)}catch(o){return hc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function gy(n){const e=Ip(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Xr&&jP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function jP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await cl(n,_0(t,{idToken:i}));Re(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?w0(a.providerUserInfo):[],h=$P(n.providerData,c),f=n.isAnonymous,v=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=f?v:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Vf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function zP(n){const e=xn(n);await Nc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $P(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function w0(n){return n.map(e=>{var{providerId:t}=e,i=Il(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(n,e){const t=await v0(n,{},async()=>{const i=Al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=y0(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",g0.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HP(n,e){return Xo(n,"POST","/v2/accounts:revokeToken",Sp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=gy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await WP(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new No;return i&&(Re(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Re(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Re(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Il(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new BP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await cl(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UP(this,e)}reload(){return zP(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Nc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jr(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await cl(this,FP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,f,v,_;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,L=(c=t.photoURL)!==null&&c!==void 0?c:void 0,S=(h=t.tenantId)!==null&&h!==void 0?h:void 0,C=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,M=(v=t.createdAt)!==null&&v!==void 0?v:void 0,U=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:z,emailVerified:G,isAnonymous:Z,providerData:J,stsTokenManager:P}=t;Re(z&&P,e,"internal-error");const x=No.fromJSON(this.name,P);Re(typeof z=="string",e,"internal-error"),Ti(w,e.name),Ti(T,e.name),Re(typeof G=="boolean",e,"internal-error"),Re(typeof Z=="boolean",e,"internal-error"),Ti(A,e.name),Ti(L,e.name),Ti(S,e.name),Ti(C,e.name),Ti(M,e.name),Ti(U,e.name);const N=new zr({uid:z,auth:e,email:T,emailVerified:G,displayName:w,isAnonymous:Z,photoURL:L,phoneNumber:A,tenantId:S,stsTokenManager:x,createdAt:M,lastLoginAt:U});return J&&Array.isArray(J)&&(N.providerData=J.map(D=>Object.assign({},D))),C&&(N._redirectEventId=C),N}static async _fromIdTokenResponse(e,t,i=!1){const o=new No;o.updateFromServerResponse(t);const a=new zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Nc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?w0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new No;h.updateFromIdToken(i);const f=new zr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Vf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,v),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;function $r(n){Gr(n instanceof Function,"Expected a class definition");let e=vy.get(n);return e?(Gr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}E0.type="NONE";const yy=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(n,e,t){return`firebase:${n}:${e}:${t}`}class bo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=fc(this.userKey,o.apiKey,a),this.fullPersistenceKey=fc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new bo($r(yy),e,i);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let a=o[0]||$r(yy);const c=fc(i,e.config.apiKey,e.name);let h=null;for(const v of t)try{const _=await v._get(c);if(_){const w=zr._fromJSON(e,_);v!==a&&(h=w),a=v;break}}catch{}const f=o.filter(v=>v._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new bo(a,e,i):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async v=>{if(v!==a)try{await v._remove(c)}catch{}})),new bo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R0(e))return"Blackberry";if(x0(e))return"Webos";if(S0(e))return"Safari";if((e.includes("chrome/")||I0(e))&&!e.includes("edge/"))return"Chrome";if(A0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function T0(n=qt()){return/firefox\//i.test(n)}function S0(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I0(n=qt()){return/crios\//i.test(n)}function C0(n=qt()){return/iemobile/i.test(n)}function A0(n=qt()){return/android/i.test(n)}function R0(n=qt()){return/blackberry/i.test(n)}function x0(n=qt()){return/webos/i.test(n)}function Cp(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qP(n=qt()){var e;return Cp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KP(){return lx()&&document.documentMode===10}function P0(n=qt()){return Cp(n)||A0(n)||x0(n)||R0(n)||/windows phone/i.test(n)||C0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n,e=[]){let t;switch(n){case"Browser":t=_y(qt());break;case"Worker":t=`${_y(qt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(n,e={}){return Xo(n,"GET","/v2/passwordPolicy",Sp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=6;class XP{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:YP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wy(this),this.idTokenSubscription=new wy(this),this.beforeStateQueue=new GP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _0(this,{idToken:e}),i=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jr(this.app))return Promise.reject(ys(this));const t=e?xn(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jr(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jr(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QP(this),t=new XP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await HP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&PP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function id(n){return xn(n)}class wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=gx(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZP(n){Ap=n}function e1(n){return Ap.loadJS(n)}function t1(){return Ap.gapiScript}function n1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n,e){const t=_p(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(xc(a,e??{}))return o;vr(o,"already-initialized")}return t.initialize({options:e})}function i1(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map($r);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function s1(n,e,t){const i=id(n);Re(i._canInitEmulator,i,"emulator-config-failed"),Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=N0(e),{host:c,port:h}=o1(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),a1()}function N0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function o1(n){const e=N0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Ey(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Ey(c)}}}function Ey(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function a1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(n,e){return MP(n,"POST","/v1/accounts:signInWithIdp",Sp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="http://localhost";class As extends b0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Il(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new As(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Do(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:l1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Al(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends Rp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends xl{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return As._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ur.credential(t,i)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends xl{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends xl{constructor(){super("twitter.com")}static credential(e,t){return As._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ai.credential(t,i)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await zr._fromIdTokenResponse(e,i,o),c=Ty(i);return new Fo({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Ty(i);return new Fo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Ty(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Xr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,bc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new bc(e,t,i,o)}}function D0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?bc._fromErrorAndOperation(n,a,e,i):a})}async function u1(n,e,t=!1){const i=await cl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(n,e,t=!1){const{auth:i}=n;if(jr(i.app))return Promise.reject(ys(i));const o="reauthenticate";try{const a=await cl(n,D0(i,o,e,n),t);Re(a.idToken,i,"internal-error");const c=Ip(a.idToken);Re(c,i,"internal-error");const{sub:h}=c;return Re(n.uid===h,i,"user-mismatch"),Fo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&vr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(n,e,t=!1){if(jr(n.app))return Promise.reject(ys(n));const i="signIn",o=await D0(n,i,e),a=await Fo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}function h1(n,e,t,i){return xn(n).onIdTokenChanged(e,t,i)}function f1(n,e,t){return xn(n).beforeAuthStateChanged(e,t)}function p1(n,e,t,i){return xn(n).onAuthStateChanged(e,t,i)}function m1(n){return xn(n).signOut()}const Dc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dc,"1"),this.storage.removeItem(Dc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=1e3,v1=10;class L0 extends O0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);KP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,v1):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},g1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}L0.type="LOCAL";const y1=L0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends O0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}M0.type="SESSION";const V0=M0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new sd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async v=>v(t.origin,a)),f=await _1(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const v=xp("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===v)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function E1(n){fr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function T1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function I1(){return F0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firebaseLocalStorageDb",C1=1,Oc="firebaseLocalStorage",j0="fbase_key";class Pl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function od(n,e){return n.transaction([Oc],e?"readwrite":"readonly").objectStore(Oc)}function A1(){const n=indexedDB.deleteDatabase(U0);return new Pl(n).toPromise()}function Ff(){const n=indexedDB.open(U0,C1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Oc,{keyPath:j0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Oc)?e(i):(i.close(),await A1(),e(await Ff()))})})}async function Sy(n,e,t){const i=od(n,!0).put({[j0]:e,value:t});return new Pl(i).toPromise()}async function R1(n,e){const t=od(n,!1).get(e),i=await new Pl(t).toPromise();return i===void 0?null:i.value}function Iy(n,e){const t=od(n,!0).delete(e);return new Pl(t).toPromise()}const x1=800,P1=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ff(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>P1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(I1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await T1(),!this.activeServiceWorker)return;this.sender=new w1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ff();return await Sy(e,Dc,"1"),await Iy(e,Dc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>R1(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Iy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=od(o,!1).getAll();return new Pl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const k1=B0;new Rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(n,e){return e?$r(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends b0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function N1(n){return d1(n.auth,new Pp(n),n.bypassAuthState)}function b1(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),c1(t,new Pp(n),n.bypassAuthState)}async function D1(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),u1(t,new Pp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N1;case"linkViaPopup":case"linkViaRedirect":return D1;case"reauthViaPopup":case"reauthViaRedirect":return b1;default:vr(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Rl(2e3,1e4);async function L1(n,e,t){if(jr(n.app))return Promise.reject(Qn(n,"operation-not-supported-in-this-environment"));const i=id(n);kP(n,e,Rp);const o=z0(i,t);return new ms(i,"signInViaPopup",e,o).executeNotNull()}class ms extends $0{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O1.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="pendingRedirect",pc=new Map;class V1 extends $0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=pc.get(this.auth._key());if(!e){try{const i=await F1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}pc.set(this.auth._key(),e)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F1(n,e){const t=B1(e),i=j1(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function U1(n,e){pc.set(n._key(),e)}function j1(n){return $r(n._redirectPersistence)}function B1(n){return fc(M1,n.config.apiKey,n.name)}async function z1(n,e,t=!1){if(jr(n.app))return Promise.reject(ys(n));const i=id(n),o=z0(i,e),c=await new V1(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=600*1e3;class W1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!W0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cy(e))}saveEventToCache(e){this.cachedEventUids.add(Cy(e)),this.lastProcessedEventTime=Date.now()}}function Cy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function W0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function H1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(n,e={}){return Xo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G1=/^https?/;async function Q1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await q1(n);for(const t of e)try{if(Y1(t))return}catch{}vr(n,"unauthorized-domain")}function Y1(n){const e=Mf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!G1.test(t))return!1;if(K1.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new Rl(3e4,6e4);function Ay(){const n=fr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function J1(n){return new Promise((e,t)=>{var i,o,a;function c(){Ay(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ay(),t(Qn(n,"network-request-failed"))},timeout:X1.get()})}if(!((o=(i=fr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=fr().gapi)===null||a===void 0)&&a.load)c();else{const h=n1("iframefcb");return fr()[h]=()=>{gapi.load?c():t(Qn(n,"network-request-failed"))},e1(`${t1()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw mc=null,e})}let mc=null;function Z1(n){return mc=mc||J1(n),mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Rl(5e3,15e3),tk="__/auth/iframe",nk="emulator/auth/iframe",rk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ik=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sk(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tp(e,nk):`https://${n.config.authDomain}/${tk}`,i={apiKey:e.apiKey,appName:n.name,v:Yo},o=ik.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Al(i).slice(1)}`}async function ok(n){const e=await Z1(n),t=fr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:sk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rk,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Qn(n,"network-request-failed"),h=fr().setTimeout(()=>{a(c)},ek.get());function f(){fr().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lk=500,uk=600,ck="_blank",dk="http://localhost";class Ry{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hk(n,e,t,i=lk,o=uk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},ak),{width:i.toString(),height:o.toString(),top:a,left:c}),v=qt().toLowerCase();t&&(h=I0(v)?ck:t),T0(v)&&(e=e||dk,f.scrollbars="yes");const _=Object.entries(f).reduce((T,[A,L])=>`${T}${A}=${L},`,"");if(qP(v)&&h!=="_self")return fk(e||"",h),new Ry(null);const w=window.open(e||"",h,_);Re(w,n,"popup-blocked");try{w.focus()}catch{}return new Ry(w)}function fk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="__/auth/handler",mk="emulator/auth/handler",gk=encodeURIComponent("fac");async function xy(n,e,t,i,o,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Yo,eventId:o};if(e instanceof Rp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",mx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof xl){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),v=f?`#${gk}=${encodeURIComponent(f)}`:"";return`${vk(n)}?${Al(h).slice(1)}${v}`}function vk({config:n}){return n.emulator?Tp(n,mk):`https://${n.authDomain}/${pk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="webStorageSupport";class yk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V0,this._completeRedirectFn=z1,this._overrideRedirectResult=U1}async _openPopup(e,t,i,o){var a;Gr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await xy(e,t,i,Mf(),o);return hk(e,c,xp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await xy(e,t,i,Mf(),o);return E1(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Gr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ok(e),i=new W1(e);return t.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hf,{type:hf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[hf];c!==void 0&&t(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Q1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return P0()||S0()||Cp()}}const _k=yk;var Py="@firebase/auth",ky="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tk(n){Vo(new Cs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(n)},v=new JP(i,o,a,f);return i1(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Vo(new Cs("auth-internal",e=>{const t=id(e.getProvider("auth").getImmediate());return(i=>new wk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(Py,ky,Ek(n)),ki(Py,ky,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=300,Ik=a0("authIdTokenMaxAge")||Sk;let Ny=null;const Ck=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Ik)return;const o=t==null?void 0:t.token;Ny!==o&&(Ny=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ak(n=d0()){const e=_p(n,"auth");if(e.isInitialized())return e.getImmediate();const t=r1(n,{popupRedirectResolver:_k,persistence:[k1,y1,V0]}),i=a0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=Ck(a.toString());f1(t,c,()=>c(t.currentUser)),h1(t,h=>c(h))}}const o=s0("auth");return o&&s1(t,`http://${o}`),t}function Rk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Qn("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",Rk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tk("Browser");var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,H0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function N(){}N.prototype=x.prototype,P.D=x.prototype,P.prototype=new N,P.prototype.constructor=P,P.C=function(D,V,j){for(var k=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)k[_e-2]=arguments[_e];return x.prototype[V].apply(D,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,x,N){N||(N=0);var D=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)D[V]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(V=0;16>V;++V)D[V]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=P.g[0],N=P.g[1],V=P.g[2];var j=P.g[3],k=x+(j^N&(V^j))+D[0]+3614090360&4294967295;x=N+(k<<7&4294967295|k>>>25),k=j+(V^x&(N^V))+D[1]+3905402710&4294967295,j=x+(k<<12&4294967295|k>>>20),k=V+(N^j&(x^N))+D[2]+606105819&4294967295,V=j+(k<<17&4294967295|k>>>15),k=N+(x^V&(j^x))+D[3]+3250441966&4294967295,N=V+(k<<22&4294967295|k>>>10),k=x+(j^N&(V^j))+D[4]+4118548399&4294967295,x=N+(k<<7&4294967295|k>>>25),k=j+(V^x&(N^V))+D[5]+1200080426&4294967295,j=x+(k<<12&4294967295|k>>>20),k=V+(N^j&(x^N))+D[6]+2821735955&4294967295,V=j+(k<<17&4294967295|k>>>15),k=N+(x^V&(j^x))+D[7]+4249261313&4294967295,N=V+(k<<22&4294967295|k>>>10),k=x+(j^N&(V^j))+D[8]+1770035416&4294967295,x=N+(k<<7&4294967295|k>>>25),k=j+(V^x&(N^V))+D[9]+2336552879&4294967295,j=x+(k<<12&4294967295|k>>>20),k=V+(N^j&(x^N))+D[10]+4294925233&4294967295,V=j+(k<<17&4294967295|k>>>15),k=N+(x^V&(j^x))+D[11]+2304563134&4294967295,N=V+(k<<22&4294967295|k>>>10),k=x+(j^N&(V^j))+D[12]+1804603682&4294967295,x=N+(k<<7&4294967295|k>>>25),k=j+(V^x&(N^V))+D[13]+4254626195&4294967295,j=x+(k<<12&4294967295|k>>>20),k=V+(N^j&(x^N))+D[14]+2792965006&4294967295,V=j+(k<<17&4294967295|k>>>15),k=N+(x^V&(j^x))+D[15]+1236535329&4294967295,N=V+(k<<22&4294967295|k>>>10),k=x+(V^j&(N^V))+D[1]+4129170786&4294967295,x=N+(k<<5&4294967295|k>>>27),k=j+(N^V&(x^N))+D[6]+3225465664&4294967295,j=x+(k<<9&4294967295|k>>>23),k=V+(x^N&(j^x))+D[11]+643717713&4294967295,V=j+(k<<14&4294967295|k>>>18),k=N+(j^x&(V^j))+D[0]+3921069994&4294967295,N=V+(k<<20&4294967295|k>>>12),k=x+(V^j&(N^V))+D[5]+3593408605&4294967295,x=N+(k<<5&4294967295|k>>>27),k=j+(N^V&(x^N))+D[10]+38016083&4294967295,j=x+(k<<9&4294967295|k>>>23),k=V+(x^N&(j^x))+D[15]+3634488961&4294967295,V=j+(k<<14&4294967295|k>>>18),k=N+(j^x&(V^j))+D[4]+3889429448&4294967295,N=V+(k<<20&4294967295|k>>>12),k=x+(V^j&(N^V))+D[9]+568446438&4294967295,x=N+(k<<5&4294967295|k>>>27),k=j+(N^V&(x^N))+D[14]+3275163606&4294967295,j=x+(k<<9&4294967295|k>>>23),k=V+(x^N&(j^x))+D[3]+4107603335&4294967295,V=j+(k<<14&4294967295|k>>>18),k=N+(j^x&(V^j))+D[8]+1163531501&4294967295,N=V+(k<<20&4294967295|k>>>12),k=x+(V^j&(N^V))+D[13]+2850285829&4294967295,x=N+(k<<5&4294967295|k>>>27),k=j+(N^V&(x^N))+D[2]+4243563512&4294967295,j=x+(k<<9&4294967295|k>>>23),k=V+(x^N&(j^x))+D[7]+1735328473&4294967295,V=j+(k<<14&4294967295|k>>>18),k=N+(j^x&(V^j))+D[12]+2368359562&4294967295,N=V+(k<<20&4294967295|k>>>12),k=x+(N^V^j)+D[5]+4294588738&4294967295,x=N+(k<<4&4294967295|k>>>28),k=j+(x^N^V)+D[8]+2272392833&4294967295,j=x+(k<<11&4294967295|k>>>21),k=V+(j^x^N)+D[11]+1839030562&4294967295,V=j+(k<<16&4294967295|k>>>16),k=N+(V^j^x)+D[14]+4259657740&4294967295,N=V+(k<<23&4294967295|k>>>9),k=x+(N^V^j)+D[1]+2763975236&4294967295,x=N+(k<<4&4294967295|k>>>28),k=j+(x^N^V)+D[4]+1272893353&4294967295,j=x+(k<<11&4294967295|k>>>21),k=V+(j^x^N)+D[7]+4139469664&4294967295,V=j+(k<<16&4294967295|k>>>16),k=N+(V^j^x)+D[10]+3200236656&4294967295,N=V+(k<<23&4294967295|k>>>9),k=x+(N^V^j)+D[13]+681279174&4294967295,x=N+(k<<4&4294967295|k>>>28),k=j+(x^N^V)+D[0]+3936430074&4294967295,j=x+(k<<11&4294967295|k>>>21),k=V+(j^x^N)+D[3]+3572445317&4294967295,V=j+(k<<16&4294967295|k>>>16),k=N+(V^j^x)+D[6]+76029189&4294967295,N=V+(k<<23&4294967295|k>>>9),k=x+(N^V^j)+D[9]+3654602809&4294967295,x=N+(k<<4&4294967295|k>>>28),k=j+(x^N^V)+D[12]+3873151461&4294967295,j=x+(k<<11&4294967295|k>>>21),k=V+(j^x^N)+D[15]+530742520&4294967295,V=j+(k<<16&4294967295|k>>>16),k=N+(V^j^x)+D[2]+3299628645&4294967295,N=V+(k<<23&4294967295|k>>>9),k=x+(V^(N|~j))+D[0]+4096336452&4294967295,x=N+(k<<6&4294967295|k>>>26),k=j+(N^(x|~V))+D[7]+1126891415&4294967295,j=x+(k<<10&4294967295|k>>>22),k=V+(x^(j|~N))+D[14]+2878612391&4294967295,V=j+(k<<15&4294967295|k>>>17),k=N+(j^(V|~x))+D[5]+4237533241&4294967295,N=V+(k<<21&4294967295|k>>>11),k=x+(V^(N|~j))+D[12]+1700485571&4294967295,x=N+(k<<6&4294967295|k>>>26),k=j+(N^(x|~V))+D[3]+2399980690&4294967295,j=x+(k<<10&4294967295|k>>>22),k=V+(x^(j|~N))+D[10]+4293915773&4294967295,V=j+(k<<15&4294967295|k>>>17),k=N+(j^(V|~x))+D[1]+2240044497&4294967295,N=V+(k<<21&4294967295|k>>>11),k=x+(V^(N|~j))+D[8]+1873313359&4294967295,x=N+(k<<6&4294967295|k>>>26),k=j+(N^(x|~V))+D[15]+4264355552&4294967295,j=x+(k<<10&4294967295|k>>>22),k=V+(x^(j|~N))+D[6]+2734768916&4294967295,V=j+(k<<15&4294967295|k>>>17),k=N+(j^(V|~x))+D[13]+1309151649&4294967295,N=V+(k<<21&4294967295|k>>>11),k=x+(V^(N|~j))+D[4]+4149444226&4294967295,x=N+(k<<6&4294967295|k>>>26),k=j+(N^(x|~V))+D[11]+3174756917&4294967295,j=x+(k<<10&4294967295|k>>>22),k=V+(x^(j|~N))+D[2]+718787259&4294967295,V=j+(k<<15&4294967295|k>>>17),k=N+(j^(V|~x))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+j&4294967295}i.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var N=x-this.blockSize,D=this.B,V=this.h,j=0;j<x;){if(V==0)for(;j<=N;)o(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<x;)if(D[V++]=P.charCodeAt(j++),V==this.blockSize){o(this,D),V=0;break}}else for(;j<x;)if(D[V++]=P[j++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=x},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var N=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=N&255,N/=256;for(this.u(P),P=Array(16),x=N=0;4>x;++x)for(var D=0;32>D;D+=8)P[N++]=this.g[x]>>>D&255;return P};function a(P,x){var N=h;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=x(P)}function c(P,x){this.h=x;for(var N=[],D=!0,V=P.length-1;0<=V;V--){var j=P[V]|0;D&&j==x||(N[V]=j,D=!1)}this.g=N}var h={};function f(P){return-128<=P&&128>P?a(P,function(x){return new c([x|0],0>x?-1:0)}):new c([P|0],0>P?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return C(v(-P));for(var x=[],N=1,D=0;P>=N;D++)x[D]=P/N|0,N*=4294967296;return new c(x,0)}function _(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return C(_(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=v(Math.pow(x,8)),D=w,V=0;V<P.length;V+=8){var j=Math.min(8,P.length-V),k=parseInt(P.substring(V,V+j),x);8>j?(j=v(Math.pow(x,j)),D=D.j(j).add(v(k))):(D=D.j(N),D=D.add(v(k)))}return D}var w=f(0),T=f(1),A=f(16777216);n=c.prototype,n.m=function(){if(S(this))return-C(this).m();for(var P=0,x=1,N=0;N<this.g.length;N++){var D=this.i(N);P+=(0<=D?D:4294967296+D)*x,x*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(L(this))return"0";if(S(this))return"-"+C(this).toString(P);for(var x=v(Math.pow(P,6)),N=this,D="";;){var V=G(N,x).g;N=M(N,V.j(x));var j=((0<N.g.length?N.g[0]:N.h)>>>0).toString(P);if(N=V,L(N))return j+D;for(;6>j.length;)j="0"+j;D=j+D}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function L(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function S(P){return P.h==-1}n.l=function(P){return P=M(this,P),S(P)?-1:L(P)?0:1};function C(P){for(var x=P.g.length,N=[],D=0;D<x;D++)N[D]=~P.g[D];return new c(N,~P.h).add(T)}n.abs=function(){return S(this)?C(this):this},n.add=function(P){for(var x=Math.max(this.g.length,P.g.length),N=[],D=0,V=0;V<=x;V++){var j=D+(this.i(V)&65535)+(P.i(V)&65535),k=(j>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);D=k>>>16,j&=65535,k&=65535,N[V]=k<<16|j}return new c(N,N[N.length-1]&-2147483648?-1:0)};function M(P,x){return P.add(C(x))}n.j=function(P){if(L(this)||L(P))return w;if(S(this))return S(P)?C(this).j(C(P)):C(C(this).j(P));if(S(P))return C(this.j(C(P)));if(0>this.l(A)&&0>P.l(A))return v(this.m()*P.m());for(var x=this.g.length+P.g.length,N=[],D=0;D<2*x;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<P.g.length;V++){var j=this.i(D)>>>16,k=this.i(D)&65535,_e=P.i(V)>>>16,Le=P.i(V)&65535;N[2*D+2*V]+=k*Le,U(N,2*D+2*V),N[2*D+2*V+1]+=j*Le,U(N,2*D+2*V+1),N[2*D+2*V+1]+=k*_e,U(N,2*D+2*V+1),N[2*D+2*V+2]+=j*_e,U(N,2*D+2*V+2)}for(D=0;D<x;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=x;D<2*x;D++)N[D]=0;return new c(N,0)};function U(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function z(P,x){this.g=P,this.h=x}function G(P,x){if(L(x))throw Error("division by zero");if(L(P))return new z(w,w);if(S(P))return x=G(C(P),x),new z(C(x.g),C(x.h));if(S(x))return x=G(P,C(x)),new z(C(x.g),x.h);if(30<P.g.length){if(S(P)||S(x))throw Error("slowDivide_ only works with positive integers.");for(var N=T,D=x;0>=D.l(P);)N=Z(N),D=Z(D);var V=J(N,1),j=J(D,1);for(D=J(D,2),N=J(N,2);!L(D);){var k=j.add(D);0>=k.l(P)&&(V=V.add(N),j=k),D=J(D,1),N=J(N,1)}return x=M(P,V.j(x)),new z(V,x)}for(V=w;0<=P.l(x);){for(N=Math.max(1,Math.floor(P.m()/x.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),j=v(N),k=j.j(x);S(k)||0<k.l(P);)N-=D,j=v(N),k=j.j(x);L(j)&&(j=T),V=V.add(j),P=M(P,k)}return new z(V,P)}n.A=function(P){return G(this,P).h},n.and=function(P){for(var x=Math.max(this.g.length,P.g.length),N=[],D=0;D<x;D++)N[D]=this.i(D)&P.i(D);return new c(N,this.h&P.h)},n.or=function(P){for(var x=Math.max(this.g.length,P.g.length),N=[],D=0;D<x;D++)N[D]=this.i(D)|P.i(D);return new c(N,this.h|P.h)},n.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),N=[],D=0;D<x;D++)N[D]=this.i(D)^P.i(D);return new c(N,this.h^P.h)};function Z(P){for(var x=P.g.length+1,N=[],D=0;D<x;D++)N[D]=P.i(D)<<1|P.i(D-1)>>>31;return new c(N,P.h)}function J(P,x){var N=x>>5;x%=32;for(var D=P.g.length-N,V=[],j=0;j<D;j++)V[j]=0<x?P.i(j+N)>>>x|P.i(j+N+1)<<32-x:P.i(j+N);return new c(V,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,H0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=_,_s=c}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q0,Xa,K0,gc,Uf,G0,Q0,Y0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ic=="object"&&ic];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var y=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var W=u[I];if(!(W in y))break e;y=y[W]}u=u[u.length-1],I=y[u],m=m(I),m!=I&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var y=0,I=!1,W={next:function(){if(!I&&y<u.length){var Q=y++;return{value:m(Q,u[Q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function w(u,m,y){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),u.apply(m,W)}}return function(){return u.apply(m,arguments)}}function T(u,m,y){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function L(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(I,W,Q){for(var ae=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ae[Ge-2]=arguments[Ge];return m.prototype[W].apply(I,ae)}}function S(u){const m=u.length;if(0<m){const y=Array(m);for(let I=0;I<m;I++)y[I]=u[I];return y}return[]}function C(u,m){for(let y=1;y<arguments.length;y++){const I=arguments[y];if(f(I)){const W=u.length||0,Q=I.length||0;u.length=W+Q;for(let ae=0;ae<Q;ae++)u[W+ae]=I[ae]}else u.push(I)}}class M{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function U(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function G(u){return G[" "](u),u}G[" "]=function(){};var Z=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function J(u,m,y){for(const I in u)m.call(y,u[I],I,u)}function P(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function x(u){const m={};for(const y in u)m[y]=u[y];return m}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let y,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(y in I)u[y]=I[y];for(let Q=0;Q<N.length;Q++)y=N[Q],Object.prototype.hasOwnProperty.call(I,y)&&(u[y]=I[y])}}function V(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function j(u){h.setTimeout(()=>{throw u},0)}function k(){var u=le;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,y){const I=Le.get();I.set(m,y),this.h?this.h.next=I:this.g=I,this.h=I}}var Le=new M(()=>new Te,u=>u.reset());class Te{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Y=!1,le=new _e,oe=()=>{const u=h.Promise.resolve(void 0);ve=()=>{u.then($)}};var $=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){j(y)}var m=Le;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}Y=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ce=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};h.addEventListener("test",y,m),h.removeEventListener("test",y,m)}catch{}return u})();function xe(u,m){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Z){e:{try{G(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Oe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}L(xe,fe);var Oe={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),ye=0;function De(u,m,y,I,W){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!I,this.ha=W,this.key=++ye,this.da=this.fa=!1}function Pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Me(u){this.src=u,this.g={},this.h=0}Me.prototype.add=function(u,m,y,I,W){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ae=lt(u,m,I,W);return-1<ae?(m=u[ae],y||(m.fa=!1)):(m=new De(m,this.src,Q,!!I,W),m.fa=y,u.push(m)),m};function Ue(u,m){var y=m.type;if(y in u.g){var I=u.g[y],W=Array.prototype.indexOf.call(I,m,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(I,W,1),Q&&(Pe(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function lt(u,m,y,I){for(var W=0;W<u.length;++W){var Q=u[W];if(!Q.da&&Q.listener==m&&Q.capture==!!y&&Q.ha==I)return W}return-1}var It="closure_lm_"+(1e6*Math.random()|0),mn={};function Pn(u,m,y,I,W){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Pn(u,m[Q],y,I,W);return null}return y=ra(y),u&&u[ue]?u.K(m,y,v(I)?!!I.capture:!1,W):kn(u,m,y,!1,I,W)}function kn(u,m,y,I,W,Q){if(!m)throw Error("Invalid event type");var ae=v(W)?!!W.capture:!!W,Ge=Ds(u);if(Ge||(u[It]=Ge=new Me(u)),y=Ge.add(m,y,I,ae,Q),y.proxy)return y;if(I=bs(),y.proxy=I,I.src=u,I.listener=y,u.addEventListener)Ce||(W=ae),W===void 0&&(W=!1),u.addEventListener(m.toString(),I,W);else if(u.attachEvent)u.attachEvent(Tr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function bs(){function u(y){return m.call(u.src,u.listener,y)}const m=na;return u}function Nn(u,m,y,I,W){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Nn(u,m[Q],y,I,W);else I=v(I)?!!I.capture:!!I,y=ra(y),u&&u[ue]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],y=lt(Q,y,I,W),-1<y&&(Pe(Q[y]),Array.prototype.splice.call(Q,y,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ds(u))&&(m=u.g[m.toString()],u=-1,m&&(u=lt(m,y,I,W)),(y=-1<u?m[u]:null)&&Er(y))}function Er(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])Ue(m.i,u);else{var y=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(y,I,u.capture):m.detachEvent?m.detachEvent(Tr(y),I):m.addListener&&m.removeListener&&m.removeListener(I),(y=Ds(m))?(Ue(y,u),y.h==0&&(y.src=null,m[It]=null)):Pe(u)}}}function Tr(u){return u in mn?mn[u]:mn[u]="on"+u}function na(u,m){if(u.da)u=!0;else{m=new xe(m,this);var y=u.listener,I=u.ha||u.src;u.fa&&Er(u),u=y.call(I,m)}return u}function Ds(u){return u=u[It],u instanceof Me?u:null}var Os="__closure_events_fn_"+(1e9*Math.random()>>>0);function ra(u){return typeof u=="function"?u:(u[Os]||(u[Os]=function(m){return u.handleEvent(m)}),u[Os])}function vt(){X.call(this),this.i=new Me(this),this.M=this,this.F=null}L(vt,X),vt.prototype[ue]=!0,vt.prototype.removeEventListener=function(u,m,y,I){Nn(this,u,m,y,I)};function yt(u,m){var y,I=u.F;if(I)for(y=[];I;I=I.F)y.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new fe(m,u);else if(m instanceof fe)m.target=m.target||u;else{var W=m;m=new fe(I,u),D(m,W)}if(W=!0,y)for(var Q=y.length-1;0<=Q;Q--){var ae=m.g=y[Q];W=Sr(ae,I,!0,m)&&W}if(ae=m.g=u,W=Sr(ae,I,!0,m)&&W,W=Sr(ae,I,!1,m)&&W,y)for(Q=0;Q<y.length;Q++)ae=m.g=y[Q],W=Sr(ae,I,!1,m)&&W}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],I=0;I<y.length;I++)Pe(y[I]);delete u.g[m],u.h--}}this.F=null},vt.prototype.K=function(u,m,y,I){return this.i.add(String(u),m,!1,y,I)},vt.prototype.L=function(u,m,y,I){return this.i.add(String(u),m,!0,y,I)};function Sr(u,m,y,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,Q=0;Q<m.length;++Q){var ae=m[Q];if(ae&&!ae.da&&ae.capture==y){var Ge=ae.listener,_t=ae.ha||ae.src;ae.fa&&Ue(u.i,ae),W=Ge.call(_t,I)!==!1&&W}}return W&&!I.defaultPrevented}function ia(u,m,y){if(typeof u=="function")y&&(u=T(u,y));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function Jr(u){u.g=ia(()=>{u.g=null,u.i&&(u.i=!1,Jr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ui extends X{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(u){X.call(this),this.h=u,this.g={}}L(ji,X);var sa=[];function oa(u){J(u.g,function(m,y){this.g.hasOwnProperty(y)&&Er(m)},u),u.g={}}ji.prototype.N=function(){ji.aa.N.call(this),oa(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var aa=h.JSON.stringify,la=h.JSON.parse,ua=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Bi(){}Bi.prototype.h=null;function Ls(u){return u.h||(u.h=u.i())}function Ms(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){fe.call(this,"d")}L(Zn,fe);function Vs(){fe.call(this,"c")}L(Vs,fe);var er={},ca=null;function zi(){return ca=ca||new vt}er.La="serverreachability";function da(u){fe.call(this,er.La,u)}L(da,fe);function Ir(u){const m=zi();yt(m,new da(m))}er.STAT_EVENT="statevent";function ha(u,m){fe.call(this,er.STAT_EVENT,u),this.stat=m}L(ha,fe);function dt(u){const m=zi();yt(m,new ha(m,u))}er.Ma="timingevent";function Fs(u,m){fe.call(this,er.Ma,u),this.size=m}L(Fs,fe);function bn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function Wi(u,m,y,I,W,Q){u.info(function(){if(u.g)if(Q)for(var ae="",Ge=Q.split("&"),_t=0;_t<Ge.length;_t++){var ze=Ge[_t].split("=");if(1<ze.length){var Ct=ze[0];ze=ze[1];var pt=Ct.split("_");ae=2<=pt.length&&pt[1]=="type"?ae+(Ct+"="+ze+"&"):ae+(Ct+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+m+`
`+y+`
`+ae})}function Us(u,m,y,I,W,Q,ae){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+m+`
`+y+`
`+Q+" "+ae})}function Dn(u,m,y,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+vd(u,y)+(I?" "+I:"")})}function fa(u,m){u.info(function(){return"TIMEOUT: "+m})}$i.prototype.info=function(){};function vd(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var I=y[u];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return aa(y)}catch{return m}}var js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ml={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Hi(){}L(Hi,Bi),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},On=new Hi;function Ln(u,m,y,I){this.j=u,this.i=m,this.l=y,this.R=I||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vl}function Vl(){this.i=null,this.g="",this.h=!1}var pa={},Bs={};function zs(u,m,y){u.L=1,u.v=ri(an(m)),u.m=y,u.P=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Je(u),u.A=an(u.v);var y=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),si(y.i,"t",I),u.C=0,y=u.j.J,u.h=new Vl,u.g=tu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Ui(T(u.Y,u,u.g),u.O)),m=u.U,y=u.g,I=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(sa[0]=W.toString()),W=sa);for(var Q=0;Q<W.length;Q++){var ae=Pn(y,W[Q],I||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ir(),Wi(u.i,u.u,u.A,u.l,u.R,u.m)}Ln.prototype.ca=function(u){u=u.target;const m=this.M;m&&Jt(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)e:{const pt=Jt(this.g);var m=this.g.Ba();const _n=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Ea(this.g)))){this.J||pt!=4||m==7||(m==8||0>=_n?Ir(3):Ir(2)),qi(this);var y=this.g.Z();this.X=y;t:if(Fl(this)){var I=Ea(this.g);u="";var W=I.length,Q=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Zr(this);var ae="";break t}this.h.i=new h.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(Q&&m==W-1)});I.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=y==200,Us(this.i,this.u,this.A,this.l,this.R,pt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,_t=this.g;if((Ge=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ge)){var ze=Ge;break t}}ze=null}if(y=ze)Dn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ga(this,y);else{this.o=!1,this.s=3,dt(12),vn(this),Zr(this);break e}}if(this.P){y=!0;let un;for(;!this.J&&this.C<ae.length;)if(un=yd(this,ae),un==Bs){pt==4&&(this.s=4,dt(14),y=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==pa){this.s=4,dt(15),Dn(this.i,this.l,ae,"[Invalid Chunk]"),y=!1;break}else Dn(this.i,this.l,un,null),ga(this,un);if(Fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),y=!1),this.o=this.o&&y,!y)Dn(this.i,this.l,ae,"[Invalid Chunked Response]"),vn(this),Zr(this);else if(0<ae.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Sa(Ct),Ct.M=!0,dt(11))}}else Dn(this.i,this.l,ae,null),ga(this,ae);pt==4&&vn(this),this.o&&!this.J&&(pt==4?Zs(this.j,this):(this.o=!1,Je(this)))}else Gs(this.g),y==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),vn(this),Zr(this)}}}catch{}finally{}};function Fl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function yd(u,m){var y=u.C,I=m.indexOf(`
`,y);return I==-1?Bs:(y=Number(m.substring(y,I)),isNaN(y)?pa:(I+=1,I+y>m.length?Bs:(m=m.slice(I,I+y),u.C=I+y,m)))}Ln.prototype.cancel=function(){this.J=!0,vn(this)};function Je(u){u.S=Date.now()+u.I,Ul(u,u.I)}function Ul(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=bn(T(u.ba,u),m)}function qi(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Ln.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(fa(this.i,this.A),this.L!=2&&(Ir(),dt(17)),vn(this),this.s=2,Zr(this)):Ul(this,this.S-u)};function Zr(u){u.j.G==0||u.J||Zs(u.j,u)}function vn(u){qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,oa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ga(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Kt(y.h,u))){if(!u.K&&Kt(y.h,u)&&y.G==3){try{var I=y.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Js(y),jn(y);else break e;Xs(y),dt(18)}}else y.za=W[1],0<y.za-y.T&&37500>W[2]&&y.F&&y.v==0&&!y.C&&(y.C=bn(T(y.Za,y),6e3));if(1>=Bl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Pr(y,11)}else if((u.K||y.g==u)&&Js(y),!U(m))for(W=y.Da.g.parse(m),m=0;m<W.length;m++){let ze=W[m];if(y.T=ze[0],ze=ze[1],y.G==2)if(ze[0]=="c"){y.K=ze[1],y.ia=ze[2];const Ct=ze[3];Ct!=null&&(y.la=Ct,y.j.info("VER="+y.la));const pt=ze[4];pt!=null&&(y.Aa=pt,y.j.info("SVER="+y.Aa));const _n=ze[5];_n!=null&&typeof _n=="number"&&0<_n&&(I=1.5*_n,y.L=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const un=u.g;if(un){const Zi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var Q=I.h;Q.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(va(Q,Q.h),Q.h=null))}if(I.D){const to=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(I.ya=to,Ye(I.I,I.D,to))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),I=y;var ae=u;if(I.qa=eu(I,I.J?I.ia:null,I.W),ae.K){zl(I.h,ae);var Ge=ae,_t=I.L;_t&&(Ge.I=_t),Ge.B&&(qi(Ge),Je(Ge)),I.g=ae}else Ji(I);0<y.i.length&&ir(y)}else ze[0]!="stop"&&ze[0]!="close"||Pr(y,7);else y.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Pr(y,7):Nt(y):ze[0]!="noop"&&y.l&&y.l.ta(ze),y.v=0)}}Ir(4)}catch{}}var jl=class{constructor(u,m){this.g=u,this.map=m}};function Ki(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Bl(u){return u.h?1:u.g?u.g.size:0}function Kt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function va(u,m){u.g?u.g.add(m):u.h=m}function zl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ki.prototype.cancel=function(){if(this.i=$l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $l(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return S(u.i)}function $s(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var m=[],y=u.length,I=0;I<y;I++)m.push(u[I]);return m}m=[],y=0;for(I in u)m[y++]=u[I];return m}function Ws(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const I in u)m[y++]=I;return m}}}function ei(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ws(u),I=$s(u),W=I.length,Q=0;Q<W;Q++)m.call(void 0,I[Q],y&&y[Q],u)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _d(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var I=u[y].indexOf("="),W=null;if(0<=I){var Q=u[y].substring(0,I);W=u[y].substring(I+1)}else Q=u[y];m(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Cr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Cr){this.h=u.h,Qi(this,u.j),this.o=u.o,this.g=u.g,ti(this,u.s),this.l=u.l;var m=u.i,y=new tr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),ni(this,y),this.m=u.m}else u&&(m=String(u).match(Gi))?(this.h=!1,Qi(this,m[1]||"",!0),this.o=je(m[2]||""),this.g=je(m[3]||"",!0),ti(this,m[4]),this.l=je(m[5]||"",!0),ni(this,m[6]||"",!0),this.m=je(m[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}Cr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ii(m,Hs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ii(m,Hs,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ii(y,y.charAt(0)=="/"?ql:Hl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ii(y,ya)),u.join("")};function an(u){return new Cr(u)}function Qi(u,m,y){u.j=y?je(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ti(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ni(u,m,y){m instanceof tr?(u.i=m,nr(u.i,u.h)):(y||(m=ii(m,Kl)),u.i=new tr(m,u.h))}function Ye(u,m,y){u.i.set(m,y)}function ri(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function je(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ii(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Wl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Wl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,Hl=/[#\?:]/g,ql=/[#\?]/g,Kl=/[#\?@]/g,ya=/#/g;function tr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function kt(u){u.g||(u.g=new Map,u.h=0,u.i&&_d(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}n=tr.prototype,n.add=function(u,m){kt(this),this.i=null,u=yn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Mn(u,m){kt(u),m=yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vn(u,m){return kt(u),m=yn(u,m),u.g.has(m)}n.forEach=function(u,m){kt(this),this.g.forEach(function(y,I){y.forEach(function(W){u.call(m,W,I,this)},this)},this)},n.na=function(){kt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let I=0;I<m.length;I++){const W=u[I];for(let Q=0;Q<W.length;Q++)y.push(m[I])}return y},n.V=function(u){kt(this);let m=[];if(typeof u=="string")Vn(this,u)&&(m=m.concat(this.g.get(yn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},n.set=function(u,m){return kt(this),this.i=null,u=yn(this,u),Vn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function si(u,m,y){Mn(u,m),0<y.length&&(u.i=null,u.g.set(yn(u,m),S(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var I=m[y];const Q=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var W=Q;ae[I]!==""&&(W+="="+encodeURIComponent(String(ae[I]))),u.push(W)}}return this.i=u.join("&")};function yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function nr(u,m){m&&!u.j&&(kt(u),u.i=null,u.g.forEach(function(y,I){var W=I.toLowerCase();I!=W&&(Mn(this,I),si(this,W,y))},u)),u.j=m}function wd(u,m){const y=new $i;if(h.Image){const I=new Image;I.onload=A(Xt,y,"TestLoadImage: loaded",!0,m,I),I.onerror=A(Xt,y,"TestLoadImage: error",!1,m,I),I.onabort=A(Xt,y,"TestLoadImage: abort",!1,m,I),I.ontimeout=A(Xt,y,"TestLoadImage: timeout",!1,m,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function Gl(u,m){const y=new $i,I=new AbortController,W=setTimeout(()=>{I.abort(),Xt(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(Q=>{clearTimeout(W),Q.ok?Xt(y,"TestPingServer: ok",!0,m):Xt(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),Xt(y,"TestPingServer: error",!1,m)})}function Xt(u,m,y,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(y)}catch{}}function Ed(){this.g=new ua}function Ql(u,m,y){const I=y||"";try{ei(u,function(W,Q){let ae=W;v(W)&&(ae=aa(W)),m.push(I+Q+"="+encodeURIComponent(ae))})}catch(W){throw m.push(I+"type="+encodeURIComponent("_badmap")),W}}function Ar(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Ar,Bi),Ar.prototype.g=function(){return new Yi(this.l,this.j)},Ar.prototype.i=(function(u){return function(){return u}})({});function Yi(u,m){vt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Yi,vt),n=Yi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Un(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Un(this),this.readyState==3&&Yl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},n.Qa=function(u){this.g&&(this.response=u,Fn(this))},n.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Un(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Un(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rr(u){let m="";return J(u,function(y,I){m+=I,m+=":",m+=y,m+=`\r
`}),m}function oi(u,m,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=Rr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ye(u,m,y))}function nt(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(nt,vt);var Td=/^https?$/i,_a=["POST","PUT"];n=nt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Ls(this.o):Ls(On),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){Xi(this,Q);return}if(u=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)y.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())y.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(_a,m,void 0))||I||W||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of y)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Xi(this,Q)}};function Xi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,qs(u),ln(u)}function qs(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},n.bb=function(){wa(this)};function wa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Jt(u)!=4||u.Z()!=2)){if(u.u&&Jt(u)==4)ia(u.Ea,0,u);else if(yt(u,"readystatechange"),Jt(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var I;if(I=ae===0){var W=String(u.D).match(Gi)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),I=!Td.test(W?W.toLowerCase():"")}y=I}if(y)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var Q=2<Jt(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",qs(u)}}finally{ln(u)}}}}function ln(u,m){if(u.g){Ks(u);const y=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||yt(u,"ready");try{y.onreadystatechange=I}catch{}}}function Ks(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Jt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),la(m)}};function Ea(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(u){const m={};u=(u.g&&2<=Jt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(U(u[I]))continue;var y=V(u[I]);const W=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Q=m[W]||[];m[W]=Q,Q.push(y)}P(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ta(u){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,u),this.cb=rr("retryDelaySeedMs",1e4,u),this.Wa=rr("forwardChannelMaxRetries",2,u),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(u&&u.concurrentRequestLimit),this.Da=new Ed,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ta.prototype,n.la=8,n.G=1,n.connect=function(u,m,y,I){dt(0),this.W=u,this.H=m||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.I=eu(this,null,this.W),ir(this)};function Nt(u){if(Qs(u),u.G==3){var m=u.U++,y=an(u.I);if(Ye(y,"SID",u.K),Ye(y,"RID",m),Ye(y,"TYPE","terminate"),xr(u,y),m=new Ln(u,u.j,m),m.L=2,m.v=ri(an(y)),y=!1,h.navigator&&h.navigator.sendBeacon)try{y=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&h.Image&&(new Image().src=m.v,y=!0),y||(m.g=tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Je(m)}Zl(u)}function jn(u){u.g&&(Sa(u),u.g.cancel(),u.g=null)}function Qs(u){jn(u),u.u&&(h.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function ir(u){if(!on(u.h)&&!u.s){u.s=!0;var m=u.Ga;ve||oe(),Y||(ve(),Y=!0),le.add(m,u),u.B=0}}function Sd(u,m){return Bl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=bn(T(u.Ga,u,m),Jl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new Ln(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=x(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=ai(this,W,m),y=an(this.I),Ye(y,"RID",u),Ye(y,"CVER",22),this.D&&Ye(y,"X-HTTP-Session-Id",this.D),xr(this,y),Q&&(this.O?m="headers="+encodeURIComponent(String(Rr(Q)))+"&"+m:this.m&&oi(y,this.m,Q)),va(this.h,W),this.Ua&&Ye(y,"TYPE","init"),this.P?(Ye(y,"$req",m),Ye(y,"SID","null"),W.T=!0,zs(W,y,null)):zs(W,y,m),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||on(this.h)||Ys(this))};function Ys(u,m){var y;m?y=m.l:y=u.U++;const I=an(u.I);Ye(I,"SID",u.K),Ye(I,"RID",y),Ye(I,"AID",u.T),xr(u,I),u.m&&u.o&&oi(I,u.m,u.o),y=new Ln(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ai(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),va(u.h,y),zs(y,I,m)}function xr(u,m){u.H&&J(u.H,function(y,I){Ye(m,I,y)}),u.l&&ei({},function(y,I){Ye(m,I,y)})}function ai(u,m,y){y=Math.min(u.i.length,y);var I=u.l?T(u.l.Na,u.l,u):null;e:{var W=u.i;let Q=-1;for(;;){const ae=["count="+y];Q==-1?0<y?(Q=W[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ge=!0;for(let _t=0;_t<y;_t++){let ze=W[_t].g;const Ct=W[_t].map;if(ze-=Q,0>ze)Q=Math.max(0,W[_t].g-100),Ge=!1;else try{Ql(Ct,ae,"req"+ze+"_")}catch{I&&I(Ct)}}if(Ge){I=ae.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,I}function Ji(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ve||oe(),Y||(ve(),Y=!0),le.add(m,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=bn(T(u.Fa,u),Jl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=bn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),jn(this),Xl(this))};function Sa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Xl(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ye(m,"RID","rpc"),Ye(m,"SID",u.K),Ye(m,"AID",u.T),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(m,"TO",u.ja),Ye(m,"TYPE","xmlhttp"),xr(u,m),u.m&&u.o&&oi(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=ri(an(m)),y.m=null,y.P=!0,ma(y,u)}n.Za=function(){this.C!=null&&(this.C=null,jn(this),Xs(this),dt(19))};function Js(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Zs(u,m){var y=null;if(u.g==m){Js(u),Sa(u),u.g=null;var I=2}else if(Kt(u.h,m))y=m.D,zl(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var W=u.B;I=zi(),yt(I,new Fs(I,y)),ir(u)}else Ji(u);else if(W=m.s,W==3||W==0&&0<m.X||!(I==1&&Sd(u,m)||I==2&&Xs(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),W){case 1:Pr(u,5);break;case 4:Pr(u,10);break;case 3:Pr(u,6);break;default:Pr(u,2)}}}function Jl(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Pr(u,m){if(u.j.info("Error code "+m),m==2){var y=T(u.fb,u),I=u.Xa;const W=!I;I=new Cr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Qi(I,"https"),ri(I),W?wd(I.toString(),y):Gl(I.toString(),y)}else dt(2);u.G=0,u.l&&u.l.sa(m),Zl(u),Qs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Zl(u){if(u.G=0,u.ka=[],u.l){const m=$l(u.h);(m.length!=0||u.i.length!=0)&&(C(u.ka,m),C(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function eu(u,m,y){var I=y instanceof Cr?an(y):new Cr(y);if(I.g!="")m&&(I.g=m+"."+I.g),ti(I,I.s);else{var W=h.location;I=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var Q=new Cr(null);I&&Qi(Q,I),m&&(Q.g=m),W&&ti(Q,W),y&&(Q.l=y),I=Q}return y=u.D,m=u.ya,y&&m&&Ye(I,y,m),Ye(I,"VER",u.la),xr(u,I),I}function tu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new nt(new Ar({eb:y})):new nt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ia(){}n=Ia.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eo(){}eo.prototype.g=function(u,m){return new Gt(u,m)};function Gt(u,m){vt.call(this),this.g=new Ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!U(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!U(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new sr(this)}L(Gt,vt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Nt(this.g)},Gt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=aa(u),u=y);m.i.push(new jl(m.Ya++,u)),m.G==3&&ir(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Gt.aa.N.call(this)};function nu(u){Zn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(nu,Zn);function ru(){Vs.call(this),this.status=1}L(ru,Vs);function sr(u){this.g=u}L(sr,Ia),sr.prototype.ua=function(){yt(this.g,"a")},sr.prototype.ta=function(u){yt(this.g,new nu(u))},sr.prototype.sa=function(u){yt(this.g,new ru)},sr.prototype.ra=function(){yt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,Y0=function(){return new eo},Q0=function(){return zi()},G0=er,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,gc=js,Ml.COMPLETE="complete",K0=Ml,Ms.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Xa=Ms,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,q0=nt}).apply(typeof ic<"u"?ic:typeof self<"u"?self:typeof window<"u"?window:{});const Dy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new vp("@firebase/firestore");function Qa(){return Rs.logLevel}function me(n,...e){if(Rs.logLevel<=Be.DEBUG){const t=e.map(kp);Rs.debug(`Firestore (${Jo}): ${n}`,...t)}}function Qr(n,...e){if(Rs.logLevel<=Be.ERROR){const t=e.map(kp);Rs.error(`Firestore (${Jo}): ${n}`,...t)}}function Uo(n,...e){if(Rs.logLevel<=Be.WARN){const t=e.map(kp);Rs.warn(`Firestore (${Jo}): ${n}`,...t)}}function kp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function Qe(n,e){n||ke()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($t.UNAUTHENTICATED)))}shutdown(){}}class Pk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class kk{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ni,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ni)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string"),new X0(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new $t(e)}}class Nk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Nk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ok{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const i=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new Dk(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=Lk(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function qe(n,e){return n<e?-1:n>e?1:0}function jo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new St(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new St(0,0))}static max(){return new Ne(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t,i){t===void 0?t=0:t>e.length&&ke(),i===void 0?i=e.length-t:i>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return dl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ct extends dl{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const Mk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends dl{construct(e,t,i){return new Lt(e,t,i)}static isValidIdentifier(e){return Mk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Se(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Se(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new Se(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(t)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(ct.fromString(e))}static fromName(e){return new Ie(ct.fromString(e).popFirst(5))}static empty(){return new Ie(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new ct(e.slice()))}}function Vk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(i===1e9?new St(t+1,0):new St(t,i));return new Oi(o,Ie.empty(),e)}function Fk(n){return new Oi(n.readTime,n.key,-1)}class Oi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Oi(Ne.min(),Ie.empty(),-1)}static max(){return new Oi(Ne.max(),Ie.empty(),-1)}}function Uk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==jk)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,i)=>{t(e)}))}static reject(e){return new ne(((t,i)=>{i(e)}))}static waitFor(e){return new ne(((t,i)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&t()}),(f=>i(f)))})),c=!0,a===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next((o=>o?ne.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,a)=>{i.push(t.call(this,o,a))})),this.waitFor(i)}static mapArray(e,t){return new ne(((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const v=f;t(e[v]).next((_=>{c[v]=_,++h,h===a&&i(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new ne(((i,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):i()};a()}))}}function zk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Np.oe=-1;function ad(n){return n==null}function Lc(n){return n===0&&1/n==-1/0}function $k(n){return typeof n=="number"&&Number.isInteger(n)&&!Lc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Z0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sc(this.root,e,this.comparator,!0)}}class sc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=a??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Ot(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Mt(Lt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new eE("Invalid base64 string: "+a):a}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const Wk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=Wk.exec(n);if(Qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xs(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dp(n){const e=n.mapValue.fields.__previous_value__;return bp(e)?Dp(e):e}function hl(n){const e=Li(n.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,t,i,o,a,c,h,f,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=v}}class fl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc={mapValue:{}};function Ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bp(n)?4:Kk(n)?9007199254740991:qk(n)?10:11:ke()}function yr(n,e){if(n===e)return!0;const t=Ps(n);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hl(n).isEqual(hl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Li(o.timestampValue),h=Li(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return xs(o.bytesValue).isEqual(xs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return ft(o.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return ft(o.integerValue)===ft(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=ft(o.doubleValue),h=ft(a.doubleValue);return c===h?Lc(c)===Lc(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return jo(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Oy(c)!==Oy(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!yr(c[f],h[f])))return!1;return!0})(n,e);default:return ke()}}function pl(n,e){return(n.values||[]).find((t=>yr(t,e)))!==void 0}function Bo(n,e){if(n===e)return 0;const t=Ps(n),i=Ps(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=ft(a.integerValue||a.doubleValue),f=ft(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return My(n.timestampValue,e.timestampValue);case 4:return My(hl(n),hl(e));case 5:return qe(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=xs(a),f=xs(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),f=c.split("/");for(let v=0;v<h.length&&v<f.length;v++){const _=qe(h[v],f[v]);if(_!==0)return _}return qe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=qe(ft(a.latitude),ft(c.latitude));return h!==0?h:qe(ft(a.longitude),ft(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Vy(n.arrayValue,e.arrayValue);case 10:return(function(a,c){var h,f,v,_;const w=a.fields||{},T=c.fields||{},A=(h=w.value)===null||h===void 0?void 0:h.arrayValue,L=(f=T.value)===null||f===void 0?void 0:f.arrayValue,S=qe(((v=A==null?void 0:A.values)===null||v===void 0?void 0:v.length)||0,((_=L==null?void 0:L.values)===null||_===void 0?void 0:_.length)||0);return S!==0?S:Vy(A,L)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===oc.mapValue&&c===oc.mapValue)return 0;if(a===oc.mapValue)return 1;if(c===oc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),v=c.fields||{},_=Object.keys(v);f.sort(),_.sort();for(let w=0;w<f.length&&w<_.length;++w){const T=qe(f[w],_[w]);if(T!==0)return T;const A=Bo(h[f[w]],v[_[w]]);if(A!==0)return A}return qe(f.length,_.length)})(n.mapValue,e.mapValue);default:throw ke()}}function My(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Li(n),i=Li(e),o=qe(t.seconds,i.seconds);return o!==0?o:qe(t.nanos,i.nanos)}function Vy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Bo(t[o],i[o]);if(a)return a}return qe(t.length,i.length)}function zo(n){return jf(n)}function jf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Li(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return xs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=jf(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${jf(t.fields[c])}`;return o+"}"})(n.mapValue):ke()}function Bf(n){return!!n&&"integerValue"in n}function Op(n){return!!n&&"arrayValue"in n}function Fy(n){return!!n&&"nullValue"in n}function Uy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vc(n){return!!n&&"mapValue"in n}function qk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zo(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=tl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Kk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=Lt.emptyPath(),i={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=tl(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Zo(t,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new An(tl(this.value))}}function tE(n){const e=[];return Zo(n.fields,((t,i)=>{const o=new Lt([t]);if(vc(i)){const a=tE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Wt(e,0,Ne.min(),Ne.min(),Ne.min(),An.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,Ne.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ne.min(),Ne.min(),An.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ne.min(),Ne.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t){this.position=e,this.inclusive=t}}function jy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),t.key):i=Bo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function By(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{}class Tt extends nE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Yk(e,t,i):t==="array-contains"?new Zk(e,i):t==="in"?new eN(e,i):t==="not-in"?new tN(e,i):t==="array-contains-any"?new nN(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Xk(e,i):new Jk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bo(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends nE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _r(e,t)}matches(e){return rE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rE(n){return n.op==="and"}function iE(n){return Qk(n)&&rE(n)}function Qk(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function zf(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+zo(n.value);if(iE(n))return n.filters.map((e=>zf(e))).join(",");{const e=n.filters.map((t=>zf(t))).join(",");return`${n.op}(${e})`}}function sE(n,e){return n instanceof Tt?(function(i,o){return o instanceof Tt&&i.op===o.op&&i.field.isEqual(o.field)&&yr(i.value,o.value)})(n,e):n instanceof _r?(function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,c,h)=>a&&sE(c,o.filters[h])),!0):!1})(n,e):void ke()}function oE(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${zo(t.value)}`})(n):n instanceof _r?(function(t){return t.op.toString()+" {"+t.getFilters().map(oE).join(" ,")+"}"})(n):"Filter"}class Yk extends Tt{constructor(e,t,i){super(e,t,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xk extends Tt{constructor(e,t){super(e,"in",t),this.keys=aE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Jk extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=aE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function aE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>Ie.fromName(i.referenceValue)))}class Zk extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Op(t)&&pl(t.arrayValue,this.value)}}class eN extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pl(this.value.arrayValue,t)}}class tN extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!pl(this.value.arrayValue,t)}}class nN extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Op(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>pl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function zy(n,e=null,t=[],i=[],o=null,a=null,c=null){return new rN(n,e,t,i,o,a,c)}function Lp(n){const e=be(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>zf(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>zo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>zo(i))).join(",")),e.ue=t}return e.ue}function Mp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Gk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!By(n.startAt,e.startAt)&&By(n.endAt,e.endAt)}function $f(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iN(n,e,t,i,o,a,c,h){return new ld(n,e,t,i,o,a,c,h)}function Vp(n){return new ld(n)}function $y(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sN(n){return n.collectionGroup!==null}function nl(n){const e=be(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Mt(Lt.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((v=>{v.isInequality()&&(h=h.add(v.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Vc(a,i))})),t.has(Lt.keyField().canonicalString())||e.ce.push(new Vc(Lt.keyField(),i))}return e.ce}function pr(n){const e=be(n);return e.le||(e.le=oN(e,nl(n))),e.le}function oN(n,e){if(n.limitType==="F")return zy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Vc(o.field,a)}));const t=n.endAt?new Mc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Mc(n.startAt.position,n.startAt.inclusive):null;return zy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Wf(n,e,t){return new ld(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ud(n,e){return Mp(pr(n),pr(e))&&n.limitType===e.limitType}function lE(n){return`${Lp(pr(n))}|lt:${n.limitType}`}function Ao(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>oE(o))).join(", ")}]`),ad(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>zo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>zo(o))).join(",")),`Target(${i})`})(pr(n))}; limitType=${n.limitType})`}function cd(n,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ie.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,o){for(const a of nl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,h,f){const v=jy(c,h,f);return c.inclusive?v<=0:v<0})(i.startAt,nl(i),o)||i.endAt&&!(function(c,h,f){const v=jy(c,h,f);return c.inclusive?v>=0:v>0})(i.endAt,nl(i),o))})(n,e)}function aN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uE(n){return(e,t)=>{let i=!1;for(const o of nl(n)){const a=lN(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function lN(n,e,t){const i=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(a,c,h){const f=c.data.field(a),v=h.data.field(a);return f!==null&&v!==null?Bo(f,v):ke()})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,((t,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return Z0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new at(Ie.comparator);function Yr(){return uN}const cE=new at(Ie.comparator);function Ja(...n){let e=cE;for(const t of n)e=e.insert(t.key,t);return e}function dE(n){let e=cE;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function gs(){return rl()}function hE(){return rl()}function rl(){return new ea((n=>n.toString()),((n,e)=>n.isEqual(e)))}const cN=new at(Ie.comparator),dN=new Mt(Ie.comparator);function Fe(...n){let e=dN;for(const t of n)e=e.add(t);return e}const hN=new Mt(qe);function fN(){return hN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(e)?"-0":e}}function fE(n){return{integerValue:""+n}}function pN(n,e){return $k(e)?fE(e):Fp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function mN(n,e,t){return n instanceof ml?(function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&bp(a)&&(a=Dp(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}})(t,e):n instanceof gl?mE(n,e):n instanceof vl?gE(n,e):(function(o,a){const c=pE(o,a),h=Wy(c)+Wy(o.Pe);return Bf(c)&&Bf(o.Pe)?fE(h):Fp(o.serializer,h)})(n,e)}function gN(n,e,t){return n instanceof gl?mE(n,e):n instanceof vl?gE(n,e):t}function pE(n,e){return n instanceof Fc?(function(i){return Bf(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class ml extends dd{}class gl extends dd{constructor(e){super(),this.elements=e}}function mE(n,e){const t=vE(e);for(const i of n.elements)t.some((o=>yr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class vl extends dd{constructor(e){super(),this.elements=e}}function gE(n,e){let t=vE(e);for(const i of n.elements)t=t.filter((o=>!yr(o,i)));return{arrayValue:{values:t}}}class Fc extends dd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Wy(n){return ft(n.integerValue||n.doubleValue)}function vE(n){return Op(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t){this.field=e,this.transform=t}}function yN(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof gl&&o instanceof gl||i instanceof vl&&o instanceof vl?jo(i.elements,o.elements,yr):i instanceof Fc&&o instanceof Fc?yr(i.Pe,o.Pe):i instanceof ml&&o instanceof ml})(n.transform,e.transform)}class _N{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hd{}function yE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wE(n.key,Wr.none()):new bl(n.key,n.data,Wr.none());{const t=n.data,i=An.empty();let o=new Mt(Lt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new ks(n.key,i,new Gn(o.toArray()),Wr.none())}}function wN(n,e,t){n instanceof bl?(function(o,a,c){const h=o.value.clone(),f=qy(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ks?(function(o,a,c){if(!yc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=qy(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(_E(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function il(n,e,t,i){return n instanceof bl?(function(a,c,h,f){if(!yc(a.precondition,c))return h;const v=a.value.clone(),_=Ky(a.fieldTransforms,f,c);return v.setAll(_),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(n,e,t,i):n instanceof ks?(function(a,c,h,f){if(!yc(a.precondition,c))return h;const v=Ky(a.fieldTransforms,f,c),_=c.data;return _.setAll(_E(a)),_.setAll(v),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,i):(function(a,c,h){return yc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function EN(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=pE(i.transform,o||null);a!=null&&(t===null&&(t=An.empty()),t.set(i.field,a))}return t||null}function Hy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&jo(i,o,((a,c)=>yN(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bl extends hd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends hd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _E(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function qy(n,e,t){const i=new Map;Qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,gN(c,h,t[o]))}return i}function Ky(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,mN(a,c,e))}return i}class wE extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TN extends hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&wN(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=il(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=il(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=hE();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const f=yE(c,h);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((t,i)=>Hy(t,i)))&&jo(this.baseMutations,e.baseMutations,((t,i)=>Hy(t,i)))}}class Up{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Qe(e.mutations.length===i.length);let o=(function(){return cN})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Up(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,$e;function AN(n){switch(n){default:return ke();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function EE(n){if(n===void 0)return Qr("GRPC error has no .code"),ie.UNKNOWN;switch(n){case gt.OK:return ie.OK;case gt.CANCELLED:return ie.CANCELLED;case gt.UNKNOWN:return ie.UNKNOWN;case gt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case gt.INTERNAL:return ie.INTERNAL;case gt.UNAVAILABLE:return ie.UNAVAILABLE;case gt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case gt.NOT_FOUND:return ie.NOT_FOUND;case gt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case gt.ABORTED:return ie.ABORTED;case gt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case gt.DATA_LOSS:return ie.DATA_LOSS;default:return ke()}}($e=gt||(gt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new _s([4294967295,4294967295],0);function Gy(n){const e=RN().encode(n),t=new H0;return t.update(e),new Uint8Array(t.digest())}function Qy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _s([t,i],0),new _s([o,a],0)]}class jp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Za(`Invalid padding: ${t}`);if(i<0)throw new Za(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Za(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Za(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=_s.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(_s.fromNumber(i)));return o.compare(xN)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Gy(e),[i,o]=Qy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new jp(a,o,t);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const t=Gy(e),[i,o]=Qy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new fd(Ne.min(),o,new at(qe),Yr(),Fe())}}class Dl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Dl(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class TE{constructor(e,t){this.targetId=e,this.me=t}}class SE{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Yy{constructor(){this.fe=0,this.ge=Jy(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),t=Fe(),i=Fe();return this.ge.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:ke()}})),new Dl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Jy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class PN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yr(),this.qe=Xy(),this.Qe=new at(qe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ke()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const a=o.target;if($f(a))if(i===0){const c=new Ie(a.path);this.Ue(t,c,Wt.newNoDocument(c,Ne.min()))}else Qe(i===1);else{const c=this.Ye(t);if(c!==i){const h=this.Ze(e),f=h?this.Xe(h,e,c):1;if(f!==0){this.je(t);const v=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,v)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=xs(i).toUint8Array()}catch(f){if(f instanceof eE)return Uo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new jp(c,o,a)}catch(f){return Uo(f instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((a=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,a,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((a,c)=>{const h=this.Je(c);if(h){if(a.current&&$f(h.target)){const f=new Ie(h.target.path);this.ke.get(f)!==null||this.it(c,f)||this.Ue(c,f,Wt.newNoDocument(f,e))}a.be&&(t.set(c,a.ve()),a.Ce())}}));let i=Fe();this.qe.forEach(((a,c)=>{let h=!0;c.forEachWhile((f=>{const v=this.Je(f);return!v||v.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.ke.forEach(((a,c)=>c.setReadTime(e)));const o=new fd(e,t,this.Qe,this.ke,i);return this.ke=Yr(),this.qe=Xy(),this.Qe=new at(qe),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Yy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Mt(qe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yy),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Xy(){return new at(Ie.comparator)}function Jy(){return new at(Ie.comparator)}const kN={asc:"ASCENDING",desc:"DESCENDING"},NN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bN={and:"AND",or:"OR"};class DN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hf(n,e){return n.useProto3Json||ad(e)?e:{value:e}}function Uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ON(n,e){return Uc(n,e.toTimestamp())}function mr(n){return Qe(!!n),Ne.fromTimestamp((function(t){const i=Li(t);return new St(i.seconds,i.nanos)})(n))}function Bp(n,e){return qf(n,e).canonicalString()}function qf(n,e){const t=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function CE(n){const e=ct.fromString(n);return Qe(kE(e)),e}function Kf(n,e){return Bp(n.databaseId,e.path)}function ff(n,e){const t=CE(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(RE(t))}function AE(n,e){return Bp(n.databaseId,e)}function LN(n){const e=CE(n);return e.length===4?ct.emptyPath():RE(e)}function Gf(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RE(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Zy(n,e,t){return{name:Kf(n,e),fields:t.value.mapValue.fields}}function MN(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ke()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(v,_){return v.useProto3Json?(Qe(_===void 0||typeof _=="string"),Vt.fromBase64String(_||"")):(Qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Vt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(v){const _=v.code===void 0?ie.UNKNOWN:EE(v.code);return new Se(_,v.message||"")})(c);t=new SE(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ff(n,i.document.name),a=mr(i.document.updateTime),c=i.document.createTime?mr(i.document.createTime):Ne.min(),h=new An({mapValue:{fields:i.document.fields}}),f=Wt.newFoundDocument(o,a,c,h),v=i.targetIds||[],_=i.removedTargetIds||[];t=new _c(v,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ff(n,i.document),a=i.readTime?mr(i.readTime):Ne.min(),c=Wt.newNoDocument(o,a),h=i.removedTargetIds||[];t=new _c([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ff(n,i.document),a=i.removedTargetIds||[];t=new _c([],a,o,null)}else{if(!("filter"in e))return ke();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new CN(o,a),h=i.targetId;t=new TE(h,c)}}return t}function VN(n,e){let t;if(e instanceof bl)t={update:Zy(n,e.key,e.value)};else if(e instanceof wE)t={delete:Kf(n,e.key)};else if(e instanceof ks)t={update:Zy(n,e.key,e.data),updateMask:qN(e.fieldMask)};else{if(!(e instanceof TN))return ke();t={verify:Kf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,c){const h=c.transform;if(h instanceof ml)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof gl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Fc)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw ke()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:ON(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke()})(n,e.precondition)),t}function FN(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map((t=>(function(o,a){let c=o.updateTime?mr(o.updateTime):mr(a);return c.isEqual(Ne.min())&&(c=mr(a)),new _N(c,o.transformResults||[])})(t,e)))):[]}function UN(n,e){return{documents:[AE(n,e.path)]}}function jN(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=AE(n,o);const a=(function(v){if(v.length!==0)return PE(_r.create(v,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(v){if(v.length!==0)return v.map((_=>(function(T){return{field:Ro(T.field),direction:$N(T.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Hf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{_t:t,parent:o}}function BN(n){let e=LN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Qe(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(w){const T=xE(w);return T instanceof _r&&iE(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((T=>(function(L){return new Vc(xo(L.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(w){let T;return T=typeof w=="object"?w.value:w,ad(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(w){const T=!!w.before,A=w.values||[];return new Mc(A,T)})(t.startAt));let v=null;return t.endAt&&(v=(function(w){const T=!w.before,A=w.values||[];return new Mc(A,T)})(t.endAt)),iN(e,o,c,a,h,"F",f,v)}function zN(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=xo(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=xo(t.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xo(t.unaryFilter.field);return Tt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ke()}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(xo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return _r.create(t.compositeFilter.filters.map((i=>xE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke()}})(t.compositeFilter.op))})(n):ke()}function $N(n){return kN[n]}function WN(n){return NN[n]}function HN(n){return bN[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function xo(n){return Lt.fromServerFormat(n.fieldPath)}function PE(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(Uy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(Fy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Uy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(Fy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:WN(t.op),value:t.value}}})(n):n instanceof _r?(function(t){const i=t.getFilters().map((o=>PE(o)));return i.length===1?i[0]:{compositeFilter:{op:HN(t.op),filters:i}}})(n):ke()}function qN(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function kE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t,i,o,a=Ne.min(),c=Ne.min(),h=Vt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.ct=e}}function GN(n){const e=BN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.un=new YN}addToCollectionParentIndex(e,t){return this.un.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Oi.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class YN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Mt(ct.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $o(0)}static kn(){return new $o(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.changes=new ea((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&il(i.mutation,o,Gn.empty(),St.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Fe()){const o=gs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((a=>{let c=Ja();return a.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=gs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Fe())))}populateOverlays(e,t,i){const o=[];return i.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,i,o){let a=Yr();const c=rl(),h=(function(){return rl()})();return t.forEach(((f,v)=>{const _=i.get(v.key);o.has(v.key)&&(_===void 0||_.mutation instanceof ks)?a=a.insert(v.key,v):_!==void 0?(c.set(v.key,_.mutation.getFieldMask()),il(_.mutation,v,_.mutation.getFieldMask(),St.now())):c.set(v.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((v,_)=>c.set(v,_))),t.forEach(((v,_)=>{var w;return h.set(v,new JN(_,(w=c.get(v))!==null&&w!==void 0?w:null))})),h)))}recalculateAndSaveOverlays(e,t){const i=rl();let o=new at(((c,h)=>c-h)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const v=t.get(f);if(v===null)return;let _=i.get(f)||Gn.empty();_=h.applyToLocalView(v,_),i.set(f,_);const w=(o.get(h.batchId)||Fe()).add(f);o=o.insert(h.batchId,w)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),v=f.key,_=f.value,w=hE();_.forEach((T=>{if(!a.has(T)){const A=yE(t.get(T),i.get(T));A!==null&&w.set(T,A),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,w))}return ne.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ne.resolve(gs());let h=-1,f=a;return c.next((v=>ne.forEach(v,((_,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{f=f.insert(_,T)}))))).next((()=>this.populateOverlays(e,v,a))).next((()=>this.computeViews(e,f,v,Fe()))).next((_=>({batchId:h,changes:dE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((i=>{let o=Ja();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Ja();return this.indexManager.getCollectionParents(e,a).next((h=>ne.forEach(h,(f=>{const v=(function(w,T){return new ld(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next((_=>{_.forEach(((w,T)=>{c=c.insert(w,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o)))).next((c=>{a.forEach(((f,v)=>{const _=v.getKey();c.get(_)===null&&(c=c.insert(_,Wt.newInvalidDocument(_)))}));let h=Ja();return c.forEach(((f,v)=>{const _=a.get(f);_!==void 0&&il(_.mutation,v,Gn.empty(),St.now()),cd(t,v)&&(h=h.insert(f,v))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ne.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:GN(o.bundledQuery),readTime:mr(o.readTime)}})(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.overlays=new at(Ie.comparator),this.Ir=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=gs();return ne.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,a)=>{this.ht(e,t,a)})),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=gs(),a=t.length+1,c=new Ie(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,v=f.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new at(((v,_)=>v-_));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let _=a.get(v.largestBatchId);_===null&&(_=gs(),a=a.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const h=gs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((v,_)=>h.set(v,_))),!(h.size()>=o)););return ne.resolve(h)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new IN(t,i));let a=this.Ir.get(t);a===void 0&&(a=Fe(),this.Ir.set(t,a)),this.Ir.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.Tr=new Mt(Pt.Er),this.dr=new Mt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new Ie(new ct([])),i=new Pt(t,e),o=new Pt(t,e+1),a=[];return this.dr.forEachInRange([i,o],(c=>{this.Vr(c),a.push(c.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ie(new ct([])),i=new Pt(t,e),o=new Pt(t,e+1);let a=Fe();return this.dr.forEachInRange([i,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Pt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ie.comparator(e.key,t.key)||qe(e.wr,t.wr)}static Ar(e,t){return qe(e.wr,t.wr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Mt(Pt.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new SN(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.br=this.br.add(new Pt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],(c=>{const h=this.Dr(c.wr);a.push(h)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mt(qe);return t.forEach((o=>{const a=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],(h=>{i=i.add(h.wr)}))})),ne.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ie.isDocumentKey(a)||(a=a.child(""));const c=new Pt(new Ie(a),0);let h=new Mt(qe);return this.br.forEachWhile((f=>{const v=f.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(h=h.add(f.wr)),!0)}),c),ne.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ne.forEach(t.mutations,(o=>{const a=new Pt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new Pt(t,0),o=this.br.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.Mr=e,this.docs=(function(){return new at(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Yr();return t.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Wt.newInvalidDocument(o))})),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Yr();const c=t.path,h=new Ie(c.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:v,value:{document:_}}=f.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||Uk(Fk(_),i)<=0||(o.has(_.key)||cd(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,i,o){ke()}Or(e,t){return ne.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new s2(this)}getSize(e){return ne.resolve(this.size)}}class s2 extends XN{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),ne.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.persistence=e,this.Nr=new ea((t=>Lp(t)),Mp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zp,this.targetCount=0,this.kr=$o.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new $o(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Kn(t),ne.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ne.waitFor(a).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Np(0),this.Kr=!1,this.Kr=!0,this.$r=new n2,this.referenceDelegate=e(this),this.Ur=new o2(this),this.indexManager=new QN,this.remoteDocumentCache=(function(o){return new i2(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new KN(t),this.Gr=new e2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new t2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new r2(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const o=new l2(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((a=>this.referenceDelegate.jr(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Hr(e,t){return ne.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class l2 extends Bk{constructor(e){super(),this.currentSequenceNumber=e}}class $p{constructor(e){this.persistence=e,this.Jr=new zp,this.Yr=null}static Zr(e){return new $p(e)}get Xr(){if(this.Yr)return this.Yr;throw ke()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.Xr.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,(i=>{const o=Ie.fromPath(i);return this.ei(e,o).next((a=>{a||t.removeEntry(o,Ne.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return ne.or([()=>ne.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Fe(),o=Fe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Wp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return ux()?8:zk(qt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Yi(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.Zi(e,t,o,i).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new u2;return this.Xi(e,t,c).next((h=>{if(a.result=h,this.zi)return this.es(e,t,c,h.size)}))})).next((()=>a.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(Qa()<=Be.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(Qa()<=Be.DEBUG&&me("QueryEngine","Query:",Ao(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(Qa()<=Be.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):ne.resolve())}Yi(e,t){if($y(t))return ne.resolve(null);let i=pr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Wf(t,null,"F"),i=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const c=Fe(...a);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const v=this.ts(t,h);return this.ns(t,v,c,f.readTime)?this.Yi(e,Wf(t,null,"F")):this.rs(e,v,t,f)}))))})))))}Zi(e,t,i,o){return $y(t)||o.isEqual(Ne.min())?ne.resolve(null):this.Ji.getDocuments(e,i).next((a=>{const c=this.ts(t,a);return this.ns(t,c,i,o)?ne.resolve(null):(Qa()<=Be.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(t)),this.rs(e,c,t,Vk(o,-1)).next((h=>h)))}))}ts(e,t){let i=new Mt(uE(e));return t.forEach(((o,a)=>{cd(e,a)&&(i=i.add(a))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,i){return Qa()<=Be.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ao(t)),this.Ji.getDocumentsMatchingQuery(e,t,Oi.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new at(qe),this._s=new ea((a=>Lp(a)),Mp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function h2(n,e,t,i){return new d2(n,e,t,i)}async function NE(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const c=[],h=[];let f=Fe();for(const v of o){c.push(v.batchId);for(const _ of v.mutations)f=f.add(_.key)}for(const v of a){h.push(v.batchId);for(const _ of v.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next((v=>({hs:v,removedBatchIds:c,addedBatchIds:h})))}))}))}function f2(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return(function(h,f,v,_){const w=v.batch,T=w.keys();let A=ne.resolve();return T.forEach((L=>{A=A.next((()=>_.getEntry(f,L))).next((S=>{const C=v.docVersions.get(L);Qe(C!==null),S.version.compareTo(C)<0&&(w.applyToRemoteDocument(S,v),S.isValidDocument()&&(S.setReadTime(v.commitVersion),_.addEntry(S)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,w)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Fe();for(let v=0;v<h.mutationResults.length;++v)h.mutationResults[v].transformResults.length>0&&(f=f.add(h.batch.mutations[v].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function bE(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function p2(n,e){const t=be(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach(((_,w)=>{const T=o.get(w);if(!T)return;h.push(t.Ur.removeMatchingKeys(a,_.removedDocuments,w).next((()=>t.Ur.addMatchingKeys(a,_.addedDocuments,w))));let A=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(Vt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),o=o.insert(w,A),(function(S,C,M){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(T,A,_)&&h.push(t.Ur.updateTargetData(a,A))}));let f=Yr(),v=Fe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),h.push(m2(a,c,e.documentUpdates).next((_=>{f=_.Ps,v=_.Is}))),!i.isEqual(Ne.min())){const _=t.Ur.getLastRemoteSnapshotVersion(a).next((w=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(_)}return ne.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,v))).next((()=>f))})).then((a=>(t.os=o,a)))}function m2(n,e,t){let i=Fe(),o=Fe();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let c=Yr();return t.forEach(((h,f)=>{const v=a.get(h);f.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!v.isValidDocument()||f.version.compareTo(v.version)>0||f.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):me("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",f.version)})),{Ps:c,Is:o}}))}function g2(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function v2(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((a=>a?(o=a,ne.resolve(o)):t.Ur.allocateTargetId(i).next((c=>(o=new Ri(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function Qf(n,e,t){const i=be(n),o=i.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Nl(c))throw c;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function e_(n,e,t){const i=be(n);let o=Ne.min(),a=Fe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,v,_){const w=be(f),T=w._s.get(_);return T!==void 0?ne.resolve(w.os.get(T)):w.Ur.getTargetData(v,_)})(i,c,pr(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,h.targetId).next((f=>{a=f}))})).next((()=>i.ss.getDocumentsMatchingQuery(c,e,t?o:Ne.min(),t?a:Fe()))).next((h=>(y2(i,aN(e),h),{documents:h,Ts:a})))))}function y2(n,e,t){let i=n.us.get(e)||Ne.min();t.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.us.set(e,i)}class t_{constructor(){this.activeTargetIds=fN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _2{constructor(){this.so=new t_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new t_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function pf(){return ac===null?ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class S2 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,i,o,a,c){const h=pf(),f=this.xo(t,i.toUriEncodedString());me("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,a,c),this.No(t,f,v,o).then((_=>(me("RestConnection",`Received RPC '${t}' ${h}: `,_),_)),(_=>{throw Uo("RestConnection",`RPC '${t}' ${h} failed with error: `,_,"url: ",f,"request:",o),_}))}Lo(t,i,o,a,c,h){return this.Mo(t,i,o,a,c)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((a,c)=>t[c]=a)),o&&o.headers.forEach(((a,c)=>t[c]=a))}xo(t,i){const o=E2[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const a=pf();return new Promise(((c,h)=>{const f=new q0;f.setWithCredentials(!0),f.listenOnce(K0.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case gc.NO_ERROR:const _=f.getResponseJson();me(zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case gc.TIMEOUT:me(zt,`RPC '${e}' ${a} timed out`),h(new Se(ie.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const w=f.getStatus();if(me(zt,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T==null?void 0:T.error;if(A&&A.status&&A.message){const L=(function(C){const M=C.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(M)>=0?M:ie.UNKNOWN})(A.status);h(new Se(L,A.message))}else h(new Se(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Se(ie.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{me(zt,`RPC '${e}' ${a} completed.`)}}));const v=JSON.stringify(o);me(zt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",v,i,15)}))}Bo(e,t,i){const o=pf(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Y0(),h=Q0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(f.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=a.join("");me(zt,`Creating RPC '${e}' stream ${o}: ${_}`,f);const w=c.createWebChannel(_,f);let T=!1,A=!1;const L=new T2({Io:C=>{A?me(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(T||(me(zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),me(zt,`RPC '${e}' stream ${o} sending:`,C),w.send(C))},To:()=>w.close()}),S=(C,M,U)=>{C.listen(M,(z=>{try{U(z)}catch(G){setTimeout((()=>{throw G}),0)}}))};return S(w,Xa.EventType.OPEN,(()=>{A||(me(zt,`RPC '${e}' stream ${o} transport opened.`),L.yo())})),S(w,Xa.EventType.CLOSE,(()=>{A||(A=!0,me(zt,`RPC '${e}' stream ${o} transport closed`),L.So())})),S(w,Xa.EventType.ERROR,(C=>{A||(A=!0,Uo(zt,`RPC '${e}' stream ${o} transport errored:`,C),L.So(new Se(ie.UNAVAILABLE,"The operation could not be completed")))})),S(w,Xa.EventType.MESSAGE,(C=>{var M;if(!A){const U=C.data[0];Qe(!!U);const z=U,G=z.error||((M=z[0])===null||M===void 0?void 0:M.error);if(G){me(zt,`RPC '${e}' stream ${o} received error:`,G);const Z=G.status;let J=(function(N){const D=gt[N];if(D!==void 0)return EE(D)})(Z),P=G.message;J===void 0&&(J=ie.INTERNAL,P="Unknown error status: "+Z+" with message "+G.message),A=!0,L.So(new Se(J,P)),w.close()}else me(zt,`RPC '${e}' stream ${o} received:`,U),L.bo(U)}})),S(h,G0.STAT_EVENT,(C=>{C.stat===Uf.PROXY?me(zt,`RPC '${e}' stream ${o} detected buffering proxy`):C.stat===Uf.NOPROXY&&me(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.wo()}),0),L}}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n){return new DN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t,i,o,a,c,h,f){this.ui=e,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new DE(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new Se(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class I2 extends OE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=MN(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Ne.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?mr(c.readTime):Ne.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=Gf(this.serializer),t.addTarget=(function(a,c){let h;const f=c.target;if(h=$f(f)?{documents:UN(a,f)}:{query:jN(a,f)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=IE(a,c.resumeToken);const v=Hf(a,c.expectedCount);v!==null&&(h.expectedCount=v)}else if(c.snapshotVersion.compareTo(Ne.min())>0){h.readTime=Uc(a,c.snapshotVersion.toTimestamp());const v=Hf(a,c.expectedCount);v!==null&&(h.expectedCount=v)}return h})(this.serializer,e);const i=zN(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=Gf(this.serializer),t.removeTarget=e,this.a_(t)}}class C2 extends OE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=FN(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=Gf(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>VN(this.serializer,i)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Mo(e,qf(t,i),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ie.UNKNOWN,a.toString())}))}Lo(e,t,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,qf(t,i),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ie.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class R2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qr(t),this.D_=!1):me("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((c=>{i.enqueueAndForget((async()=>{Ns(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const v=be(f);v.L_.add(4),await Ol(v),v.q_.set("Unknown"),v.L_.delete(4),await md(v)})(this))}))})),this.q_=new R2(i,o)}}async function md(n){if(Ns(n))for(const e of n.B_)await e(!0)}async function Ol(n){for(const e of n.B_)await e(!1)}function LE(n,e){const t=be(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Gp(t)?Kp(t):ta(t).r_()&&qp(t,e))}function Hp(n,e){const t=be(n),i=ta(t);t.N_.delete(e),i.r_()&&ME(t,e),t.N_.size===0&&(i.r_()?i.o_():Ns(t)&&t.q_.set("Unknown"))}function qp(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ta(n).A_(e)}function ME(n,e){n.Q_.xe(e),ta(n).R_(e)}function Kp(n){n.Q_=new PN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ta(n).start(),n.q_.v_()}function Gp(n){return Ns(n)&&!ta(n).n_()&&n.N_.size>0}function Ns(n){return be(n).L_.size===0}function VE(n){n.Q_=void 0}async function P2(n){n.q_.set("Online")}async function k2(n){n.N_.forEach(((e,t)=>{qp(n,e)}))}async function N2(n,e){VE(n),Gp(n)?(n.q_.M_(e),Kp(n)):n.q_.set("Unknown")}async function b2(n,e,t){if(n.q_.set("Online"),e instanceof SE&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.N_.delete(h),o.Q_.removeTarget(h))})(n,e)}catch(i){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jc(n,i)}else if(e instanceof _c?n.Q_.Ke(e):e instanceof TE?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Ne.min()))try{const i=await bE(n.localStore);t.compareTo(i)>=0&&await(function(a,c){const h=a.Q_.rt(c);return h.targetChanges.forEach(((f,v)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.N_.get(v);_&&a.N_.set(v,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,v)=>{const _=a.N_.get(f);if(!_)return;a.N_.set(f,_.withResumeToken(Vt.EMPTY_BYTE_STRING,_.snapshotVersion)),ME(a,f);const w=new Ri(_.target,f,v,_.sequenceNumber);qp(a,w)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){me("RemoteStore","Failed to raise snapshot:",i),await jc(n,i)}}async function jc(n,e,t){if(!Nl(e))throw e;n.L_.add(1),await Ol(n),n.q_.set("Offline"),t||(t=()=>bE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await md(n)}))}function FE(n,e){return e().catch((t=>jc(n,t,e)))}async function gd(n){const e=be(n),t=Mi(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;D2(e);)try{const o=await g2(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,O2(e,o)}catch(o){await jc(e,o)}UE(e)&&jE(e)}function D2(n){return Ns(n)&&n.O_.length<10}function O2(n,e){n.O_.push(e);const t=Mi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function UE(n){return Ns(n)&&!Mi(n).n_()&&n.O_.length>0}function jE(n){Mi(n).start()}async function L2(n){Mi(n).p_()}async function M2(n){const e=Mi(n);for(const t of n.O_)e.m_(t.mutations)}async function V2(n,e,t){const i=n.O_.shift(),o=Up.from(i,e,t);await FE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await gd(n)}async function F2(n,e){e&&Mi(n).V_&&await(async function(i,o){if((function(c){return AN(c)&&c!==ie.ABORTED})(o.code)){const a=i.O_.shift();Mi(i).s_(),await FE(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await gd(i)}})(n,e),UE(n)&&jE(n)}async function r_(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const i=Ns(t);t.L_.add(3),await Ol(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await md(t)}async function U2(n,e){const t=be(n);e?(t.L_.delete(2),await md(t)):e||(t.L_.add(2),await Ol(t),t.q_.set("Unknown"))}function ta(n){return n.K_||(n.K_=(function(t,i,o){const a=be(t);return a.w_(),new I2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:P2.bind(null,n),Ro:k2.bind(null,n),mo:N2.bind(null,n),d_:b2.bind(null,n)}),n.B_.push((async e=>{e?(n.K_.s_(),Gp(n)?Kp(n):n.q_.set("Unknown")):(await n.K_.stop(),VE(n))}))),n.K_}function Mi(n){return n.U_||(n.U_=(function(t,i,o){const a=be(t);return a.w_(),new C2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:L2.bind(null,n),mo:F2.bind(null,n),f_:M2.bind(null,n),g_:V2.bind(null,n)}),n.B_.push((async e=>{e?(n.U_.s_(),await gd(n)):(await n.U_.stop(),n.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new Qp(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yp(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),Nl(n))return new Se(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ie.comparator(t.key,i.key):(t,i)=>Ie.comparator(t.key,i.key),this.keyedMap=Ja(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Oo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Oo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.W_=new at(Ie.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ke():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Wo{constructor(e,t,i,o,a,c,h,f,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Wo(e,t,Oo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class B2{constructor(){this.queries=s_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=be(t),a=o.queries;o.queries=s_(),a.forEach(((c,h)=>{for(const f of h.j_)f.onError(i)}))})(this,new Se(ie.ABORTED,"Firestore shutting down"))}}function s_(){return new ea((n=>lE(n)),ud)}async function z2(n,e){const t=be(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(i=2):(a=new j2,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=Yp(c,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&Xp(t)}async function $2(n,e){const t=be(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function W2(n,e){const t=be(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.j_)h.X_(o)&&(i=!0);c.z_=o}}i&&Xp(t)}function H2(n,e,t){const i=be(n),o=i.queries.get(e);if(o)for(const a of o.j_)a.onError(t);i.queries.delete(e)}function Xp(n){n.Y_.forEach((e=>{e.next()}))}var Yf,o_;(o_=Yf||(Yf={})).ea="default",o_.Cache="cache";class q2{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Wo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Yf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.key=e}}class zE{constructor(e){this.key=e}}class K2{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fe(),this.mutatedKeys=Fe(),this.Aa=uE(e),this.Ra=new Oo(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new i_,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,w)=>{const T=o.get(_),A=cd(this.query,w)?w:null,L=!!T&&this.mutatedKeys.has(T.key),S=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let C=!1;T&&A?T.data.isEqual(A.data)?L!==S&&(i.track({type:3,doc:A}),C=!0):this.ga(T,A)||(i.track({type:2,doc:A}),C=!0,(f&&this.Aa(A,f)>0||v&&this.Aa(A,v)<0)&&(h=!0)):!T&&A?(i.track({type:0,doc:A}),C=!0):T&&!A&&(i.track({type:1,doc:T}),C=!0,(f||v)&&(h=!0)),C&&(A?(c=c.add(A),a=S?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{Ra:c,fa:i,ns:h,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((_,w)=>(function(A,L){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return S(A)-S(L)})(_.type,w.type)||this.Aa(_.doc,w.doc))),this.pa(i),o=o!=null&&o;const h=t&&!o?this.ya():[],f=this.da.size===0&&this.current&&!o?1:0,v=f!==this.Ea;return this.Ea=f,c.length!==0||v?{snapshot:new Wo(this.query,e.Ra,a,c,e.mutatedKeys,f===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new i_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fe(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new zE(i))})),this.da.forEach((i=>{e.has(i)||t.push(new BE(i))})),t}ba(e){this.Ta=e.Ts,this.da=Fe();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Wo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class G2{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Q2{constructor(e){this.key=e,this.va=!1}}class Y2{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new ea((h=>lE(h)),ud),this.Ma=new Map,this.xa=new Set,this.Oa=new at(Ie.comparator),this.Na=new Map,this.La=new zp,this.Ba={},this.ka=new Map,this.qa=$o.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function X2(n,e,t=!0){const i=GE(n);let o;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await $E(i,e,t,!0),o}async function J2(n,e){const t=GE(n);await $E(t,e,!0,!1)}async function $E(n,e,t,i){const o=await v2(n.localStore,pr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await Z2(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&LE(n.remoteStore,o),h}async function Z2(n,e,t,i,o){n.Ka=(w,T,A)=>(async function(S,C,M,U){let z=C.view.ma(M);z.ns&&(z=await e_(S.localStore,C.query,!1).then((({documents:P})=>C.view.ma(P,z))));const G=U&&U.targetChanges.get(C.targetId),Z=U&&U.targetMismatches.get(C.targetId)!=null,J=C.view.applyChanges(z,S.isPrimaryClient,G,Z);return l_(S,C.targetId,J.wa),J.snapshot})(n,w,T,A);const a=await e_(n.localStore,e,!0),c=new K2(e,a.Ts),h=c.ma(a.documents),f=Dl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),v=c.applyChanges(h,n.isPrimaryClient,f);l_(n,t,v.wa);const _=new G2(e,t,c);return n.Fa.set(e,_),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),v.snapshot}async function eb(n,e,t){const i=be(n),o=i.Fa.get(e),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter((c=>!ud(c,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Qf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Hp(i.remoteStore,o.targetId),Xf(i,o.targetId)})).catch(kl)):(Xf(i,o.targetId),await Qf(i.localStore,o.targetId,!0))}async function tb(n,e){const t=be(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Hp(t.remoteStore,i.targetId))}async function nb(n,e,t){const i=ub(n);try{const o=await(function(c,h){const f=be(c),v=St.now(),_=h.reduce(((A,L)=>A.add(L.key)),Fe());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let L=Yr(),S=Fe();return f.cs.getEntries(A,_).next((C=>{L=C,L.forEach(((M,U)=>{U.isValidDocument()||(S=S.add(M))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,L))).next((C=>{w=C;const M=[];for(const U of h){const z=EN(U,w.get(U.key).overlayedDocument);z!=null&&M.push(new ks(U.key,z,tE(z.value.mapValue),Wr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,v,M,h)})).next((C=>{T=C;const M=C.applyToLocalDocumentSet(w,S);return f.documentOverlayCache.saveOverlays(A,C.batchId,M)}))})).then((()=>({batchId:T.batchId,changes:dE(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,h,f){let v=c.Ba[c.currentUser.toKey()];v||(v=new at(qe)),v=v.insert(h,f),c.Ba[c.currentUser.toKey()]=v})(i,o.batchId,t),await Ll(i,o.changes),await gd(i.remoteStore)}catch(o){const a=Yp(o,"Failed to persist write");t.reject(a)}}async function WE(n,e){const t=be(n);try{const i=await p2(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Na.get(a);c&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Qe(c.va):o.removedDocuments.size>0&&(Qe(c.va),c.va=!1))})),await Ll(t,i,e)}catch(i){await kl(i)}}function a_(n,e,t){const i=be(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((a,c)=>{const h=c.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const f=be(c);f.onlineState=h;let v=!1;f.queries.forEach(((_,w)=>{for(const T of w.j_)T.Z_(h)&&(v=!0)})),v&&Xp(f)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function rb(n,e,t){const i=be(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),a=o&&o.key;if(a){let c=new at(Ie.comparator);c=c.insert(a,Wt.newNoDocument(a,Ne.min()));const h=Fe().add(a),f=new fd(Ne.min(),new Map,new at(qe),c,h);await WE(i,f),i.Oa=i.Oa.remove(a),i.Na.delete(e),Jp(i)}else await Qf(i.localStore,e,!1).then((()=>Xf(i,e,t))).catch(kl)}async function ib(n,e){const t=be(n),i=e.batch.batchId;try{const o=await f2(t.localStore,e);qE(t,i,null),HE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ll(t,o)}catch(o){await kl(o)}}async function sb(n,e,t){const i=be(n);try{const o=await(function(c,h){const f=be(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let _;return f.mutationQueue.lookupMutationBatch(v,h).next((w=>(Qe(w!==null),_=w.keys(),f.mutationQueue.removeMutationBatch(v,w)))).next((()=>f.mutationQueue.performConsistencyCheck(v))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(v,_,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_))).next((()=>f.localDocuments.getDocuments(v,_)))}))})(i.localStore,e);qE(i,e,t),HE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ll(i,o)}catch(o){await kl(o)}}function HE(n,e){(n.ka.get(e)||[]).forEach((t=>{t.resolve()})),n.ka.delete(e)}function qE(n,e,t){const i=be(n);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function Xf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach((i=>{n.La.containsKey(i)||KE(n,i)}))}function KE(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(Hp(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Jp(n))}function l_(n,e,t){for(const i of t)i instanceof BE?(n.La.addReference(i.key,e),ob(n,i)):i instanceof zE?(me("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||KE(n,i.key)):ke()}function ob(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(me("SyncEngine","New document in limbo: "+t),n.xa.add(i),Jp(n))}function Jp(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Ie(ct.fromString(e)),i=n.qa.next();n.Na.set(i,new Q2(t)),n.Oa=n.Oa.insert(t,i),LE(n.remoteStore,new Ri(pr(Vp(t.path)),i,"TargetPurposeLimboResolution",Np.oe))}}async function Ll(n,e,t){const i=be(n),o=[],a=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach(((h,f)=>{c.push(i.Ka(f,e,t).then((v=>{var _;if((v||t)&&i.isPrimaryClient){const w=v?!v.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(v){o.push(v);const w=Wp.Wi(f.targetId,v);a.push(w)}})))})),await Promise.all(c),i.Ca.d_(o),await(async function(f,v){const _=be(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ne.forEach(v,(T=>ne.forEach(T.$i,(A=>_.persistence.referenceDelegate.addReference(w,T.targetId,A))).next((()=>ne.forEach(T.Ui,(A=>_.persistence.referenceDelegate.removeReference(w,T.targetId,A)))))))))}catch(w){if(!Nl(w))throw w;me("LocalStore","Failed to update sequence numbers: "+w)}for(const w of v){const T=w.targetId;if(!w.fromCache){const A=_.os.get(T),L=A.snapshotVersion,S=A.withLastLimboFreeSnapshotVersion(L);_.os=_.os.insert(T,S)}}})(i.localStore,a))}async function ab(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const i=await NE(t.localStore,e);t.currentUser=e,(function(a,c){a.ka.forEach((h=>{h.forEach((f=>{f.reject(new Se(ie.CANCELLED,c))}))})),a.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ll(t,i.hs)}}function lb(n,e){const t=be(n),i=t.Na.get(e);if(i&&i.va)return Fe().add(i.key);{let o=Fe();const a=t.Ma.get(e);if(!a)return o;for(const c of a){const h=t.Fa.get(c);o=o.unionWith(h.view.Va)}return o}}function GE(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rb.bind(null,e),e.Ca.d_=W2.bind(null,e.eventManager),e.Ca.$a=H2.bind(null,e.eventManager),e}function ub(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ib.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sb.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return h2(this.persistence,new c2,e.initialUser,this.serializer)}Ga(e){return new a2($p.Zr,this.serializer)}Wa(e){return new _2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class Jf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>a_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ab.bind(null,this.syncEngine),await U2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new B2})()}createDatastore(e){const t=pd(e.databaseInfo.databaseId),i=(function(a){return new S2(a)})(e.databaseInfo);return(function(a,c,h,f){return new A2(a,c,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,a,c,h){return new x2(i,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>a_(this.syncEngine,t,0)),(function(){return n_.D()?new n_:new w2})())}createSyncEngine(e,t){return(function(o,a,c,h,f,v,_){const w=new Y2(o,a,c,h,f,v);return _&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=be(o);me("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ol(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Jf.provider={build:()=>new Jf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=J0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async c=>{me("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(me("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Yp(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function gf(n,e){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await NE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function u_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await hb(n);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>r_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>r_(e.remoteStore,o))),n._onlineComponents=e}async function hb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await gf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await gf(n,new Bc)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await gf(n,new Bc);return n._offlineComponents}async function QE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await u_(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await u_(n,new Jf))),n._onlineComponents}function fb(n){return QE(n).then((e=>e.syncEngine))}async function pb(n){const e=await QE(n),t=e.eventManager;return t.onListen=X2.bind(null,e.syncEngine),t.onUnlisten=eb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=J2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tb.bind(null,e.syncEngine),t}function mb(n,e,t={}){const i=new Ni;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,v){const _=new cb({next:T=>{_.Za(),c.enqueueAndForget((()=>$2(a,w)));const A=T.docs.has(h);!A&&T.fromCache?v.reject(new Se(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&f&&f.source==="server"?v.reject(new Se(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(T)},error:T=>v.reject(T)}),w=new q2(Vp(h.path),_,{includeMetadataChanges:!0,_a:!0});return z2(a,w)})(await pb(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(n,e,t){if(!t)throw new Se(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vb(n,e,t,i){if(e===!0&&i===!0)throw new Se(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function d_(n){if(!Ie.isDocumentKey(n))throw new Se(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Zp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function yl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zp(n);throw new Se(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class em{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h_(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new xk;switch(i.type){case"firstParty":return new bk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=c_.get(t);i&&(me("ComponentProvider","Removing Datastore"),c_.delete(t),i.terminate())})(this),Promise.resolve()}}function yb(n,e,t,i={}){var o;const a=(n=yl(n,em))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=$t.MOCK_USER;else{h=nx(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Se(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(v)}n._authCredentials=new Pk(new X0(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new tm(this.firestore,e,this._query)}}class Rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class _l extends tm{constructor(e,t,i){super(e,t,Vp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ie(e))}withConverter(e){return new _l(this.firestore,e,this._path)}}function _b(n,e,...t){if(n=xn(n),arguments.length===1&&(e=J0.newId()),gb("doc","path",e),n instanceof em){const i=ct.fromString(e,...t);return d_(i),new Rn(n,null,new Ie(i))}{if(!(n instanceof Rn||n instanceof _l))throw new Se(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return d_(i),new Rn(n.firestore,n instanceof _l?n.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new DE(this,"async_queue_retry"),this.Vu=()=>{const i=mf();i&&me("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ni;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nl(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(i);throw Qr("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Qp.createAndSchedule(this,e,t,i,(a=>this.yu(a)));return this.Tu.push(o),o}fu(){this.Eu&&ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class nm extends em{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new f_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f_(e),this._firestoreClient=void 0,await e}}}function wb(n,e){const t=typeof n=="object"?n:d0(),i=typeof n=="string"?n:"(default)",o=_p(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=ex("firestore");a&&yb(o,...a)}return o}function XE(n){if(n._terminated)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Eb(n),n._firestoreClient}function Eb(n){var e,t,i;const o=n._freezeSettings(),a=(function(h,f,v,_){return new Hk(h,f,v,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,YE(_.experimentalLongPollingOptions),_.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new db(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(Vt.fromBase64String(e))}catch(t){throw new Se(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ho(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=/^__.*__$/;class Sb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new bl(e,this.data,t,this.fieldTransforms)}}function JE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class am{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(JE(this.Cu)&&Tb.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ib{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||pd(e)}Qu(e,t,i,o=!1){return new am({Cu:e,methodName:t,qu:i,path:Lt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cb(n){const e=n._freezeSettings(),t=pd(n._databaseId);return new Ib(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ab(n,e,t,i,o,a={}){const c=n.Qu(a.merge||a.mergeFields?2:0,e,t,o);nT("Data must be an object, but it was:",c,i);const h=eT(i,c);let f,v;if(a.merge)f=new Gn(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const T=Rb(e,w,t);if(!c.contains(T))throw new Se(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Pb(_,T)||_.push(T)}f=new Gn(_),v=c.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,v=c.fieldTransforms;return new Sb(new An(h),f,v)}class lm extends im{_toFieldTransform(e){return new vN(e.path,new ml)}isEqual(e){return e instanceof lm}}function ZE(n,e){if(tT(n=xn(n)))return nT("Unsupported field value:",e,n),eT(n,e);if(n instanceof im)return(function(i,o){if(!JE(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const a=[];let c=0;for(const h of i){let f=ZE(h,o.Lu(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(n,e)}return(function(i,o){if((i=xn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=St.fromDate(i);return{timestampValue:Uc(o.serializer,a)}}if(i instanceof St){const a=new St(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Uc(o.serializer,a)}}if(i instanceof sm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ho)return{bytesValue:IE(o.serializer,i._byteString)};if(i instanceof Rn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Bp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof om)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Bu("VectorValues must only contain numeric values.");return Fp(h.serializer,f)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${Zp(i)}`)})(n,e)}function eT(n,e){const t={};return Z0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(n,((i,o)=>{const a=ZE(o,e.Mu(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function tT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof sm||n instanceof Ho||n instanceof Rn||n instanceof im||n instanceof om)}function nT(n,e,t){if(!tT(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=Zp(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function Rb(n,e,t){if((e=xn(e))instanceof rm)return e._internalPath;if(typeof e=="string")return rT(n,e);throw zc("Field path arguments must be of type string or ",n,!1,void 0,t)}const xb=new RegExp("[~\\*/\\[\\]]");function rT(n,e,t){if(e.search(xb)>=0)throw zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rm(...e.split("."))._internalPath}catch{throw zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zc(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new Se(ie.INVALID_ARGUMENT,h+n+f)}function Pb(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kb extends iT{data(){return super.data()}}function sT(n,e){return typeof e=="string"?rT(n,e):e instanceof rm?e._internalPath:e._delegate._internalPath}class Nb{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Zo(e,((o,a)=>{i[o]=this.convertValue(a,t)})),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((c=>ft(c.doubleValue)));return new om(a)}convertGeoPoint(e){return new sm(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Dp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const t=Li(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);Qe(kE(i));const o=new fl(i.get(1),i.get(3)),a=new Ie(i.popFirst(5));return o.isEqual(t)||Qr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oT extends iT{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ob(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(sT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ob extends oT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){n=yl(n,Rn);const e=yl(n.firestore,nm);return mb(XE(e),n._key).then((t=>Ub(e,n,t)))}class Mb extends Nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function Vb(n,e,t){n=yl(n,Rn);const i=yl(n.firestore,nm),o=bb(n.converter,e,t);return Fb(i,[Ab(Cb(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Wr.none())])}function Fb(n,e){return(function(i,o){const a=new Ni;return i.asyncQueue.enqueueAndForget((async()=>nb(await fb(i),o,a))),a.promise})(XE(n),e)}function Ub(n,e,t){const i=t.docs.get(e._key),o=new Mb(n);return new oT(n,o,e._key,i,new Db(t.hasPendingWrites,t.fromCache),e.converter)}function jb(){return new lm("serverTimestamp")}(function(e,t=!0){(function(o){Jo=o})(Yo),Vo(new Cs("firestore",((i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new nm(new kk(i.getProvider("auth-internal")),new Ok(i.getProvider("app-check-internal")),(function(v,_){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Se(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(v.options.projectId,_)})(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),ki(Dy,"4.7.3",e),ki(Dy,"4.7.3","esm2017")})();const Bb={apiKey:"AIzaSyBsfan9ZXraevVDpTe8q1GL7DkfUER0wc0",authDomain:"cal-ranking-rm.firebaseapp.com",projectId:"cal-ranking-rm",storageBucket:"cal-ranking-rm.firebasestorage.app",messagingSenderId:"937306488262",appId:"1:937306488262:web:4428898ff1903d6ffd46c7",measurementId:"G-13CK76G4Q7"},aT=c0(Bb),um=Ak(aT),zb=wb(aT),$b=new Ur;function lT(n){return _b(zb,"users",n,"apps","rm_rank_calc")}function Wb(){return L1(um,$b)}function Hb(){return m1(um)}async function qb(n){const e=lT(n.uid),t=await Lb(e);if(!t.exists())return null;const i=t.data();return(i==null?void 0:i.state)||null}let vf=null;function p_(n,e){n&&(vf&&clearTimeout(vf),vf=setTimeout(async()=>{try{const t=lT(n.uid);await Vb(t,{state:e,updatedAt:jb()},{merge:!0})}catch(t){console.warn("Cloud save failed:",t)}},700))}function Kb(n){return p1(um,e=>n(e||null))}function Gb(){const[n,e]=R.useState(()=>VR()),[t,i]=R.useState(null),[o,a]=R.useState(!1),[c,h]=R.useState(null),[f,v]=R.useState(null),_=R.useRef(null);_.current=f;function w(S){e(C=>{const M=typeof S=="function"?S(C):S;return ry(M),p_(_.current,M),M})}const T=R.useCallback(S=>{const C=S??n;a(!0),setTimeout(()=>{let M=0;for(const Z of dc)for(const J of C.sections[Z.id]){const P=Number(J);Number.isFinite(P)&&(M+=P)}const U=Number.isFinite(C.bonus)?C.bonus:0,z=M+U,G=FR(z);i({sum:M,bonus:U,total:z,rank:G}),a(!1)},350)},[n]);function A(){w(S=>{const C={...S};C.sections={...S.sections};for(const M of dc)C.sections[M.id]=S.sections[M.id].map((U,z)=>S.locked[M.id][z]?U:"");return C}),i(null)}async function L(S){if(!c){h(S);try{const{points:C,debugLog:M}=await qR(S,()=>{});if(!C.length)return;w(Z=>{const J=[...Z.sections[S]];C.forEach((x,N)=>{N<J.length&&(J[N]=x)});const P={...Z,sections:{...Z.sections,[S]:J}};return setTimeout(()=>T(P),400),P});const U=C.filter(Boolean).length,z=C.map((Z,J)=>Z?null:`#${J+1}: ${M[J]??"-"}`).filter(Boolean);let G=`Import ${S.toUpperCase()}  
 ${U}/${C.length}`;z.length&&(G+=`

  ( Console F12):
${z.join(`
`)}`),alert(G)}catch(C){console.error(C),alert(`Import  
 Console  (F12)  error `)}finally{h(null)}}}return R.useEffect(()=>Kb(async C=>{if(v(C),!!C)try{const M=await qb(C);M?(e(M),ry(M),T(M)):p_(C,n)}catch(M){console.warn("Cloud load failed:",M)}}),[]),R.useEffect(()=>{T(n)},[]),O.jsx("div",{className:`min-h-screen bg-black text-[#eaeaea] font-kanit flex justify-center
      overflow-y-auto -webkit-overflow-scrolling-touch px-[14px] py-4`,children:O.jsxs("div",{className:"w-full max-w-[1320px] flex flex-col",children:[O.jsx(MR,{user:f,onSignIn:()=>Wb().catch(console.error),onSignOut:()=>Hb().catch(console.error)}),O.jsx("h1",{className:`text-center text-[#dfcd80] text-[26px] font-bold tracking-[0.2px]
          mt-1.5 mb-3`,children:""}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3 flex-1 min-h-0",children:[dc.map(S=>O.jsx(OR,{sectionId:S.id,label:S.label,badgeText:`${S.count} `,state:n,isImporting:c===S.id,onStateChange:w,onImport:L,onCalc:()=>T()},S.id)),O.jsx(LR,{bonus:n.bonus,onBonusChange:S=>w(C=>({...C,bonus:S})),onCalc:()=>T(),onReset:A,result:t,isCalculating:o})]})]})})}ES.createRoot(document.getElementById("root")).render(O.jsx(Fr.StrictMode,{children:O.jsx(Gb,{})}));export{Zf as g};
