function ES(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function ep(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wh={exports:{}},Ga={},Hh={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function TS(){if(vv)return Ve;vv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T($){return $===null||typeof $!="object"?null:($=w&&$[w]||$["@@iterator"],typeof $=="function"?$:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,I={};function P($,X,fe){this.props=$,this.context=X,this.refs=I,this.updater=fe||C}P.prototype.isReactComponent={},P.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},P.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function L(){}L.prototype=P.prototype;function V($,X,fe){this.props=$,this.context=X,this.refs=I,this.updater=fe||C}var j=V.prototype=new L;j.constructor=V,D(j,P.prototype),j.isPureReactComponent=!0;var K=Array.isArray,Z=Object.prototype.hasOwnProperty,J={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function A($,X,fe){var Ce,xe={},De=null,ue=null;if(X!=null)for(Ce in X.ref!==void 0&&(ue=X.ref),X.key!==void 0&&(De=""+X.key),X)Z.call(X,Ce)&&!x.hasOwnProperty(Ce)&&(xe[Ce]=X[Ce]);var ye=arguments.length-2;if(ye===1)xe.children=fe;else if(1<ye){for(var Oe=Array(ye),Pe=0;Pe<ye;Pe++)Oe[Pe]=arguments[Pe+2];xe.children=Oe}if($&&$.defaultProps)for(Ce in ye=$.defaultProps,ye)xe[Ce]===void 0&&(xe[Ce]=ye[Ce]);return{$$typeof:n,type:$,key:De,ref:ue,props:xe,_owner:J.current}}function k($,X){return{$$typeof:n,type:$.type,key:X,ref:$.ref,props:$.props,_owner:$._owner}}function M($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function F($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(fe){return X[fe]})}var B=/\/+/g;function N($,X){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):X.toString(36)}function _e($,X,fe,Ce,xe){var De=typeof $;(De==="undefined"||De==="boolean")&&($=null);var ue=!1;if($===null)ue=!0;else switch(De){case"string":case"number":ue=!0;break;case"object":switch($.$$typeof){case n:case e:ue=!0}}if(ue)return ue=$,xe=xe(ue),$=Ce===""?"."+N(ue,0):Ce,K(xe)?(fe="",$!=null&&(fe=$.replace(B,"$&/")+"/"),_e(xe,X,fe,"",function(Pe){return Pe})):xe!=null&&(M(xe)&&(xe=k(xe,fe+(!xe.key||ue&&ue.key===xe.key?"":(""+xe.key).replace(B,"$&/")+"/")+$)),X.push(xe)),1;if(ue=0,Ce=Ce===""?".":Ce+":",K($))for(var ye=0;ye<$.length;ye++){De=$[ye];var Oe=Ce+N(De,ye);ue+=_e(De,X,fe,Oe,xe)}else if(Oe=T($),typeof Oe=="function")for($=Oe.call($),ye=0;!(De=$.next()).done;)De=De.value,Oe=Ce+N(De,ye++),ue+=_e(De,X,fe,Oe,xe);else if(De==="object")throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ue}function Le($,X,fe){if($==null)return $;var Ce=[],xe=0;return _e($,Ce,"","",function(De){return X.call(fe,De,xe++)}),Ce}function Te($){if($._status===-1){var X=$._result;X=X(),X.then(function(fe){($._status===0||$._status===-1)&&($._status=1,$._result=fe)},function(fe){($._status===0||$._status===-1)&&($._status=2,$._result=fe)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var ve={current:null},Y={transition:null},le={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:Y,ReactCurrentOwner:J};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Le,forEach:function($,X,fe){Le($,function(){X.apply(this,arguments)},fe)},count:function($){var X=0;return Le($,function(){X++}),X},toArray:function($){return Le($,function(X){return X})||[]},only:function($){if(!M($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ve.Component=P,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=V,Ve.StrictMode=i,Ve.Suspense=f,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ve.act=oe,Ve.cloneElement=function($,X,fe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ce=D({},$.props),xe=$.key,De=$.ref,ue=$._owner;if(X!=null){if(X.ref!==void 0&&(De=X.ref,ue=J.current),X.key!==void 0&&(xe=""+X.key),$.type&&$.type.defaultProps)var ye=$.type.defaultProps;for(Oe in X)Z.call(X,Oe)&&!x.hasOwnProperty(Oe)&&(Ce[Oe]=X[Oe]===void 0&&ye!==void 0?ye[Oe]:X[Oe])}var Oe=arguments.length-2;if(Oe===1)Ce.children=fe;else if(1<Oe){ye=Array(Oe);for(var Pe=0;Pe<Oe;Pe++)ye[Pe]=arguments[Pe+2];Ce.children=ye}return{$$typeof:n,type:$.type,key:xe,ref:De,props:Ce,_owner:ue}},Ve.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Ve.createElement=A,Ve.createFactory=function($){var X=A.bind(null,$);return X.type=$,X},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function($){return{$$typeof:h,render:$}},Ve.isValidElement=M,Ve.lazy=function($){return{$$typeof:_,_payload:{_status:-1,_result:$},_init:Te}},Ve.memo=function($,X){return{$$typeof:v,type:$,compare:X===void 0?null:X}},Ve.startTransition=function($){var X=Y.transition;Y.transition={};try{$()}finally{Y.transition=X}},Ve.unstable_act=oe,Ve.useCallback=function($,X){return ve.current.useCallback($,X)},Ve.useContext=function($){return ve.current.useContext($)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function($){return ve.current.useDeferredValue($)},Ve.useEffect=function($,X){return ve.current.useEffect($,X)},Ve.useId=function(){return ve.current.useId()},Ve.useImperativeHandle=function($,X,fe){return ve.current.useImperativeHandle($,X,fe)},Ve.useInsertionEffect=function($,X){return ve.current.useInsertionEffect($,X)},Ve.useLayoutEffect=function($,X){return ve.current.useLayoutEffect($,X)},Ve.useMemo=function($,X){return ve.current.useMemo($,X)},Ve.useReducer=function($,X,fe){return ve.current.useReducer($,X,fe)},Ve.useRef=function($){return ve.current.useRef($)},Ve.useState=function($){return ve.current.useState($)},Ve.useSyncExternalStore=function($,X,fe){return ve.current.useSyncExternalStore($,X,fe)},Ve.useTransition=function(){return ve.current.useTransition()},Ve.version="18.3.1",Ve}var yv;function tp(){return yv||(yv=1,Hh.exports=TS()),Hh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function SS(){if(_v)return Ga;_v=1;var n=tp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,v){var _,w={},T=null,C=null;v!==void 0&&(T=""+v),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(C=f.ref);for(_ in f)i.call(f,_)&&!a.hasOwnProperty(_)&&(w[_]=f[_]);if(h&&h.defaultProps)for(_ in f=h.defaultProps,f)w[_]===void 0&&(w[_]=f[_]);return{$$typeof:e,type:h,key:T,ref:C,props:w,_owner:o.current}}return Ga.Fragment=t,Ga.jsx=c,Ga.jsxs=c,Ga}var wv;function IS(){return wv||(wv=1,Wh.exports=SS()),Wh.exports}var O=IS(),R=tp();const Fr=ep(R),g_=ES({__proto__:null,default:Fr},[R]);var Yu={},qh={exports:{}},sn={},Kh={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function CS(){return Ev||(Ev=1,(function(n){function e(Y,le){var oe=Y.length;Y.push(le);e:for(;0<oe;){var $=oe-1>>>1,X=Y[$];if(0<o(X,le))Y[$]=le,Y[oe]=X,oe=$;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var le=Y[0],oe=Y.pop();if(oe!==le){Y[0]=oe;e:for(var $=0,X=Y.length,fe=X>>>1;$<fe;){var Ce=2*($+1)-1,xe=Y[Ce],De=Ce+1,ue=Y[De];if(0>o(xe,oe))De<X&&0>o(ue,xe)?(Y[$]=ue,Y[De]=oe,$=De):(Y[$]=xe,Y[Ce]=oe,$=Ce);else if(De<X&&0>o(ue,oe))Y[$]=ue,Y[De]=oe,$=De;else break e}}return le}function o(Y,le){var oe=Y.sortIndex-le.sortIndex;return oe!==0?oe:Y.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],v=[],_=1,w=null,T=3,C=!1,D=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Y){for(var le=t(v);le!==null;){if(le.callback===null)i(v);else if(le.startTime<=Y)i(v),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(v)}}function K(Y){if(I=!1,j(Y),!D)if(t(f)!==null)D=!0,Te(Z);else{var le=t(v);le!==null&&ve(K,le.startTime-Y)}}function Z(Y,le){D=!1,I&&(I=!1,L(A),A=-1),C=!0;var oe=T;try{for(j(le),w=t(f);w!==null&&(!(w.expirationTime>le)||Y&&!F());){var $=w.callback;if(typeof $=="function"){w.callback=null,T=w.priorityLevel;var X=$(w.expirationTime<=le);le=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&i(f),j(le)}else i(f);w=t(f)}if(w!==null)var fe=!0;else{var Ce=t(v);Ce!==null&&ve(K,Ce.startTime-le),fe=!1}return fe}finally{w=null,T=oe,C=!1}}var J=!1,x=null,A=-1,k=5,M=-1;function F(){return!(n.unstable_now()-M<k)}function B(){if(x!==null){var Y=n.unstable_now();M=Y;var le=!0;try{le=x(!0,Y)}finally{le?N():(J=!1,x=null)}}else J=!1}var N;if(typeof V=="function")N=function(){V(B)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Le=_e.port2;_e.port1.onmessage=B,N=function(){Le.postMessage(null)}}else N=function(){P(B,0)};function Te(Y){x=Y,J||(J=!0,N())}function ve(Y,le){A=P(function(){Y(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){D||C||(D=!0,Te(Z))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var oe=T;T=le;try{return Y()}finally{T=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=T;T=Y;try{return le()}finally{T=oe}},n.unstable_scheduleCallback=function(Y,le,oe){var $=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?$+oe:$):oe=$,Y){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,Y={id:_++,callback:le,priorityLevel:Y,startTime:oe,expirationTime:X,sortIndex:-1},oe>$?(Y.sortIndex=oe,e(v,Y),t(f)===null&&Y===t(v)&&(I?(L(A),A=-1):I=!0,ve(K,oe-$))):(Y.sortIndex=X,e(f,Y),D||C||(D=!0,Te(Z))),Y},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(Y){var le=T;return function(){var oe=T;T=le;try{return Y.apply(this,arguments)}finally{T=oe}}}})(Gh)),Gh}var Tv;function AS(){return Tv||(Tv=1,Kh.exports=CS()),Kh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function RS(){if(Sv)return sn;Sv=1;var n=tp(),e=AS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(r){return f.call(w,r)?!0:f.call(_,r)?!1:v.test(r)?w[r]=!0:(_[r]=!0,!1)}function C(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,s,l,d){if(s===null||typeof s>"u"||C(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function I(r,s,l,d,p,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){P[r]=new I(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];P[s]=new I(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){P[r]=new I(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){P[r]=new I(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){P[r]=new I(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){P[r]=new I(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){P[r]=new I(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){P[r]=new I(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){P[r]=new I(r,5,!1,r.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function V(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(L,V);P[s]=new I(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(L,V);P[s]=new I(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(L,V);P[s]=new I(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){P[r]=new I(r,1,!1,r.toLowerCase(),null,!1,!1)}),P.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){P[r]=new I(r,1,!1,r.toLowerCase(),null,!0,!0)});function j(r,s,l,d){var p=P.hasOwnProperty(s)?P[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,l,p,d)&&(l=null),d||p===null?T(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),J=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),Y=Symbol.iterator;function le(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,$;function X(r){if($===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+r}var fe=!1;function Ce(r,s){if(!r||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var d=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){d=G}r.call(s.prototype)}else{try{throw Error()}catch(G){d=G}r()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),g=d.stack.split(`
`),E=p.length-1,b=g.length-1;1<=E&&0<=b&&p[E]!==g[b];)b--;for(;1<=E&&0<=b;E--,b--)if(p[E]!==g[b]){if(E!==1||b!==1)do if(E--,b--,0>b||p[E]!==g[b]){var U=`
`+p[E].replace(" at new "," at ");return r.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",r.displayName)),U}while(1<=E&&0<=b);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?X(r):""}function xe(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case J:return"Portal";case k:return"Profiler";case A:return"StrictMode";case N:return"Suspense";case _e:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case F:return(r.displayName||"Context")+".Consumer";case M:return(r._context.displayName||"Context")+".Provider";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Le:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case Te:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ye(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Oe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pe(r){var s=Oe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Me(r){r._valueTracker||(r._valueTracker=Pe(r))}function Ue(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Oe(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function lt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function It(r,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function mn(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=ye(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pn(r,s){s=s.checked,s!=null&&j(r,"checked",s,!1)}function kn(r,s){Pn(r,s);var l=ye(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Nn(r,s.type,l):s.hasOwnProperty("defaultValue")&&Nn(r,s.type,ye(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function bs(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Nn(r,s,l){(s!=="number"||lt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Er=Array.isArray;function Tr(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+ye(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function na(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Os(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Er(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:ye(l)}}function Ds(r,s){var l=ye(s.value),d=ye(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ra(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function vt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?vt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Sr,ia=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Sr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Jr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ji=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(r){ji.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ui[s]=Ui[r]})});function sa(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ui.hasOwnProperty(r)&&Ui[r]?(""+s).trim():s+"px"}function oa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=sa(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var aa=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(r,s){if(s){if(aa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ua(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Ls(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ms=null,gn=null,Zn=null;function Vs(r){if(r=Oa(r)){if(typeof Ms!="function")throw Error(t(280));var s=r.stateNode;s&&(s=du(s),Ms(r.stateNode,r.type,s))}}function er(r){gn?Zn?Zn.push(r):Zn=[r]:gn=r}function ca(){if(gn){var r=gn,s=Zn;if(Zn=gn=null,Vs(r),s)for(r=0;r<s.length;r++)Vs(s[r])}}function zi(r,s){return r(s)}function da(){}var Ir=!1;function ha(r,s,l){if(Ir)return r(s,l);Ir=!0;try{return zi(r,s,l)}finally{Ir=!1,(gn!==null||Zn!==null)&&(da(),ca())}}function dt(r,s){var l=r.stateNode;if(l===null)return null;var d=du(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Fs=!1;if(h)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{Fs=!1}function $i(r,s,l,d,p,g,E,b,U){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(te){this.onError(te)}}var Wi=!1,Us=null,On=!1,fa=null,yd={onError:function(r){Wi=!0,Us=r}};function js(r,s,l,d,p,g,E,b,U){Wi=!1,Us=null,$i.apply(yd,arguments)}function Ml(r,s,l,d,p,g,E,b,U){if(js.apply(this,arguments),Wi){if(Wi){var G=Us;Wi=!1,Us=null}else throw Error(t(198));On||(On=!0,fa=G)}}function Dn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Hi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ln(r){if(Dn(r)!==r)throw Error(t(188))}function Vl(r){var s=r.alternate;if(!s){if(s=Dn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return Ln(p),r;if(g===d)return Ln(p),s;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=g;else{for(var E=!1,b=p.child;b;){if(b===l){E=!0,l=p,d=g;break}if(b===d){E=!0,d=p,l=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===l){E=!0,l=g,d=p;break}if(b===d){E=!0,d=g,l=p;break}b=b.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function pa(r){return r=Vl(r),r!==null?Bs(r):null}function Bs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Bs(r);if(s!==null)return s;r=r.sibling}return null}var zs=e.unstable_scheduleCallback,ma=e.unstable_cancelCallback,Fl=e.unstable_shouldYield,_d=e.unstable_requestPaint,Je=e.unstable_now,Ul=e.unstable_getCurrentPriorityLevel,qi=e.unstable_ImmediatePriority,Zr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,ga=e.unstable_LowPriority,jl=e.unstable_IdlePriority,Ki=null,on=null;function Bl(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ki,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:$l,va=Math.log,zl=Math.LN2;function $l(r){return r>>>=0,r===0?32:31-(va(r)/zl|0)|0}var $s=64,Ws=4194304;function ei(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gi(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,g=r.pingedLanes,E=l&268435455;if(E!==0){var b=E&~p;b!==0?d=ei(b):(g&=E,g!==0&&(d=ei(g)))}else E=l&~p,E!==0?d=ei(E):g!==0&&(d=ei(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Kt(s),p=1<<l,d|=r[l],s&=~p;return d}function wd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Kt(g),b=1<<E,U=p[E];U===-1?((b&l)===0||(b&d)!==0)&&(p[E]=wd(b,s)):U<=s&&(r.expiredLanes|=b),g&=~b}}function an(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Qi(){var r=$s;return $s<<=1,($s&4194240)===0&&($s=64),r}function ti(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ni(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=l}function Ye(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Kt(l),g=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~g}}function ri(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Kt(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var je=0;function ii(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Wl,Hs,Hl,ql,Kl,ya=!1,tr=[],kt=null,Mn=null,Vn=null,si=new Map,yn=new Map,nr=[],Ed="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gl(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":si.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(s.pointerId)}}function Xt(r,s,l,d,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Oa(s),s!==null&&Hs(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Td(r,s,l,d,p){switch(s){case"focusin":return kt=Xt(kt,r,s,l,d,p),!0;case"dragenter":return Mn=Xt(Mn,r,s,l,d,p),!0;case"mouseover":return Vn=Xt(Vn,r,s,l,d,p),!0;case"pointerover":var g=p.pointerId;return si.set(g,Xt(si.get(g)||null,r,s,l,d,p)),!0;case"gotpointercapture":return g=p.pointerId,yn.set(g,Xt(yn.get(g)||null,r,s,l,d,p)),!0}return!1}function Ql(r){var s=es(r.target);if(s!==null){var l=Dn(s);if(l!==null){if(s=l.tag,s===13){if(s=Hi(l),s!==null){r.blockedOn=s,Kl(r.priority,function(){Hl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ar(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=qs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Bi=d,l.target.dispatchEvent(d),Bi=null}else return s=Oa(l),s!==null&&Hs(s),r.blockedOn=l,!1;s.shift()}return!0}function Yi(r,s,l){Ar(r)&&l.delete(s)}function Yl(){ya=!1,kt!==null&&Ar(kt)&&(kt=null),Mn!==null&&Ar(Mn)&&(Mn=null),Vn!==null&&Ar(Vn)&&(Vn=null),si.forEach(Yi),yn.forEach(Yi)}function Fn(r,s){r.blockedOn===s&&(r.blockedOn=null,ya||(ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yl)))}function Un(r){function s(p){return Fn(p,r)}if(0<tr.length){Fn(tr[0],r);for(var l=1;l<tr.length;l++){var d=tr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(kt!==null&&Fn(kt,r),Mn!==null&&Fn(Mn,r),Vn!==null&&Fn(Vn,r),si.forEach(s),yn.forEach(s),l=0;l<nr.length;l++)d=nr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<nr.length&&(l=nr[0],l.blockedOn===null);)Ql(l),l.blockedOn===null&&nr.shift()}var Rr=K.ReactCurrentBatchConfig,oi=!0;function nt(r,s,l,d){var p=je,g=Rr.transition;Rr.transition=null;try{je=1,_a(r,s,l,d)}finally{je=p,Rr.transition=g}}function Sd(r,s,l,d){var p=je,g=Rr.transition;Rr.transition=null;try{je=4,_a(r,s,l,d)}finally{je=p,Rr.transition=g}}function _a(r,s,l,d){if(oi){var p=qs(r,s,l,d);if(p===null)Dd(r,s,d,Xi,l),Gl(r,d);else if(Td(p,r,s,l,d))d.stopPropagation();else if(Gl(r,d),s&4&&-1<Ed.indexOf(r)){for(;p!==null;){var g=Oa(p);if(g!==null&&Wl(g),g=qs(r,s,l,d),g===null&&Dd(r,s,d,Xi,l),g===p)break;p=g}p!==null&&d.stopPropagation()}else Dd(r,s,d,null,l)}}var Xi=null;function qs(r,s,l,d){if(Xi=null,r=Ls(d),r=es(r),r!==null)if(s=Dn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Hi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Xi=r,null}function wa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ul()){case qi:return 1;case Zr:return 4;case vn:case ga:return 16;case jl:return 536870912;default:return 16}default:return 16}}var ln=null,Ks=null,Jt=null;function Ea(){if(Jt)return Jt;var r,s=Ks,l=s.length,d,p="value"in ln?ln.value:ln.textContent,g=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===p[g-d];d++);return Jt=p.slice(r,1<d?1-d:void 0)}function Gs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function rr(){return!0}function Ta(){return!1}function Nt(r){function s(l,d,p,g,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(l=r[b],this[b]=l?l(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?rr:Ta,this.isPropagationStopped=Ta,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),s}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=Nt(jn),ir=oe({},jn,{view:0,detail:0}),Id=Nt(ir),Ys,xr,ai,Ji=oe({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(Ys=r.screenX-ai.screenX,xr=r.screenY-ai.screenY):xr=Ys=0,ai=r),Ys)},movementY:function(r){return"movementY"in r?r.movementY:xr}}),Xs=Nt(Ji),Sa=oe({},Ji,{dataTransfer:0}),Xl=Nt(Sa),Js=oe({},ir,{relatedTarget:0}),Zs=Nt(Js),Jl=oe({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Pr=Nt(Jl),Zl=oe({},jn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),eu=Nt(Zl),tu=oe({},jn,{data:0}),Ia=Nt(tu),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nu[r])?!!s[r]:!1}function sr(){return ru}var u=oe({},ir,{key:function(r){if(r.key){var s=eo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Gs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(r){return r.type==="keypress"?Gs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Nt(u),y=oe({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Nt(y),W=oe({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),Q=Nt(W),ae=oe({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Nt(ae),_t=oe({},Ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Nt(_t),Ct=[9,13,27,32],pt=h&&"CompositionEvent"in window,_n=null;h&&"documentMode"in document&&(_n=document.documentMode);var un=h&&"TextEvent"in window&&!_n,Zi=h&&(!pt||_n&&8<_n&&11>=_n),to=" ",dm=!1;function hm(r,s){switch(r){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var no=!1;function yT(r,s){switch(r){case"compositionend":return fm(s);case"keypress":return s.which!==32?null:(dm=!0,to);case"textInput":return r=s.data,r===to&&dm?null:r;default:return null}}function _T(r,s){if(no)return r==="compositionend"||!pt&&hm(r,s)?(r=Ea(),Jt=Ks=ln=null,no=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zi&&s.locale!=="ko"?null:s.data;default:return null}}var wT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!wT[r.type]:s==="textarea"}function mm(r,s,l,d){er(d),s=lu(s,"onChange"),0<s.length&&(l=new Qs("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ca=null,Aa=null;function ET(r){Om(r,0)}function iu(r){var s=ao(r);if(Ue(s))return r}function TT(r,s){if(r==="change")return s}var gm=!1;if(h){var Cd;if(h){var Ad="oninput"in document;if(!Ad){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),Ad=typeof vm.oninput=="function"}Cd=Ad}else Cd=!1;gm=Cd&&(!document.documentMode||9<document.documentMode)}function ym(){Ca&&(Ca.detachEvent("onpropertychange",_m),Aa=Ca=null)}function _m(r){if(r.propertyName==="value"&&iu(Aa)){var s=[];mm(s,Aa,r,Ls(r)),ha(ET,s)}}function ST(r,s,l){r==="focusin"?(ym(),Ca=s,Aa=l,Ca.attachEvent("onpropertychange",_m)):r==="focusout"&&ym()}function IT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return iu(Aa)}function CT(r,s){if(r==="click")return iu(s)}function AT(r,s){if(r==="input"||r==="change")return iu(s)}function RT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:RT;function Ra(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!Bn(r[p],s[p]))return!1}return!0}function wm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Em(r,s){var l=wm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wm(l)}}function Tm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Tm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Sm(){for(var r=window,s=lt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=lt(r.document)}return s}function Rd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function xT(r){var s=Sm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Tm(l.ownerDocument.documentElement,l)){if(d!==null&&Rd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!r.extend&&g>d&&(p=d,d=g,g=p),p=Em(l,g);var E=Em(l,d);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),g>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var PT=h&&"documentMode"in document&&11>=document.documentMode,ro=null,xd=null,xa=null,Pd=!1;function Im(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pd||ro==null||ro!==lt(d)||(d=ro,"selectionStart"in d&&Rd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),xa&&Ra(xa,d)||(xa=d,d=lu(xd,"onSelect"),0<d.length&&(s=new Qs("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=ro)))}function su(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var io={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},kd={},Cm={};h&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ou(r){if(kd[r])return kd[r];if(!io[r])return r;var s=io[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Cm)return kd[r]=s[l];return r}var Am=ou("animationend"),Rm=ou("animationiteration"),xm=ou("animationstart"),Pm=ou("transitionend"),km=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(r,s){km.set(r,s),a(s,[r])}for(var Nd=0;Nd<Nm.length;Nd++){var bd=Nm[Nd],kT=bd.toLowerCase(),NT=bd[0].toUpperCase()+bd.slice(1);li(kT,"on"+NT)}li(Am,"onAnimationEnd"),li(Rm,"onAnimationIteration"),li(xm,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Pm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function bm(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,Ml(d,s,void 0,r),r.currentTarget=null}function Om(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var E=d.length-1;0<=E;E--){var b=d[E],U=b.instance,G=b.currentTarget;if(b=b.listener,U!==g&&p.isPropagationStopped())break e;bm(p,b,G),g=U}else for(E=0;E<d.length;E++){if(b=d[E],U=b.instance,G=b.currentTarget,b=b.listener,U!==g&&p.isPropagationStopped())break e;bm(p,b,G),g=U}}}if(On)throw r=fa,On=!1,fa=null,r}function et(r,s){var l=s[jd];l===void 0&&(l=s[jd]=new Set);var d=r+"__bubble";l.has(d)||(Dm(s,r,2,!1),l.add(d))}function Od(r,s,l){var d=0;s&&(d|=4),Dm(l,r,d,s)}var au="_reactListening"+Math.random().toString(36).slice(2);function ka(r){if(!r[au]){r[au]=!0,i.forEach(function(l){l!=="selectionchange"&&(bT.has(l)||Od(l,!1,r),Od(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[au]||(s[au]=!0,Od("selectionchange",!1,s))}}function Dm(r,s,l,d){switch(wa(s)){case 1:var p=nt;break;case 4:p=Sd;break;default:p=_a}l=p.bind(null,s,l,r),p=void 0,!Fs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Dd(r,s,l,d,p){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var b=d.stateNode.containerInfo;if(b===p||b.nodeType===8&&b.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var U=E.tag;if((U===3||U===4)&&(U=E.stateNode.containerInfo,U===p||U.nodeType===8&&U.parentNode===p))return;E=E.return}for(;b!==null;){if(E=es(b),E===null)return;if(U=E.tag,U===5||U===6){d=g=E;continue e}b=b.parentNode}}d=d.return}ha(function(){var G=g,te=Ls(l),re=[];e:{var ee=km.get(r);if(ee!==void 0){var ce=Qs,he=r;switch(r){case"keypress":if(Gs(l)===0)break e;case"keydown":case"keyup":ce=m;break;case"focusin":he="focus",ce=Zs;break;case"focusout":he="blur",ce=Zs;break;case"beforeblur":case"afterblur":ce=Zs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Xl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Q;break;case Am:case Rm:case xm:ce=Pr;break;case Pm:ce=Ge;break;case"scroll":ce=Id;break;case"wheel":ce=ze;break;case"copy":case"cut":case"paste":ce=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var pe=(s&4)!==0,ht=!pe&&r==="scroll",H=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var z=G,q;z!==null;){q=z;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,H!==null&&(se=dt(z,H),se!=null&&pe.push(Na(z,se,q)))),ht)break;z=z.return}0<pe.length&&(ee=new ce(ee,he,null,l,te),re.push({event:ee,listeners:pe}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",ee&&l!==Bi&&(he=l.relatedTarget||l.fromElement)&&(es(he)||he[kr]))break e;if((ce||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(he=l.relatedTarget||l.toElement,ce=G,he=he?es(he):null,he!==null&&(ht=Dn(he),he!==ht||he.tag!==5&&he.tag!==6)&&(he=null)):(ce=null,he=G),ce!==he)){if(pe=Xs,se="onMouseLeave",H="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(pe=S,se="onPointerLeave",H="onPointerEnter",z="pointer"),ht=ce==null?ee:ao(ce),q=he==null?ee:ao(he),ee=new pe(se,z+"leave",ce,l,te),ee.target=ht,ee.relatedTarget=q,se=null,es(te)===G&&(pe=new pe(H,z+"enter",he,l,te),pe.target=q,pe.relatedTarget=ht,se=pe),ht=se,ce&&he)t:{for(pe=ce,H=he,z=0,q=pe;q;q=so(q))z++;for(q=0,se=H;se;se=so(se))q++;for(;0<z-q;)pe=so(pe),z--;for(;0<q-z;)H=so(H),q--;for(;z--;){if(pe===H||H!==null&&pe===H.alternate)break t;pe=so(pe),H=so(H)}pe=null}else pe=null;ce!==null&&Lm(re,ee,ce,pe,!1),he!==null&&ht!==null&&Lm(re,ht,he,pe,!0)}}e:{if(ee=G?ao(G):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var ge=TT;else if(pm(ee))if(gm)ge=AT;else{ge=IT;var we=ST}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=CT);if(ge&&(ge=ge(r,G))){mm(re,ge,l,te);break e}we&&we(r,ee,G),r==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&Nn(ee,"number",ee.value)}switch(we=G?ao(G):window,r){case"focusin":(pm(we)||we.contentEditable==="true")&&(ro=we,xd=G,xa=null);break;case"focusout":xa=xd=ro=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,Im(re,l,te);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":Im(re,l,te)}var Ee;if(pt)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else no?hm(r,l)&&(Ae="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(Zi&&l.locale!=="ko"&&(no||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&no&&(Ee=Ea()):(ln=te,Ks="value"in ln?ln.value:ln.textContent,no=!0)),we=lu(G,Ae),0<we.length&&(Ae=new Ia(Ae,r,null,l,te),re.push({event:Ae,listeners:we}),Ee?Ae.data=Ee:(Ee=fm(l),Ee!==null&&(Ae.data=Ee)))),(Ee=un?yT(r,l):_T(r,l))&&(G=lu(G,"onBeforeInput"),0<G.length&&(te=new Ia("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:G}),te.data=Ee))}Om(re,s)})}function Na(r,s,l){return{instance:r,listener:s,currentTarget:l}}function lu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=dt(r,l),g!=null&&d.unshift(Na(r,g,p)),g=dt(r,s),g!=null&&d.push(Na(r,g,p))),r=r.return}return d}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Lm(r,s,l,d,p){for(var g=s._reactName,E=[];l!==null&&l!==d;){var b=l,U=b.alternate,G=b.stateNode;if(U!==null&&U===d)break;b.tag===5&&G!==null&&(b=G,p?(U=dt(l,g),U!=null&&E.unshift(Na(l,U,b))):p||(U=dt(l,g),U!=null&&E.push(Na(l,U,b)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var OT=/\r\n?/g,DT=/\u0000|\uFFFD/g;function Mm(r){return(typeof r=="string"?r:""+r).replace(OT,`
`).replace(DT,"")}function uu(r,s,l){if(s=Mm(s),Mm(r)!==s&&l)throw Error(t(425))}function cu(){}var Ld=null,Md=null;function Vd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fd=typeof setTimeout=="function"?setTimeout:void 0,LT=typeof clearTimeout=="function"?clearTimeout:void 0,Vm=typeof Promise=="function"?Promise:void 0,MT=typeof queueMicrotask=="function"?queueMicrotask:typeof Vm<"u"?function(r){return Vm.resolve(null).then(r).catch(VT)}:Fd;function VT(r){setTimeout(function(){throw r})}function Ud(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),Un(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Un(s)}function ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Fm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var oo=Math.random().toString(36).slice(2),or="__reactFiber$"+oo,ba="__reactProps$"+oo,kr="__reactContainer$"+oo,jd="__reactEvents$"+oo,FT="__reactListeners$"+oo,UT="__reactHandles$"+oo;function es(r){var s=r[or];if(s)return s;for(var l=r.parentNode;l;){if(s=l[kr]||l[or]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Fm(r);r!==null;){if(l=r[or])return l;r=Fm(r)}return s}r=l,l=r.parentNode}return null}function Oa(r){return r=r[or]||r[kr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function du(r){return r[ba]||null}var Bd=[],lo=-1;function ci(r){return{current:r}}function tt(r){0>lo||(r.current=Bd[lo],Bd[lo]=null,lo--)}function Ze(r,s){lo++,Bd[lo]=r.current,r.current=s}var di={},Ft=ci(di),Zt=ci(!1),ts=di;function uo(r,s){var l=r.type.contextTypes;if(!l)return di;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=s[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function en(r){return r=r.childContextTypes,r!=null}function hu(){tt(Zt),tt(Ft)}function Um(r,s,l){if(Ft.current!==di)throw Error(t(168));Ze(Ft,s),Ze(Zt,l)}function jm(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,ue(r)||"Unknown",p));return oe({},l,d)}function fu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||di,ts=Ft.current,Ze(Ft,r),Ze(Zt,Zt.current),!0}function Bm(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=jm(r,s,ts),d.__reactInternalMemoizedMergedChildContext=r,tt(Zt),tt(Ft),Ze(Ft,r)):tt(Zt),Ze(Zt,l)}var Nr=null,pu=!1,zd=!1;function zm(r){Nr===null?Nr=[r]:Nr.push(r)}function jT(r){pu=!0,zm(r)}function hi(){if(!zd&&Nr!==null){zd=!0;var r=0,s=je;try{var l=Nr;for(je=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Nr=null,pu=!1}catch(p){throw Nr!==null&&(Nr=Nr.slice(r+1)),zs(qi,hi),p}finally{je=s,zd=!1}}return null}var co=[],ho=0,mu=null,gu=0,wn=[],En=0,ns=null,br=1,Or="";function rs(r,s){co[ho++]=gu,co[ho++]=mu,mu=r,gu=s}function $m(r,s,l){wn[En++]=br,wn[En++]=Or,wn[En++]=ns,ns=r;var d=br;r=Or;var p=32-Kt(d)-1;d&=~(1<<p),l+=1;var g=32-Kt(s)+p;if(30<g){var E=p-p%5;g=(d&(1<<E)-1).toString(32),d>>=E,p-=E,br=1<<32-Kt(s)+p|l<<p|d,Or=g+r}else br=1<<g|l<<p|d,Or=r}function $d(r){r.return!==null&&(rs(r,1),$m(r,1,0))}function Wd(r){for(;r===mu;)mu=co[--ho],co[ho]=null,gu=co[--ho],co[ho]=null;for(;r===ns;)ns=wn[--En],wn[En]=null,Or=wn[--En],wn[En]=null,br=wn[--En],wn[En]=null}var cn=null,dn=null,rt=!1,zn=null;function Wm(r,s){var l=Cn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Hm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,cn=r,dn=ui(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,cn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ns!==null?{id:br,overflow:Or}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Cn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,cn=r,dn=null,!0):!1;default:return!1}}function Hd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function qd(r){if(rt){var s=dn;if(s){var l=s;if(!Hm(r,s)){if(Hd(r))throw Error(t(418));s=ui(l.nextSibling);var d=cn;s&&Hm(r,s)?Wm(d,l):(r.flags=r.flags&-4097|2,rt=!1,cn=r)}}else{if(Hd(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,cn=r}}}function qm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;cn=r}function vu(r){if(r!==cn)return!1;if(!rt)return qm(r),rt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Vd(r.type,r.memoizedProps)),s&&(s=dn)){if(Hd(r))throw Km(),Error(t(418));for(;s;)Wm(r,s),s=ui(s.nextSibling)}if(qm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){dn=ui(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=cn?ui(r.stateNode.nextSibling):null;return!0}function Km(){for(var r=dn;r;)r=ui(r.nextSibling)}function fo(){dn=cn=null,rt=!1}function Kd(r){zn===null?zn=[r]:zn.push(r)}var BT=K.ReactCurrentBatchConfig;function Da(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var b=p.refs;E===null?delete b[g]:b[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function yu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Gm(r){var s=r._init;return s(r._payload)}function Qm(r){function s(H,z){if(r){var q=H.deletions;q===null?(H.deletions=[z],H.flags|=16):q.push(z)}}function l(H,z){if(!r)return null;for(;z!==null;)s(H,z),z=z.sibling;return null}function d(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function p(H,z){return H=wi(H,z),H.index=0,H.sibling=null,H}function g(H,z,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<z?(H.flags|=2,z):q):(H.flags|=2,z)):(H.flags|=1048576,z)}function E(H){return r&&H.alternate===null&&(H.flags|=2),H}function b(H,z,q,se){return z===null||z.tag!==6?(z=Fh(q,H.mode,se),z.return=H,z):(z=p(z,q),z.return=H,z)}function U(H,z,q,se){var ge=q.type;return ge===x?te(H,z,q.props.children,se,q.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Te&&Gm(ge)===z.type)?(se=p(z,q.props),se.ref=Da(H,z,q),se.return=H,se):(se=zu(q.type,q.key,q.props,null,H.mode,se),se.ref=Da(H,z,q),se.return=H,se)}function G(H,z,q,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=Uh(q,H.mode,se),z.return=H,z):(z=p(z,q.children||[]),z.return=H,z)}function te(H,z,q,se,ge){return z===null||z.tag!==7?(z=ds(q,H.mode,se,ge),z.return=H,z):(z=p(z,q),z.return=H,z)}function re(H,z,q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Fh(""+z,H.mode,q),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Z:return q=zu(z.type,z.key,z.props,null,H.mode,q),q.ref=Da(H,null,z),q.return=H,q;case J:return z=Uh(z,H.mode,q),z.return=H,z;case Te:var se=z._init;return re(H,se(z._payload),q)}if(Er(z)||le(z))return z=ds(z,H.mode,q,null),z.return=H,z;yu(H,z)}return null}function ee(H,z,q,se){var ge=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:b(H,z,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:return q.key===ge?U(H,z,q,se):null;case J:return q.key===ge?G(H,z,q,se):null;case Te:return ge=q._init,ee(H,z,ge(q._payload),se)}if(Er(q)||le(q))return ge!==null?null:te(H,z,q,se,null);yu(H,q)}return null}function ce(H,z,q,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(q)||null,b(z,H,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Z:return H=H.get(se.key===null?q:se.key)||null,U(z,H,se,ge);case J:return H=H.get(se.key===null?q:se.key)||null,G(z,H,se,ge);case Te:var we=se._init;return ce(H,z,q,we(se._payload),ge)}if(Er(se)||le(se))return H=H.get(q)||null,te(z,H,se,ge,null);yu(z,se)}return null}function he(H,z,q,se){for(var ge=null,we=null,Ee=z,Ae=z=0,xt=null;Ee!==null&&Ae<q.length;Ae++){Ee.index>Ae?(xt=Ee,Ee=null):xt=Ee.sibling;var He=ee(H,Ee,q[Ae],se);if(He===null){Ee===null&&(Ee=xt);break}r&&Ee&&He.alternate===null&&s(H,Ee),z=g(He,z,Ae),we===null?ge=He:we.sibling=He,we=He,Ee=xt}if(Ae===q.length)return l(H,Ee),rt&&rs(H,Ae),ge;if(Ee===null){for(;Ae<q.length;Ae++)Ee=re(H,q[Ae],se),Ee!==null&&(z=g(Ee,z,Ae),we===null?ge=Ee:we.sibling=Ee,we=Ee);return rt&&rs(H,Ae),ge}for(Ee=d(H,Ee);Ae<q.length;Ae++)xt=ce(Ee,H,Ae,q[Ae],se),xt!==null&&(r&&xt.alternate!==null&&Ee.delete(xt.key===null?Ae:xt.key),z=g(xt,z,Ae),we===null?ge=xt:we.sibling=xt,we=xt);return r&&Ee.forEach(function(Ei){return s(H,Ei)}),rt&&rs(H,Ae),ge}function pe(H,z,q,se){var ge=le(q);if(typeof ge!="function")throw Error(t(150));if(q=ge.call(q),q==null)throw Error(t(151));for(var we=ge=null,Ee=z,Ae=z=0,xt=null,He=q.next();Ee!==null&&!He.done;Ae++,He=q.next()){Ee.index>Ae?(xt=Ee,Ee=null):xt=Ee.sibling;var Ei=ee(H,Ee,He.value,se);if(Ei===null){Ee===null&&(Ee=xt);break}r&&Ee&&Ei.alternate===null&&s(H,Ee),z=g(Ei,z,Ae),we===null?ge=Ei:we.sibling=Ei,we=Ei,Ee=xt}if(He.done)return l(H,Ee),rt&&rs(H,Ae),ge;if(Ee===null){for(;!He.done;Ae++,He=q.next())He=re(H,He.value,se),He!==null&&(z=g(He,z,Ae),we===null?ge=He:we.sibling=He,we=He);return rt&&rs(H,Ae),ge}for(Ee=d(H,Ee);!He.done;Ae++,He=q.next())He=ce(Ee,H,Ae,He.value,se),He!==null&&(r&&He.alternate!==null&&Ee.delete(He.key===null?Ae:He.key),z=g(He,z,Ae),we===null?ge=He:we.sibling=He,we=He);return r&&Ee.forEach(function(wS){return s(H,wS)}),rt&&rs(H,Ae),ge}function ht(H,z,q,se){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:e:{for(var ge=q.key,we=z;we!==null;){if(we.key===ge){if(ge=q.type,ge===x){if(we.tag===7){l(H,we.sibling),z=p(we,q.props.children),z.return=H,H=z;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Te&&Gm(ge)===we.type){l(H,we.sibling),z=p(we,q.props),z.ref=Da(H,we,q),z.return=H,H=z;break e}l(H,we);break}else s(H,we);we=we.sibling}q.type===x?(z=ds(q.props.children,H.mode,se,q.key),z.return=H,H=z):(se=zu(q.type,q.key,q.props,null,H.mode,se),se.ref=Da(H,z,q),se.return=H,H=se)}return E(H);case J:e:{for(we=q.key;z!==null;){if(z.key===we)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){l(H,z.sibling),z=p(z,q.children||[]),z.return=H,H=z;break e}else{l(H,z);break}else s(H,z);z=z.sibling}z=Uh(q,H.mode,se),z.return=H,H=z}return E(H);case Te:return we=q._init,ht(H,z,we(q._payload),se)}if(Er(q))return he(H,z,q,se);if(le(q))return pe(H,z,q,se);yu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,z!==null&&z.tag===6?(l(H,z.sibling),z=p(z,q),z.return=H,H=z):(l(H,z),z=Fh(q,H.mode,se),z.return=H,H=z),E(H)):l(H,z)}return ht}var po=Qm(!0),Ym=Qm(!1),_u=ci(null),wu=null,mo=null,Gd=null;function Qd(){Gd=mo=wu=null}function Yd(r){var s=_u.current;tt(_u),r._currentValue=s}function Xd(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function go(r,s){wu=r,Gd=mo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(tn=!0),r.firstContext=null)}function Tn(r){var s=r._currentValue;if(Gd!==r)if(r={context:r,memoizedValue:s,next:null},mo===null){if(wu===null)throw Error(t(308));mo=r,wu.dependencies={lanes:0,firstContext:r}}else mo=mo.next=r;return s}var is=null;function Jd(r){is===null?is=[r]:is.push(r)}function Xm(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Jd(s)):(l.next=p.next,p.next=l),s.interleaved=l,Dr(r,d)}function Dr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var fi=!1;function Zd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Lr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function pi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Dr(r,l)}return p=d.interleaved,p===null?(s.next=s,Jd(d)):(s.next=p.next,p.next=s),d.interleaved=s,Dr(r,l)}function Eu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ri(r,l)}}function Zm(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Tu(r,s,l,d){var p=r.updateQueue;fi=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,b=p.shared.pending;if(b!==null){p.shared.pending=null;var U=b,G=U.next;U.next=null,E===null?g=G:E.next=G,E=U;var te=r.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==E&&(b===null?te.firstBaseUpdate=G:b.next=G,te.lastBaseUpdate=U))}if(g!==null){var re=p.baseState;E=0,te=G=U=null,b=g;do{var ee=b.lane,ce=b.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:ce,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var he=r,pe=b;switch(ee=s,ce=l,pe.tag){case 1:if(he=pe.payload,typeof he=="function"){re=he.call(ce,re,ee);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,ee=typeof he=="function"?he.call(ce,re,ee):he,ee==null)break e;re=oe({},re,ee);break e;case 2:fi=!0}}b.callback!==null&&b.lane!==0&&(r.flags|=64,ee=p.effects,ee===null?p.effects=[b]:ee.push(b))}else ce={eventTime:ce,lane:ee,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(G=te=ce,U=re):te=te.next=ce,E|=ee;if(b=b.next,b===null){if(b=p.shared.pending,b===null)break;ee=b,b=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(U=re),p.baseState=U,p.firstBaseUpdate=G,p.lastBaseUpdate=te,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);as|=E,r.lanes=E,r.memoizedState=re}}function eg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var La={},ar=ci(La),Ma=ci(La),Va=ci(La);function ss(r){if(r===La)throw Error(t(174));return r}function eh(r,s){switch(Ze(Va,s),Ze(Ma,r),Ze(ar,La),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}tt(ar),Ze(ar,s)}function vo(){tt(ar),tt(Ma),tt(Va)}function tg(r){ss(Va.current);var s=ss(ar.current),l=yt(s,r.type);s!==l&&(Ze(Ma,r),Ze(ar,l))}function th(r){Ma.current===r&&(tt(ar),tt(Ma))}var it=ci(0);function Su(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nh=[];function rh(){for(var r=0;r<nh.length;r++)nh[r]._workInProgressVersionPrimary=null;nh.length=0}var Iu=K.ReactCurrentDispatcher,ih=K.ReactCurrentBatchConfig,os=0,st=null,wt=null,At=null,Cu=!1,Fa=!1,Ua=0,zT=0;function Ut(){throw Error(t(321))}function sh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Bn(r[l],s[l]))return!1;return!0}function oh(r,s,l,d,p,g){if(os=g,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Iu.current=r===null||r.memoizedState===null?qT:KT,r=l(d,p),Fa){g=0;do{if(Fa=!1,Ua=0,25<=g)throw Error(t(301));g+=1,At=wt=null,s.updateQueue=null,Iu.current=GT,r=l(d,p)}while(Fa)}if(Iu.current=xu,s=wt!==null&&wt.next!==null,os=0,At=wt=st=null,Cu=!1,s)throw Error(t(300));return r}function ah(){var r=Ua!==0;return Ua=0,r}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?st.memoizedState=At=r:At=At.next=r,At}function Sn(){if(wt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=At===null?st.memoizedState:At.next;if(s!==null)At=s,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?st.memoizedState=At=r:At=At.next=r}return At}function ja(r,s){return typeof s=="function"?s(r):s}function lh(r){var s=Sn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=wt,p=d.baseQueue,g=l.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}d.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,d=d.baseState;var b=E=null,U=null,G=g;do{var te=G.lane;if((os&te)===te)U!==null&&(U=U.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:r(d,G.action);else{var re={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};U===null?(b=U=re,E=d):U=U.next=re,st.lanes|=te,as|=te}G=G.next}while(G!==null&&G!==g);U===null?E=d:U.next=b,Bn(d,s.memoizedState)||(tn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=U,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do g=p.lane,st.lanes|=g,as|=g,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function uh(r){var s=Sn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do g=r(g,E.action),E=E.next;while(E!==p);Bn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function ng(){}function rg(r,s){var l=st,d=Sn(),p=s(),g=!Bn(d.memoizedState,p);if(g&&(d.memoizedState=p,tn=!0),d=d.queue,ch(og.bind(null,l,d,r),[r]),d.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ba(9,sg.bind(null,l,d,p,s),void 0,null),Rt===null)throw Error(t(349));(os&30)!==0||ig(l,s,p)}return p}function ig(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function sg(r,s,l,d){s.value=l,s.getSnapshot=d,ag(s)&&lg(r)}function og(r,s,l){return l(function(){ag(s)&&lg(r)})}function ag(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Bn(r,l)}catch{return!0}}function lg(r){var s=Dr(r,1);s!==null&&qn(s,r,1,-1)}function ug(r){var s=lr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:r},s.queue=r,r=r.dispatch=HT.bind(null,st,r),[s.memoizedState,r]}function Ba(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function cg(){return Sn().memoizedState}function Au(r,s,l,d){var p=lr();st.flags|=r,p.memoizedState=Ba(1|s,l,void 0,d===void 0?null:d)}function Ru(r,s,l,d){var p=Sn();d=d===void 0?null:d;var g=void 0;if(wt!==null){var E=wt.memoizedState;if(g=E.destroy,d!==null&&sh(d,E.deps)){p.memoizedState=Ba(s,l,g,d);return}}st.flags|=r,p.memoizedState=Ba(1|s,l,g,d)}function dg(r,s){return Au(8390656,8,r,s)}function ch(r,s){return Ru(2048,8,r,s)}function hg(r,s){return Ru(4,2,r,s)}function fg(r,s){return Ru(4,4,r,s)}function pg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function mg(r,s,l){return l=l!=null?l.concat([r]):null,Ru(4,4,pg.bind(null,s,r),l)}function dh(){}function gg(r,s){var l=Sn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&sh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function vg(r,s){var l=Sn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&sh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function yg(r,s,l){return(os&21)===0?(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=l):(Bn(l,s)||(l=Qi(),st.lanes|=l,as|=l,r.baseState=!0),s)}function $T(r,s){var l=je;je=l!==0&&4>l?l:4,r(!0);var d=ih.transition;ih.transition={};try{r(!1),s()}finally{je=l,ih.transition=d}}function _g(){return Sn().memoizedState}function WT(r,s,l){var d=yi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},wg(r))Eg(s,l);else if(l=Xm(r,s,l,d),l!==null){var p=Yt();qn(l,r,d,p),Tg(l,s,d)}}function HT(r,s,l){var d=yi(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(wg(r))Eg(s,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,b=g(E,l);if(p.hasEagerState=!0,p.eagerState=b,Bn(b,E)){var U=s.interleaved;U===null?(p.next=p,Jd(s)):(p.next=U.next,U.next=p),s.interleaved=p;return}}catch{}finally{}l=Xm(r,s,p,d),l!==null&&(p=Yt(),qn(l,r,d,p),Tg(l,s,d))}}function wg(r){var s=r.alternate;return r===st||s!==null&&s===st}function Eg(r,s){Fa=Cu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Tg(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ri(r,l)}}var xu={readContext:Tn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},qT={readContext:Tn,useCallback:function(r,s){return lr().memoizedState=[r,s===void 0?null:s],r},useContext:Tn,useEffect:dg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Au(4194308,4,pg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Au(4194308,4,r,s)},useInsertionEffect:function(r,s){return Au(4,2,r,s)},useMemo:function(r,s){var l=lr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=lr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=WT.bind(null,st,r),[d.memoizedState,r]},useRef:function(r){var s=lr();return r={current:r},s.memoizedState=r},useState:ug,useDebugValue:dh,useDeferredValue:function(r){return lr().memoizedState=r},useTransition:function(){var r=ug(!1),s=r[0];return r=$T.bind(null,r[1]),lr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=st,p=lr();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Rt===null)throw Error(t(349));(os&30)!==0||ig(d,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,dg(og.bind(null,d,g,r),[r]),d.flags|=2048,Ba(9,sg.bind(null,d,g,l,s),void 0,null),l},useId:function(){var r=lr(),s=Rt.identifierPrefix;if(rt){var l=Or,d=br;l=(d&~(1<<32-Kt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ua++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=zT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},KT={readContext:Tn,useCallback:gg,useContext:Tn,useEffect:ch,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:vg,useReducer:lh,useRef:cg,useState:function(){return lh(ja)},useDebugValue:dh,useDeferredValue:function(r){var s=Sn();return yg(s,wt.memoizedState,r)},useTransition:function(){var r=lh(ja)[0],s=Sn().memoizedState;return[r,s]},useMutableSource:ng,useSyncExternalStore:rg,useId:_g,unstable_isNewReconciler:!1},GT={readContext:Tn,useCallback:gg,useContext:Tn,useEffect:ch,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:vg,useReducer:uh,useRef:cg,useState:function(){return uh(ja)},useDebugValue:dh,useDeferredValue:function(r){var s=Sn();return wt===null?s.memoizedState=r:yg(s,wt.memoizedState,r)},useTransition:function(){var r=uh(ja)[0],s=Sn().memoizedState;return[r,s]},useMutableSource:ng,useSyncExternalStore:rg,useId:_g,unstable_isNewReconciler:!1};function $n(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function hh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:oe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Pu={isMounted:function(r){return(r=r._reactInternals)?Dn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Yt(),p=yi(r),g=Lr(d,p);g.payload=s,l!=null&&(g.callback=l),s=pi(r,g,p),s!==null&&(qn(s,r,p,d),Eu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Yt(),p=yi(r),g=Lr(d,p);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=pi(r,g,p),s!==null&&(qn(s,r,p,d),Eu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Yt(),d=yi(r),p=Lr(l,d);p.tag=2,s!=null&&(p.callback=s),s=pi(r,p,d),s!==null&&(qn(s,r,d,l),Eu(s,r,d))}};function Sg(r,s,l,d,p,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,E):s.prototype&&s.prototype.isPureReactComponent?!Ra(l,d)||!Ra(p,g):!0}function Ig(r,s,l){var d=!1,p=di,g=s.contextType;return typeof g=="object"&&g!==null?g=Tn(g):(p=en(s)?ts:Ft.current,d=s.contextTypes,g=(d=d!=null)?uo(r,p):di),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Pu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=g),s}function Cg(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Pu.enqueueReplaceState(s,s.state,null)}function fh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Zd(r);var g=s.contextType;typeof g=="object"&&g!==null?p.context=Tn(g):(g=en(s)?ts:Ft.current,p.context=uo(r,g)),p.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(hh(r,s,g,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Pu.enqueueReplaceState(p,p.state,null),Tu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function yo(r,s){try{var l="",d=s;do l+=xe(d),d=d.return;while(d);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:p,digest:null}}function ph(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function mh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var QT=typeof WeakMap=="function"?WeakMap:Map;function Ag(r,s,l){l=Lr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Mu||(Mu=!0,kh=d),mh(r,s)},l}function Rg(r,s,l){l=Lr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){mh(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){mh(r,s),typeof d!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function xg(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new QT;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=uS.bind(null,r,s,l),s.then(r,r))}function Pg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function kg(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Lr(-1,1),s.tag=2,pi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var YT=K.ReactCurrentOwner,tn=!1;function Qt(r,s,l,d){s.child=r===null?Ym(s,null,l,d):po(s,r.child,l,d)}function Ng(r,s,l,d,p){l=l.render;var g=s.ref;return go(s,p),d=oh(r,s,l,d,g,p),l=ah(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Mr(r,s,p)):(rt&&l&&$d(s),s.flags|=1,Qt(r,s,d,p),s.child)}function bg(r,s,l,d,p){if(r===null){var g=l.type;return typeof g=="function"&&!Vh(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Og(r,s,g,d,p)):(r=zu(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&p)===0){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ra,l(E,d)&&r.ref===s.ref)return Mr(r,s,p)}return s.flags|=1,r=wi(g,d),r.ref=s.ref,r.return=s,s.child=r}function Og(r,s,l,d,p){if(r!==null){var g=r.memoizedProps;if(Ra(g,d)&&r.ref===s.ref)if(tn=!1,s.pendingProps=d=g,(r.lanes&p)!==0)(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,Mr(r,s,p)}return gh(r,s,l,d,p)}function Dg(r,s,l){var d=s.pendingProps,p=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(wo,hn),hn|=l;else{if((l&1073741824)===0)return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ze(wo,hn),hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,Ze(wo,hn),hn|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,Ze(wo,hn),hn|=d;return Qt(r,s,p,l),s.child}function Lg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function gh(r,s,l,d,p){var g=en(l)?ts:Ft.current;return g=uo(s,g),go(s,p),l=oh(r,s,l,d,g,p),d=ah(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Mr(r,s,p)):(rt&&d&&$d(s),s.flags|=1,Qt(r,s,l,p),s.child)}function Mg(r,s,l,d,p){if(en(l)){var g=!0;fu(s)}else g=!1;if(go(s,p),s.stateNode===null)Nu(r,s),Ig(s,l,d),fh(s,l,d,p),d=!0;else if(r===null){var E=s.stateNode,b=s.memoizedProps;E.props=b;var U=E.context,G=l.contextType;typeof G=="object"&&G!==null?G=Tn(G):(G=en(l)?ts:Ft.current,G=uo(s,G));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==d||U!==G)&&Cg(s,E,d,G),fi=!1;var ee=s.memoizedState;E.state=ee,Tu(s,d,E,p),U=s.memoizedState,b!==d||ee!==U||Zt.current||fi?(typeof te=="function"&&(hh(s,l,te,d),U=s.memoizedState),(b=fi||Sg(s,l,b,d,ee,U,G))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=U),E.props=d,E.state=U,E.context=G,d=b):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,Jm(r,s),b=s.memoizedProps,G=s.type===s.elementType?b:$n(s.type,b),E.props=G,re=s.pendingProps,ee=E.context,U=l.contextType,typeof U=="object"&&U!==null?U=Tn(U):(U=en(l)?ts:Ft.current,U=uo(s,U));var ce=l.getDerivedStateFromProps;(te=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==re||ee!==U)&&Cg(s,E,d,U),fi=!1,ee=s.memoizedState,E.state=ee,Tu(s,d,E,p);var he=s.memoizedState;b!==re||ee!==he||Zt.current||fi?(typeof ce=="function"&&(hh(s,l,ce,d),he=s.memoizedState),(G=fi||Sg(s,l,G,d,ee,he,U)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,he,U),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,he,U)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||b===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=he),E.props=d,E.state=he,E.context=U,d=G):(typeof E.componentDidUpdate!="function"||b===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),d=!1)}return vh(r,s,l,d,g,p)}function vh(r,s,l,d,p,g){Lg(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return p&&Bm(s,l,!1),Mr(r,s,g);d=s.stateNode,YT.current=s;var b=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=po(s,r.child,null,g),s.child=po(s,null,b,g)):Qt(r,s,b,g),s.memoizedState=d.state,p&&Bm(s,l,!0),s.child}function Vg(r){var s=r.stateNode;s.pendingContext?Um(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Um(r,s.context,!1),eh(r,s.containerInfo)}function Fg(r,s,l,d,p){return fo(),Kd(p),s.flags|=256,Qt(r,s,l,d),s.child}var yh={dehydrated:null,treeContext:null,retryLane:0};function _h(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ug(r,s,l){var d=s.pendingProps,p=it.current,g=!1,E=(s.flags&128)!==0,b;if((b=E)||(b=r!==null&&r.memoizedState===null?!1:(p&2)!==0),b?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ze(it,p&1),r===null)return qd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=d.children,r=d.fallback,g?(d=s.mode,g=s.child,E={mode:"hidden",children:E},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=$u(E,d,0,null),r=ds(r,d,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=_h(l),s.memoizedState=yh,r):wh(s,E));if(p=r.memoizedState,p!==null&&(b=p.dehydrated,b!==null))return XT(r,s,E,d,b,p,l);if(g){g=d.fallback,E=s.mode,p=r.child,b=p.sibling;var U={mode:"hidden",children:d.children};return(E&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=U,s.deletions=null):(d=wi(p,U),d.subtreeFlags=p.subtreeFlags&14680064),b!==null?g=wi(b,g):(g=ds(g,E,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,E=r.child.memoizedState,E=E===null?_h(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~l,s.memoizedState=yh,d}return g=r.child,r=g.sibling,d=wi(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function wh(r,s){return s=$u({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ku(r,s,l,d){return d!==null&&Kd(d),po(s,r.child,null,l),r=wh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function XT(r,s,l,d,p,g,E){if(l)return s.flags&256?(s.flags&=-257,d=ph(Error(t(422))),ku(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=d.fallback,p=s.mode,d=$u({mode:"visible",children:d.children},p,0,null),g=ds(g,p,E,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&po(s,r.child,null,E),s.child.memoizedState=_h(E),s.memoizedState=yh,g);if((s.mode&1)===0)return ku(r,s,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var b=d.dgst;return d=b,g=Error(t(419)),d=ph(g,d,void 0),ku(r,s,E,d)}if(b=(E&r.childLanes)!==0,tn||b){if(d=Rt,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Dr(r,p),qn(d,r,p,-1))}return Mh(),d=ph(Error(t(421))),ku(r,s,E,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=cS.bind(null,r),p._reactRetry=s,null):(r=g.treeContext,dn=ui(p.nextSibling),cn=s,rt=!0,zn=null,r!==null&&(wn[En++]=br,wn[En++]=Or,wn[En++]=ns,br=r.id,Or=r.overflow,ns=s),s=wh(s,d.children),s.flags|=4096,s)}function jg(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Xd(r.return,s,l)}function Eh(r,s,l,d,p){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=p)}function Bg(r,s,l){var d=s.pendingProps,p=d.revealOrder,g=d.tail;if(Qt(r,s,d.children,l),d=it.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jg(r,l,s);else if(r.tag===19)jg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ze(it,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Su(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Eh(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Su(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Eh(s,!0,l,null,g);break;case"together":Eh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Nu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Mr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),as|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=wi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=wi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function JT(r,s,l){switch(s.tag){case 3:Vg(s),fo();break;case 5:tg(s);break;case 1:en(s.type)&&fu(s);break;case 4:eh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Ze(_u,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ze(it,it.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Ug(r,s,l):(Ze(it,it.current&1),r=Mr(r,s,l),r!==null?r.sibling:null);Ze(it,it.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Bg(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ze(it,it.current),d)break;return null;case 22:case 23:return s.lanes=0,Dg(r,s,l)}return Mr(r,s,l)}var zg,Th,$g,Wg;zg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Th=function(){},$g=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,ss(ar.current);var g=null;switch(l){case"input":p=It(r,p),d=It(r,d),g=[];break;case"select":p=oe({},p,{value:void 0}),d=oe({},d,{value:void 0}),g=[];break;case"textarea":p=na(r,p),d=na(r,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=cu)}la(l,d);var E;l=null;for(G in p)if(!d.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var b=p[G];for(E in b)b.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?g||(g=[]):(g=g||[]).push(G,null));for(G in d){var U=d[G];if(b=p!=null?p[G]:void 0,d.hasOwnProperty(G)&&U!==b&&(U!=null||b!=null))if(G==="style")if(b){for(E in b)!b.hasOwnProperty(E)||U&&U.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in U)U.hasOwnProperty(E)&&b[E]!==U[E]&&(l||(l={}),l[E]=U[E])}else l||(g||(g=[]),g.push(G,l)),l=U;else G==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,b=b?b.__html:void 0,U!=null&&b!==U&&(g=g||[]).push(G,U)):G==="children"?typeof U!="string"&&typeof U!="number"||(g=g||[]).push(G,""+U):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(U!=null&&G==="onScroll"&&et("scroll",r),g||b===U||(g=[])):(g=g||[]).push(G,U))}l&&(g=g||[]).push("style",l);var G=g;(s.updateQueue=G)&&(s.flags|=4)}},Wg=function(r,s,l,d){l!==d&&(s.flags|=4)};function za(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function ZT(r,s,l){var d=s.pendingProps;switch(Wd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return en(s.type)&&hu(),jt(s),null;case 3:return d=s.stateNode,vo(),tt(Zt),tt(Ft),rh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(vu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zn!==null&&(Oh(zn),zn=null))),Th(r,s),jt(s),null;case 5:th(s);var p=ss(Va.current);if(l=s.type,r!==null&&s.stateNode!=null)$g(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return jt(s),null}if(r=ss(ar.current),vu(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[or]=s,d[ba]=g,r=(s.mode&1)!==0,l){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(p=0;p<Pa.length;p++)et(Pa[p],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":mn(d,g),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},et("invalid",d);break;case"textarea":Os(d,g),et("invalid",d)}la(l,g),p=null;for(var E in g)if(g.hasOwnProperty(E)){var b=g[E];E==="children"?typeof b=="string"?d.textContent!==b&&(g.suppressHydrationWarning!==!0&&uu(d.textContent,b,r),p=["children",b]):typeof b=="number"&&d.textContent!==""+b&&(g.suppressHydrationWarning!==!0&&uu(d.textContent,b,r),p=["children",""+b]):o.hasOwnProperty(E)&&b!=null&&E==="onScroll"&&et("scroll",d)}switch(l){case"input":Me(d),bs(d,g,!0);break;case"textarea":Me(d),ra(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=cu)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=vt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[or]=s,r[ba]=d,zg(r,s,!1,!1),s.stateNode=r;e:{switch(E=ua(l,d),l){case"dialog":et("cancel",r),et("close",r),p=d;break;case"iframe":case"object":case"embed":et("load",r),p=d;break;case"video":case"audio":for(p=0;p<Pa.length;p++)et(Pa[p],r);p=d;break;case"source":et("error",r),p=d;break;case"img":case"image":case"link":et("error",r),et("load",r),p=d;break;case"details":et("toggle",r),p=d;break;case"input":mn(r,d),p=It(r,d),et("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=oe({},d,{value:void 0}),et("invalid",r);break;case"textarea":Os(r,d),p=na(r,d),et("invalid",r);break;default:p=d}la(l,p),b=p;for(g in b)if(b.hasOwnProperty(g)){var U=b[g];g==="style"?oa(r,U):g==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&ia(r,U)):g==="children"?typeof U=="string"?(l!=="textarea"||U!=="")&&Jr(r,U):typeof U=="number"&&Jr(r,""+U):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?U!=null&&g==="onScroll"&&et("scroll",r):U!=null&&j(r,g,U,E))}switch(l){case"input":Me(r),bs(r,d,!1);break;case"textarea":Me(r),ra(r);break;case"option":d.value!=null&&r.setAttribute("value",""+ye(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?Tr(r,!!d.multiple,g,!1):d.defaultValue!=null&&Tr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=cu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return jt(s),null;case 6:if(r&&s.stateNode!=null)Wg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=ss(Va.current),ss(ar.current),vu(s)){if(d=s.stateNode,l=s.memoizedProps,d[or]=s,(g=d.nodeValue!==l)&&(r=cn,r!==null))switch(r.tag){case 3:uu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&uu(d.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[or]=s,s.stateNode=d}return jt(s),null;case 13:if(tt(it),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Km(),fo(),s.flags|=98560,g=!1;else if(g=vu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[or]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),g=!1}else zn!==null&&(Oh(zn),zn=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(it.current&1)!==0?Et===0&&(Et=3):Mh())),s.updateQueue!==null&&(s.flags|=4),jt(s),null);case 4:return vo(),Th(r,s),r===null&&ka(s.stateNode.containerInfo),jt(s),null;case 10:return Yd(s.type._context),jt(s),null;case 17:return en(s.type)&&hu(),jt(s),null;case 19:if(tt(it),g=s.memoizedState,g===null)return jt(s),null;if(d=(s.flags&128)!==0,E=g.rendering,E===null)if(d)za(g,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Su(r),E!==null){for(s.flags|=128,za(g,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,r=d,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ze(it,it.current&1|2),s.child}r=r.sibling}g.tail!==null&&Je()>Eo&&(s.flags|=128,d=!0,za(g,!1),s.lanes=4194304)}else{if(!d)if(r=Su(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),za(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!rt)return jt(s),null}else 2*Je()-g.renderingStartTime>Eo&&l!==1073741824&&(s.flags|=128,d=!0,za(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(l=g.last,l!==null?l.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Je(),s.sibling=null,l=it.current,Ze(it,d?l&1|2:l&1),s):(jt(s),null);case 22:case 23:return Lh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(hn&1073741824)!==0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function eS(r,s){switch(Wd(s),s.tag){case 1:return en(s.type)&&hu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return vo(),tt(Zt),tt(Ft),rh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return th(s),null;case 13:if(tt(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(it),null;case 4:return vo(),null;case 10:return Yd(s.type._context),null;case 22:case 23:return Lh(),null;case 24:return null;default:return null}}var bu=!1,Bt=!1,tS=typeof WeakSet=="function"?WeakSet:Set,de=null;function _o(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ut(r,s,d)}else l.current=null}function Sh(r,s,l){try{l()}catch(d){ut(r,s,d)}}var Hg=!1;function nS(r,s){if(Ld=oi,r=Sm(),Rd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,b=-1,U=-1,G=0,te=0,re=r,ee=null;t:for(;;){for(var ce;re!==l||p!==0&&re.nodeType!==3||(b=E+p),re!==g||d!==0&&re.nodeType!==3||(U=E+d),re.nodeType===3&&(E+=re.nodeValue.length),(ce=re.firstChild)!==null;)ee=re,re=ce;for(;;){if(re===r)break t;if(ee===l&&++G===p&&(b=E),ee===g&&++te===d&&(U=E),(ce=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ce}l=b===-1||U===-1?null:{start:b,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Md={focusedElem:r,selectionRange:l},oi=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var pe=he.memoizedProps,ht=he.memoizedState,H=s.stateNode,z=H.getSnapshotBeforeUpdate(s.elementType===s.type?pe:$n(s.type,pe),ht);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ut(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return he=Hg,Hg=!1,he}function $a(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var g=p.destroy;p.destroy=void 0,g!==void 0&&Sh(s,l,g)}p=p.next}while(p!==d)}}function Ou(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Ih(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function qg(r){var s=r.alternate;s!==null&&(r.alternate=null,qg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[or],delete s[ba],delete s[jd],delete s[FT],delete s[UT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Kg(r){return r.tag===5||r.tag===3||r.tag===4}function Gg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Kg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ch(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=cu));else if(d!==4&&(r=r.child,r!==null))for(Ch(r,s,l),r=r.sibling;r!==null;)Ch(r,s,l),r=r.sibling}function Ah(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Ah(r,s,l),r=r.sibling;r!==null;)Ah(r,s,l),r=r.sibling}var bt=null,Wn=!1;function mi(r,s,l){for(l=l.child;l!==null;)Qg(r,s,l),l=l.sibling}function Qg(r,s,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ki,l)}catch{}switch(l.tag){case 5:Bt||_o(l,s);case 6:var d=bt,p=Wn;bt=null,mi(r,s,l),bt=d,Wn=p,bt!==null&&(Wn?(r=bt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(Wn?(r=bt,l=l.stateNode,r.nodeType===8?Ud(r.parentNode,l):r.nodeType===1&&Ud(r,l),Un(r)):Ud(bt,l.stateNode));break;case 4:d=bt,p=Wn,bt=l.stateNode.containerInfo,Wn=!0,mi(r,s,l),bt=d,Wn=p;break;case 0:case 11:case 14:case 15:if(!Bt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&Sh(l,s,E),p=p.next}while(p!==d)}mi(r,s,l);break;case 1:if(!Bt&&(_o(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(b){ut(l,s,b)}mi(r,s,l);break;case 21:mi(r,s,l);break;case 22:l.mode&1?(Bt=(d=Bt)||l.memoizedState!==null,mi(r,s,l),Bt=d):mi(r,s,l);break;default:mi(r,s,l)}}function Yg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new tS),s.forEach(function(d){var p=dS.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Hn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var g=r,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 5:bt=b.stateNode,Wn=!1;break e;case 3:bt=b.stateNode.containerInfo,Wn=!0;break e;case 4:bt=b.stateNode.containerInfo,Wn=!0;break e}b=b.return}if(bt===null)throw Error(t(160));Qg(g,E,p),bt=null,Wn=!1;var U=p.alternate;U!==null&&(U.return=null),p.return=null}catch(G){ut(p,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Xg(s,r),s=s.sibling}function Xg(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Hn(s,r),ur(r),d&4){try{$a(3,r,r.return),Ou(3,r)}catch(pe){ut(r,r.return,pe)}try{$a(5,r,r.return)}catch(pe){ut(r,r.return,pe)}}break;case 1:Hn(s,r),ur(r),d&512&&l!==null&&_o(l,l.return);break;case 5:if(Hn(s,r),ur(r),d&512&&l!==null&&_o(l,l.return),r.flags&32){var p=r.stateNode;try{Jr(p,"")}catch(pe){ut(r,r.return,pe)}}if(d&4&&(p=r.stateNode,p!=null)){var g=r.memoizedProps,E=l!==null?l.memoizedProps:g,b=r.type,U=r.updateQueue;if(r.updateQueue=null,U!==null)try{b==="input"&&g.type==="radio"&&g.name!=null&&Pn(p,g),ua(b,E);var G=ua(b,g);for(E=0;E<U.length;E+=2){var te=U[E],re=U[E+1];te==="style"?oa(p,re):te==="dangerouslySetInnerHTML"?ia(p,re):te==="children"?Jr(p,re):j(p,te,re,G)}switch(b){case"input":kn(p,g);break;case"textarea":Ds(p,g);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ce=g.value;ce!=null?Tr(p,!!g.multiple,ce,!1):ee!==!!g.multiple&&(g.defaultValue!=null?Tr(p,!!g.multiple,g.defaultValue,!0):Tr(p,!!g.multiple,g.multiple?[]:"",!1))}p[ba]=g}catch(pe){ut(r,r.return,pe)}}break;case 6:if(Hn(s,r),ur(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,g=r.memoizedProps;try{p.nodeValue=g}catch(pe){ut(r,r.return,pe)}}break;case 3:if(Hn(s,r),ur(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Un(s.containerInfo)}catch(pe){ut(r,r.return,pe)}break;case 4:Hn(s,r),ur(r);break;case 13:Hn(s,r),ur(r),p=r.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Ph=Je())),d&4&&Yg(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Bt=(G=Bt)||te,Hn(s,r),Bt=G):Hn(s,r),ur(r),d&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!te&&(r.mode&1)!==0)for(de=r,te=r.child;te!==null;){for(re=de=te;de!==null;){switch(ee=de,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:$a(4,ee,ee.return);break;case 1:_o(ee,ee.return);var he=ee.stateNode;if(typeof he.componentWillUnmount=="function"){d=ee,l=ee.return;try{s=d,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(pe){ut(d,l,pe)}}break;case 5:_o(ee,ee.return);break;case 22:if(ee.memoizedState!==null){ev(re);continue}}ce!==null?(ce.return=ee,de=ce):ev(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{p=re.stateNode,G?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(b=re.stateNode,U=re.memoizedProps.style,E=U!=null&&U.hasOwnProperty("display")?U.display:null,b.style.display=sa("display",E))}catch(pe){ut(r,r.return,pe)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(pe){ut(r,r.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Hn(s,r),ur(r),d&4&&Yg(r);break;case 21:break;default:Hn(s,r),ur(r)}}function ur(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Kg(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Jr(p,""),d.flags&=-33);var g=Gg(r);Ah(r,g,p);break;case 3:case 4:var E=d.stateNode.containerInfo,b=Gg(r);Ch(r,b,E);break;default:throw Error(t(161))}}catch(U){ut(r,r.return,U)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function rS(r,s,l){de=r,Jg(r)}function Jg(r,s,l){for(var d=(r.mode&1)!==0;de!==null;){var p=de,g=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||bu;if(!E){var b=p.alternate,U=b!==null&&b.memoizedState!==null||Bt;b=bu;var G=Bt;if(bu=E,(Bt=U)&&!G)for(de=p;de!==null;)E=de,U=E.child,E.tag===22&&E.memoizedState!==null?tv(p):U!==null?(U.return=E,de=U):tv(p);for(;g!==null;)de=g,Jg(g),g=g.sibling;de=p,bu=b,Bt=G}Zg(r)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,de=g):Zg(r)}}function Zg(r){for(;de!==null;){var s=de;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Bt||Ou(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Bt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:$n(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&eg(s,g,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}eg(s,E,l)}break;case 5:var b=s.stateNode;if(l===null&&s.flags&4){l=b;var U=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&l.focus();break;case"img":U.src&&(l.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Un(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||s.flags&512&&Ih(s)}catch(ee){ut(s,s.return,ee)}}if(s===r){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function ev(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function tv(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Ou(4,s)}catch(U){ut(s,l,U)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(U){ut(s,p,U)}}var g=s.return;try{Ih(s)}catch(U){ut(s,g,U)}break;case 5:var E=s.return;try{Ih(s)}catch(U){ut(s,E,U)}}}catch(U){ut(s,s.return,U)}if(s===r){de=null;break}var b=s.sibling;if(b!==null){b.return=s.return,de=b;break}de=s.return}}var iS=Math.ceil,Du=K.ReactCurrentDispatcher,Rh=K.ReactCurrentOwner,In=K.ReactCurrentBatchConfig,We=0,Rt=null,mt=null,Ot=0,hn=0,wo=ci(0),Et=0,Wa=null,as=0,Lu=0,xh=0,Ha=null,nn=null,Ph=0,Eo=1/0,Vr=null,Mu=!1,kh=null,gi=null,Vu=!1,vi=null,Fu=0,qa=0,Nh=null,Uu=-1,ju=0;function Yt(){return(We&6)!==0?Je():Uu!==-1?Uu:Uu=Je()}function yi(r){return(r.mode&1)===0?1:(We&2)!==0&&Ot!==0?Ot&-Ot:BT.transition!==null?(ju===0&&(ju=Qi()),ju):(r=je,r!==0||(r=window.event,r=r===void 0?16:wa(r.type)),r)}function qn(r,s,l,d){if(50<qa)throw qa=0,Nh=null,Error(t(185));ni(r,l,d),((We&2)===0||r!==Rt)&&(r===Rt&&((We&2)===0&&(Lu|=l),Et===4&&_i(r,Ot)),rn(r,d),l===1&&We===0&&(s.mode&1)===0&&(Eo=Je()+500,pu&&hi()))}function rn(r,s){var l=r.callbackNode;Cr(r,s);var d=Gi(r,r===Rt?Ot:0);if(d===0)l!==null&&ma(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&ma(l),s===1)r.tag===0?jT(rv.bind(null,r)):zm(rv.bind(null,r)),MT(function(){(We&6)===0&&hi()}),l=null;else{switch(ii(d)){case 1:l=qi;break;case 4:l=Zr;break;case 16:l=vn;break;case 536870912:l=jl;break;default:l=vn}l=dv(l,nv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function nv(r,s){if(Uu=-1,ju=0,(We&6)!==0)throw Error(t(327));var l=r.callbackNode;if(To()&&r.callbackNode!==l)return null;var d=Gi(r,r===Rt?Ot:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=Bu(r,d);else{s=d;var p=We;We|=2;var g=sv();(Rt!==r||Ot!==s)&&(Vr=null,Eo=Je()+500,us(r,s));do try{aS();break}catch(b){iv(r,b)}while(!0);Qd(),Du.current=g,We=p,mt!==null?s=0:(Rt=null,Ot=0,s=Et)}if(s!==0){if(s===2&&(p=an(r),p!==0&&(d=p,s=bh(r,p))),s===1)throw l=Wa,us(r,0),_i(r,d),rn(r,Je()),l;if(s===6)_i(r,d);else{if(p=r.current.alternate,(d&30)===0&&!sS(p)&&(s=Bu(r,d),s===2&&(g=an(r),g!==0&&(d=g,s=bh(r,g))),s===1))throw l=Wa,us(r,0),_i(r,d),rn(r,Je()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:cs(r,nn,Vr);break;case 3:if(_i(r,d),(d&130023424)===d&&(s=Ph+500-Je(),10<s)){if(Gi(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Yt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Fd(cs.bind(null,r,nn,Vr),s);break}cs(r,nn,Vr);break;case 4:if(_i(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var E=31-Kt(d);g=1<<E,E=s[E],E>p&&(p=E),d&=~g}if(d=p,d=Je()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*iS(d/1960))-d,10<d){r.timeoutHandle=Fd(cs.bind(null,r,nn,Vr),d);break}cs(r,nn,Vr);break;case 5:cs(r,nn,Vr);break;default:throw Error(t(329))}}}return rn(r,Je()),r.callbackNode===l?nv.bind(null,r):null}function bh(r,s){var l=Ha;return r.current.memoizedState.isDehydrated&&(us(r,s).flags|=256),r=Bu(r,s),r!==2&&(s=nn,nn=l,s!==null&&Oh(s)),r}function Oh(r){nn===null?nn=r:nn.push.apply(nn,r)}function sS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],g=p.getSnapshot;p=p.value;try{if(!Bn(g(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(r,s){for(s&=~xh,s&=~Lu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Kt(s),d=1<<l;r[l]=-1,s&=~d}}function rv(r){if((We&6)!==0)throw Error(t(327));To();var s=Gi(r,0);if((s&1)===0)return rn(r,Je()),null;var l=Bu(r,s);if(r.tag!==0&&l===2){var d=an(r);d!==0&&(s=d,l=bh(r,d))}if(l===1)throw l=Wa,us(r,0),_i(r,s),rn(r,Je()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,cs(r,nn,Vr),rn(r,Je()),null}function Dh(r,s){var l=We;We|=1;try{return r(s)}finally{We=l,We===0&&(Eo=Je()+500,pu&&hi())}}function ls(r){vi!==null&&vi.tag===0&&(We&6)===0&&To();var s=We;We|=1;var l=In.transition,d=je;try{if(In.transition=null,je=1,r)return r()}finally{je=d,In.transition=l,We=s,(We&6)===0&&hi()}}function Lh(){hn=wo.current,tt(wo)}function us(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,LT(l)),mt!==null)for(l=mt.return;l!==null;){var d=l;switch(Wd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&hu();break;case 3:vo(),tt(Zt),tt(Ft),rh();break;case 5:th(d);break;case 4:vo();break;case 13:tt(it);break;case 19:tt(it);break;case 10:Yd(d.type._context);break;case 22:case 23:Lh()}l=l.return}if(Rt=r,mt=r=wi(r.current,null),Ot=hn=s,Et=0,Wa=null,xh=Lu=as=0,nn=Ha=null,is!==null){for(s=0;s<is.length;s++)if(l=is[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,g=l.pending;if(g!==null){var E=g.next;g.next=p,d.next=E}l.pending=d}is=null}return r}function iv(r,s){do{var l=mt;try{if(Qd(),Iu.current=xu,Cu){for(var d=st.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Cu=!1}if(os=0,At=wt=st=null,Fa=!1,Ua=0,Rh.current=null,l===null||l.return===null){Et=1,Wa=s,mt=null;break}e:{var g=r,E=l.return,b=l,U=s;if(s=Ot,b.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var G=U,te=b,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ce=Pg(E);if(ce!==null){ce.flags&=-257,kg(ce,E,b,g,s),ce.mode&1&&xg(g,G,s),s=ce,U=G;var he=s.updateQueue;if(he===null){var pe=new Set;pe.add(U),s.updateQueue=pe}else he.add(U);break e}else{if((s&1)===0){xg(g,G,s),Mh();break e}U=Error(t(426))}}else if(rt&&b.mode&1){var ht=Pg(E);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),kg(ht,E,b,g,s),Kd(yo(U,b));break e}}g=U=yo(U,b),Et!==4&&(Et=2),Ha===null?Ha=[g]:Ha.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var H=Ag(g,U,s);Zm(g,H);break e;case 1:b=U;var z=g.type,q=g.stateNode;if((g.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(gi===null||!gi.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var se=Rg(g,b,s);Zm(g,se);break e}}g=g.return}while(g!==null)}av(l)}catch(ge){s=ge,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(!0)}function sv(){var r=Du.current;return Du.current=xu,r===null?xu:r}function Mh(){(Et===0||Et===3||Et===2)&&(Et=4),Rt===null||(as&268435455)===0&&(Lu&268435455)===0||_i(Rt,Ot)}function Bu(r,s){var l=We;We|=2;var d=sv();(Rt!==r||Ot!==s)&&(Vr=null,us(r,s));do try{oS();break}catch(p){iv(r,p)}while(!0);if(Qd(),We=l,Du.current=d,mt!==null)throw Error(t(261));return Rt=null,Ot=0,Et}function oS(){for(;mt!==null;)ov(mt)}function aS(){for(;mt!==null&&!Fl();)ov(mt)}function ov(r){var s=cv(r.alternate,r,hn);r.memoizedProps=r.pendingProps,s===null?av(r):mt=s,Rh.current=null}function av(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=ZT(l,s,hn),l!==null){mt=l;return}}else{if(l=eS(l,s),l!==null){l.flags&=32767,mt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,mt=null;return}}if(s=s.sibling,s!==null){mt=s;return}mt=s=r}while(s!==null);Et===0&&(Et=5)}function cs(r,s,l){var d=je,p=In.transition;try{In.transition=null,je=1,lS(r,s,l,d)}finally{In.transition=p,je=d}return null}function lS(r,s,l,d){do To();while(vi!==null);if((We&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Ye(r,g),r===Rt&&(mt=Rt=null,Ot=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Vu||(Vu=!0,dv(vn,function(){return To(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=In.transition,In.transition=null;var E=je;je=1;var b=We;We|=4,Rh.current=null,nS(r,l),Xg(l,r),xT(Md),oi=!!Ld,Md=Ld=null,r.current=l,rS(l),_d(),We=b,je=E,In.transition=g}else r.current=l;if(Vu&&(Vu=!1,vi=r,Fu=p),g=r.pendingLanes,g===0&&(gi=null),Bl(l.stateNode),rn(r,Je()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Mu)throw Mu=!1,r=kh,kh=null,r;return(Fu&1)!==0&&r.tag!==0&&To(),g=r.pendingLanes,(g&1)!==0?r===Nh?qa++:(qa=0,Nh=r):qa=0,hi(),null}function To(){if(vi!==null){var r=ii(Fu),s=In.transition,l=je;try{if(In.transition=null,je=16>r?16:r,vi===null)var d=!1;else{if(r=vi,vi=null,Fu=0,(We&6)!==0)throw Error(t(331));var p=We;for(We|=4,de=r.current;de!==null;){var g=de,E=g.child;if((de.flags&16)!==0){var b=g.deletions;if(b!==null){for(var U=0;U<b.length;U++){var G=b[U];for(de=G;de!==null;){var te=de;switch(te.tag){case 0:case 11:case 15:$a(8,te,g)}var re=te.child;if(re!==null)re.return=te,de=re;else for(;de!==null;){te=de;var ee=te.sibling,ce=te.return;if(qg(te),te===G){de=null;break}if(ee!==null){ee.return=ce,de=ee;break}de=ce}}}var he=g.alternate;if(he!==null){var pe=he.child;if(pe!==null){he.child=null;do{var ht=pe.sibling;pe.sibling=null,pe=ht}while(pe!==null)}}de=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,de=E;else e:for(;de!==null;){if(g=de,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:$a(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,de=H;break e}de=g.return}}var z=r.current;for(de=z;de!==null;){E=de;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,de=q;else e:for(E=z;de!==null;){if(b=de,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Ou(9,b)}}catch(ge){ut(b,b.return,ge)}if(b===E){de=null;break e}var se=b.sibling;if(se!==null){se.return=b.return,de=se;break e}de=b.return}}if(We=p,hi(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ki,r)}catch{}d=!0}return d}finally{je=l,In.transition=s}}return!1}function lv(r,s,l){s=yo(l,s),s=Ag(r,s,1),r=pi(r,s,1),s=Yt(),r!==null&&(ni(r,1,s),rn(r,s))}function ut(r,s,l){if(r.tag===3)lv(r,r,l);else for(;s!==null;){if(s.tag===3){lv(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(gi===null||!gi.has(d))){r=yo(l,r),r=Rg(s,r,1),s=pi(s,r,1),r=Yt(),s!==null&&(ni(s,1,r),rn(s,r));break}}s=s.return}}function uS(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Yt(),r.pingedLanes|=r.suspendedLanes&l,Rt===r&&(Ot&l)===l&&(Et===4||Et===3&&(Ot&130023424)===Ot&&500>Je()-Ph?us(r,0):xh|=l),rn(r,s)}function uv(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ws,Ws<<=1,(Ws&130023424)===0&&(Ws=4194304)));var l=Yt();r=Dr(r,s),r!==null&&(ni(r,s,l),rn(r,l))}function cS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),uv(r,l)}function dS(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),uv(r,l)}var cv;cv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)tn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return tn=!1,JT(r,s,l);tn=(r.flags&131072)!==0}else tn=!1,rt&&(s.flags&1048576)!==0&&$m(s,gu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Nu(r,s),r=s.pendingProps;var p=uo(s,Ft.current);go(s,l),p=oh(null,s,d,r,p,l);var g=ah();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,en(d)?(g=!0,fu(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Zd(s),p.updater=Pu,s.stateNode=p,p._reactInternals=s,fh(s,d,r,l),s=vh(null,s,d,!0,g,l)):(s.tag=0,rt&&g&&$d(s),Qt(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Nu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=fS(d),r=$n(d,r),p){case 0:s=gh(null,s,d,r,l);break e;case 1:s=Mg(null,s,d,r,l);break e;case 11:s=Ng(null,s,d,r,l);break e;case 14:s=bg(null,s,d,$n(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),gh(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),Mg(r,s,d,p,l);case 3:e:{if(Vg(s),r===null)throw Error(t(387));d=s.pendingProps,g=s.memoizedState,p=g.element,Jm(r,s),Tu(s,d,null,l);var E=s.memoizedState;if(d=E.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=yo(Error(t(423)),s),s=Fg(r,s,d,l,p);break e}else if(d!==p){p=yo(Error(t(424)),s),s=Fg(r,s,d,l,p);break e}else for(dn=ui(s.stateNode.containerInfo.firstChild),cn=s,rt=!0,zn=null,l=Ym(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fo(),d===p){s=Mr(r,s,l);break e}Qt(r,s,d,l)}s=s.child}return s;case 5:return tg(s),r===null&&qd(s),d=s.type,p=s.pendingProps,g=r!==null?r.memoizedProps:null,E=p.children,Vd(d,p)?E=null:g!==null&&Vd(d,g)&&(s.flags|=32),Lg(r,s),Qt(r,s,E,l),s.child;case 6:return r===null&&qd(s),null;case 13:return Ug(r,s,l);case 4:return eh(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=po(s,null,d,l):Qt(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),Ng(r,s,d,p,l);case 7:return Qt(r,s,s.pendingProps,l),s.child;case 8:return Qt(r,s,s.pendingProps.children,l),s.child;case 12:return Qt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,g=s.memoizedProps,E=p.value,Ze(_u,d._currentValue),d._currentValue=E,g!==null)if(Bn(g.value,E)){if(g.children===p.children&&!Zt.current){s=Mr(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var b=g.dependencies;if(b!==null){E=g.child;for(var U=b.firstContext;U!==null;){if(U.context===d){if(g.tag===1){U=Lr(-1,l&-l),U.tag=2;var G=g.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?U.next=U:(U.next=te.next,te.next=U),G.pending=U}}g.lanes|=l,U=g.alternate,U!==null&&(U.lanes|=l),Xd(g.return,l,s),b.lanes|=l;break}U=U.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,b=E.alternate,b!==null&&(b.lanes|=l),Xd(E,l,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Qt(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,go(s,l),p=Tn(p),d=d(p),s.flags|=1,Qt(r,s,d,l),s.child;case 14:return d=s.type,p=$n(d,s.pendingProps),p=$n(d.type,p),bg(r,s,d,p,l);case 15:return Og(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),Nu(r,s),s.tag=1,en(d)?(r=!0,fu(s)):r=!1,go(s,l),Ig(s,d,p),fh(s,d,p,l),vh(null,s,d,!0,r,l);case 19:return Bg(r,s,l);case 22:return Dg(r,s,l)}throw Error(t(156,s.tag))};function dv(r,s){return zs(r,s)}function hS(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,s,l,d){return new hS(r,s,l,d)}function Vh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function fS(r){if(typeof r=="function")return Vh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===Le)return 14}return 2}function wi(r,s){var l=r.alternate;return l===null?(l=Cn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function zu(r,s,l,d,p,g){var E=2;if(d=r,typeof r=="function")Vh(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case x:return ds(l.children,p,g,s);case A:E=8,p|=8;break;case k:return r=Cn(12,l,s,p|2),r.elementType=k,r.lanes=g,r;case N:return r=Cn(13,l,s,p),r.elementType=N,r.lanes=g,r;case _e:return r=Cn(19,l,s,p),r.elementType=_e,r.lanes=g,r;case ve:return $u(l,p,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:E=10;break e;case F:E=9;break e;case B:E=11;break e;case Le:E=14;break e;case Te:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Cn(E,l,s,p),s.elementType=r,s.type=d,s.lanes=g,s}function ds(r,s,l,d){return r=Cn(7,r,d,s),r.lanes=l,r}function $u(r,s,l,d){return r=Cn(22,r,d,s),r.elementType=ve,r.lanes=l,r.stateNode={isHidden:!1},r}function Fh(r,s,l){return r=Cn(6,r,null,s),r.lanes=l,r}function Uh(r,s,l){return s=Cn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function pS(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function jh(r,s,l,d,p,g,E,b,U){return r=new pS(r,s,l,b,U),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Cn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(g),r}function mS(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function hv(r){if(!r)return di;r=r._reactInternals;e:{if(Dn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(en(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(en(l))return jm(r,l,s)}return s}function fv(r,s,l,d,p,g,E,b,U){return r=jh(l,d,!0,r,p,g,E,b,U),r.context=hv(null),l=r.current,d=Yt(),p=yi(l),g=Lr(d,p),g.callback=s??null,pi(l,g,p),r.current.lanes=p,ni(r,p,d),rn(r,d),r}function Wu(r,s,l,d){var p=s.current,g=Yt(),E=yi(p);return l=hv(l),s.context===null?s.context=l:s.pendingContext=l,s=Lr(g,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=pi(p,s,E),r!==null&&(qn(r,p,E,g),Eu(r,p,E)),E}function Hu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function pv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Bh(r,s){pv(r,s),(r=r.alternate)&&pv(r,s)}function gS(){return null}var mv=typeof reportError=="function"?reportError:function(r){console.error(r)};function zh(r){this._internalRoot=r}qu.prototype.render=zh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Wu(r,s,null,null)},qu.prototype.unmount=zh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ls(function(){Wu(null,r,null,null)}),s[kr]=null}};function qu(r){this._internalRoot=r}qu.prototype.unstable_scheduleHydration=function(r){if(r){var s=ql();r={blockedOn:null,target:r,priority:s};for(var l=0;l<nr.length&&s!==0&&s<nr[l].priority;l++);nr.splice(l,0,r),l===0&&Ql(r)}};function $h(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ku(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function gv(){}function vS(r,s,l,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var G=Hu(E);g.call(G)}}var E=fv(s,d,r,0,null,!1,!1,"",gv);return r._reactRootContainer=E,r[kr]=E.current,ka(r.nodeType===8?r.parentNode:r),ls(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var b=d;d=function(){var G=Hu(U);b.call(G)}}var U=jh(r,0,!1,null,null,!1,!1,"",gv);return r._reactRootContainer=U,r[kr]=U.current,ka(r.nodeType===8?r.parentNode:r),ls(function(){Wu(s,U,l,d)}),U}function Gu(r,s,l,d,p){var g=l._reactRootContainer;if(g){var E=g;if(typeof p=="function"){var b=p;p=function(){var U=Hu(E);b.call(U)}}Wu(s,E,r,p)}else E=vS(l,s,r,p,d);return Hu(E)}Wl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ei(s.pendingLanes);l!==0&&(ri(s,l|1),rn(s,Je()),(We&6)===0&&(Eo=Je()+500,hi()))}break;case 13:ls(function(){var d=Dr(r,1);if(d!==null){var p=Yt();qn(d,r,1,p)}}),Bh(r,1)}},Hs=function(r){if(r.tag===13){var s=Dr(r,134217728);if(s!==null){var l=Yt();qn(s,r,134217728,l)}Bh(r,134217728)}},Hl=function(r){if(r.tag===13){var s=yi(r),l=Dr(r,s);if(l!==null){var d=Yt();qn(l,r,s,d)}Bh(r,s)}},ql=function(){return je},Kl=function(r,s){var l=je;try{return je=r,s()}finally{je=l}},Ms=function(r,s,l){switch(s){case"input":if(kn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=du(d);if(!p)throw Error(t(90));Ue(d),kn(d,p)}}}break;case"textarea":Ds(r,l);break;case"select":s=l.value,s!=null&&Tr(r,!!l.multiple,s,!1)}},zi=Dh,da=ls;var yS={usingClientEntryPoint:!1,Events:[Oa,ao,du,er,ca,Dh]},Ka={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_S={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=pa(r),r===null?null:r.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||gS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Ki=Qu.inject(_S),on=Qu}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yS,sn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$h(s))throw Error(t(200));return mS(r,s,null,l)},sn.createRoot=function(r,s){if(!$h(r))throw Error(t(299));var l=!1,d="",p=mv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=jh(r,1,!1,null,null,l,!1,d,p),r[kr]=s.current,ka(r.nodeType===8?r.parentNode:r),new zh(s)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=pa(s),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return ls(r)},sn.hydrate=function(r,s,l){if(!Ku(s))throw Error(t(200));return Gu(null,r,s,!0,l)},sn.hydrateRoot=function(r,s,l){if(!$h(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,g="",E=mv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=fv(s,null,r,1,l??null,p,!1,g,E),r[kr]=s.current,ka(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new qu(s)},sn.render=function(r,s,l){if(!Ku(s))throw Error(t(200));return Gu(null,r,s,!1,l)},sn.unmountComponentAtNode=function(r){if(!Ku(r))throw Error(t(40));return r._reactRootContainer?(ls(function(){Gu(null,null,r,!1,function(){r._reactRootContainer=null,r[kr]=null})}),!0):!1},sn.unstable_batchedUpdates=Dh,sn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Ku(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Gu(r,s,l,!1,d)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var Iv;function v_(){if(Iv)return qh.exports;Iv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qh.exports=RS(),qh.exports}var Cv;function xS(){if(Cv)return Yu;Cv=1;var n=v_();return Yu.createRoot=n.createRoot,Yu.hydrateRoot=n.hydrateRoot,Yu}var PS=xS();const kS=ep(PS);function NS({className:n}){return O.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:O.jsx("path",{d:"M17 10h-1V8a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2Zm-7-2a2 2 0 1 1 4 0v2h-4V8Zm3.5 9.73V19h-3v-1.27a2 2 0 1 1 3 0Z"})})}function bS({className:n}){return O.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:O.jsx("path",{d:"M17 10h-7V8a2 2 0 1 1 4 0h2a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2Zm-4.5 7.73V19h-3v-1.27a2 2 0 1 1 3 0Z"})})}function OS({className:n}){return O.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[O.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),O.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}function DS({className:n}){return O.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[O.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),O.jsx("circle",{cx:"12",cy:"13",r:"4"})]})}function LS({className:n}){return O.jsxs("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",children:[O.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),O.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),O.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),O.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Ke(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Av(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function y_(...n){return e=>{let t=!1;const i=n.map(o=>{const a=Av(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():Av(n[o],null)}}}}function ot(...n){return R.useCallback(y_(...n),n)}function MS(n,e){const t=R.createContext(e),i=a=>{const{children:c,...h}=a,f=R.useMemo(()=>h,Object.values(h));return O.jsx(t.Provider,{value:f,children:c})};i.displayName=n+"Provider";function o(a){const c=R.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[i,o]}function wl(n,e=[]){let t=[];function i(a,c){const h=R.createContext(c),f=t.length;t=[...t,c];const v=w=>{var L;const{scope:T,children:C,...D}=w,I=((L=T==null?void 0:T[n])==null?void 0:L[f])||h,P=R.useMemo(()=>D,Object.values(D));return O.jsx(I.Provider,{value:P,children:C})};v.displayName=a+"Provider";function _(w,T){var I;const C=((I=T==null?void 0:T[n])==null?void 0:I[f])||h,D=R.useContext(C);if(D)return D;if(c!==void 0)return c;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[v,_]}const o=()=>{const a=t.map(c=>R.createContext(c));return function(h){const f=(h==null?void 0:h[n])||a;return R.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return o.scopeName=n,[i,VS(o,...e)]}function VS(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=i.reduce((h,{useScope:f,scopeName:v})=>{const w=f(a)[`__scope${v}`];return{...h,...w}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var El=v_();const FS=ep(El);function sl(n){const e=US(n),t=R.forwardRef((i,o)=>{const{children:a,...c}=i,h=R.Children.toArray(a),f=h.find(BS);if(f){const v=f.props.children,_=h.map(w=>w===f?R.Children.count(v)>1?R.Children.only(null):R.isValidElement(v)?v.props.children:null:w);return O.jsx(e,{...c,ref:o,children:R.isValidElement(v)?R.cloneElement(v,void 0,_):null})}return O.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function US(n){const e=R.forwardRef((t,i)=>{const{children:o,...a}=t;if(R.isValidElement(o)){const c=$S(o),h=zS(a,o.props);return o.type!==R.Fragment&&(h.ref=i?y_(i,c):c),R.cloneElement(o,h)}return R.Children.count(o)>1?R.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var __=Symbol("radix.slottable");function jS(n){const e=({children:t})=>O.jsx(O.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=__,e}function BS(n){return R.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===__}function zS(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function $S(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var WS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=WS.reduce((n,e)=>{const t=sl(`Primitive.${e}`),i=R.forwardRef((o,a)=>{const{asChild:c,...h}=o,f=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(f,{...h,ref:a})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function HS(n,e){n&&El.flushSync(()=>n.dispatchEvent(e))}function ws(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n}),R.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function qS(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n);R.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var KS="DismissableLayer",_f="dismissableLayer.update",GS="dismissableLayer.pointerDownOutside",QS="dismissableLayer.focusOutside",Rv,w_=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wc=R.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...f}=n,v=R.useContext(w_),[_,w]=R.useState(null),T=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=R.useState({}),D=ot(e,x=>w(x)),I=Array.from(v.layers),[P]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),L=I.indexOf(P),V=_?I.indexOf(_):-1,j=v.layersWithOutsidePointerEventsDisabled.size>0,K=V>=L,Z=JS(x=>{const A=x.target,k=[...v.branches].some(M=>M.contains(A));!K||k||(o==null||o(x),c==null||c(x),x.defaultPrevented||h==null||h())},T),J=ZS(x=>{const A=x.target;[...v.branches].some(M=>M.contains(A))||(a==null||a(x),c==null||c(x),x.defaultPrevented||h==null||h())},T);return qS(x=>{V===v.layers.size-1&&(i==null||i(x),!x.defaultPrevented&&h&&(x.preventDefault(),h()))},T),R.useEffect(()=>{if(_)return t&&(v.layersWithOutsidePointerEventsDisabled.size===0&&(Rv=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(_)),v.layers.add(_),xv(),()=>{t&&v.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=Rv)}},[_,T,t,v]),R.useEffect(()=>()=>{_&&(v.layers.delete(_),v.layersWithOutsidePointerEventsDisabled.delete(_),xv())},[_,v]),R.useEffect(()=>{const x=()=>C({});return document.addEventListener(_f,x),()=>document.removeEventListener(_f,x)},[]),O.jsx(Xe.div,{...f,ref:D,style:{pointerEvents:j?K?"auto":"none":void 0,...n.style},onFocusCapture:Ke(n.onFocusCapture,J.onFocusCapture),onBlurCapture:Ke(n.onBlurCapture,J.onBlurCapture),onPointerDownCapture:Ke(n.onPointerDownCapture,Z.onPointerDownCapture)})});Wc.displayName=KS;var YS="DismissableLayerBranch",XS=R.forwardRef((n,e)=>{const t=R.useContext(w_),i=R.useRef(null),o=ot(e,i);return R.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),O.jsx(Xe.div,{...n,ref:o})});XS.displayName=YS;function JS(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n),i=R.useRef(!1),o=R.useRef(()=>{});return R.useEffect(()=>{const a=h=>{if(h.target&&!i.current){let f=function(){E_(GS,t,v,{discrete:!0})};const v={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function ZS(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n),i=R.useRef(!1);return R.useEffect(()=>{const o=a=>{a.target&&!i.current&&E_(QS,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function xv(){const n=new CustomEvent(_f);document.dispatchEvent(n)}function E_(n,e,t,{discrete:i}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?HS(o,a):o.dispatchEvent(a)}var Ht=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},eI=g_[" useId ".trim().toString()]||(()=>{}),tI=0;function vs(n){const[e,t]=R.useState(eI());return Ht(()=>{t(i=>i??String(tI++))},[n]),e?`radix-${e}`:""}const nI=["top","right","bottom","left"],bi=Math.min,fn=Math.max,Ec=Math.round,Xu=Math.floor,hr=n=>({x:n,y:n}),rI={left:"right",right:"left",bottom:"top",top:"bottom"},iI={start:"end",end:"start"};function wf(n,e,t){return fn(n,bi(e,t))}function Hr(n,e){return typeof n=="function"?n(e):n}function qr(n){return n.split("-")[0]}function qo(n){return n.split("-")[1]}function np(n){return n==="x"?"y":"x"}function rp(n){return n==="y"?"height":"width"}const sI=new Set(["top","bottom"]);function dr(n){return sI.has(qr(n))?"y":"x"}function ip(n){return np(dr(n))}function oI(n,e,t){t===void 0&&(t=!1);const i=qo(n),o=ip(n),a=rp(o);let c=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Tc(c)),[c,Tc(c)]}function aI(n){const e=Tc(n);return[Ef(n),e,Ef(e)]}function Ef(n){return n.replace(/start|end/g,e=>iI[e])}const Pv=["left","right"],kv=["right","left"],lI=["top","bottom"],uI=["bottom","top"];function cI(n,e,t){switch(n){case"top":case"bottom":return t?e?kv:Pv:e?Pv:kv;case"left":case"right":return e?lI:uI;default:return[]}}function dI(n,e,t,i){const o=qo(n);let a=cI(qr(n),t==="start",i);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(Ef)))),a}function Tc(n){return n.replace(/left|right|bottom|top/g,e=>rI[e])}function hI(n){return{top:0,right:0,bottom:0,left:0,...n}}function T_(n){return typeof n!="number"?hI(n):{top:n,right:n,bottom:n,left:n}}function Sc(n){const{x:e,y:t,width:i,height:o}=n;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function Nv(n,e,t){let{reference:i,floating:o}=n;const a=dr(e),c=ip(e),h=rp(c),f=qr(e),v=a==="y",_=i.x+i.width/2-o.width/2,w=i.y+i.height/2-o.height/2,T=i[h]/2-o[h]/2;let C;switch(f){case"top":C={x:_,y:i.y-o.height};break;case"bottom":C={x:_,y:i.y+i.height};break;case"right":C={x:i.x+i.width,y:w};break;case"left":C={x:i.x-o.width,y:w};break;default:C={x:i.x,y:i.y}}switch(qo(e)){case"start":C[c]-=T*(t&&v?-1:1);break;case"end":C[c]+=T*(t&&v?-1:1);break}return C}async function fI(n,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:a,rects:c,elements:h,strategy:f}=n,{boundary:v="clippingAncestors",rootBoundary:_="viewport",elementContext:w="floating",altBoundary:T=!1,padding:C=0}=Hr(e,n),D=T_(C),P=h[T?w==="floating"?"reference":"floating":w],L=Sc(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(P)))==null||t?P:P.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:v,rootBoundary:_,strategy:f})),V=w==="floating"?{x:i,y:o,width:c.floating.width,height:c.floating.height}:c.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),K=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},Z=Sc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:V,offsetParent:j,strategy:f}):V);return{top:(L.top-Z.top+D.top)/K.y,bottom:(Z.bottom-L.bottom+D.bottom)/K.y,left:(L.left-Z.left+D.left)/K.x,right:(Z.right-L.right+D.right)/K.x}}const pI=async(n,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:c}=t,h=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let v=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:_,y:w}=Nv(v,i,f),T=i,C={},D=0;for(let P=0;P<h.length;P++){var I;const{name:L,fn:V}=h[P],{x:j,y:K,data:Z,reset:J}=await V({x:_,y:w,initialPlacement:i,placement:T,strategy:o,middlewareData:C,rects:v,platform:{...c,detectOverflow:(I=c.detectOverflow)!=null?I:fI},elements:{reference:n,floating:e}});_=j??_,w=K??w,C={...C,[L]:{...C[L],...Z}},J&&D<=50&&(D++,typeof J=="object"&&(J.placement&&(T=J.placement),J.rects&&(v=J.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):J.rects),{x:_,y:w}=Nv(v,T,f)),P=-1)}return{x:_,y:w,placement:T,strategy:o,middlewareData:C}},mI=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:o,rects:a,platform:c,elements:h,middlewareData:f}=e,{element:v,padding:_=0}=Hr(n,e)||{};if(v==null)return{};const w=T_(_),T={x:t,y:i},C=ip(o),D=rp(C),I=await c.getDimensions(v),P=C==="y",L=P?"top":"left",V=P?"bottom":"right",j=P?"clientHeight":"clientWidth",K=a.reference[D]+a.reference[C]-T[C]-a.floating[D],Z=T[C]-a.reference[C],J=await(c.getOffsetParent==null?void 0:c.getOffsetParent(v));let x=J?J[j]:0;(!x||!await(c.isElement==null?void 0:c.isElement(J)))&&(x=h.floating[j]||a.floating[D]);const A=K/2-Z/2,k=x/2-I[D]/2-1,M=bi(w[L],k),F=bi(w[V],k),B=M,N=x-I[D]-F,_e=x/2-I[D]/2+A,Le=wf(B,_e,N),Te=!f.arrow&&qo(o)!=null&&_e!==Le&&a.reference[D]/2-(_e<B?M:F)-I[D]/2<0,ve=Te?_e<B?_e-B:_e-N:0;return{[C]:T[C]+ve,data:{[C]:Le,centerOffset:_e-Le-ve,...Te&&{alignmentOffset:ve}},reset:Te}}}),gI=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:o,middlewareData:a,rects:c,initialPlacement:h,platform:f,elements:v}=e,{mainAxis:_=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:I=!0,...P}=Hr(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const L=qr(o),V=dr(h),j=qr(h)===h,K=await(f.isRTL==null?void 0:f.isRTL(v.floating)),Z=T||(j||!I?[Tc(h)]:aI(h)),J=D!=="none";!T&&J&&Z.push(...dI(h,I,D,K));const x=[h,...Z],A=await f.detectOverflow(e,P),k=[];let M=((i=a.flip)==null?void 0:i.overflows)||[];if(_&&k.push(A[L]),w){const _e=oI(o,c,K);k.push(A[_e[0]],A[_e[1]])}if(M=[...M,{placement:o,overflows:k}],!k.every(_e=>_e<=0)){var F,B;const _e=(((F=a.flip)==null?void 0:F.index)||0)+1,Le=x[_e];if(Le&&(!(w==="alignment"?V!==dr(Le):!1)||M.every(Y=>dr(Y.placement)===V?Y.overflows[0]>0:!0)))return{data:{index:_e,overflows:M},reset:{placement:Le}};let Te=(B=M.filter(ve=>ve.overflows[0]<=0).sort((ve,Y)=>ve.overflows[1]-Y.overflows[1])[0])==null?void 0:B.placement;if(!Te)switch(C){case"bestFit":{var N;const ve=(N=M.filter(Y=>{if(J){const le=dr(Y.placement);return le===V||le==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(le=>le>0).reduce((le,oe)=>le+oe,0)]).sort((Y,le)=>Y[1]-le[1])[0])==null?void 0:N[0];ve&&(Te=ve);break}case"initialPlacement":Te=h;break}if(o!==Te)return{reset:{placement:Te}}}return{}}}};function bv(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Ov(n){return nI.some(e=>n[e]>=0)}const vI=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t,platform:i}=e,{strategy:o="referenceHidden",...a}=Hr(n,e);switch(o){case"referenceHidden":{const c=await i.detectOverflow(e,{...a,elementContext:"reference"}),h=bv(c,t.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Ov(h)}}}case"escaped":{const c=await i.detectOverflow(e,{...a,altBoundary:!0}),h=bv(c,t.floating);return{data:{escapedOffsets:h,escaped:Ov(h)}}}default:return{}}}}},S_=new Set(["left","top"]);async function yI(n,e){const{placement:t,platform:i,elements:o}=n,a=await(i.isRTL==null?void 0:i.isRTL(o.floating)),c=qr(t),h=qo(t),f=dr(t)==="y",v=S_.has(c)?-1:1,_=a&&f?-1:1,w=Hr(e,n);let{mainAxis:T,crossAxis:C,alignmentAxis:D}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof D=="number"&&(C=h==="end"?D*-1:D),f?{x:C*_,y:T*v}:{x:T*v,y:C*_}}const _I=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:o,y:a,placement:c,middlewareData:h}=e,f=await yI(e,n);return c===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:c}}}}},wI=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:o,platform:a}=e,{mainAxis:c=!0,crossAxis:h=!1,limiter:f={fn:L=>{let{x:V,y:j}=L;return{x:V,y:j}}},...v}=Hr(n,e),_={x:t,y:i},w=await a.detectOverflow(e,v),T=dr(qr(o)),C=np(T);let D=_[C],I=_[T];if(c){const L=C==="y"?"top":"left",V=C==="y"?"bottom":"right",j=D+w[L],K=D-w[V];D=wf(j,D,K)}if(h){const L=T==="y"?"top":"left",V=T==="y"?"bottom":"right",j=I+w[L],K=I-w[V];I=wf(j,I,K)}const P=f.fn({...e,[C]:D,[T]:I});return{...P,data:{x:P.x-t,y:P.y-i,enabled:{[C]:c,[T]:h}}}}}},EI=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:o,rects:a,middlewareData:c}=e,{offset:h=0,mainAxis:f=!0,crossAxis:v=!0}=Hr(n,e),_={x:t,y:i},w=dr(o),T=np(w);let C=_[T],D=_[w];const I=Hr(h,e),P=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(f){const j=T==="y"?"height":"width",K=a.reference[T]-a.floating[j]+P.mainAxis,Z=a.reference[T]+a.reference[j]-P.mainAxis;C<K?C=K:C>Z&&(C=Z)}if(v){var L,V;const j=T==="y"?"width":"height",K=S_.has(qr(o)),Z=a.reference[w]-a.floating[j]+(K&&((L=c.offset)==null?void 0:L[w])||0)+(K?0:P.crossAxis),J=a.reference[w]+a.reference[j]+(K?0:((V=c.offset)==null?void 0:V[w])||0)-(K?P.crossAxis:0);D<Z?D=Z:D>J&&(D=J)}return{[T]:C,[w]:D}}}},TI=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:o,rects:a,platform:c,elements:h}=e,{apply:f=()=>{},...v}=Hr(n,e),_=await c.detectOverflow(e,v),w=qr(o),T=qo(o),C=dr(o)==="y",{width:D,height:I}=a.floating;let P,L;w==="top"||w==="bottom"?(P=w,L=T===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(L=w,P=T==="end"?"top":"bottom");const V=I-_.top-_.bottom,j=D-_.left-_.right,K=bi(I-_[P],V),Z=bi(D-_[L],j),J=!e.middlewareData.shift;let x=K,A=Z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(A=j),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(x=V),J&&!T){const M=fn(_.left,0),F=fn(_.right,0),B=fn(_.top,0),N=fn(_.bottom,0);C?A=D-2*(M!==0||F!==0?M+F:fn(_.left,_.right)):x=I-2*(B!==0||N!==0?B+N:fn(_.top,_.bottom))}await f({...e,availableWidth:A,availableHeight:x});const k=await c.getDimensions(h.floating);return D!==k.width||I!==k.height?{reset:{rects:!0}}:{}}}};function Hc(){return typeof window<"u"}function Ko(n){return I_(n)?(n.nodeName||"").toLowerCase():"#document"}function pn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function wr(n){var e;return(e=(I_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function I_(n){return Hc()?n instanceof Node||n instanceof pn(n).Node:!1}function Yn(n){return Hc()?n instanceof Element||n instanceof pn(n).Element:!1}function gr(n){return Hc()?n instanceof HTMLElement||n instanceof pn(n).HTMLElement:!1}function Dv(n){return!Hc()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof pn(n).ShadowRoot}const SI=new Set(["inline","contents"]);function Tl(n){const{overflow:e,overflowX:t,overflowY:i,display:o}=Xn(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!SI.has(o)}const II=new Set(["table","td","th"]);function CI(n){return II.has(Ko(n))}const AI=[":popover-open",":modal"];function qc(n){return AI.some(e=>{try{return n.matches(e)}catch{return!1}})}const RI=["transform","translate","scale","rotate","perspective"],xI=["transform","translate","scale","rotate","perspective","filter"],PI=["paint","layout","strict","content"];function sp(n){const e=op(),t=Yn(n)?Xn(n):n;return RI.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||xI.some(i=>(t.willChange||"").includes(i))||PI.some(i=>(t.contain||"").includes(i))}function kI(n){let e=Oi(n);for(;gr(e)&&!Lo(e);){if(sp(e))return e;if(qc(e))return null;e=Oi(e)}return null}function op(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const NI=new Set(["html","body","#document"]);function Lo(n){return NI.has(Ko(n))}function Xn(n){return pn(n).getComputedStyle(n)}function Kc(n){return Yn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Oi(n){if(Ko(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Dv(n)&&n.host||wr(n);return Dv(e)?e.host:e}function C_(n){const e=Oi(n);return Lo(e)?n.ownerDocument?n.ownerDocument.body:n.body:gr(e)&&Tl(e)?e:C_(e)}function ol(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=C_(n),a=o===((i=n.ownerDocument)==null?void 0:i.body),c=pn(o);if(a){const h=Tf(c);return e.concat(c,c.visualViewport||[],Tl(o)?o:[],h&&t?ol(h):[])}return e.concat(o,ol(o,[],t))}function Tf(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function A_(n){const e=Xn(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=gr(n),a=o?n.offsetWidth:t,c=o?n.offsetHeight:i,h=Ec(t)!==a||Ec(i)!==c;return h&&(t=a,i=c),{width:t,height:i,$:h}}function ap(n){return Yn(n)?n:n.contextElement}function Po(n){const e=ap(n);if(!gr(e))return hr(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:a}=A_(e);let c=(a?Ec(t.width):t.width)/i,h=(a?Ec(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const bI=hr(0);function R_(n){const e=pn(n);return!op()||!e.visualViewport?bI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function OI(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==pn(n)?!1:e}function Es(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=ap(n);let c=hr(1);e&&(i?Yn(i)&&(c=Po(i)):c=Po(n));const h=OI(a,t,i)?R_(a):hr(0);let f=(o.left+h.x)/c.x,v=(o.top+h.y)/c.y,_=o.width/c.x,w=o.height/c.y;if(a){const T=pn(a),C=i&&Yn(i)?pn(i):i;let D=T,I=Tf(D);for(;I&&i&&C!==D;){const P=Po(I),L=I.getBoundingClientRect(),V=Xn(I),j=L.left+(I.clientLeft+parseFloat(V.paddingLeft))*P.x,K=L.top+(I.clientTop+parseFloat(V.paddingTop))*P.y;f*=P.x,v*=P.y,_*=P.x,w*=P.y,f+=j,v+=K,D=pn(I),I=Tf(D)}}return Sc({width:_,height:w,x:f,y:v})}function Gc(n,e){const t=Kc(n).scrollLeft;return e?e.left+t:Es(wr(n)).left+t}function x_(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-Gc(n,t),o=t.top+e.scrollTop;return{x:i,y:o}}function DI(n){let{elements:e,rect:t,offsetParent:i,strategy:o}=n;const a=o==="fixed",c=wr(i),h=e?qc(e.floating):!1;if(i===c||h&&a)return t;let f={scrollLeft:0,scrollTop:0},v=hr(1);const _=hr(0),w=gr(i);if((w||!w&&!a)&&((Ko(i)!=="body"||Tl(c))&&(f=Kc(i)),gr(i))){const C=Es(i);v=Po(i),_.x=C.x+i.clientLeft,_.y=C.y+i.clientTop}const T=c&&!w&&!a?x_(c,f):hr(0);return{width:t.width*v.x,height:t.height*v.y,x:t.x*v.x-f.scrollLeft*v.x+_.x+T.x,y:t.y*v.y-f.scrollTop*v.y+_.y+T.y}}function LI(n){return Array.from(n.getClientRects())}function MI(n){const e=wr(n),t=Kc(n),i=n.ownerDocument.body,o=fn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=fn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Gc(n);const h=-t.scrollTop;return Xn(i).direction==="rtl"&&(c+=fn(e.clientWidth,i.clientWidth)-o),{width:o,height:a,x:c,y:h}}const Lv=25;function VI(n,e){const t=pn(n),i=wr(n),o=t.visualViewport;let a=i.clientWidth,c=i.clientHeight,h=0,f=0;if(o){a=o.width,c=o.height;const _=op();(!_||_&&e==="fixed")&&(h=o.offsetLeft,f=o.offsetTop)}const v=Gc(i);if(v<=0){const _=i.ownerDocument,w=_.body,T=getComputedStyle(w),C=_.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,D=Math.abs(i.clientWidth-w.clientWidth-C);D<=Lv&&(a-=D)}else v<=Lv&&(a+=v);return{width:a,height:c,x:h,y:f}}const FI=new Set(["absolute","fixed"]);function UI(n,e){const t=Es(n,!0,e==="fixed"),i=t.top+n.clientTop,o=t.left+n.clientLeft,a=gr(n)?Po(n):hr(1),c=n.clientWidth*a.x,h=n.clientHeight*a.y,f=o*a.x,v=i*a.y;return{width:c,height:h,x:f,y:v}}function Mv(n,e,t){let i;if(e==="viewport")i=VI(n,t);else if(e==="document")i=MI(wr(n));else if(Yn(e))i=UI(e,t);else{const o=R_(n);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Sc(i)}function P_(n,e){const t=Oi(n);return t===e||!Yn(t)||Lo(t)?!1:Xn(t).position==="fixed"||P_(t,e)}function jI(n,e){const t=e.get(n);if(t)return t;let i=ol(n,[],!1).filter(h=>Yn(h)&&Ko(h)!=="body"),o=null;const a=Xn(n).position==="fixed";let c=a?Oi(n):n;for(;Yn(c)&&!Lo(c);){const h=Xn(c),f=sp(c);!f&&h.position==="fixed"&&(o=null),(a?!f&&!o:!f&&h.position==="static"&&!!o&&FI.has(o.position)||Tl(c)&&!f&&P_(n,c))?i=i.filter(_=>_!==c):o=h,c=Oi(c)}return e.set(n,i),i}function BI(n){let{element:e,boundary:t,rootBoundary:i,strategy:o}=n;const c=[...t==="clippingAncestors"?qc(e)?[]:jI(e,this._c):[].concat(t),i],h=c[0],f=c.reduce((v,_)=>{const w=Mv(e,_,o);return v.top=fn(w.top,v.top),v.right=bi(w.right,v.right),v.bottom=bi(w.bottom,v.bottom),v.left=fn(w.left,v.left),v},Mv(e,h,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function zI(n){const{width:e,height:t}=A_(n);return{width:e,height:t}}function $I(n,e,t){const i=gr(e),o=wr(e),a=t==="fixed",c=Es(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=hr(0);function v(){f.x=Gc(o)}if(i||!i&&!a)if((Ko(e)!=="body"||Tl(o))&&(h=Kc(e)),i){const C=Es(e,!0,a,e);f.x=C.x+e.clientLeft,f.y=C.y+e.clientTop}else o&&v();a&&!i&&o&&v();const _=o&&!i&&!a?x_(o,h):hr(0),w=c.left+h.scrollLeft-f.x-_.x,T=c.top+h.scrollTop-f.y-_.y;return{x:w,y:T,width:c.width,height:c.height}}function Qh(n){return Xn(n).position==="static"}function Vv(n,e){if(!gr(n)||Xn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return wr(n)===t&&(t=t.ownerDocument.body),t}function k_(n,e){const t=pn(n);if(qc(n))return t;if(!gr(n)){let o=Oi(n);for(;o&&!Lo(o);){if(Yn(o)&&!Qh(o))return o;o=Oi(o)}return t}let i=Vv(n,e);for(;i&&CI(i)&&Qh(i);)i=Vv(i,e);return i&&Lo(i)&&Qh(i)&&!sp(i)?t:i||kI(n)||t}const WI=async function(n){const e=this.getOffsetParent||k_,t=this.getDimensions,i=await t(n.floating);return{reference:$I(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function HI(n){return Xn(n).direction==="rtl"}const qI={convertOffsetParentRelativeRectToViewportRelativeRect:DI,getDocumentElement:wr,getClippingRect:BI,getOffsetParent:k_,getElementRects:WI,getClientRects:LI,getDimensions:zI,getScale:Po,isElement:Yn,isRTL:HI};function N_(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function KI(n,e){let t=null,i;const o=wr(n);function a(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function c(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const v=n.getBoundingClientRect(),{left:_,top:w,width:T,height:C}=v;if(h||e(),!T||!C)return;const D=Xu(w),I=Xu(o.clientWidth-(_+T)),P=Xu(o.clientHeight-(w+C)),L=Xu(_),j={rootMargin:-D+"px "+-I+"px "+-P+"px "+-L+"px",threshold:fn(0,bi(1,f))||1};let K=!0;function Z(J){const x=J[0].intersectionRatio;if(x!==f){if(!K)return c();x?c(!1,x):i=setTimeout(()=>{c(!1,1e-7)},1e3)}x===1&&!N_(v,n.getBoundingClientRect())&&c(),K=!1}try{t=new IntersectionObserver(Z,{...j,root:o.ownerDocument})}catch{t=new IntersectionObserver(Z,j)}t.observe(n)}return c(!0),a}function GI(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,v=ap(n),_=o||a?[...v?ol(v):[],...ol(e)]:[];_.forEach(L=>{o&&L.addEventListener("scroll",t,{passive:!0}),a&&L.addEventListener("resize",t)});const w=v&&h?KI(v,t):null;let T=-1,C=null;c&&(C=new ResizeObserver(L=>{let[V]=L;V&&V.target===v&&C&&(C.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var j;(j=C)==null||j.observe(e)})),t()}),v&&!f&&C.observe(v),C.observe(e));let D,I=f?Es(n):null;f&&P();function P(){const L=Es(n);I&&!N_(I,L)&&t(),I=L,D=requestAnimationFrame(P)}return t(),()=>{var L;_.forEach(V=>{o&&V.removeEventListener("scroll",t),a&&V.removeEventListener("resize",t)}),w==null||w(),(L=C)==null||L.disconnect(),C=null,f&&cancelAnimationFrame(D)}}const QI=_I,YI=wI,XI=gI,JI=TI,ZI=vI,Fv=mI,eC=EI,tC=(n,e,t)=>{const i=new Map,o={platform:qI,...t},a={...o.platform,_c:i};return pI(n,e,{...o,platform:a})};var nC=typeof document<"u",rC=function(){},uc=nC?R.useLayoutEffect:rC;function Ic(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Ic(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const a=o[i];if(!(a==="_owner"&&n.$$typeof)&&!Ic(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function b_(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Uv(n,e){const t=b_(n);return Math.round(e*t)/t}function Yh(n){const e=R.useRef(n);return uc(()=>{e.current=n}),e}function iC(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:f,open:v}=n,[_,w]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,C]=R.useState(i);Ic(T,i)||C(i);const[D,I]=R.useState(null),[P,L]=R.useState(null),V=R.useCallback(Y=>{Y!==J.current&&(J.current=Y,I(Y))},[]),j=R.useCallback(Y=>{Y!==x.current&&(x.current=Y,L(Y))},[]),K=a||D,Z=c||P,J=R.useRef(null),x=R.useRef(null),A=R.useRef(_),k=f!=null,M=Yh(f),F=Yh(o),B=Yh(v),N=R.useCallback(()=>{if(!J.current||!x.current)return;const Y={placement:e,strategy:t,middleware:T};F.current&&(Y.platform=F.current),tC(J.current,x.current,Y).then(le=>{const oe={...le,isPositioned:B.current!==!1};_e.current&&!Ic(A.current,oe)&&(A.current=oe,El.flushSync(()=>{w(oe)}))})},[T,e,t,F,B]);uc(()=>{v===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,w(Y=>({...Y,isPositioned:!1})))},[v]);const _e=R.useRef(!1);uc(()=>(_e.current=!0,()=>{_e.current=!1}),[]),uc(()=>{if(K&&(J.current=K),Z&&(x.current=Z),K&&Z){if(M.current)return M.current(K,Z,N);N()}},[K,Z,N,M,k]);const Le=R.useMemo(()=>({reference:J,floating:x,setReference:V,setFloating:j}),[V,j]),Te=R.useMemo(()=>({reference:K,floating:Z}),[K,Z]),ve=R.useMemo(()=>{const Y={position:t,left:0,top:0};if(!Te.floating)return Y;const le=Uv(Te.floating,_.x),oe=Uv(Te.floating,_.y);return h?{...Y,transform:"translate("+le+"px, "+oe+"px)",...b_(Te.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:oe}},[t,h,Te.floating,_.x,_.y]);return R.useMemo(()=>({..._,update:N,refs:Le,elements:Te,floatingStyles:ve}),[_,N,Le,Te,ve])}const sC=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:o}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Fv({element:i.current,padding:o}).fn(t):{}:i?Fv({element:i,padding:o}).fn(t):{}}}},oC=(n,e)=>({...QI(n),options:[n,e]}),aC=(n,e)=>({...YI(n),options:[n,e]}),lC=(n,e)=>({...eC(n),options:[n,e]}),uC=(n,e)=>({...XI(n),options:[n,e]}),cC=(n,e)=>({...JI(n),options:[n,e]}),dC=(n,e)=>({...ZI(n),options:[n,e]}),hC=(n,e)=>({...sC(n),options:[n,e]});var fC="Arrow",O_=R.forwardRef((n,e)=>{const{children:t,width:i=10,height:o=5,...a}=n;return O.jsx(Xe.svg,{...a,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:O.jsx("polygon",{points:"0,0 30,0 15,10"})})});O_.displayName=fC;var pC=O_;function mC(n){const[e,t]=R.useState(void 0);return Ht(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,h;if("borderBoxSize"in a){const f=a.borderBoxSize,v=Array.isArray(f)?f[0]:f;c=v.inlineSize,h=v.blockSize}else c=n.offsetWidth,h=n.offsetHeight;t({width:c,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var lp="Popper",[D_,Qc]=wl(lp),[gC,L_]=D_(lp),M_=n=>{const{__scopePopper:e,children:t}=n,[i,o]=R.useState(null);return O.jsx(gC,{scope:e,anchor:i,onAnchorChange:o,children:t})};M_.displayName=lp;var V_="PopperAnchor",F_=R.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...o}=n,a=L_(V_,t),c=R.useRef(null),h=ot(e,c),f=R.useRef(null);return R.useEffect(()=>{const v=f.current;f.current=(i==null?void 0:i.current)||c.current,v!==f.current&&a.onAnchorChange(f.current)}),i?null:O.jsx(Xe.div,{...o,ref:h})});F_.displayName=V_;var up="PopperContent",[vC,yC]=D_(up),U_=R.forwardRef((n,e)=>{var ue,ye,Oe,Pe,Me,Ue;const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:v=[],collisionPadding:_=0,sticky:w="partial",hideWhenDetached:T=!1,updatePositionStrategy:C="optimized",onPlaced:D,...I}=n,P=L_(up,t),[L,V]=R.useState(null),j=ot(e,lt=>V(lt)),[K,Z]=R.useState(null),J=mC(K),x=(J==null?void 0:J.width)??0,A=(J==null?void 0:J.height)??0,k=i+(a!=="center"?"-"+a:""),M=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},F=Array.isArray(v)?v:[v],B=F.length>0,N={padding:M,boundary:F.filter(wC),altBoundary:B},{refs:_e,floatingStyles:Le,placement:Te,isPositioned:ve,middlewareData:Y}=iC({strategy:"fixed",placement:k,whileElementsMounted:(...lt)=>GI(...lt,{animationFrame:C==="always"}),elements:{reference:P.anchor},middleware:[oC({mainAxis:o+A,alignmentAxis:c}),f&&aC({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?lC():void 0,...N}),f&&uC({...N}),cC({...N,apply:({elements:lt,rects:It,availableWidth:mn,availableHeight:Pn})=>{const{width:kn,height:bs}=It.reference,Nn=lt.floating.style;Nn.setProperty("--radix-popper-available-width",`${mn}px`),Nn.setProperty("--radix-popper-available-height",`${Pn}px`),Nn.setProperty("--radix-popper-anchor-width",`${kn}px`),Nn.setProperty("--radix-popper-anchor-height",`${bs}px`)}}),K&&hC({element:K,padding:h}),EC({arrowWidth:x,arrowHeight:A}),T&&dC({strategy:"referenceHidden",...N})]}),[le,oe]=z_(Te),$=ws(D);Ht(()=>{ve&&($==null||$())},[ve,$]);const X=(ue=Y.arrow)==null?void 0:ue.x,fe=(ye=Y.arrow)==null?void 0:ye.y,Ce=((Oe=Y.arrow)==null?void 0:Oe.centerOffset)!==0,[xe,De]=R.useState();return Ht(()=>{L&&De(window.getComputedStyle(L).zIndex)},[L]),O.jsx("div",{ref:_e.setFloating,"data-radix-popper-content-wrapper":"",style:{...Le,transform:ve?Le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(Pe=Y.transformOrigin)==null?void 0:Pe.x,(Me=Y.transformOrigin)==null?void 0:Me.y].join(" "),...((Ue=Y.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:O.jsx(vC,{scope:t,placedSide:le,onArrowChange:Z,arrowX:X,arrowY:fe,shouldHideArrow:Ce,children:O.jsx(Xe.div,{"data-side":le,"data-align":oe,...I,ref:j,style:{...I.style,animation:ve?void 0:"none"}})})})});U_.displayName=up;var j_="PopperArrow",_C={top:"bottom",right:"left",bottom:"top",left:"right"},B_=R.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,a=yC(j_,i),c=_C[a.placedSide];return O.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:O.jsx(pC,{...o,ref:t,style:{...o.style,display:"block"}})})});B_.displayName=j_;function wC(n){return n!==null}var EC=n=>({name:"transformOrigin",options:n,fn(e){var P,L,V;const{placement:t,rects:i,middlewareData:o}=e,c=((P=o.arrow)==null?void 0:P.centerOffset)!==0,h=c?0:n.arrowWidth,f=c?0:n.arrowHeight,[v,_]=z_(t),w={start:"0%",center:"50%",end:"100%"}[_],T=(((L=o.arrow)==null?void 0:L.x)??0)+h/2,C=(((V=o.arrow)==null?void 0:V.y)??0)+f/2;let D="",I="";return v==="bottom"?(D=c?w:`${T}px`,I=`${-f}px`):v==="top"?(D=c?w:`${T}px`,I=`${i.floating.height+f}px`):v==="right"?(D=`${-f}px`,I=c?w:`${C}px`):v==="left"&&(D=`${i.floating.width+f}px`,I=c?w:`${C}px`),{data:{x:D,y:I}}}});function z_(n){const[e,t="center"]=n.split("-");return[e,t]}var $_=M_,W_=F_,H_=U_,q_=B_,TC="Portal",Yc=R.forwardRef((n,e)=>{var h;const{container:t,...i}=n,[o,a]=R.useState(!1);Ht(()=>a(!0),[]);const c=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?FS.createPortal(O.jsx(Xe.div,{...i,ref:e}),c):null});Yc.displayName=TC;function SC(n,e){return R.useReducer((t,i)=>e[t][i]??t,n)}var Go=n=>{const{present:e,children:t}=n,i=IC(e),o=typeof t=="function"?t({present:i.isPresent}):R.Children.only(t),a=ot(i.ref,CC(o));return typeof t=="function"||i.isPresent?R.cloneElement(o,{ref:a}):null};Go.displayName="Presence";function IC(n){const[e,t]=R.useState(),i=R.useRef(null),o=R.useRef(n),a=R.useRef("none"),c=n?"mounted":"unmounted",[h,f]=SC(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const v=Ju(i.current);a.current=h==="mounted"?v:"none"},[h]),Ht(()=>{const v=i.current,_=o.current;if(_!==n){const T=a.current,C=Ju(v);n?f("MOUNT"):C==="none"||(v==null?void 0:v.display)==="none"?f("UNMOUNT"):f(_&&T!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),Ht(()=>{if(e){let v;const _=e.ownerDocument.defaultView??window,w=C=>{const I=Ju(i.current).includes(CSS.escape(C.animationName));if(C.target===e&&I&&(f("ANIMATION_END"),!o.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",v=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},T=C=>{C.target===e&&(a.current=Ju(i.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{_.clearTimeout(v),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:R.useCallback(v=>{i.current=v?getComputedStyle(v):null,t(v)},[])}}function Ju(n){return(n==null?void 0:n.animationName)||"none"}function CC(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var AC=g_[" useInsertionEffect ".trim().toString()]||Ht;function Cc({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,a,c]=RC({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:o;{const _=R.useRef(n!==void 0);R.useEffect(()=>{const w=_.current;w!==h&&console.warn(`${i} is changing from ${w?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=h},[h,i])}const v=R.useCallback(_=>{var w;if(h){const T=xC(_)?_(n):_;T!==n&&((w=c.current)==null||w.call(c,T))}else a(_)},[h,n,a,c]);return[f,v]}function RC({defaultProp:n,onChange:e}){const[t,i]=R.useState(n),o=R.useRef(t),a=R.useRef(e);return AC(()=>{a.current=e},[e]),R.useEffect(()=>{var c;o.current!==t&&((c=a.current)==null||c.call(a,t),o.current=t)},[t,o]),[t,i,a]}function xC(n){return typeof n=="function"}var K_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PC="VisuallyHidden",G_=R.forwardRef((n,e)=>O.jsx(Xe.span,{...n,ref:e,style:{...K_,...n.style}}));G_.displayName=PC;var kC=G_,[Xc]=wl("Tooltip",[Qc]),Jc=Qc(),Q_="TooltipProvider",NC=700,Sf="tooltip.open",[bC,cp]=Xc(Q_),Y_=n=>{const{__scopeTooltip:e,delayDuration:t=NC,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:a}=n,c=R.useRef(!0),h=R.useRef(!1),f=R.useRef(0);return R.useEffect(()=>{const v=f.current;return()=>window.clearTimeout(v)},[]),O.jsx(bC,{scope:e,isOpenDelayedRef:c,delayDuration:t,onOpen:R.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,i)},[i]),isPointerInTransitRef:h,onPointerInTransitChange:R.useCallback(v=>{h.current=v},[]),disableHoverableContent:o,children:a})};Y_.displayName=Q_;var al="Tooltip",[OC,Sl]=Xc(al),X_=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:o,onOpenChange:a,disableHoverableContent:c,delayDuration:h}=n,f=cp(al,n.__scopeTooltip),v=Jc(e),[_,w]=R.useState(null),T=vs(),C=R.useRef(0),D=c??f.disableHoverableContent,I=h??f.delayDuration,P=R.useRef(!1),[L,V]=Cc({prop:i,defaultProp:o??!1,onChange:x=>{x?(f.onOpen(),document.dispatchEvent(new CustomEvent(Sf))):f.onClose(),a==null||a(x)},caller:al}),j=R.useMemo(()=>L?P.current?"delayed-open":"instant-open":"closed",[L]),K=R.useCallback(()=>{window.clearTimeout(C.current),C.current=0,P.current=!1,V(!0)},[V]),Z=R.useCallback(()=>{window.clearTimeout(C.current),C.current=0,V(!1)},[V]),J=R.useCallback(()=>{window.clearTimeout(C.current),C.current=window.setTimeout(()=>{P.current=!0,V(!0),C.current=0},I)},[I,V]);return R.useEffect(()=>()=>{C.current&&(window.clearTimeout(C.current),C.current=0)},[]),O.jsx($_,{...v,children:O.jsx(OC,{scope:e,contentId:T,open:L,stateAttribute:j,trigger:_,onTriggerChange:w,onTriggerEnter:R.useCallback(()=>{f.isOpenDelayedRef.current?J():K()},[f.isOpenDelayedRef,J,K]),onTriggerLeave:R.useCallback(()=>{D?Z():(window.clearTimeout(C.current),C.current=0)},[Z,D]),onOpen:K,onClose:Z,disableHoverableContent:D,children:t})})};X_.displayName=al;var If="TooltipTrigger",J_=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,o=Sl(If,t),a=cp(If,t),c=Jc(t),h=R.useRef(null),f=ot(e,h,o.onTriggerChange),v=R.useRef(!1),_=R.useRef(!1),w=R.useCallback(()=>v.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),O.jsx(W_,{asChild:!0,...c,children:O.jsx(Xe.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:f,onPointerMove:Ke(n.onPointerMove,T=>{T.pointerType!=="touch"&&!_.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),_.current=!0)}),onPointerLeave:Ke(n.onPointerLeave,()=>{o.onTriggerLeave(),_.current=!1}),onPointerDown:Ke(n.onPointerDown,()=>{o.open&&o.onClose(),v.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Ke(n.onFocus,()=>{v.current||o.onOpen()}),onBlur:Ke(n.onBlur,o.onClose),onClick:Ke(n.onClick,o.onClose)})})});J_.displayName=If;var dp="TooltipPortal",[DC,LC]=Xc(dp,{forceMount:void 0}),Z_=n=>{const{__scopeTooltip:e,forceMount:t,children:i,container:o}=n,a=Sl(dp,e);return O.jsx(DC,{scope:e,forceMount:t,children:O.jsx(Go,{present:t||a.open,children:O.jsx(Yc,{asChild:!0,container:o,children:i})})})};Z_.displayName=dp;var Mo="TooltipContent",ew=R.forwardRef((n,e)=>{const t=LC(Mo,n.__scopeTooltip),{forceMount:i=t.forceMount,side:o="top",...a}=n,c=Sl(Mo,n.__scopeTooltip);return O.jsx(Go,{present:i||c.open,children:c.disableHoverableContent?O.jsx(tw,{side:o,...a,ref:e}):O.jsx(MC,{side:o,...a,ref:e})})}),MC=R.forwardRef((n,e)=>{const t=Sl(Mo,n.__scopeTooltip),i=cp(Mo,n.__scopeTooltip),o=R.useRef(null),a=ot(e,o),[c,h]=R.useState(null),{trigger:f,onClose:v}=t,_=o.current,{onPointerInTransitChange:w}=i,T=R.useCallback(()=>{h(null),w(!1)},[w]),C=R.useCallback((D,I)=>{const P=D.currentTarget,L={x:D.clientX,y:D.clientY},V=jC(L,P.getBoundingClientRect()),j=BC(L,V),K=zC(I.getBoundingClientRect()),Z=WC([...j,...K]);h(Z),w(!0)},[w]);return R.useEffect(()=>()=>T(),[T]),R.useEffect(()=>{if(f&&_){const D=P=>C(P,_),I=P=>C(P,f);return f.addEventListener("pointerleave",D),_.addEventListener("pointerleave",I),()=>{f.removeEventListener("pointerleave",D),_.removeEventListener("pointerleave",I)}}},[f,_,C,T]),R.useEffect(()=>{if(c){const D=I=>{const P=I.target,L={x:I.clientX,y:I.clientY},V=(f==null?void 0:f.contains(P))||(_==null?void 0:_.contains(P)),j=!$C(L,c);V?T():j&&(T(),v())};return document.addEventListener("pointermove",D),()=>document.removeEventListener("pointermove",D)}},[f,_,c,v,T]),O.jsx(tw,{...n,ref:a})}),[VC,FC]=Xc(al,{isInside:!1}),UC=jS("TooltipContent"),tw=R.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:c,...h}=n,f=Sl(Mo,t),v=Jc(t),{onClose:_}=f;return R.useEffect(()=>(document.addEventListener(Sf,_),()=>document.removeEventListener(Sf,_)),[_]),R.useEffect(()=>{if(f.trigger){const w=T=>{const C=T.target;C!=null&&C.contains(f.trigger)&&_()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,_]),O.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:w=>w.preventDefault(),onDismiss:_,children:O.jsxs(H_,{"data-state":f.stateAttribute,...v,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[O.jsx(UC,{children:i}),O.jsx(VC,{scope:t,isInside:!0,children:O.jsx(kC,{id:f.contentId,role:"tooltip",children:o||i})})]})})});ew.displayName=Mo;var nw="TooltipArrow",rw=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,o=Jc(t);return FC(nw,t).isInside?null:O.jsx(q_,{...o,...i,ref:e})});rw.displayName=nw;function jC(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),o=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,i,o,a)){case a:return"left";case o:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function BC(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function zC(n){const{top:e,right:t,bottom:i,left:o}=n;return[{x:o,y:e},{x:t,y:e},{x:t,y:i},{x:o,y:i}]}function $C(n,e){const{x:t,y:i}=n;let o=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const h=e[a],f=e[c],v=h.x,_=h.y,w=f.x,T=f.y;_>i!=T>i&&t<(w-v)*(i-_)/(T-_)+v&&(o=!o)}return o}function WC(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),HC(e)}function HC(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const o=n[i];for(;e.length>=2;){const a=e[e.length-1],c=e[e.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))e.pop();else break}e.push(o)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const o=n[i];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var qC=Y_,jv=X_,Bv=J_,zv=Z_,$v=ew,Wv=rw;function Hv(n,[e,t]){return Math.min(t,Math.max(e,n))}function KC(n){const e=n+"CollectionProvider",[t,i]=wl(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=I=>{const{scope:P,children:L}=I,V=Fr.useRef(null),j=Fr.useRef(new Map).current;return O.jsx(o,{scope:P,itemMap:j,collectionRef:V,children:L})};c.displayName=e;const h=n+"CollectionSlot",f=sl(h),v=Fr.forwardRef((I,P)=>{const{scope:L,children:V}=I,j=a(h,L),K=ot(P,j.collectionRef);return O.jsx(f,{ref:K,children:V})});v.displayName=h;const _=n+"CollectionItemSlot",w="data-radix-collection-item",T=sl(_),C=Fr.forwardRef((I,P)=>{const{scope:L,children:V,...j}=I,K=Fr.useRef(null),Z=ot(P,K),J=a(_,L);return Fr.useEffect(()=>(J.itemMap.set(K,{ref:K,...j}),()=>void J.itemMap.delete(K))),O.jsx(T,{[w]:"",ref:Z,children:V})});C.displayName=_;function D(I){const P=a(n+"CollectionConsumer",I);return Fr.useCallback(()=>{const V=P.collectionRef.current;if(!V)return[];const j=Array.from(V.querySelectorAll(`[${w}]`));return Array.from(P.itemMap.values()).sort((J,x)=>j.indexOf(J.ref.current)-j.indexOf(x.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:c,Slot:v,ItemSlot:C},D,i]}var GC=R.createContext(void 0);function QC(n){const e=R.useContext(GC);return n||e||"ltr"}var Xh=0;function iw(){R.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??qv()),document.body.insertAdjacentElement("beforeend",n[1]??qv()),Xh++,()=>{Xh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xh--}},[])}function qv(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Jh="focusScope.autoFocusOnMount",Zh="focusScope.autoFocusOnUnmount",Kv={bubbles:!1,cancelable:!0},YC="FocusScope",hp=R.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[h,f]=R.useState(null),v=ws(o),_=ws(a),w=R.useRef(null),T=ot(e,I=>f(I)),C=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(i){let I=function(j){if(C.paused||!h)return;const K=j.target;h.contains(K)?w.current=K:Si(w.current,{select:!0})},P=function(j){if(C.paused||!h)return;const K=j.relatedTarget;K!==null&&(h.contains(K)||Si(w.current,{select:!0}))},L=function(j){if(document.activeElement===document.body)for(const Z of j)Z.removedNodes.length>0&&Si(h)};document.addEventListener("focusin",I),document.addEventListener("focusout",P);const V=new MutationObserver(L);return h&&V.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",P),V.disconnect()}}},[i,h,C.paused]),R.useEffect(()=>{if(h){Qv.add(C);const I=document.activeElement;if(!h.contains(I)){const L=new CustomEvent(Jh,Kv);h.addEventListener(Jh,v),h.dispatchEvent(L),L.defaultPrevented||(XC(nA(sw(h)),{select:!0}),document.activeElement===I&&Si(h))}return()=>{h.removeEventListener(Jh,v),setTimeout(()=>{const L=new CustomEvent(Zh,Kv);h.addEventListener(Zh,_),h.dispatchEvent(L),L.defaultPrevented||Si(I??document.body,{select:!0}),h.removeEventListener(Zh,_),Qv.remove(C)},0)}}},[h,v,_,C]);const D=R.useCallback(I=>{if(!t&&!i||C.paused)return;const P=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,L=document.activeElement;if(P&&L){const V=I.currentTarget,[j,K]=JC(V);j&&K?!I.shiftKey&&L===K?(I.preventDefault(),t&&Si(j,{select:!0})):I.shiftKey&&L===j&&(I.preventDefault(),t&&Si(K,{select:!0})):L===V&&I.preventDefault()}},[t,i,C.paused]);return O.jsx(Xe.div,{tabIndex:-1,...c,ref:T,onKeyDown:D})});hp.displayName=YC;function XC(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Si(i,{select:e}),document.activeElement!==t)return}function JC(n){const e=sw(n),t=Gv(e,n),i=Gv(e.reverse(),n);return[t,i]}function sw(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Gv(n,e){for(const t of n)if(!ZC(t,{upTo:e}))return t}function ZC(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function eA(n){return n instanceof HTMLInputElement&&"select"in n}function Si(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&eA(n)&&e&&n.select()}}var Qv=tA();function tA(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Yv(n,e),n.unshift(e)},remove(e){var t;n=Yv(n,e),(t=n[0])==null||t.resume()}}}function Yv(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function nA(n){return n.filter(e=>e.tagName!=="A")}function rA(n){const e=R.useRef({value:n,previous:n});return R.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var iA=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},So=new WeakMap,Zu=new WeakMap,ec={},ef=0,ow=function(n){return n&&(n.host||ow(n.parentNode))},sA=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=ow(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},oA=function(n,e,t,i){var o=sA(e,Array.isArray(n)?n:[n]);ec[t]||(ec[t]=new WeakMap);var a=ec[t],c=[],h=new Set,f=new Set(o),v=function(w){!w||h.has(w)||(h.add(w),v(w.parentNode))};o.forEach(v);var _=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(T){if(h.has(T))_(T);else try{var C=T.getAttribute(i),D=C!==null&&C!=="false",I=(So.get(T)||0)+1,P=(a.get(T)||0)+1;So.set(T,I),a.set(T,P),c.push(T),I===1&&D&&Zu.set(T,!0),P===1&&T.setAttribute(t,"true"),D||T.setAttribute(i,"true")}catch(L){console.error("aria-hidden: cannot operate on ",T,L)}})};return _(e),h.clear(),ef++,function(){c.forEach(function(w){var T=So.get(w)-1,C=a.get(w)-1;So.set(w,T),a.set(w,C),T||(Zu.has(w)||w.removeAttribute(i),Zu.delete(w)),C||w.removeAttribute(t)}),ef--,ef||(So=new WeakMap,So=new WeakMap,Zu=new WeakMap,ec={})}},aw=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=iA(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),oA(i,o,t,"aria-hidden")):function(){return null}},cr=function(){return cr=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},cr.apply(this,arguments)};function Il(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function aA(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}var cc="right-scroll-bar-position",dc="width-before-scroll-bar",lA="with-scroll-bars-hidden",uA="--removed-body-scroll-bar-size";function tf(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function cA(n,e){var t=R.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var dA=typeof window<"u"?R.useLayoutEffect:R.useEffect,Xv=new WeakMap;function hA(n,e){var t=cA(null,function(i){return n.forEach(function(o){return tf(o,i)})});return dA(function(){var i=Xv.get(t);if(i){var o=new Set(i),a=new Set(n),c=t.current;o.forEach(function(h){a.has(h)||tf(h,null)}),a.forEach(function(h){o.has(h)||tf(h,c)})}Xv.set(t,n)},[n]),t}function fA(n){return n}function pA(n,e){e===void 0&&(e=fA);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,i);return t.push(c),function(){t=t.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(i=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){i=!0;var c=[];if(t.length){var h=t;t=[],h.forEach(a),c=t}var f=function(){var _=c;c=[],_.forEach(a)},v=function(){return Promise.resolve().then(f)};v(),t={push:function(_){c.push(_),v()},filter:function(_){return c=c.filter(_),t}}}};return o}function mA(n){n===void 0&&(n={});var e=pA(null);return e.options=cr({async:!0,ssr:!1},n),e}var lw=function(n){var e=n.sideCar,t=Il(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return R.createElement(i,cr({},t))};lw.isSideCarExport=!0;function gA(n,e){return n.useMedium(e),lw}var uw=mA(),nf=function(){},Zc=R.forwardRef(function(n,e){var t=R.useRef(null),i=R.useState({onScrollCapture:nf,onWheelCapture:nf,onTouchMoveCapture:nf}),o=i[0],a=i[1],c=n.forwardProps,h=n.children,f=n.className,v=n.removeScrollBar,_=n.enabled,w=n.shards,T=n.sideCar,C=n.noRelative,D=n.noIsolation,I=n.inert,P=n.allowPinchZoom,L=n.as,V=L===void 0?"div":L,j=n.gapMode,K=Il(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Z=T,J=hA([t,e]),x=cr(cr({},K),o);return R.createElement(R.Fragment,null,_&&R.createElement(Z,{sideCar:uw,removeScrollBar:v,shards:w,noRelative:C,noIsolation:D,inert:I,setCallbacks:a,allowPinchZoom:!!P,lockRef:t,gapMode:j}),c?R.cloneElement(R.Children.only(h),cr(cr({},x),{ref:J})):R.createElement(V,cr({},x,{className:f,ref:J}),h))});Zc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zc.classNames={fullWidth:dc,zeroRight:cc};var vA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yA(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=vA();return e&&n.setAttribute("nonce",e),n}function _A(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function wA(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var EA=function(){var n=0,e=null;return{add:function(t){n==0&&(e=yA())&&(_A(e,t),wA(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TA=function(){var n=EA();return function(e,t){R.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},cw=function(){var n=TA(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},SA={left:0,top:0,right:0,gap:0},rf=function(n){return parseInt(n||"",10)||0},IA=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[rf(t),rf(i),rf(o)]},CA=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return SA;var e=IA(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},AA=cw(),ko="data-scroll-locked",RA=function(n,e,t,i){var o=n.left,a=n.top,c=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(lA,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cc,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(dc,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(dc," .").concat(dc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(uA,": ").concat(h,`px;
  }
`)},Jv=function(){var n=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(n)?n:0},xA=function(){R.useEffect(function(){return document.body.setAttribute(ko,(Jv()+1).toString()),function(){var n=Jv()-1;n<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,n.toString())}},[])},PA=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;xA();var a=R.useMemo(function(){return CA(o)},[o]);return R.createElement(AA,{styles:RA(a,!e,o,t?"":"!important")})},Cf=!1;if(typeof window<"u")try{var tc=Object.defineProperty({},"passive",{get:function(){return Cf=!0,!0}});window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{Cf=!1}var Io=Cf?{passive:!1}:!1,kA=function(n){return n.tagName==="TEXTAREA"},dw=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!kA(n)&&t[e]==="visible")},NA=function(n){return dw(n,"overflowY")},bA=function(n){return dw(n,"overflowX")},Zv=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=hw(n,i);if(o){var a=fw(n,i),c=a[1],h=a[2];if(c>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},OA=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},DA=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},hw=function(n,e){return n==="v"?NA(e):bA(e)},fw=function(n,e){return n==="v"?OA(e):DA(e)},LA=function(n,e){return n==="h"&&e==="rtl"?-1:1},MA=function(n,e,t,i,o){var a=LA(n,window.getComputedStyle(e).direction),c=a*i,h=t.target,f=e.contains(h),v=!1,_=c>0,w=0,T=0;do{if(!h)break;var C=fw(n,h),D=C[0],I=C[1],P=C[2],L=I-P-a*D;(D||L)&&hw(n,h)&&(w+=L,T+=D);var V=h.parentNode;h=V&&V.nodeType===Node.DOCUMENT_FRAGMENT_NODE?V.host:V}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(_&&Math.abs(w)<1||!_&&Math.abs(T)<1)&&(v=!0),v},nc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},ey=function(n){return[n.deltaX,n.deltaY]},ty=function(n){return n&&"current"in n?n.current:n},VA=function(n,e){return n[0]===e[0]&&n[1]===e[1]},FA=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},UA=0,Co=[];function jA(n){var e=R.useRef([]),t=R.useRef([0,0]),i=R.useRef(),o=R.useState(UA++)[0],a=R.useState(cw)[0],c=R.useRef(n);R.useEffect(function(){c.current=n},[n]),R.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var I=aA([n.lockRef.current],(n.shards||[]).map(ty),!0).filter(Boolean);return I.forEach(function(P){return P.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),I.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=R.useCallback(function(I,P){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!c.current.allowPinchZoom;var L=nc(I),V=t.current,j="deltaX"in I?I.deltaX:V[0]-L[0],K="deltaY"in I?I.deltaY:V[1]-L[1],Z,J=I.target,x=Math.abs(j)>Math.abs(K)?"h":"v";if("touches"in I&&x==="h"&&J.type==="range")return!1;var A=window.getSelection(),k=A&&A.anchorNode,M=k?k===J||k.contains(J):!1;if(M)return!1;var F=Zv(x,J);if(!F)return!0;if(F?Z=x:(Z=x==="v"?"h":"v",F=Zv(x,J)),!F)return!1;if(!i.current&&"changedTouches"in I&&(j||K)&&(i.current=Z),!Z)return!0;var B=i.current||Z;return MA(B,P,I,B==="h"?j:K)},[]),f=R.useCallback(function(I){var P=I;if(!(!Co.length||Co[Co.length-1]!==a)){var L="deltaY"in P?ey(P):nc(P),V=e.current.filter(function(Z){return Z.name===P.type&&(Z.target===P.target||P.target===Z.shadowParent)&&VA(Z.delta,L)})[0];if(V&&V.should){P.cancelable&&P.preventDefault();return}if(!V){var j=(c.current.shards||[]).map(ty).filter(Boolean).filter(function(Z){return Z.contains(P.target)}),K=j.length>0?h(P,j[0]):!c.current.noIsolation;K&&P.cancelable&&P.preventDefault()}}},[]),v=R.useCallback(function(I,P,L,V){var j={name:I,delta:P,target:L,should:V,shadowParent:BA(L)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(K){return K!==j})},1)},[]),_=R.useCallback(function(I){t.current=nc(I),i.current=void 0},[]),w=R.useCallback(function(I){v(I.type,ey(I),I.target,h(I,n.lockRef.current))},[]),T=R.useCallback(function(I){v(I.type,nc(I),I.target,h(I,n.lockRef.current))},[]);R.useEffect(function(){return Co.push(a),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:T}),document.addEventListener("wheel",f,Io),document.addEventListener("touchmove",f,Io),document.addEventListener("touchstart",_,Io),function(){Co=Co.filter(function(I){return I!==a}),document.removeEventListener("wheel",f,Io),document.removeEventListener("touchmove",f,Io),document.removeEventListener("touchstart",_,Io)}},[]);var C=n.removeScrollBar,D=n.inert;return R.createElement(R.Fragment,null,D?R.createElement(a,{styles:FA(o)}):null,C?R.createElement(PA,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function BA(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const zA=gA(uw,jA);var fp=R.forwardRef(function(n,e){return R.createElement(Zc,cr({},n,{ref:e,sideCar:zA}))});fp.classNames=Zc.classNames;var $A=[" ","Enter","ArrowUp","ArrowDown"],WA=[" ","Enter"],Ts="Select",[ed,td,HA]=KC(Ts),[Qo]=wl(Ts,[HA,Qc]),nd=Qc(),[qA,Vi]=Qo(Ts),[KA,GA]=Qo(Ts),pw=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:a,value:c,defaultValue:h,onValueChange:f,dir:v,name:_,autoComplete:w,disabled:T,required:C,form:D}=n,I=nd(e),[P,L]=R.useState(null),[V,j]=R.useState(null),[K,Z]=R.useState(!1),J=QC(v),[x,A]=Cc({prop:i,defaultProp:o??!1,onChange:a,caller:Ts}),[k,M]=Cc({prop:c,defaultProp:h,onChange:f,caller:Ts}),F=R.useRef(null),B=P?D||!!P.closest("form"):!0,[N,_e]=R.useState(new Set),Le=Array.from(N).map(Te=>Te.props.value).join(";");return O.jsx($_,{...I,children:O.jsxs(qA,{required:C,scope:e,trigger:P,onTriggerChange:L,valueNode:V,onValueNodeChange:j,valueNodeHasChildren:K,onValueNodeHasChildrenChange:Z,contentId:vs(),value:k,onValueChange:M,open:x,onOpenChange:A,dir:J,triggerPointerDownPosRef:F,disabled:T,children:[O.jsx(ed.Provider,{scope:e,children:O.jsx(KA,{scope:n.__scopeSelect,onNativeOptionAdd:R.useCallback(Te=>{_e(ve=>new Set(ve).add(Te))},[]),onNativeOptionRemove:R.useCallback(Te=>{_e(ve=>{const Y=new Set(ve);return Y.delete(Te),Y})},[]),children:t})}),B?O.jsxs(Mw,{"aria-hidden":!0,required:C,tabIndex:-1,name:_,autoComplete:w,value:k,onChange:Te=>M(Te.target.value),disabled:T,form:D,children:[k===void 0?O.jsx("option",{value:""}):null,Array.from(N)]},Le):null]})})};pw.displayName=Ts;var mw="SelectTrigger",gw=R.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=n,a=nd(t),c=Vi(mw,t),h=c.disabled||i,f=ot(e,c.onTriggerChange),v=td(t),_=R.useRef("touch"),[w,T,C]=Fw(I=>{const P=v().filter(j=>!j.disabled),L=P.find(j=>j.value===c.value),V=Uw(P,I,L);V!==void 0&&c.onValueChange(V.value)}),D=I=>{h||(c.onOpenChange(!0),C()),I&&(c.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return O.jsx(W_,{asChild:!0,...a,children:O.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Vw(c.value)?"":void 0,...o,ref:f,onClick:Ke(o.onClick,I=>{I.currentTarget.focus(),_.current!=="mouse"&&D(I)}),onPointerDown:Ke(o.onPointerDown,I=>{_.current=I.pointerType;const P=I.target;P.hasPointerCapture(I.pointerId)&&P.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(D(I),I.preventDefault())}),onKeyDown:Ke(o.onKeyDown,I=>{const P=w.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&T(I.key),!(P&&I.key===" ")&&$A.includes(I.key)&&(D(),I.preventDefault())})})})});gw.displayName=mw;var vw="SelectValue",yw=R.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,children:a,placeholder:c="",...h}=n,f=Vi(vw,t),{onValueNodeHasChildrenChange:v}=f,_=a!==void 0,w=ot(e,f.onValueNodeChange);return Ht(()=>{v(_)},[v,_]),O.jsx(Xe.span,{...h,ref:w,style:{pointerEvents:"none"},children:Vw(f.value)?O.jsx(O.Fragment,{children:c}):a})});yw.displayName=vw;var QA="SelectIcon",_w=R.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...o}=n;return O.jsx(Xe.span,{"aria-hidden":!0,...o,ref:e,children:i||""})});_w.displayName=QA;var YA="SelectPortal",ww=n=>O.jsx(Yc,{asChild:!0,...n});ww.displayName=YA;var Ss="SelectContent",Ew=R.forwardRef((n,e)=>{const t=Vi(Ss,n.__scopeSelect),[i,o]=R.useState();if(Ht(()=>{o(new DocumentFragment)},[]),!t.open){const a=i;return a?El.createPortal(O.jsx(Tw,{scope:n.__scopeSelect,children:O.jsx(ed.Slot,{scope:n.__scopeSelect,children:O.jsx("div",{children:n.children})})}),a):null}return O.jsx(Sw,{...n,ref:e})});Ew.displayName=Ss;var Kn=10,[Tw,Fi]=Qo(Ss),XA="SelectContentImpl",JA=sl("SelectContent.RemoveScroll"),Sw=R.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:h,sideOffset:f,align:v,alignOffset:_,arrowPadding:w,collisionBoundary:T,collisionPadding:C,sticky:D,hideWhenDetached:I,avoidCollisions:P,...L}=n,V=Vi(Ss,t),[j,K]=R.useState(null),[Z,J]=R.useState(null),x=ot(e,ue=>K(ue)),[A,k]=R.useState(null),[M,F]=R.useState(null),B=td(t),[N,_e]=R.useState(!1),Le=R.useRef(!1);R.useEffect(()=>{if(j)return aw(j)},[j]),iw();const Te=R.useCallback(ue=>{const[ye,...Oe]=B().map(Ue=>Ue.ref.current),[Pe]=Oe.slice(-1),Me=document.activeElement;for(const Ue of ue)if(Ue===Me||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===ye&&Z&&(Z.scrollTop=0),Ue===Pe&&Z&&(Z.scrollTop=Z.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==Me))return},[B,Z]),ve=R.useCallback(()=>Te([A,j]),[Te,A,j]);R.useEffect(()=>{N&&ve()},[N,ve]);const{onOpenChange:Y,triggerPointerDownPosRef:le}=V;R.useEffect(()=>{if(j){let ue={x:0,y:0};const ye=Pe=>{var Me,Ue;ue={x:Math.abs(Math.round(Pe.pageX)-(((Me=le.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((Ue=le.current)==null?void 0:Ue.y)??0))}},Oe=Pe=>{ue.x<=10&&ue.y<=10?Pe.preventDefault():j.contains(Pe.target)||Y(!1),document.removeEventListener("pointermove",ye),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[j,Y,le]),R.useEffect(()=>{const ue=()=>Y(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[Y]);const[oe,$]=Fw(ue=>{const ye=B().filter(Me=>!Me.disabled),Oe=ye.find(Me=>Me.ref.current===document.activeElement),Pe=Uw(ye,ue,Oe);Pe&&setTimeout(()=>Pe.ref.current.focus())}),X=R.useCallback((ue,ye,Oe)=>{const Pe=!Le.current&&!Oe;(V.value!==void 0&&V.value===ye||Pe)&&(k(ue),Pe&&(Le.current=!0))},[V.value]),fe=R.useCallback(()=>j==null?void 0:j.focus(),[j]),Ce=R.useCallback((ue,ye,Oe)=>{const Pe=!Le.current&&!Oe;(V.value!==void 0&&V.value===ye||Pe)&&F(ue)},[V.value]),xe=i==="popper"?Af:Iw,De=xe===Af?{side:h,sideOffset:f,align:v,alignOffset:_,arrowPadding:w,collisionBoundary:T,collisionPadding:C,sticky:D,hideWhenDetached:I,avoidCollisions:P}:{};return O.jsx(Tw,{scope:t,content:j,viewport:Z,onViewportChange:J,itemRefCallback:X,selectedItem:A,onItemLeave:fe,itemTextRefCallback:Ce,focusSelectedItem:ve,selectedItemText:M,position:i,isPositioned:N,searchRef:oe,children:O.jsx(fp,{as:JA,allowPinchZoom:!0,children:O.jsx(hp,{asChild:!0,trapped:V.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Ke(o,ue=>{var ye;(ye=V.trigger)==null||ye.focus({preventScroll:!0}),ue.preventDefault()}),children:O.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>V.onOpenChange(!1),children:O.jsx(xe,{role:"listbox",id:V.contentId,"data-state":V.open?"open":"closed",dir:V.dir,onContextMenu:ue=>ue.preventDefault(),...L,...De,onPlaced:()=>_e(!0),ref:x,style:{display:"flex",flexDirection:"column",outline:"none",...L.style},onKeyDown:Ke(L.onKeyDown,ue=>{const ye=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!ye&&ue.key.length===1&&$(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Pe=B().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Me=ue.target,Ue=Pe.indexOf(Me);Pe=Pe.slice(Ue+1)}setTimeout(()=>Te(Pe)),ue.preventDefault()}})})})})})})});Sw.displayName=XA;var ZA="SelectItemAlignedPosition",Iw=R.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=n,a=Vi(Ss,t),c=Fi(Ss,t),[h,f]=R.useState(null),[v,_]=R.useState(null),w=ot(e,x=>_(x)),T=td(t),C=R.useRef(!1),D=R.useRef(!0),{viewport:I,selectedItem:P,selectedItemText:L,focusSelectedItem:V}=c,j=R.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&v&&I&&P&&L){const x=a.trigger.getBoundingClientRect(),A=v.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),M=L.getBoundingClientRect();if(a.dir!=="rtl"){const Me=M.left-A.left,Ue=k.left-Me,lt=x.left-Ue,It=x.width+lt,mn=Math.max(It,A.width),Pn=window.innerWidth-Kn,kn=Hv(Ue,[Kn,Math.max(Kn,Pn-mn)]);h.style.minWidth=It+"px",h.style.left=kn+"px"}else{const Me=A.right-M.right,Ue=window.innerWidth-k.right-Me,lt=window.innerWidth-x.right-Ue,It=x.width+lt,mn=Math.max(It,A.width),Pn=window.innerWidth-Kn,kn=Hv(Ue,[Kn,Math.max(Kn,Pn-mn)]);h.style.minWidth=It+"px",h.style.right=kn+"px"}const F=T(),B=window.innerHeight-Kn*2,N=I.scrollHeight,_e=window.getComputedStyle(v),Le=parseInt(_e.borderTopWidth,10),Te=parseInt(_e.paddingTop,10),ve=parseInt(_e.borderBottomWidth,10),Y=parseInt(_e.paddingBottom,10),le=Le+Te+N+Y+ve,oe=Math.min(P.offsetHeight*5,le),$=window.getComputedStyle(I),X=parseInt($.paddingTop,10),fe=parseInt($.paddingBottom,10),Ce=x.top+x.height/2-Kn,xe=B-Ce,De=P.offsetHeight/2,ue=P.offsetTop+De,ye=Le+Te+ue,Oe=le-ye;if(ye<=Ce){const Me=F.length>0&&P===F[F.length-1].ref.current;h.style.bottom="0px";const Ue=v.clientHeight-I.offsetTop-I.offsetHeight,lt=Math.max(xe,De+(Me?fe:0)+Ue+ve),It=ye+lt;h.style.height=It+"px"}else{const Me=F.length>0&&P===F[0].ref.current;h.style.top="0px";const lt=Math.max(Ce,Le+I.offsetTop+(Me?X:0)+De)+Oe;h.style.height=lt+"px",I.scrollTop=ye-Ce+I.offsetTop}h.style.margin=`${Kn}px 0`,h.style.minHeight=oe+"px",h.style.maxHeight=B+"px",i==null||i(),requestAnimationFrame(()=>C.current=!0)}},[T,a.trigger,a.valueNode,h,v,I,P,L,a.dir,i]);Ht(()=>j(),[j]);const[K,Z]=R.useState();Ht(()=>{v&&Z(window.getComputedStyle(v).zIndex)},[v]);const J=R.useCallback(x=>{x&&D.current===!0&&(j(),V==null||V(),D.current=!1)},[j,V]);return O.jsx(tR,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:C,onScrollButtonChange:J,children:O.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:K},children:O.jsx(Xe.div,{...o,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Iw.displayName=ZA;var eR="SelectPopperPosition",Af=R.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=Kn,...a}=n,c=nd(t);return O.jsx(H_,{...c,...a,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Af.displayName=eR;var[tR,pp]=Qo(Ss,{}),Rf="SelectViewport",Cw=R.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...o}=n,a=Fi(Rf,t),c=pp(Rf,t),h=ot(e,a.onViewportChange),f=R.useRef(0);return O.jsxs(O.Fragment,{children:[O.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),O.jsx(ed.Slot,{scope:t,children:O.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ke(o.onScroll,v=>{const _=v.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:T}=c;if(T!=null&&T.current&&w){const C=Math.abs(f.current-_.scrollTop);if(C>0){const D=window.innerHeight-Kn*2,I=parseFloat(w.style.minHeight),P=parseFloat(w.style.height),L=Math.max(I,P);if(L<D){const V=L+C,j=Math.min(D,V),K=V-j;w.style.height=j+"px",w.style.bottom==="0px"&&(_.scrollTop=K>0?K:0,w.style.justifyContent="flex-end")}}}f.current=_.scrollTop})})})]})});Cw.displayName=Rf;var Aw="SelectGroup",[nR,rR]=Qo(Aw),iR=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=vs();return O.jsx(nR,{scope:t,id:o,children:O.jsx(Xe.div,{role:"group","aria-labelledby":o,...i,ref:e})})});iR.displayName=Aw;var Rw="SelectLabel",sR=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=rR(Rw,t);return O.jsx(Xe.div,{id:o.id,...i,ref:e})});sR.displayName=Rw;var Ac="SelectItem",[oR,xw]=Qo(Ac),Pw=R.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:a,...c}=n,h=Vi(Ac,t),f=Fi(Ac,t),v=h.value===i,[_,w]=R.useState(a??""),[T,C]=R.useState(!1),D=ot(e,V=>{var j;return(j=f.itemRefCallback)==null?void 0:j.call(f,V,i,o)}),I=vs(),P=R.useRef("touch"),L=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return O.jsx(oR,{scope:t,value:i,disabled:o,textId:I,isSelected:v,onItemTextChange:R.useCallback(V=>{w(j=>j||((V==null?void 0:V.textContent)??"").trim())},[]),children:O.jsx(ed.ItemSlot,{scope:t,value:i,disabled:o,textValue:_,children:O.jsx(Xe.div,{role:"option","aria-labelledby":I,"data-highlighted":T?"":void 0,"aria-selected":v&&T,"data-state":v?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:D,onFocus:Ke(c.onFocus,()=>C(!0)),onBlur:Ke(c.onBlur,()=>C(!1)),onClick:Ke(c.onClick,()=>{P.current!=="mouse"&&L()}),onPointerUp:Ke(c.onPointerUp,()=>{P.current==="mouse"&&L()}),onPointerDown:Ke(c.onPointerDown,V=>{P.current=V.pointerType}),onPointerMove:Ke(c.onPointerMove,V=>{var j;P.current=V.pointerType,o?(j=f.onItemLeave)==null||j.call(f):P.current==="mouse"&&V.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(c.onPointerLeave,V=>{var j;V.currentTarget===document.activeElement&&((j=f.onItemLeave)==null||j.call(f))}),onKeyDown:Ke(c.onKeyDown,V=>{var K;((K=f.searchRef)==null?void 0:K.current)!==""&&V.key===" "||(WA.includes(V.key)&&L(),V.key===" "&&V.preventDefault())})})})})});Pw.displayName=Ac;var Ya="SelectItemText",kw=R.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,...a}=n,c=Vi(Ya,t),h=Fi(Ya,t),f=xw(Ya,t),v=GA(Ya,t),[_,w]=R.useState(null),T=ot(e,L=>w(L),f.onItemTextChange,L=>{var V;return(V=h.itemTextRefCallback)==null?void 0:V.call(h,L,f.value,f.disabled)}),C=_==null?void 0:_.textContent,D=R.useMemo(()=>O.jsx("option",{value:f.value,disabled:f.disabled,children:C},f.value),[f.disabled,f.value,C]),{onNativeOptionAdd:I,onNativeOptionRemove:P}=v;return Ht(()=>(I(D),()=>P(D)),[I,P,D]),O.jsxs(O.Fragment,{children:[O.jsx(Xe.span,{id:f.textId,...a,ref:T}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?El.createPortal(a.children,c.valueNode):null]})});kw.displayName=Ya;var Nw="SelectItemIndicator",bw=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return xw(Nw,t).isSelected?O.jsx(Xe.span,{"aria-hidden":!0,...i,ref:e}):null});bw.displayName=Nw;var xf="SelectScrollUpButton",Ow=R.forwardRef((n,e)=>{const t=Fi(xf,n.__scopeSelect),i=pp(xf,n.__scopeSelect),[o,a]=R.useState(!1),c=ot(e,i.onScrollButtonChange);return Ht(()=>{if(t.viewport&&t.isPositioned){let h=function(){const v=f.scrollTop>0;a(v)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?O.jsx(Lw,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});Ow.displayName=xf;var Pf="SelectScrollDownButton",Dw=R.forwardRef((n,e)=>{const t=Fi(Pf,n.__scopeSelect),i=pp(Pf,n.__scopeSelect),[o,a]=R.useState(!1),c=ot(e,i.onScrollButtonChange);return Ht(()=>{if(t.viewport&&t.isPositioned){let h=function(){const v=f.scrollHeight-f.clientHeight,_=Math.ceil(f.scrollTop)<v;a(_)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?O.jsx(Lw,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});Dw.displayName=Pf;var Lw=R.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=n,a=Fi("SelectScrollButton",t),c=R.useRef(null),h=td(t),f=R.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return R.useEffect(()=>()=>f(),[f]),Ht(()=>{var _;const v=h().find(w=>w.ref.current===document.activeElement);(_=v==null?void 0:v.ref.current)==null||_.scrollIntoView({block:"nearest"})},[h]),O.jsx(Xe.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ke(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:Ke(o.onPointerMove,()=>{var v;(v=a.onItemLeave)==null||v.call(a),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:Ke(o.onPointerLeave,()=>{f()})})}),aR="SelectSeparator",lR=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return O.jsx(Xe.div,{"aria-hidden":!0,...i,ref:e})});lR.displayName=aR;var kf="SelectArrow",uR=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=nd(t),a=Vi(kf,t),c=Fi(kf,t);return a.open&&c.position==="popper"?O.jsx(q_,{...o,...i,ref:e}):null});uR.displayName=kf;var cR="SelectBubbleInput",Mw=R.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const o=R.useRef(null),a=ot(i,o),c=rA(e);return R.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&_){const w=new Event("change",{bubbles:!0});_.call(h,e),h.dispatchEvent(w)}},[c,e]),O.jsx(Xe.select,{...t,style:{...K_,...t.style},ref:a,defaultValue:e})});Mw.displayName=cR;function Vw(n){return n===""||n===void 0}function Fw(n){const e=ws(n),t=R.useRef(""),i=R.useRef(0),o=R.useCallback(c=>{const h=t.current+c;e(h),(function f(v){t.current=v,window.clearTimeout(i.current),v!==""&&(i.current=window.setTimeout(()=>f(""),1e3))})(h)},[e]),a=R.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,a]}function Uw(n,e,t){const o=e.length>1&&Array.from(e).every(v=>v===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=dR(n,Math.max(a,0));o.length===1&&(c=c.filter(v=>v!==t));const f=c.find(v=>v.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==t?f:void 0}function dR(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var hR=pw,fR=gw,pR=yw,mR=_w,gR=ww,vR=Ew,yR=Cw,ny=Pw,ry=kw,_R=bw,wR=Ow,ER=Dw;function TR({value:n,onChange:e,options:t,placeholder:i="..."}){return O.jsxs(hR,{value:n||"__none__",onValueChange:o=>e(o==="__none__"?"":o),children:[O.jsxs(fR,{className:`flex-1 min-w-0 flex items-center justify-between gap-1 h-10 px-3
          rounded-xl border border-[rgba(223,205,128,0.65)] bg-black/25
          text-[#dfcd80] font-kanit font-bold text-sm outline-none
          focus:border-[#dfcd80] focus:ring-2 focus:ring-[rgba(223,205,128,0.15)]
          data-[placeholder]:text-[rgba(223,205,128,0.5)]
          truncate cursor-pointer`,"aria-label":"",children:[O.jsx(pR,{placeholder:i,className:"truncate"}),O.jsx(mR,{className:"ml-1 opacity-60 flex-shrink-0",children:O.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:O.jsx("path",{d:"M7 10l5 5 5-5z"})})})]}),O.jsx(gR,{children:O.jsxs(vR,{position:"popper",sideOffset:4,className:`z-50 min-w-[180px] max-h-60 overflow-auto rounded-xl
            border border-[rgba(223,205,128,0.3)] bg-zinc-900 shadow-2xl
            data-[state=open]:animate-in data-[state=closed]:animate-out
            data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0`,children:[O.jsx(wR,{className:"flex items-center justify-center h-6 text-[#dfcd80]",children:O.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:O.jsx("path",{d:"M7 14l5-5 5 5z"})})}),O.jsxs(yR,{className:"p-1",children:[O.jsx(ny,{value:"__none__",className:`flex items-center px-3 py-2 rounded-lg text-sm text-zinc-500
                cursor-pointer outline-none select-none
                data-[highlighted]:bg-zinc-800 data-[highlighted]:text-zinc-300`,children:O.jsx(ry,{children:i})}),t.map(o=>O.jsxs(ny,{value:o,className:`flex items-center px-3 py-2 rounded-lg text-sm
                  text-[#dfcd80] cursor-pointer outline-none select-none
                  data-[highlighted]:bg-zinc-800 data-[state=checked]:font-bold`,children:[O.jsx(_R,{className:"mr-2",children:O.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:O.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",fill:"none"})})}),O.jsx(ry,{children:o})]},o))]}),O.jsx(ER,{className:"flex items-center justify-center h-6 text-[#dfcd80]",children:O.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:O.jsx("path",{d:"M7 10l5 5 5-5z"})})})]})})]})}var rd="Dialog",[jw]=wl(rd),[SR,Jn]=jw(rd),Bw=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:o,onOpenChange:a,modal:c=!0}=n,h=R.useRef(null),f=R.useRef(null),[v,_]=Cc({prop:i,defaultProp:o??!1,onChange:a,caller:rd});return O.jsx(SR,{scope:e,triggerRef:h,contentRef:f,contentId:vs(),titleId:vs(),descriptionId:vs(),open:v,onOpenChange:_,onOpenToggle:R.useCallback(()=>_(w=>!w),[_]),modal:c,children:t})};Bw.displayName=rd;var zw="DialogTrigger",IR=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(zw,t),a=ot(e,o.triggerRef);return O.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":vp(o.open),...i,ref:a,onClick:Ke(n.onClick,o.onOpenToggle)})});IR.displayName=zw;var mp="DialogPortal",[CR,$w]=jw(mp,{forceMount:void 0}),Ww=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:o}=n,a=Jn(mp,e);return O.jsx(CR,{scope:e,forceMount:t,children:R.Children.map(i,c=>O.jsx(Go,{present:t||a.open,children:O.jsx(Yc,{asChild:!0,container:o,children:c})}))})};Ww.displayName=mp;var Rc="DialogOverlay",Hw=R.forwardRef((n,e)=>{const t=$w(Rc,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=Jn(Rc,n.__scopeDialog);return a.modal?O.jsx(Go,{present:i||a.open,children:O.jsx(RR,{...o,ref:e})}):null});Hw.displayName=Rc;var AR=sl("DialogOverlay.RemoveScroll"),RR=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Rc,t);return O.jsx(fp,{as:AR,allowPinchZoom:!0,shards:[o.contentRef],children:O.jsx(Xe.div,{"data-state":vp(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Is="DialogContent",qw=R.forwardRef((n,e)=>{const t=$w(Is,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=Jn(Is,n.__scopeDialog);return O.jsx(Go,{present:i||a.open,children:a.modal?O.jsx(xR,{...o,ref:e}):O.jsx(PR,{...o,ref:e})})});qw.displayName=Is;var xR=R.forwardRef((n,e)=>{const t=Jn(Is,n.__scopeDialog),i=R.useRef(null),o=ot(e,t.contentRef,i);return R.useEffect(()=>{const a=i.current;if(a)return aw(a)},[]),O.jsx(Kw,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(n.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ke(n.onPointerDownOutside,a=>{const c=a.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0;(c.button===2||h)&&a.preventDefault()}),onFocusOutside:Ke(n.onFocusOutside,a=>a.preventDefault())})}),PR=R.forwardRef((n,e)=>{const t=Jn(Is,n.__scopeDialog),i=R.useRef(!1),o=R.useRef(!1);return O.jsx(Kw,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,h;(c=n.onCloseAutoFocus)==null||c.call(n,a),a.defaultPrevented||(i.current||(h=t.triggerRef.current)==null||h.focus(),a.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:a=>{var f,v;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((v=t.triggerRef.current)==null?void 0:v.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Kw=R.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=n,h=Jn(Is,t),f=R.useRef(null),v=ot(e,f);return iw(),O.jsxs(O.Fragment,{children:[O.jsx(hp,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:a,children:O.jsx(Wc,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":vp(h.open),...c,ref:v,onDismiss:()=>h.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(kR,{titleId:h.titleId}),O.jsx(bR,{contentRef:f,descriptionId:h.descriptionId})]})]})}),gp="DialogTitle",Gw=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(gp,t);return O.jsx(Xe.h2,{id:o.titleId,...i,ref:e})});Gw.displayName=gp;var Qw="DialogDescription",Yw=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Qw,t);return O.jsx(Xe.p,{id:o.descriptionId,...i,ref:e})});Yw.displayName=Qw;var Xw="DialogClose",Jw=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Xw,t);return O.jsx(Xe.button,{type:"button",...i,ref:e,onClick:Ke(n.onClick,()=>o.onOpenChange(!1))})});Jw.displayName=Xw;function vp(n){return n?"open":"closed"}var Zw="DialogTitleWarning",[Xb,e0]=MS(Zw,{contentName:Is,titleName:gp,docsSlug:"dialog"}),kR=({titleId:n})=>{const e=e0(Zw),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return R.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},NR="DialogDescriptionWarning",bR=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e0(NR).contentName}}.`;return R.useEffect(()=>{var a;const o=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},t0=Bw,n0=Ww,r0=Hw,i0=qw,s0=Gw,o0=Yw,a0=Jw;function l0({open:n,title:e,label:t,defaultValue:i="",onConfirm:o,onCancel:a}){const[c,h]=R.useState(i),f=R.useRef(null);R.useEffect(()=>{n&&(h(i),setTimeout(()=>{var w;return(w=f.current)==null?void 0:w.focus()},50))},[n,i]);function v(){const w=c.trim();w&&o(w)}function _(w){w.key==="Enter"&&v(),w.key==="Escape"&&a()}return O.jsx(t0,{open:n,onOpenChange:w=>!w&&a(),children:O.jsxs(n0,{children:[O.jsx(r0,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50"}),O.jsxs(i0,{className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50
            w-[90vw] max-w-sm rounded-2xl border border-[rgba(223,205,128,0.3)]
            bg-zinc-900 p-6 shadow-2xl`,children:[O.jsx(s0,{className:"text-[#dfcd80] font-bold text-lg mb-1",children:e}),O.jsx(o0,{className:"text-zinc-400 text-sm mb-4",children:t}),O.jsx("input",{ref:f,value:c,onChange:w=>h(w.target.value),onKeyDown:_,className:`w-full h-11 rounded-xl border-2 border-[#dfcd80] bg-white
              text-black font-bold text-base px-3 outline-none`,placeholder:"..."}),O.jsxs("div",{className:"flex gap-3 mt-4",children:[O.jsx("button",{onClick:v,className:`flex-1 h-11 rounded-xl bg-[#dfcd80] text-black font-extrabold
                text-base hover:brightness-105 active:scale-[0.985] transition-all`,children:""}),O.jsx("button",{onClick:a,className:`flex-1 h-11 rounded-xl border border-[rgba(223,205,128,0.55)]
                text-[#dfcd80] font-extrabold text-base bg-transparent
                hover:bg-[rgba(223,205,128,0.08)] active:scale-[0.985] transition-all`,children:""})]}),O.jsx(a0,{asChild:!0,children:O.jsx("button",{"aria-label":"Close",className:`absolute top-3 right-3 text-zinc-500 hover:text-zinc-300
                w-7 h-7 flex items-center justify-center rounded-full text-lg`,onClick:a,children:""})})]})]})})}const fs=200,sf=[{name:"",steps:5},{name:"",steps:10},{name:"",steps:10},{name:"",steps:20},{name:"",steps:25},{name:"",steps:25},{name:"",steps:25},{name:"",steps:25},{name:"",steps:50},{name:"",steps:50}],hc=[{id:"extream",count:8,label:"Extream"},{id:"sport",count:7,label:"Sport"},{id:"standard",count:7,label:"Standard"}],OR={extream:["LaFerrari","Huayra BC","Ford GT","Centodieci","SVJ","Benz GT R","Chiron","Vulcan"],sport:["Reventon","Giulia","GT-R","XJ220","F-Type","NSX-R","4C Spider"],standard:["RX7","DB5","Emira","911 Carrera","Mach 1","Camaro Z/28","S15"]},u0={extream:[{pointBox:[.522,.27,.045,.1]},{pointBox:[.695,.27,.04,.1]},{pointBox:[.848,.27,.06,.1]},{pointBox:[.522,.5,.045,.1]},{pointBox:[.695,.5,.04,.1]},{pointBox:[.86,.5,.04,.1]},{pointBox:[.518,.73,.065,.12]},{pointBox:[.705,.73,.05,.12]}],sport:[{pointBox:[.536,.312,.055,.07]},{pointBox:[.719,.319,.04,.055]},{pointBox:[.894,.32,.04,.053]},{pointBox:[.544,.547,.039,.058]},{pointBox:[.719,.548,.039,.055]},{pointBox:[.868,.547,.04,.054]},{pointBox:[.517,.775,.04,.054]}],standard:[{pointBox:[.518,.388,.038,.039]},{pointBox:[.694,.39,.037,.037]},{pointBox:[.868,.386,.038,.045]},{pointBox:[.544,.616,.039,.041]},{pointBox:[.72,.617,.036,.039]},{pointBox:[.896,.617,.035,.038]},{pointBox:[.545,.844,.036,.039]}]};function ll(n){return String(n||"").trim()}function ps(n){return ll(n).toLowerCase()}function Nf(n,e){var h;const t=OR[n]||[],i=((h=e.customCars)==null?void 0:h[n])||[],o=[...t,...i].map(ll).filter(Boolean),a=new Set,c=[];for(const f of o){const v=ps(f);a.has(v)||(a.add(v),c.push(f))}return c}function DR({index:n,sectionId:e,value:t,isLocked:i,carValue:o,state:a,onValueChange:c,onToggleLock:h,onCarChange:f,onAddCustomCar:v,onCalc:_}){const[w,T]=R.useState(!1),C=Nf(e,a);function D(I){const P=ll(I);if(!P)return;C.some(V=>ps(V)===ps(P))||v(P),f(P),T(!1)}return O.jsx(qC,{delayDuration:400,children:O.jsxs("div",{className:`flex gap-[6px] items-center ${i?"locked-row":""}`,children:[O.jsx("input",{type:"number",inputMode:"numeric",placeholder:` #${n+1}`,value:t,onChange:I=>c(I.target.value),onKeyDown:I=>I.key==="Enter"&&_(),className:`w-[130px] flex-shrink-0 h-10 rounded-xl border-2 border-[#dfcd80]
            bg-white text-black font-extrabold text-base text-center px-2 outline-none
            placeholder:text-gray-400 placeholder:font-semibold
            [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none
            [&::-webkit-outer-spin-button]:appearance-none`}),O.jsxs(jv,{children:[O.jsx(Bv,{asChild:!0,children:O.jsx("button",{type:"button",onClick:h,className:`w-10 h-10 flex-shrink-0 rounded-xl flex items-center justify-center
                cursor-pointer transition-all active:scale-[0.97]
                ${i?"border border-[rgba(223,205,128,0.65)] bg-[rgba(223,205,128,0.12)] text-[#dfcd80]":"border border-white/20 bg-transparent text-white/80 hover:bg-white/5"}`,children:i?O.jsx(NS,{}):O.jsx(bS,{})})}),O.jsx(zv,{children:O.jsxs($v,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[i?" (Reset )":"",O.jsx(Wv,{className:"fill-zinc-800"})]})})]}),O.jsx(TR,{value:o,onChange:f,options:C}),O.jsxs(jv,{children:[O.jsx(Bv,{asChild:!0,children:O.jsx("button",{type:"button",onClick:()=>T(!0),className:`w-10 h-10 flex-shrink-0 rounded-xl border border-[rgba(223,205,128,0.55)]
                bg-[rgba(223,205,128,0.10)] text-[#dfcd80]
                flex items-center justify-center cursor-pointer
                hover:bg-[rgba(223,205,128,0.18)] active:scale-[0.97] transition-all`,children:O.jsx(OS,{})})}),O.jsx(zv,{children:O.jsxs($v,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[" / ",O.jsx(Wv,{className:"fill-zinc-800"})]})})]}),O.jsx(l0,{open:w,title:"",label:" ( dropdown )",defaultValue:o,onConfirm:D,onCancel:()=>T(!1)})]})})}function LR({sectionId:n,label:e,badgeText:t,state:i,isImporting:o,onStateChange:a,onImport:c,onCalc:h}){const[f,v]=R.useState(!1),_=i.sections[n],w=i.locked[n],T=i.cars[n];function C(P,L,V){a(j=>{const K=[...j[L][n]];return K[P]=V,{...j,[L]:{...j[L],[n]:K}}})}function D(P){const L=ll(P);!L||Nf(n,i).some(j=>ps(j)===ps(L))||a(j=>({...j,customCars:{...j.customCars,[n]:[...j.customCars[n]||[],L]}}))}function I(P){const L=ll(P);if(!L)return;Nf(n,i).some(j=>ps(j)===ps(L))||D(L),v(!1)}return O.jsxs("div",{className:`flex flex-col rounded-[18px] bg-gradient-to-b from-[#0b0b0b] to-[#101010]
      border border-[rgba(223,205,128,0.22)] shadow-[0_10px_30px_rgba(0,0,0,0.55)]
      p-3 min-h-0`,children:[O.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-shrink-0",children:[O.jsx("span",{className:"text-[#dfcd80] font-bold text-[17px]",children:e}),O.jsx("span",{className:"text-[12px] text-black bg-[#dfcd80] rounded-full px-[10px] py-[2px] font-bold",children:t}),O.jsxs("button",{type:"button",onClick:()=>c(n),disabled:o,className:`ml-auto flex items-center gap-1.5 h-7 px-[10px] rounded-full
            border border-[rgba(223,205,128,0.55)] bg-[rgba(223,205,128,0.10)]
            text-[#dfcd80] font-extrabold text-[12px] cursor-pointer
            hover:bg-[rgba(223,205,128,0.16)] active:scale-[0.98] transition-all
            disabled:opacity-50 disabled:cursor-wait`,children:[O.jsx(DS,{}),"Import"]}),O.jsx("button",{type:"button",onClick:()=>v(!0),className:`flex items-center gap-1 h-7 px-[10px] rounded-full
            border border-[rgba(223,205,128,0.55)] bg-[rgba(223,205,128,0.10)]
            text-[#dfcd80] font-extrabold text-[12px] cursor-pointer
            hover:bg-[rgba(223,205,128,0.16)] active:scale-[0.98] transition-all`,children:"+ Add"})]}),O.jsx("div",{className:"flex flex-col gap-[10px] overflow-auto section-scroll min-h-0 pr-1",children:_.map((P,L)=>O.jsx(DR,{index:L,sectionId:n,value:P,isLocked:w[L],carValue:T[L],state:i,onValueChange:V=>C(L,"sections",V),onToggleLock:()=>C(L,"locked",!w[L]),onCarChange:V=>C(L,"cars",V),onAddCustomCar:D,onCalc:h},L))}),O.jsx(l0,{open:f,title:` ${e}`,label:" dropdown",onConfirm:I,onCancel:()=>v(!1)})]})}function MR({bonus:n,onBonusChange:e,onCalc:t,onReset:i,result:o,isCalculating:a}){return O.jsxs("div",{className:`flex flex-col rounded-[18px] bg-gradient-to-b from-[#0b0b0b] to-[#101010]
      border border-[rgba(223,205,128,0.22)] shadow-[0_10px_30px_rgba(0,0,0,0.55)]
      p-3 min-h-0 min-w-[280px]`,children:[O.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-shrink-0",children:[O.jsx("span",{className:"text-[#dfcd80] font-bold text-[17px]",children:""}),O.jsx("span",{className:"text-[12px] text-black bg-[#dfcd80] rounded-full px-[10px] py-[2px] font-bold",children:""})]}),O.jsxs("div",{className:"flex flex-col gap-[10px]",children:[O.jsxs("div",{className:`rounded-2xl border border-dashed border-[rgba(223,205,128,0.35)]
          bg-white/[0.04] p-3 grid gap-3`,children:[O.jsxs("div",{className:"flex items-center justify-between gap-2",children:[O.jsx("span",{className:"text-[#dfcd80] font-bold whitespace-nowrap text-sm",children:""}),O.jsx("input",{type:"number",value:n,onChange:c=>e(Number(c.target.value)),className:`w-[110px] h-[42px] rounded-xl border-2 border-[#dfcd80]
                bg-white text-black font-extrabold text-base text-center
                outline-none [appearance:textfield]
                [&::-webkit-inner-spin-button]:appearance-none
                [&::-webkit-outer-spin-button]:appearance-none`})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-[10px]",children:[O.jsx("button",{type:"button",onClick:t,disabled:a,className:`h-[46px] rounded-[14px] bg-[#dfcd80] text-black font-extrabold text-base
                cursor-pointer hover:brightness-[1.03] active:scale-[0.985] transition-all
                disabled:opacity-70 disabled:cursor-wait flex items-center justify-center gap-2`,children:a?O.jsxs(O.Fragment,{children:["...",O.jsx("span",{className:`inline-block w-4 h-4 border-2 border-black/35
                    border-t-black/85 rounded-full animate-spin-fast`})]}):""}),O.jsx("button",{type:"button",onClick:i,className:`h-[46px] rounded-[14px] border border-[rgba(223,205,128,0.55)]
                text-[#dfcd80] font-extrabold text-base bg-transparent
                cursor-pointer hover:bg-[rgba(223,205,128,0.08)] active:scale-[0.985] transition-all`,children:"Reset"})]})]}),O.jsxs("div",{className:`rounded-[18px] border border-[rgba(223,205,128,0.25)]
          bg-white/[0.04] p-[14px]`,children:[O.jsxs("div",{className:"flex justify-between items-baseline gap-2 flex-wrap mb-1",children:[O.jsx("h2",{className:"m-0 text-[18px] text-[#dfcd80] font-extrabold",children:""}),O.jsx("span",{className:"text-[#eaeaea] text-sm font-mono tabular-nums",children:o?`: ${o.total.toLocaleString()} ( ${o.sum.toLocaleString()} +  ${o.bonus.toLocaleString()})`:": -"})]}),O.jsx("div",{className:"mt-1.5 text-[22px] font-extrabold text-white",children:o?`${o.rank.hat} ${o.rank.stepInHat} (${o.rank.inStep}/${o.rank.stepMax})`:"-"}),O.jsx("div",{className:"mt-1.5 text-[#a9a9a9] text-[13px] leading-[1.45]",children:o?` 1  = ${fs}    "${o.rank.hat}"  ${o.rank.stepInHat} / ${o.rank.hatSteps}`:`: 1  = ${fs}    " + "`})]})]})]})}function VR({user:n,onSignIn:e,onSignOut:t}){return O.jsxs("button",{type:"button",onClick:n?t:e,className:`fixed top-3 right-3 z-50 flex items-center gap-2
        h-9 px-3 rounded-[10px] bg-[#dfcd80] text-black font-bold text-sm
        cursor-pointer hover:brightness-105 active:scale-[0.98] transition-all
        shadow-lg`,children:[O.jsx(LS,{className:"w-4 h-4"}),n?`Logout (${n.displayName||"Google"})`:"Sign in with Google"]})}const rc=["#ff4444","#ff8800","#ffdd00","#44ff44","#00ccff","#8844ff","#ff44cc","#ffffff"];function FR({open:n,imageUrl:e,sectionId:t,points:i,onClose:o}){const a=R.useRef(null);return R.useEffect(()=>{if(!n||!e||!a.current)return;const c=a.current,h=c.getContext("2d"),f=new Image;f.src=e,f.onload=()=>{const v=Math.min(900,f.naturalWidth),_=v/f.naturalWidth;c.width=v,c.height=f.naturalHeight*_,h.drawImage(f,0,0,c.width,c.height),u0[t].forEach((T,C)=>{const[D,I,P,L]=T.pointBox,V=D*c.width,j=I*c.height,K=P*c.width,Z=L*c.height,J=rc[C%rc.length];h.fillStyle=J+"33",h.fillRect(V,j,K,Z),h.strokeStyle=J,h.lineWidth=2,h.strokeRect(V,j,K,Z);const x=`#${C+1}: ${i[C]||""}`;h.font="bold 13px monospace";const A=h.measureText(x).width;h.fillStyle="rgba(0,0,0,0.75)",h.fillRect(V,j-20,A+8,20),h.fillStyle=J,h.fillText(x,V+4,j-5)})}},[n,e,t,i]),O.jsx(t0,{open:n,onOpenChange:c=>!c&&o(),children:O.jsxs(n0,{children:[O.jsx(r0,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),O.jsxs(i0,{className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50
            w-[95vw] max-w-5xl max-h-[90vh] flex flex-col
            rounded-2xl border border-[rgba(223,205,128,0.3)] bg-zinc-900 shadow-2xl overflow-hidden`,children:[O.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-zinc-800 flex-shrink-0",children:[O.jsxs(s0,{className:"text-[#dfcd80] font-bold text-lg",children:["OCR Debug  ",t.toUpperCase()]}),O.jsx(o0,{className:"text-zinc-500 text-xs",children:"   = "}),O.jsx(a0,{asChild:!0,children:O.jsx("button",{onClick:o,className:`text-zinc-400 hover:text-white w-8 h-8 flex items-center justify-center
                  rounded-full hover:bg-zinc-700 text-xl transition-colors`,children:""})})]}),O.jsx("div",{className:"overflow-auto p-4 flex-1",children:O.jsx("canvas",{ref:a,className:"w-full rounded-xl border border-zinc-700",style:{imageRendering:"auto"}})}),O.jsx("div",{className:"flex flex-wrap gap-2 px-5 py-3 border-t border-zinc-800 flex-shrink-0",children:i.map((c,h)=>O.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-mono px-2 py-1 rounded-lg bg-zinc-800",children:[O.jsx("span",{className:"inline-block w-3 h-3 rounded-sm flex-shrink-0",style:{background:rc[h%rc.length]}}),O.jsxs("span",{className:"text-zinc-400",children:["#",h+1]}),O.jsx("span",{className:c?"text-white font-bold":"text-red-400",children:c||""})]},h))})]})]})})}const c0="rm_rank_calc_split_v1";function of(){return{bonus:1200,sections:{extream:Array(8).fill(""),sport:Array(7).fill(""),standard:Array(7).fill("")},locked:{extream:Array(8).fill(!1),sport:Array(7).fill(!1),standard:Array(7).fill(!1)},cars:{extream:Array(8).fill(""),sport:Array(7).fill(""),standard:Array(7).fill("")},customCars:{extream:[],sport:[],standard:[]}}}function UR(){var n,e,t,i;try{const o=localStorage.getItem(c0);if(!o)return of();const a=JSON.parse(o),c=of();for(const h of hc){const f=h.id;Array.isArray((n=a.sections)==null?void 0:n[f])&&(c.sections[f]=a.sections[f].slice(0,c.sections[f].length)),Array.isArray((e=a.locked)==null?void 0:e[f])&&(c.locked[f]=a.locked[f].slice(0,c.locked[f].length)),Array.isArray((t=a.cars)==null?void 0:t[f])&&(c.cars[f]=a.cars[f].slice(0,c.cars[f].length)),Array.isArray((i=a.customCars)==null?void 0:i[f])&&(c.customCars[f]=a.customCars[f])}return Number.isFinite(Number(a.bonus))&&(c.bonus=Number(a.bonus)),c}catch{return of()}}function iy(n){localStorage.setItem(c0,JSON.stringify(n))}function jR(n){(!Number.isFinite(n)||n<0)&&(n=0);const e=Math.floor(n/fs),t=n%fs;let i=0;for(const a of sf){const c=i+a.steps;if(e<c){const h=e-i+1;return{hat:a.name,stepInHat:h,inStep:t,stepMax:fs,hatSteps:a.steps}}i=c}const o=sf[sf.length-1];return{hat:o.name,stepInHat:o.steps,inStep:fs-1,stepMax:fs,hatSteps:o.steps}}const BR="modulepreload",zR=function(n){return"/cal-ranking-rm/"+n},sy={},$R=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let c=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=c(t.map(v=>{if(v=zR(v),v in sy)return;sy[v]=!0;const _=v.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":BR,_||(T.as="script"),T.crossOrigin="",T.href=v,f&&T.setAttribute("nonce",f),document.head.appendChild(T),_)return new Promise((C,D)=>{T.addEventListener("load",C),T.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${v}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};function WR(n){const t=[...String(n||"").matchAll(/\d+/g)].map(o=>o[0]).find(o=>o.length===4&&Number(o)>=1e3);if(t)return t;const i=String(n||"").replace(/\D/g,"");if(i.length>=4)for(let o=0;o<=i.length-4;o++){const a=i.slice(o,o+4);if(Number(a)>=1e3)return a}return""}function HR(n){return new Promise((e,t)=>{const i=URL.createObjectURL(n),o=new Image;o.onload=()=>{URL.revokeObjectURL(i),e(o)},o.onerror=t,o.src=i})}function qR(n,e,t,i){const[o,a,c,h]=e,f=Math.round(n.naturalWidth*o),v=Math.round(n.naturalHeight*a),_=Math.max(1,Math.round(n.naturalWidth*c)),w=Math.max(1,Math.round(n.naturalHeight*h)),T=document.createElement("canvas"),C=4;T.width=_*C,T.height=w*C;const D=T.getContext("2d");D.imageSmoothingEnabled=!0,D.imageSmoothingQuality="high",D.fillStyle="#fff",D.fillRect(0,0,T.width,T.height),D.drawImage(n,f,v,_,w,0,0,T.width,T.height);const I=D.getImageData(0,0,T.width,T.height),P=I.data;for(let L=0;L<P.length;L+=4){const j=P[L]*.299+P[L+1]*.587+P[L+2]*.114>t,K=(i?j:!j)?0:255;P[L]=P[L+1]=P[L+2]=K,P[L+3]=255}return D.putImageData(I,0,0),T}async function KR(n,e){const{data:t}=await e.recognize(n);return(t.text||"").trim()}async function GR(n,e){const t=u0[n];if(!(t!=null&&t.length))throw new Error(" OCR_BOXES ");return new Promise((i,o)=>{const a=document.createElement("input");a.type="file",a.accept="image/*",a.style.display="none",document.body.appendChild(a),a.onchange=async()=>{var f;const c=(f=a.files)==null?void 0:f[0];if(document.body.removeChild(a),!c){i({points:[],debugLog:[],imageUrl:""});return}const h=URL.createObjectURL(c);try{const v=await HR(c),{createWorker:_}=await $R(async()=>{const{createWorker:D}=await import("./index-BaolkEIw.js").then(I=>I.i);return{createWorker:D}},[]),w=await _("eng");await w.setParameters({tessedit_char_whitelist:"0123456789"});const T=[],C=[];for(let D=0;D<t.length;D++){const I=[[155,!0],[120,!0],[140,!1]];let P="";const L=[];for(const[j,K]of I){const Z=qR(v,t[D].pointBox,j,K),J=await KR(Z,w);L.push(`t${j}${K?"i":"n"}:"${J}"`);const x=WR(J);x&&!P&&(P=x)}const V=`box${D+1}: ${L.join(" | ")}  "${P}"`;C.push(V),console.log(`[OCR ${n}] ${V}`),T.push(P),e(Math.round((D+1)/t.length*100))}await w.terminate(),i({points:T,debugLog:C,imageUrl:h})}catch(v){URL.revokeObjectURL(h),o(v)}},a.click()})}var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},QR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},h0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,v=f?n[o+2]:0,_=a>>2,w=(a&3)<<4|h>>4;let T=(h&15)<<2|v>>6,C=v&63;f||(C=64,c||(T=64)),i.push(t[_],t[w],t[T],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(d0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||v==null||w==null)throw new YR;const T=a<<2|h>>4;if(i.push(T),v!==64){const C=h<<4&240|v>>2;if(i.push(C),w!==64){const D=v<<6&192|w;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class YR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XR=function(n){const e=d0(n);return h0.encodeByteArray(e,!0)},xc=function(n){return XR(n).replace(/\./g,"")},f0=function(n){try{return h0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=()=>JR().__FIREBASE_DEFAULTS__,ex=()=>{if(typeof process>"u"||typeof oy>"u")return;const n=oy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&f0(n[1]);return e&&JSON.parse(e)},id=()=>{try{return ZR()||ex()||tx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},p0=n=>{var e,t;return(t=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},nx=n=>{const e=p0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},m0=()=>{var n;return(n=id())===null||n===void 0?void 0:n.config},g0=n=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xc(JSON.stringify(t)),xc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function ox(){var n;const e=(n=id())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ax(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ux(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cx(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dx(){return!ox()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hx(){try{return typeof indexedDB=="object"}catch{return!1}}function fx(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="FirebaseError";class Xr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=px,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?mx(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Xr(o,h,i)}}function mx(n,e){return n.replace(gx,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const gx=/\{\$([^}]+)}/g;function vx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(ay(a)&&ay(c)){if(!Pc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ay(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function yx(n,e){const t=new _x(n,e);return t.subscribe.bind(t)}class _x{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");wx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=af),o.error===void 0&&(o.error=af),o.complete===void 0&&(o.complete=af);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(n){return n&&n._delegate?n._delegate:n}class Cs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new rx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sx(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Tx(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tx(n){return n===hs?void 0:n}function Sx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ex(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const Cx={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Ax=Be.INFO,Rx={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},xx=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=Rx[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=Ax,this._logHandler=xx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Px=(n,e)=>e.some(t=>n instanceof t);let ly,uy;function kx(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nx(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v0=new WeakMap,bf=new WeakMap,y0=new WeakMap,lf=new WeakMap,_p=new WeakMap;function bx(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(xi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&v0.set(t,n)}).catch(()=>{}),_p.set(e,n),e}function Ox(n){if(bf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});bf.set(n,e)}let Of={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||y0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Dx(n){Of=n(Of)}function Lx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(uf(this),e,...t);return y0.set(i,e.sort?e.sort():[e]),xi(i)}:Nx().includes(n)?function(...e){return n.apply(uf(this),e),xi(v0.get(this))}:function(...e){return xi(n.apply(uf(this),e))}}function Mx(n){return typeof n=="function"?Lx(n):(n instanceof IDBTransaction&&Ox(n),Px(n,kx())?new Proxy(n,Of):n)}function xi(n){if(n instanceof IDBRequest)return bx(n);if(lf.has(n))return lf.get(n);const e=Mx(n);return e!==n&&(lf.set(n,e),_p.set(e,n)),e}const uf=n=>_p.get(n);function Vx(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=xi(c);return i&&c.addEventListener("upgradeneeded",f=>{i(xi(c.result),f.oldVersion,f.newVersion,xi(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),h}const Fx=["get","getKey","getAll","getAllKeys","count"],Ux=["put","add","delete","clear"],cf=new Map;function cy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cf.get(e))return cf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=Ux.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Fx.includes(t)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let v=f.store;return i&&(v=v.index(h.shift())),(await Promise.all([v[t](...h),o&&f.done]))[0]};return cf.set(e,a),a}Dx(n=>({...n,get:(e,t,i)=>cy(e,t)||n.get(e,t,i),has:(e,t)=>!!cy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Bx(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Bx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Df="@firebase/app",dy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new yp("@firebase/app"),zx="@firebase/app-compat",$x="@firebase/analytics-compat",Wx="@firebase/analytics",Hx="@firebase/app-check-compat",qx="@firebase/app-check",Kx="@firebase/auth",Gx="@firebase/auth-compat",Qx="@firebase/database",Yx="@firebase/data-connect",Xx="@firebase/database-compat",Jx="@firebase/functions",Zx="@firebase/functions-compat",eP="@firebase/installations",tP="@firebase/installations-compat",nP="@firebase/messaging",rP="@firebase/messaging-compat",iP="@firebase/performance",sP="@firebase/performance-compat",oP="@firebase/remote-config",aP="@firebase/remote-config-compat",lP="@firebase/storage",uP="@firebase/storage-compat",cP="@firebase/firestore",dP="@firebase/vertexai-preview",hP="@firebase/firestore-compat",fP="firebase",pP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]",mP={[Df]:"fire-core",[zx]:"fire-core-compat",[Wx]:"fire-analytics",[$x]:"fire-analytics-compat",[qx]:"fire-app-check",[Hx]:"fire-app-check-compat",[Kx]:"fire-auth",[Gx]:"fire-auth-compat",[Qx]:"fire-rtdb",[Yx]:"fire-data-connect",[Xx]:"fire-rtdb-compat",[Jx]:"fire-fn",[Zx]:"fire-fn-compat",[eP]:"fire-iid",[tP]:"fire-iid-compat",[nP]:"fire-fcm",[rP]:"fire-fcm-compat",[iP]:"fire-perf",[sP]:"fire-perf-compat",[oP]:"fire-rc",[aP]:"fire-rc-compat",[lP]:"fire-gcs",[uP]:"fire-gcs-compat",[cP]:"fire-fst",[hP]:"fire-fst-compat",[dP]:"fire-vertex","fire-js":"fire-js",[fP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,gP=new Map,Mf=new Map;function hy(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vo(n){const e=n.name;if(Mf.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Mf.set(e,n);for(const t of kc.values())hy(t,n);for(const t of gP.values())hy(t,n);return!0}function wp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function jr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Cl("app","Firebase",vP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=pP;function _0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Lf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Pi.create("bad-app-name",{appName:String(o)});if(t||(t=m0()),!t)throw Pi.create("no-options");const a=kc.get(o);if(a){if(Pc(t,a.options)&&Pc(i,a.config))return a;throw Pi.create("duplicate-app",{appName:o})}const c=new Ix(o);for(const f of Mf.values())c.addComponent(f);const h=new yP(t,i,c);return kc.set(o,h),h}function w0(n=Lf){const e=kc.get(n);if(!e&&n===Lf&&m0())return _0();if(!e)throw Pi.create("no-app",{appName:n});return e}function ki(n,e,t){var i;let o=(i=mP[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(h.join(" "));return}Vo(new Cs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="firebase-heartbeat-database",wP=1,ul="firebase-heartbeat-store";let df=null;function E0(){return df||(df=Vx(_P,wP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ul)}catch(t){console.warn(t)}}}}).catch(n=>{throw Pi.create("idb-open",{originalErrorMessage:n.message})})),df}async function EP(n){try{const t=(await E0()).transaction(ul),i=await t.objectStore(ul).get(T0(n));return await t.done,i}catch(e){if(e instanceof Xr)Kr.warn(e.message);else{const t=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(t.message)}}}async function fy(n,e){try{const i=(await E0()).transaction(ul,"readwrite");await i.objectStore(ul).put(e,T0(n)),await i.done}catch(t){if(t instanceof Xr)Kr.warn(t.message);else{const i=Pi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Kr.warn(i.message)}}}function T0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=1024,SP=720*60*60*1e3;class IP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=py();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=SP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Kr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=py(),{heartbeatsToSend:i,unsentEntries:o}=CP(this._heartbeatsCache.heartbeats),a=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Kr.warn(t),""}}}function py(){return new Date().toISOString().substring(0,10)}function CP(n,e=TP){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),my(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),my(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class AP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hx()?fx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await EP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return fy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return fy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function my(n){return xc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n){Vo(new Cs("platform-logger",e=>new jx(e),"PRIVATE")),Vo(new Cs("heartbeat",e=>new IP(e),"PRIVATE")),ki(Df,dy,n),ki(Df,dy,"esm2017"),ki("fire-js","")}RP("");var xP="firebase",PP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(xP,PP,"app");function S0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kP=S0,I0=new Cl("auth","Firebase",S0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new yp("@firebase/auth");function NP(n,...e){Nc.logLevel<=Be.WARN&&Nc.warn(`Auth (${Yo}): ${n}`,...e)}function fc(n,...e){Nc.logLevel<=Be.ERROR&&Nc.error(`Auth (${Yo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,...e){throw Tp(n,...e)}function Qn(n,...e){return Tp(n,...e)}function Ep(n,e,t){const i=Object.assign(Object.assign({},kP()),{[e]:t});return new Cl("auth","Firebase",i).create(e,{appName:n.name})}function ys(n){return Ep(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&vr(n,"argument-error"),Ep(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return I0.create(n,...e)}function Re(n,e,...t){if(!n)throw Tp(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw fc(e),new Error(e)}function Gr(n,e){n||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function OP(){return gy()==="http:"||gy()==="https:"}function gy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OP()||lx()||"connection"in navigator)?navigator.onLine:!0}function LP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gr(t>e,"Short delay should be less than long delay!"),this.isMobile=sx()||ux()}get(){return DP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n,e){Gr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new Rl(3e4,6e4);function Ip(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Xo(n,e,t,i,o={}){return A0(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Al(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:f},a);return ax()||(v.referrerPolicy="no-referrer"),C0.fetch()(R0(n,n.config.apiHost,t,h),v)})}async function A0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},MP),e);try{const o=new UP(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw ic(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,v]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw ic(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw ic(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Ep(n,_,v);vr(n,_)}}catch(o){if(o instanceof Xr)throw o;vr(n,"network-request-failed",{message:String(o)})}}async function FP(n,e,t,i,o={}){const a=await Xo(n,e,t,i,o);return"mfaPendingCredential"in a&&vr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function R0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Sp(n.config,o):`${n.config.apiScheme}://${o}`}class UP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Qn(this.auth,"network-request-failed")),VP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ic(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Qn(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(n,e){return Xo(n,"POST","/v1/accounts:delete",e)}async function x0(n,e){return Xo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BP(n,e=!1){const t=xn(n),i=await t.getIdToken(e),o=Cp(i);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:el(hf(o.auth_time)),issuedAtTime:el(hf(o.iat)),expirationTime:el(hf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hf(n){return Number(n)*1e3}function Cp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=f0(t);return o?JSON.parse(o):(fc("Failed to decode base64 JWT payload"),null)}catch(o){return fc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function vy(n){const e=Cp(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Xr&&zP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function zP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await cl(n,x0(t,{idToken:i}));Re(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?P0(a.providerUserInfo):[],h=HP(n.providerData,c),f=n.isAnonymous,v=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=f?v:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Ff(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function WP(n){const e=xn(n);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function P0(n){return n.map(e=>{var{providerId:t}=e,i=Il(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(n,e){const t=await A0(n,{},async()=>{const i=Al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=R0(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",C0.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KP(n,e){return Xo(n,"POST","/v2/accounts:revokeToken",Ip(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=vy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await qP(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new No;return i&&(Re(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Re(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Re(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Il(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $P(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ff(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await cl(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BP(this,e)}reload(){return WP(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await bc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jr(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await cl(this,jP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,f,v,_;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,D=(c=t.photoURL)!==null&&c!==void 0?c:void 0,I=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,L=(v=t.createdAt)!==null&&v!==void 0?v:void 0,V=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:j,emailVerified:K,isAnonymous:Z,providerData:J,stsTokenManager:x}=t;Re(j&&x,e,"internal-error");const A=No.fromJSON(this.name,x);Re(typeof j=="string",e,"internal-error"),Ti(w,e.name),Ti(T,e.name),Re(typeof K=="boolean",e,"internal-error"),Re(typeof Z=="boolean",e,"internal-error"),Ti(C,e.name),Ti(D,e.name),Ti(I,e.name),Ti(P,e.name),Ti(L,e.name),Ti(V,e.name);const k=new zr({uid:j,auth:e,email:T,emailVerified:K,displayName:w,isAnonymous:Z,photoURL:D,phoneNumber:C,tenantId:I,stsTokenManager:A,createdAt:L,lastLoginAt:V});return J&&Array.isArray(J)&&(k.providerData=J.map(M=>Object.assign({},M))),P&&(k._redirectEventId=P),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new No;o.updateFromServerResponse(t);const a=new zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await bc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?P0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new No;h.updateFromIdToken(i);const f=new zr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ff(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,v),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=new Map;function $r(n){Gr(n instanceof Function,"Expected a class definition");let e=yy.get(n);return e?(Gr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}k0.type="NONE";const _y=k0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(n,e,t){return`firebase:${n}:${e}:${t}`}class bo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=pc(this.userKey,o.apiKey,a),this.fullPersistenceKey=pc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new bo($r(_y),e,i);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let a=o[0]||$r(_y);const c=pc(i,e.config.apiKey,e.name);let h=null;for(const v of t)try{const _=await v._get(c);if(_){const w=zr._fromJSON(e,_);v!==a&&(h=w),a=v;break}}catch{}const f=o.filter(v=>v._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new bo(a,e,i):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async v=>{if(v!==a)try{await v._remove(c)}catch{}})),new bo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M0(e))return"Blackberry";if(V0(e))return"Webos";if(b0(e))return"Safari";if((e.includes("chrome/")||O0(e))&&!e.includes("edge/"))return"Chrome";if(L0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function N0(n=qt()){return/firefox\//i.test(n)}function b0(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O0(n=qt()){return/crios\//i.test(n)}function D0(n=qt()){return/iemobile/i.test(n)}function L0(n=qt()){return/android/i.test(n)}function M0(n=qt()){return/blackberry/i.test(n)}function V0(n=qt()){return/webos/i.test(n)}function Ap(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GP(n=qt()){var e;return Ap(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QP(){return cx()&&document.documentMode===10}function F0(n=qt()){return Ap(n)||L0(n)||V0(n)||M0(n)||/windows phone/i.test(n)||D0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(n,e=[]){let t;switch(n){case"Browser":t=wy(qt());break;case"Worker":t=`${wy(qt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(n,e={}){return Xo(n,"GET","/v2/passwordPolicy",Ip(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=6;class ZP{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:JP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ey(this),this.idTokenSubscription=new Ey(this),this.beforeStateQueue=new YP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await x0(this,{idToken:e}),i=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jr(this.app))return Promise.reject(ys(this));const t=e?xn(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jr(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jr(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XP(this),t=new ZP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await KP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&NP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function sd(n){return xn(n)}class Ey{constructor(e){this.auth=e,this.observer=null,this.addObserver=yx(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t1(n){Rp=n}function n1(n){return Rp.loadJS(n)}function r1(){return Rp.gapiScript}function i1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,e){const t=wp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Pc(a,e??{}))return o;vr(o,"already-initialized")}return t.initialize({options:e})}function o1(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map($r);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function a1(n,e,t){const i=sd(n);Re(i._canInitEmulator,i,"emulator-config-failed"),Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=j0(e),{host:c,port:h}=l1(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),u1()}function j0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function l1(n){const e=j0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Ty(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Ty(c)}}}function Ty(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function u1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(n,e){return FP(n,"POST","/v1/accounts:signInWithIdp",Ip(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="http://localhost";class As extends B0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Il(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new As(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Oo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Oo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oo(e,t)}buildRequest(){const e={requestUri:c1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Al(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends xp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends xl{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return As._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ur.credential(t,i)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends xl{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends xl{constructor(){super("twitter.com")}static credential(e,t){return As._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ai.credential(t,i)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await zr._fromIdTokenResponse(e,i,o),c=Sy(i);return new Fo({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Sy(i);return new Fo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Sy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Xr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Oc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Oc(e,t,i,o)}}function z0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Oc._fromErrorAndOperation(n,a,e,i):a})}async function d1(n,e,t=!1){const i=await cl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(n,e,t=!1){const{auth:i}=n;if(jr(i.app))return Promise.reject(ys(i));const o="reauthenticate";try{const a=await cl(n,z0(i,o,e,n),t);Re(a.idToken,i,"internal-error");const c=Cp(a.idToken);Re(c,i,"internal-error");const{sub:h}=c;return Re(n.uid===h,i,"user-mismatch"),Fo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&vr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(n,e,t=!1){if(jr(n.app))return Promise.reject(ys(n));const i="signIn",o=await z0(n,i,e),a=await Fo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}function p1(n,e,t,i){return xn(n).onIdTokenChanged(e,t,i)}function m1(n,e,t){return xn(n).beforeAuthStateChanged(e,t)}function g1(n,e,t,i){return xn(n).onAuthStateChanged(e,t,i)}function v1(n){return xn(n).signOut()}const Dc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dc,"1"),this.storage.removeItem(Dc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=1e3,_1=10;class W0 extends $0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);QP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_1):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},y1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}W0.type="LOCAL";const w1=W0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends $0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}H0.type="SESSION";const q0=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new od(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async v=>v(t.origin,a)),f=await E1(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const v=Pp("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===v)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function S1(n){fr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function I1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function A1(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="firebaseLocalStorageDb",R1=1,Lc="firebaseLocalStorage",Q0="fbase_key";class Pl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ad(n,e){return n.transaction([Lc],e?"readwrite":"readonly").objectStore(Lc)}function x1(){const n=indexedDB.deleteDatabase(G0);return new Pl(n).toPromise()}function Uf(){const n=indexedDB.open(G0,R1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Lc,{keyPath:Q0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Lc)?e(i):(i.close(),await x1(),e(await Uf()))})})}async function Iy(n,e,t){const i=ad(n,!0).put({[Q0]:e,value:t});return new Pl(i).toPromise()}async function P1(n,e){const t=ad(n,!1).get(e),i=await new Pl(t).toPromise();return i===void 0?null:i.value}function Cy(n,e){const t=ad(n,!0).delete(e);return new Pl(t).toPromise()}const k1=800,N1=3;class Y0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>N1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(A1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await I1(),!this.activeServiceWorker)return;this.sender=new T1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uf();return await Iy(e,Dc,"1"),await Cy(e,Dc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Iy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>P1(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Cy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=ad(o,!1).getAll();return new Pl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y0.type="LOCAL";const b1=Y0;new Rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n,e){return e?$r(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends B0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function O1(n){return f1(n.auth,new kp(n),n.bypassAuthState)}function D1(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),h1(t,new kp(n),n.bypassAuthState)}async function L1(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),d1(t,new kp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O1;case"linkViaPopup":case"linkViaRedirect":return L1;case"reauthViaPopup":case"reauthViaRedirect":return D1;default:vr(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Rl(2e3,1e4);async function V1(n,e,t){if(jr(n.app))return Promise.reject(Qn(n,"operation-not-supported-in-this-environment"));const i=sd(n);bP(n,e,xp);const o=X0(i,t);return new ms(i,"signInViaPopup",e,o).executeNotNull()}class ms extends J0{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M1.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="pendingRedirect",mc=new Map;class U1 extends J0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=mc.get(this.auth._key());if(!e){try{const i=await j1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}mc.set(this.auth._key(),e)}return this.bypassAuthState||mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j1(n,e){const t=$1(e),i=z1(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function B1(n,e){mc.set(n._key(),e)}function z1(n){return $r(n._redirectPersistence)}function $1(n){return pc(F1,n.config.apiKey,n.name)}async function W1(n,e,t=!1){if(jr(n.app))return Promise.reject(ys(n));const i=sd(n),o=X0(i,e),c=await new U1(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=600*1e3;class q1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Z0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ay(e))}saveEventToCache(e){this.cachedEventUids.add(Ay(e)),this.lastProcessedEventTime=Date.now()}}function Ay(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Z0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(n,e={}){return Xo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y1=/^https?/;async function X1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await G1(n);for(const t of e)try{if(J1(t))return}catch{}vr(n,"unauthorized-domain")}function J1(n){const e=Vf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Y1.test(t))return!1;if(Q1.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=new Rl(3e4,6e4);function Ry(){const n=fr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ek(n){return new Promise((e,t)=>{var i,o,a;function c(){Ry(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ry(),t(Qn(n,"network-request-failed"))},timeout:Z1.get()})}if(!((o=(i=fr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=fr().gapi)===null||a===void 0)&&a.load)c();else{const h=i1("iframefcb");return fr()[h]=()=>{gapi.load?c():t(Qn(n,"network-request-failed"))},n1(`${r1()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw gc=null,e})}let gc=null;function tk(n){return gc=gc||ek(n),gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new Rl(5e3,15e3),rk="__/auth/iframe",ik="emulator/auth/iframe",sk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ok=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ak(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Sp(e,ik):`https://${n.config.authDomain}/${rk}`,i={apiKey:e.apiKey,appName:n.name,v:Yo},o=ok.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Al(i).slice(1)}`}async function lk(n){const e=await tk(n),t=fr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:ak(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sk,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Qn(n,"network-request-failed"),h=fr().setTimeout(()=>{a(c)},nk.get());function f(){fr().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ck=500,dk=600,hk="_blank",fk="http://localhost";class xy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pk(n,e,t,i=ck,o=dk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},uk),{width:i.toString(),height:o.toString(),top:a,left:c}),v=qt().toLowerCase();t&&(h=O0(v)?hk:t),N0(v)&&(e=e||fk,f.scrollbars="yes");const _=Object.entries(f).reduce((T,[C,D])=>`${T}${C}=${D},`,"");if(GP(v)&&h!=="_self")return mk(e||"",h),new xy(null);const w=window.open(e||"",h,_);Re(w,n,"popup-blocked");try{w.focus()}catch{}return new xy(w)}function mk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="__/auth/handler",vk="emulator/auth/handler",yk=encodeURIComponent("fac");async function Py(n,e,t,i,o,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Yo,eventId:o};if(e instanceof xp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",vx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof xl){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),v=f?`#${yk}=${encodeURIComponent(f)}`:"";return`${_k(n)}?${Al(h).slice(1)}${v}`}function _k({config:n}){return n.emulator?Sp(n,vk):`https://${n.authDomain}/${gk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="webStorageSupport";class wk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q0,this._completeRedirectFn=W1,this._overrideRedirectResult=B1}async _openPopup(e,t,i,o){var a;Gr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Py(e,t,i,Vf(),o);return pk(e,c,Pp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Py(e,t,i,Vf(),o);return S1(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Gr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await lk(e),i=new q1(e);return t.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ff,{type:ff},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[ff];c!==void 0&&t(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=X1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return F0()||b0()||Ap()}}const Ek=wk;var ky="@firebase/auth",Ny="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ik(n){Vo(new Cs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U0(n)},v=new e1(i,o,a,f);return o1(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Vo(new Cs("auth-internal",e=>{const t=sd(e.getProvider("auth").getImmediate());return(i=>new Tk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(ky,Ny,Sk(n)),ki(ky,Ny,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=300,Ak=g0("authIdTokenMaxAge")||Ck;let by=null;const Rk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Ak)return;const o=t==null?void 0:t.token;by!==o&&(by=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xk(n=w0()){const e=wp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=s1(n,{popupRedirectResolver:Ek,persistence:[b1,w1,q0]}),i=g0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=Rk(a.toString());m1(t,c,()=>c(t.currentUser)),p1(t,h=>c(h))}}const o=p0("auth");return o&&a1(t,`http://${o}`),t}function Pk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}t1({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Qn("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",Pk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ik("Browser");var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,eE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function k(){}k.prototype=A.prototype,x.D=A.prototype,x.prototype=new k,x.prototype.constructor=x,x.C=function(M,F,B){for(var N=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)N[_e-2]=arguments[_e];return A.prototype[F].apply(M,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,k){k||(k=0);var M=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)M[F]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(F=0;16>F;++F)M[F]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=x.g[0],k=x.g[1],F=x.g[2];var B=x.g[3],N=A+(B^k&(F^B))+M[0]+3614090360&4294967295;A=k+(N<<7&4294967295|N>>>25),N=B+(F^A&(k^F))+M[1]+3905402710&4294967295,B=A+(N<<12&4294967295|N>>>20),N=F+(k^B&(A^k))+M[2]+606105819&4294967295,F=B+(N<<17&4294967295|N>>>15),N=k+(A^F&(B^A))+M[3]+3250441966&4294967295,k=F+(N<<22&4294967295|N>>>10),N=A+(B^k&(F^B))+M[4]+4118548399&4294967295,A=k+(N<<7&4294967295|N>>>25),N=B+(F^A&(k^F))+M[5]+1200080426&4294967295,B=A+(N<<12&4294967295|N>>>20),N=F+(k^B&(A^k))+M[6]+2821735955&4294967295,F=B+(N<<17&4294967295|N>>>15),N=k+(A^F&(B^A))+M[7]+4249261313&4294967295,k=F+(N<<22&4294967295|N>>>10),N=A+(B^k&(F^B))+M[8]+1770035416&4294967295,A=k+(N<<7&4294967295|N>>>25),N=B+(F^A&(k^F))+M[9]+2336552879&4294967295,B=A+(N<<12&4294967295|N>>>20),N=F+(k^B&(A^k))+M[10]+4294925233&4294967295,F=B+(N<<17&4294967295|N>>>15),N=k+(A^F&(B^A))+M[11]+2304563134&4294967295,k=F+(N<<22&4294967295|N>>>10),N=A+(B^k&(F^B))+M[12]+1804603682&4294967295,A=k+(N<<7&4294967295|N>>>25),N=B+(F^A&(k^F))+M[13]+4254626195&4294967295,B=A+(N<<12&4294967295|N>>>20),N=F+(k^B&(A^k))+M[14]+2792965006&4294967295,F=B+(N<<17&4294967295|N>>>15),N=k+(A^F&(B^A))+M[15]+1236535329&4294967295,k=F+(N<<22&4294967295|N>>>10),N=A+(F^B&(k^F))+M[1]+4129170786&4294967295,A=k+(N<<5&4294967295|N>>>27),N=B+(k^F&(A^k))+M[6]+3225465664&4294967295,B=A+(N<<9&4294967295|N>>>23),N=F+(A^k&(B^A))+M[11]+643717713&4294967295,F=B+(N<<14&4294967295|N>>>18),N=k+(B^A&(F^B))+M[0]+3921069994&4294967295,k=F+(N<<20&4294967295|N>>>12),N=A+(F^B&(k^F))+M[5]+3593408605&4294967295,A=k+(N<<5&4294967295|N>>>27),N=B+(k^F&(A^k))+M[10]+38016083&4294967295,B=A+(N<<9&4294967295|N>>>23),N=F+(A^k&(B^A))+M[15]+3634488961&4294967295,F=B+(N<<14&4294967295|N>>>18),N=k+(B^A&(F^B))+M[4]+3889429448&4294967295,k=F+(N<<20&4294967295|N>>>12),N=A+(F^B&(k^F))+M[9]+568446438&4294967295,A=k+(N<<5&4294967295|N>>>27),N=B+(k^F&(A^k))+M[14]+3275163606&4294967295,B=A+(N<<9&4294967295|N>>>23),N=F+(A^k&(B^A))+M[3]+4107603335&4294967295,F=B+(N<<14&4294967295|N>>>18),N=k+(B^A&(F^B))+M[8]+1163531501&4294967295,k=F+(N<<20&4294967295|N>>>12),N=A+(F^B&(k^F))+M[13]+2850285829&4294967295,A=k+(N<<5&4294967295|N>>>27),N=B+(k^F&(A^k))+M[2]+4243563512&4294967295,B=A+(N<<9&4294967295|N>>>23),N=F+(A^k&(B^A))+M[7]+1735328473&4294967295,F=B+(N<<14&4294967295|N>>>18),N=k+(B^A&(F^B))+M[12]+2368359562&4294967295,k=F+(N<<20&4294967295|N>>>12),N=A+(k^F^B)+M[5]+4294588738&4294967295,A=k+(N<<4&4294967295|N>>>28),N=B+(A^k^F)+M[8]+2272392833&4294967295,B=A+(N<<11&4294967295|N>>>21),N=F+(B^A^k)+M[11]+1839030562&4294967295,F=B+(N<<16&4294967295|N>>>16),N=k+(F^B^A)+M[14]+4259657740&4294967295,k=F+(N<<23&4294967295|N>>>9),N=A+(k^F^B)+M[1]+2763975236&4294967295,A=k+(N<<4&4294967295|N>>>28),N=B+(A^k^F)+M[4]+1272893353&4294967295,B=A+(N<<11&4294967295|N>>>21),N=F+(B^A^k)+M[7]+4139469664&4294967295,F=B+(N<<16&4294967295|N>>>16),N=k+(F^B^A)+M[10]+3200236656&4294967295,k=F+(N<<23&4294967295|N>>>9),N=A+(k^F^B)+M[13]+681279174&4294967295,A=k+(N<<4&4294967295|N>>>28),N=B+(A^k^F)+M[0]+3936430074&4294967295,B=A+(N<<11&4294967295|N>>>21),N=F+(B^A^k)+M[3]+3572445317&4294967295,F=B+(N<<16&4294967295|N>>>16),N=k+(F^B^A)+M[6]+76029189&4294967295,k=F+(N<<23&4294967295|N>>>9),N=A+(k^F^B)+M[9]+3654602809&4294967295,A=k+(N<<4&4294967295|N>>>28),N=B+(A^k^F)+M[12]+3873151461&4294967295,B=A+(N<<11&4294967295|N>>>21),N=F+(B^A^k)+M[15]+530742520&4294967295,F=B+(N<<16&4294967295|N>>>16),N=k+(F^B^A)+M[2]+3299628645&4294967295,k=F+(N<<23&4294967295|N>>>9),N=A+(F^(k|~B))+M[0]+4096336452&4294967295,A=k+(N<<6&4294967295|N>>>26),N=B+(k^(A|~F))+M[7]+1126891415&4294967295,B=A+(N<<10&4294967295|N>>>22),N=F+(A^(B|~k))+M[14]+2878612391&4294967295,F=B+(N<<15&4294967295|N>>>17),N=k+(B^(F|~A))+M[5]+4237533241&4294967295,k=F+(N<<21&4294967295|N>>>11),N=A+(F^(k|~B))+M[12]+1700485571&4294967295,A=k+(N<<6&4294967295|N>>>26),N=B+(k^(A|~F))+M[3]+2399980690&4294967295,B=A+(N<<10&4294967295|N>>>22),N=F+(A^(B|~k))+M[10]+4293915773&4294967295,F=B+(N<<15&4294967295|N>>>17),N=k+(B^(F|~A))+M[1]+2240044497&4294967295,k=F+(N<<21&4294967295|N>>>11),N=A+(F^(k|~B))+M[8]+1873313359&4294967295,A=k+(N<<6&4294967295|N>>>26),N=B+(k^(A|~F))+M[15]+4264355552&4294967295,B=A+(N<<10&4294967295|N>>>22),N=F+(A^(B|~k))+M[6]+2734768916&4294967295,F=B+(N<<15&4294967295|N>>>17),N=k+(B^(F|~A))+M[13]+1309151649&4294967295,k=F+(N<<21&4294967295|N>>>11),N=A+(F^(k|~B))+M[4]+4149444226&4294967295,A=k+(N<<6&4294967295|N>>>26),N=B+(k^(A|~F))+M[11]+3174756917&4294967295,B=A+(N<<10&4294967295|N>>>22),N=F+(A^(B|~k))+M[2]+718787259&4294967295,F=B+(N<<15&4294967295|N>>>17),N=k+(B^(F|~A))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(F+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+F&4294967295,x.g[3]=x.g[3]+B&4294967295}i.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var k=A-this.blockSize,M=this.B,F=this.h,B=0;B<A;){if(F==0)for(;B<=k;)o(this,x,B),B+=this.blockSize;if(typeof x=="string"){for(;B<A;)if(M[F++]=x.charCodeAt(B++),F==this.blockSize){o(this,M),F=0;break}}else for(;B<A;)if(M[F++]=x[B++],F==this.blockSize){o(this,M),F=0;break}}this.h=F,this.o+=A},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var k=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=k&255,k/=256;for(this.u(x),x=Array(16),A=k=0;4>A;++A)for(var M=0;32>M;M+=8)x[k++]=this.g[A]>>>M&255;return x};function a(x,A){var k=h;return Object.prototype.hasOwnProperty.call(k,x)?k[x]:k[x]=A(x)}function c(x,A){this.h=A;for(var k=[],M=!0,F=x.length-1;0<=F;F--){var B=x[F]|0;M&&B==A||(k[F]=B,M=!1)}this.g=k}var h={};function f(x){return-128<=x&&128>x?a(x,function(A){return new c([A|0],0>A?-1:0)}):new c([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return P(v(-x));for(var A=[],k=1,M=0;x>=k;M++)A[M]=x/k|0,k*=4294967296;return new c(A,0)}function _(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return P(_(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=v(Math.pow(A,8)),M=w,F=0;F<x.length;F+=8){var B=Math.min(8,x.length-F),N=parseInt(x.substring(F,F+B),A);8>B?(B=v(Math.pow(A,B)),M=M.j(B).add(v(N))):(M=M.j(k),M=M.add(v(N)))}return M}var w=f(0),T=f(1),C=f(16777216);n=c.prototype,n.m=function(){if(I(this))return-P(this).m();for(var x=0,A=1,k=0;k<this.g.length;k++){var M=this.i(k);x+=(0<=M?M:4294967296+M)*A,A*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D(this))return"0";if(I(this))return"-"+P(this).toString(x);for(var A=v(Math.pow(x,6)),k=this,M="";;){var F=K(k,A).g;k=L(k,F.j(A));var B=((0<k.g.length?k.g[0]:k.h)>>>0).toString(x);if(k=F,D(k))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function D(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function I(x){return x.h==-1}n.l=function(x){return x=L(this,x),I(x)?-1:D(x)?0:1};function P(x){for(var A=x.g.length,k=[],M=0;M<A;M++)k[M]=~x.g[M];return new c(k,~x.h).add(T)}n.abs=function(){return I(this)?P(this):this},n.add=function(x){for(var A=Math.max(this.g.length,x.g.length),k=[],M=0,F=0;F<=A;F++){var B=M+(this.i(F)&65535)+(x.i(F)&65535),N=(B>>>16)+(this.i(F)>>>16)+(x.i(F)>>>16);M=N>>>16,B&=65535,N&=65535,k[F]=N<<16|B}return new c(k,k[k.length-1]&-2147483648?-1:0)};function L(x,A){return x.add(P(A))}n.j=function(x){if(D(this)||D(x))return w;if(I(this))return I(x)?P(this).j(P(x)):P(P(this).j(x));if(I(x))return P(this.j(P(x)));if(0>this.l(C)&&0>x.l(C))return v(this.m()*x.m());for(var A=this.g.length+x.g.length,k=[],M=0;M<2*A;M++)k[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<x.g.length;F++){var B=this.i(M)>>>16,N=this.i(M)&65535,_e=x.i(F)>>>16,Le=x.i(F)&65535;k[2*M+2*F]+=N*Le,V(k,2*M+2*F),k[2*M+2*F+1]+=B*Le,V(k,2*M+2*F+1),k[2*M+2*F+1]+=N*_e,V(k,2*M+2*F+1),k[2*M+2*F+2]+=B*_e,V(k,2*M+2*F+2)}for(M=0;M<A;M++)k[M]=k[2*M+1]<<16|k[2*M];for(M=A;M<2*A;M++)k[M]=0;return new c(k,0)};function V(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function j(x,A){this.g=x,this.h=A}function K(x,A){if(D(A))throw Error("division by zero");if(D(x))return new j(w,w);if(I(x))return A=K(P(x),A),new j(P(A.g),P(A.h));if(I(A))return A=K(x,P(A)),new j(P(A.g),A.h);if(30<x.g.length){if(I(x)||I(A))throw Error("slowDivide_ only works with positive integers.");for(var k=T,M=A;0>=M.l(x);)k=Z(k),M=Z(M);var F=J(k,1),B=J(M,1);for(M=J(M,2),k=J(k,2);!D(M);){var N=B.add(M);0>=N.l(x)&&(F=F.add(k),B=N),M=J(M,1),k=J(k,1)}return A=L(x,F.j(A)),new j(F,A)}for(F=w;0<=x.l(A);){for(k=Math.max(1,Math.floor(x.m()/A.m())),M=Math.ceil(Math.log(k)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=v(k),N=B.j(A);I(N)||0<N.l(x);)k-=M,B=v(k),N=B.j(A);D(B)&&(B=T),F=F.add(B),x=L(x,N)}return new j(F,x)}n.A=function(x){return K(this,x).h},n.and=function(x){for(var A=Math.max(this.g.length,x.g.length),k=[],M=0;M<A;M++)k[M]=this.i(M)&x.i(M);return new c(k,this.h&x.h)},n.or=function(x){for(var A=Math.max(this.g.length,x.g.length),k=[],M=0;M<A;M++)k[M]=this.i(M)|x.i(M);return new c(k,this.h|x.h)},n.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),k=[],M=0;M<A;M++)k[M]=this.i(M)^x.i(M);return new c(k,this.h^x.h)};function Z(x){for(var A=x.g.length+1,k=[],M=0;M<A;M++)k[M]=x.i(M)<<1|x.i(M-1)>>>31;return new c(k,x.h)}function J(x,A){var k=A>>5;A%=32;for(var M=x.g.length-k,F=[],B=0;B<M;B++)F[B]=0<A?x.i(B+k)>>>A|x.i(B+k+1)<<32-A:x.i(B+k);return new c(F,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,eE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=_,_s=c}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tE,Xa,nE,vc,jf,rE,iE,sE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var y=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var W=u[S];if(!(W in y))break e;y=y[W]}u=u[u.length-1],S=y[u],m=m(S),m!=S&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var y=0,S=!1,W={next:function(){if(!S&&y<u.length){var Q=y++;return{value:m(Q,u[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function w(u,m,y){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,S),u.apply(m,W)}}return function(){return u.apply(m,arguments)}}function T(u,m,y){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function C(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function D(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(S,W,Q){for(var ae=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ae[Ge-2]=arguments[Ge];return m.prototype[W].apply(S,ae)}}function I(u){const m=u.length;if(0<m){const y=Array(m);for(let S=0;S<m;S++)y[S]=u[S];return y}return[]}function P(u,m){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(f(S)){const W=u.length||0,Q=S.length||0;u.length=W+Q;for(let ae=0;ae<Q;ae++)u[W+ae]=S[ae]}else u.push(S)}}class L{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function V(u){return/^[\s\xa0]*$/.test(u)}function j(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function K(u){return K[" "](u),u}K[" "]=function(){};var Z=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function J(u,m,y){for(const S in u)m.call(y,u[S],S,u)}function x(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function A(u){const m={};for(const y in u)m[y]=u[y];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let y,S;for(let W=1;W<arguments.length;W++){S=arguments[W];for(y in S)u[y]=S[y];for(let Q=0;Q<k.length;Q++)y=k[Q],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function F(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function B(u){h.setTimeout(()=>{throw u},0)}function N(){var u=le;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,y){const S=Le.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var Le=new L(()=>new Te,u=>u.reset());class Te{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Y=!1,le=new _e,oe=()=>{const u=h.Promise.resolve(void 0);ve=()=>{u.then($)}};var $=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(y){B(y)}var m=Le;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}Y=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ce=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};h.addEventListener("test",y,m),h.removeEventListener("test",y,m)}catch{}return u})();function xe(u,m){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Z){e:{try{K(m.nodeName);var W=!0;break e}catch{}W=!1}W||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}D(xe,fe);var De={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),ye=0;function Oe(u,m,y,S,W){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=W,this.key=++ye,this.da=this.fa=!1}function Pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Me(u){this.src=u,this.g={},this.h=0}Me.prototype.add=function(u,m,y,S,W){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ae=lt(u,m,S,W);return-1<ae?(m=u[ae],y||(m.fa=!1)):(m=new Oe(m,this.src,Q,!!S,W),m.fa=y,u.push(m)),m};function Ue(u,m){var y=m.type;if(y in u.g){var S=u.g[y],W=Array.prototype.indexOf.call(S,m,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(S,W,1),Q&&(Pe(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function lt(u,m,y,S){for(var W=0;W<u.length;++W){var Q=u[W];if(!Q.da&&Q.listener==m&&Q.capture==!!y&&Q.ha==S)return W}return-1}var It="closure_lm_"+(1e6*Math.random()|0),mn={};function Pn(u,m,y,S,W){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Pn(u,m[Q],y,S,W);return null}return y=ra(y),u&&u[ue]?u.K(m,y,v(S)?!!S.capture:!1,W):kn(u,m,y,!1,S,W)}function kn(u,m,y,S,W,Q){if(!m)throw Error("Invalid event type");var ae=v(W)?!!W.capture:!!W,Ge=Os(u);if(Ge||(u[It]=Ge=new Me(u)),y=Ge.add(m,y,S,ae,Q),y.proxy)return y;if(S=bs(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)Ce||(W=ae),W===void 0&&(W=!1),u.addEventListener(m.toString(),S,W);else if(u.attachEvent)u.attachEvent(Tr(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function bs(){function u(y){return m.call(u.src,u.listener,y)}const m=na;return u}function Nn(u,m,y,S,W){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Nn(u,m[Q],y,S,W);else S=v(S)?!!S.capture:!!S,y=ra(y),u&&u[ue]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],y=lt(Q,y,S,W),-1<y&&(Pe(Q[y]),Array.prototype.splice.call(Q,y,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Os(u))&&(m=u.g[m.toString()],u=-1,m&&(u=lt(m,y,S,W)),(y=-1<u?m[u]:null)&&Er(y))}function Er(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])Ue(m.i,u);else{var y=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(y,S,u.capture):m.detachEvent?m.detachEvent(Tr(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=Os(m))?(Ue(y,u),y.h==0&&(y.src=null,m[It]=null)):Pe(u)}}}function Tr(u){return u in mn?mn[u]:mn[u]="on"+u}function na(u,m){if(u.da)u=!0;else{m=new xe(m,this);var y=u.listener,S=u.ha||u.src;u.fa&&Er(u),u=y.call(S,m)}return u}function Os(u){return u=u[It],u instanceof Me?u:null}var Ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function ra(u){return typeof u=="function"?u:(u[Ds]||(u[Ds]=function(m){return u.handleEvent(m)}),u[Ds])}function vt(){X.call(this),this.i=new Me(this),this.M=this,this.F=null}D(vt,X),vt.prototype[ue]=!0,vt.prototype.removeEventListener=function(u,m,y,S){Nn(this,u,m,y,S)};function yt(u,m){var y,S=u.F;if(S)for(y=[];S;S=S.F)y.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new fe(m,u);else if(m instanceof fe)m.target=m.target||u;else{var W=m;m=new fe(S,u),M(m,W)}if(W=!0,y)for(var Q=y.length-1;0<=Q;Q--){var ae=m.g=y[Q];W=Sr(ae,S,!0,m)&&W}if(ae=m.g=u,W=Sr(ae,S,!0,m)&&W,W=Sr(ae,S,!1,m)&&W,y)for(Q=0;Q<y.length;Q++)ae=m.g=y[Q],W=Sr(ae,S,!1,m)&&W}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],S=0;S<y.length;S++)Pe(y[S]);delete u.g[m],u.h--}}this.F=null},vt.prototype.K=function(u,m,y,S){return this.i.add(String(u),m,!1,y,S)},vt.prototype.L=function(u,m,y,S){return this.i.add(String(u),m,!0,y,S)};function Sr(u,m,y,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var W=!0,Q=0;Q<m.length;++Q){var ae=m[Q];if(ae&&!ae.da&&ae.capture==y){var Ge=ae.listener,_t=ae.ha||ae.src;ae.fa&&Ue(u.i,ae),W=Ge.call(_t,S)!==!1&&W}}return W&&!S.defaultPrevented}function ia(u,m,y){if(typeof u=="function")y&&(u=T(u,y));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function Jr(u){u.g=ia(()=>{u.g=null,u.i&&(u.i=!1,Jr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ui extends X{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(u){X.call(this),this.h=u,this.g={}}D(ji,X);var sa=[];function oa(u){J(u.g,function(m,y){this.g.hasOwnProperty(y)&&Er(m)},u),u.g={}}ji.prototype.N=function(){ji.aa.N.call(this),oa(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var aa=h.JSON.stringify,la=h.JSON.parse,ua=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Bi(){}Bi.prototype.h=null;function Ls(u){return u.h||(u.h=u.i())}function Ms(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){fe.call(this,"d")}D(Zn,fe);function Vs(){fe.call(this,"c")}D(Vs,fe);var er={},ca=null;function zi(){return ca=ca||new vt}er.La="serverreachability";function da(u){fe.call(this,er.La,u)}D(da,fe);function Ir(u){const m=zi();yt(m,new da(m))}er.STAT_EVENT="statevent";function ha(u,m){fe.call(this,er.STAT_EVENT,u),this.stat=m}D(ha,fe);function dt(u){const m=zi();yt(m,new ha(m,u))}er.Ma="timingevent";function Fs(u,m){fe.call(this,er.Ma,u),this.size=m}D(Fs,fe);function bn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function Wi(u,m,y,S,W,Q){u.info(function(){if(u.g)if(Q)for(var ae="",Ge=Q.split("&"),_t=0;_t<Ge.length;_t++){var ze=Ge[_t].split("=");if(1<ze.length){var Ct=ze[0];ze=ze[1];var pt=Ct.split("_");ae=2<=pt.length&&pt[1]=="type"?ae+(Ct+"="+ze+"&"):ae+(Ct+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+W+"]: "+m+`
`+y+`
`+ae})}function Us(u,m,y,S,W,Q,ae){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+W+"]: "+m+`
`+y+`
`+Q+" "+ae})}function On(u,m,y,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+yd(u,y)+(S?" "+S:"")})}function fa(u,m){u.info(function(){return"TIMEOUT: "+m})}$i.prototype.info=function(){};function yd(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var S=y[u];if(!(2>S.length)){var W=S[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return aa(y)}catch{return m}}var js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ml={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function Hi(){}D(Hi,Bi),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},Dn=new Hi;function Ln(u,m,y,S){this.j=u,this.i=m,this.l=y,this.R=S||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vl}function Vl(){this.i=null,this.g="",this.h=!1}var pa={},Bs={};function zs(u,m,y){u.L=1,u.v=ri(an(m)),u.m=y,u.P=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Je(u),u.A=an(u.v);var y=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),si(y.i,"t",S),u.C=0,y=u.j.J,u.h=new Vl,u.g=tu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Ui(T(u.Y,u,u.g),u.O)),m=u.U,y=u.g,S=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(sa[0]=W.toString()),W=sa);for(var Q=0;Q<W.length;Q++){var ae=Pn(y,W[Q],S||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ir(),Wi(u.i,u.u,u.A,u.l,u.R,u.m)}Ln.prototype.ca=function(u){u=u.target;const m=this.M;m&&Jt(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)e:{const pt=Jt(this.g);var m=this.g.Ba();const _n=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Ea(this.g)))){this.J||pt!=4||m==7||(m==8||0>=_n?Ir(3):Ir(2)),qi(this);var y=this.g.Z();this.X=y;t:if(Fl(this)){var S=Ea(this.g);u="";var W=S.length,Q=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Zr(this);var ae="";break t}this.h.i=new h.TextDecoder}for(m=0;m<W;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(Q&&m==W-1)});S.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=y==200,Us(this.i,this.u,this.A,this.l,this.R,pt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,_t=this.g;if((Ge=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ge)){var ze=Ge;break t}}ze=null}if(y=ze)On(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ga(this,y);else{this.o=!1,this.s=3,dt(12),vn(this),Zr(this);break e}}if(this.P){y=!0;let un;for(;!this.J&&this.C<ae.length;)if(un=_d(this,ae),un==Bs){pt==4&&(this.s=4,dt(14),y=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(un==pa){this.s=4,dt(15),On(this.i,this.l,ae,"[Invalid Chunk]"),y=!1;break}else On(this.i,this.l,un,null),ga(this,un);if(Fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),y=!1),this.o=this.o&&y,!y)On(this.i,this.l,ae,"[Invalid Chunked Response]"),vn(this),Zr(this);else if(0<ae.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Sa(Ct),Ct.M=!0,dt(11))}}else On(this.i,this.l,ae,null),ga(this,ae);pt==4&&vn(this),this.o&&!this.J&&(pt==4?Zs(this.j,this):(this.o=!1,Je(this)))}else Gs(this.g),y==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),vn(this),Zr(this)}}}catch{}finally{}};function Fl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _d(u,m){var y=u.C,S=m.indexOf(`
`,y);return S==-1?Bs:(y=Number(m.substring(y,S)),isNaN(y)?pa:(S+=1,S+y>m.length?Bs:(m=m.slice(S,S+y),u.C=S+y,m)))}Ln.prototype.cancel=function(){this.J=!0,vn(this)};function Je(u){u.S=Date.now()+u.I,Ul(u,u.I)}function Ul(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=bn(T(u.ba,u),m)}function qi(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Ln.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(fa(this.i,this.A),this.L!=2&&(Ir(),dt(17)),vn(this),this.s=2,Zr(this)):Ul(this,this.S-u)};function Zr(u){u.j.G==0||u.J||Zs(u.j,u)}function vn(u){qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,oa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ga(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Kt(y.h,u))){if(!u.K&&Kt(y.h,u)&&y.G==3){try{var S=y.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var W=S;if(W[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Js(y),jn(y);else break e;Xs(y),dt(18)}}else y.za=W[1],0<y.za-y.T&&37500>W[2]&&y.F&&y.v==0&&!y.C&&(y.C=bn(T(y.Za,y),6e3));if(1>=Bl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Pr(y,11)}else if((u.K||y.g==u)&&Js(y),!V(m))for(W=y.Da.g.parse(m),m=0;m<W.length;m++){let ze=W[m];if(y.T=ze[0],ze=ze[1],y.G==2)if(ze[0]=="c"){y.K=ze[1],y.ia=ze[2];const Ct=ze[3];Ct!=null&&(y.la=Ct,y.j.info("VER="+y.la));const pt=ze[4];pt!=null&&(y.Aa=pt,y.j.info("SVER="+y.Aa));const _n=ze[5];_n!=null&&typeof _n=="number"&&0<_n&&(S=1.5*_n,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const un=u.g;if(un){const Zi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var Q=S.h;Q.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(va(Q,Q.h),Q.h=null))}if(S.D){const to=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(S.ya=to,Ye(S.I,S.D,to))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var ae=u;if(S.qa=eu(S,S.J?S.ia:null,S.W),ae.K){zl(S.h,ae);var Ge=ae,_t=S.L;_t&&(Ge.I=_t),Ge.B&&(qi(Ge),Je(Ge)),S.g=ae}else Ji(S);0<y.i.length&&ir(y)}else ze[0]!="stop"&&ze[0]!="close"||Pr(y,7);else y.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Pr(y,7):Nt(y):ze[0]!="noop"&&y.l&&y.l.ta(ze),y.v=0)}}Ir(4)}catch{}}var jl=class{constructor(u,m){this.g=u,this.map=m}};function Ki(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Bl(u){return u.h?1:u.g?u.g.size:0}function Kt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function va(u,m){u.g?u.g.add(m):u.h=m}function zl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ki.prototype.cancel=function(){if(this.i=$l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $l(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return I(u.i)}function $s(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var m=[],y=u.length,S=0;S<y;S++)m.push(u[S]);return m}m=[],y=0;for(S in u)m[y++]=u[S];return m}function Ws(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const S in u)m[y++]=S;return m}}}function ei(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=Ws(u),S=$s(u),W=S.length,Q=0;Q<W;Q++)m.call(void 0,S[Q],y&&y[Q],u)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wd(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var S=u[y].indexOf("="),W=null;if(0<=S){var Q=u[y].substring(0,S);W=u[y].substring(S+1)}else Q=u[y];m(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Cr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Cr){this.h=u.h,Qi(this,u.j),this.o=u.o,this.g=u.g,ti(this,u.s),this.l=u.l;var m=u.i,y=new tr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),ni(this,y),this.m=u.m}else u&&(m=String(u).match(Gi))?(this.h=!1,Qi(this,m[1]||"",!0),this.o=je(m[2]||""),this.g=je(m[3]||"",!0),ti(this,m[4]),this.l=je(m[5]||"",!0),ni(this,m[6]||"",!0),this.m=je(m[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}Cr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ii(m,Hs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ii(m,Hs,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ii(y,y.charAt(0)=="/"?ql:Hl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ii(y,ya)),u.join("")};function an(u){return new Cr(u)}function Qi(u,m,y){u.j=y?je(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ti(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ni(u,m,y){m instanceof tr?(u.i=m,nr(u.i,u.h)):(y||(m=ii(m,Kl)),u.i=new tr(m,u.h))}function Ye(u,m,y){u.i.set(m,y)}function ri(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function je(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ii(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Wl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Wl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,Hl=/[#\?:]/g,ql=/[#\?]/g,Kl=/[#\?@]/g,ya=/#/g;function tr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function kt(u){u.g||(u.g=new Map,u.h=0,u.i&&wd(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}n=tr.prototype,n.add=function(u,m){kt(this),this.i=null,u=yn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Mn(u,m){kt(u),m=yn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vn(u,m){return kt(u),m=yn(u,m),u.g.has(m)}n.forEach=function(u,m){kt(this),this.g.forEach(function(y,S){y.forEach(function(W){u.call(m,W,S,this)},this)},this)},n.na=function(){kt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let S=0;S<m.length;S++){const W=u[S];for(let Q=0;Q<W.length;Q++)y.push(m[S])}return y},n.V=function(u){kt(this);let m=[];if(typeof u=="string")Vn(this,u)&&(m=m.concat(this.g.get(yn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},n.set=function(u,m){return kt(this),this.i=null,u=yn(this,u),Vn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function si(u,m,y){Mn(u,m),0<y.length&&(u.i=null,u.g.set(yn(u,m),I(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var S=m[y];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var W=Q;ae[S]!==""&&(W+="="+encodeURIComponent(String(ae[S]))),u.push(W)}}return this.i=u.join("&")};function yn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function nr(u,m){m&&!u.j&&(kt(u),u.i=null,u.g.forEach(function(y,S){var W=S.toLowerCase();S!=W&&(Mn(this,S),si(this,W,y))},u)),u.j=m}function Ed(u,m){const y=new $i;if(h.Image){const S=new Image;S.onload=C(Xt,y,"TestLoadImage: loaded",!0,m,S),S.onerror=C(Xt,y,"TestLoadImage: error",!1,m,S),S.onabort=C(Xt,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=C(Xt,y,"TestLoadImage: timeout",!1,m,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Gl(u,m){const y=new $i,S=new AbortController,W=setTimeout(()=>{S.abort(),Xt(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(Q=>{clearTimeout(W),Q.ok?Xt(y,"TestPingServer: ok",!0,m):Xt(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(W),Xt(y,"TestPingServer: error",!1,m)})}function Xt(u,m,y,S,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),S(y)}catch{}}function Td(){this.g=new ua}function Ql(u,m,y){const S=y||"";try{ei(u,function(W,Q){let ae=W;v(W)&&(ae=aa(W)),m.push(S+Q+"="+encodeURIComponent(ae))})}catch(W){throw m.push(S+"type="+encodeURIComponent("_badmap")),W}}function Ar(u){this.l=u.Ub||null,this.j=u.eb||!1}D(Ar,Bi),Ar.prototype.g=function(){return new Yi(this.l,this.j)},Ar.prototype.i=(function(u){return function(){return u}})({});function Yi(u,m){vt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Yi,vt),n=Yi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Un(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Un(this),this.readyState==3&&Yl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},n.Qa=function(u){this.g&&(this.response=u,Fn(this))},n.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Un(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Un(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rr(u){let m="";return J(u,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function oi(u,m,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=Rr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ye(u,m,y))}function nt(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(nt,vt);var Sd=/^https?$/i,_a=["POST","PUT"];n=nt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?Ls(this.o):Ls(Dn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){Xi(this,Q);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var W in S)y.set(W,S[W]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())y.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(_a,m,void 0))||S||W||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of y)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Xi(this,Q)}};function Xi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,qs(u),ln(u)}function qs(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},n.bb=function(){wa(this)};function wa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Jt(u)!=4||u.Z()!=2)){if(u.u&&Jt(u)==4)ia(u.Ea,0,u);else if(yt(u,"readystatechange"),Jt(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var S;if(S=ae===0){var W=String(u.D).match(Gi)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),S=!Sd.test(W?W.toLowerCase():"")}y=S}if(y)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var Q=2<Jt(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",qs(u)}}finally{ln(u)}}}}function ln(u,m){if(u.g){Ks(u);const y=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||yt(u,"ready");try{y.onreadystatechange=S}catch{}}}function Ks(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Jt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),la(m)}};function Ea(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(u){const m={};u=(u.g&&2<=Jt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(V(u[S]))continue;var y=F(u[S]);const W=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Q=m[W]||[];m[W]=Q,Q.push(y)}x(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ta(u){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,u),this.cb=rr("retryDelaySeedMs",1e4,u),this.Wa=rr("forwardChannelMaxRetries",2,u),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(u&&u.concurrentRequestLimit),this.Da=new Td,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ta.prototype,n.la=8,n.G=1,n.connect=function(u,m,y,S){dt(0),this.W=u,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=eu(this,null,this.W),ir(this)};function Nt(u){if(Qs(u),u.G==3){var m=u.U++,y=an(u.I);if(Ye(y,"SID",u.K),Ye(y,"RID",m),Ye(y,"TYPE","terminate"),xr(u,y),m=new Ln(u,u.j,m),m.L=2,m.v=ri(an(y)),y=!1,h.navigator&&h.navigator.sendBeacon)try{y=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&h.Image&&(new Image().src=m.v,y=!0),y||(m.g=tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Je(m)}Zl(u)}function jn(u){u.g&&(Sa(u),u.g.cancel(),u.g=null)}function Qs(u){jn(u),u.u&&(h.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function ir(u){if(!on(u.h)&&!u.s){u.s=!0;var m=u.Ga;ve||oe(),Y||(ve(),Y=!0),le.add(m,u),u.B=0}}function Id(u,m){return Bl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=bn(T(u.Ga,u,m),Jl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new Ln(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=A(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=ai(this,W,m),y=an(this.I),Ye(y,"RID",u),Ye(y,"CVER",22),this.D&&Ye(y,"X-HTTP-Session-Id",this.D),xr(this,y),Q&&(this.O?m="headers="+encodeURIComponent(String(Rr(Q)))+"&"+m:this.m&&oi(y,this.m,Q)),va(this.h,W),this.Ua&&Ye(y,"TYPE","init"),this.P?(Ye(y,"$req",m),Ye(y,"SID","null"),W.T=!0,zs(W,y,null)):zs(W,y,m),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||on(this.h)||Ys(this))};function Ys(u,m){var y;m?y=m.l:y=u.U++;const S=an(u.I);Ye(S,"SID",u.K),Ye(S,"RID",y),Ye(S,"AID",u.T),xr(u,S),u.m&&u.o&&oi(S,u.m,u.o),y=new Ln(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ai(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),va(u.h,y),zs(y,S,m)}function xr(u,m){u.H&&J(u.H,function(y,S){Ye(m,S,y)}),u.l&&ei({},function(y,S){Ye(m,S,y)})}function ai(u,m,y){y=Math.min(u.i.length,y);var S=u.l?T(u.l.Na,u.l,u):null;e:{var W=u.i;let Q=-1;for(;;){const ae=["count="+y];Q==-1?0<y?(Q=W[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ge=!0;for(let _t=0;_t<y;_t++){let ze=W[_t].g;const Ct=W[_t].map;if(ze-=Q,0>ze)Q=Math.max(0,W[_t].g-100),Ge=!1;else try{Ql(Ct,ae,"req"+ze+"_")}catch{S&&S(Ct)}}if(Ge){S=ae.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,S}function Ji(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ve||oe(),Y||(ve(),Y=!0),le.add(m,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=bn(T(u.Fa,u),Jl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=bn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),jn(this),Xl(this))};function Sa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Xl(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Ye(m,"RID","rpc"),Ye(m,"SID",u.K),Ye(m,"AID",u.T),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(m,"TO",u.ja),Ye(m,"TYPE","xmlhttp"),xr(u,m),u.m&&u.o&&oi(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=ri(an(m)),y.m=null,y.P=!0,ma(y,u)}n.Za=function(){this.C!=null&&(this.C=null,jn(this),Xs(this),dt(19))};function Js(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Zs(u,m){var y=null;if(u.g==m){Js(u),Sa(u),u.g=null;var S=2}else if(Kt(u.h,m))y=m.D,zl(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var W=u.B;S=zi(),yt(S,new Fs(S,y)),ir(u)}else Ji(u);else if(W=m.s,W==3||W==0&&0<m.X||!(S==1&&Id(u,m)||S==2&&Xs(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),W){case 1:Pr(u,5);break;case 4:Pr(u,10);break;case 3:Pr(u,6);break;default:Pr(u,2)}}}function Jl(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Pr(u,m){if(u.j.info("Error code "+m),m==2){var y=T(u.fb,u),S=u.Xa;const W=!S;S=new Cr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Qi(S,"https"),ri(S),W?Ed(S.toString(),y):Gl(S.toString(),y)}else dt(2);u.G=0,u.l&&u.l.sa(m),Zl(u),Qs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Zl(u){if(u.G=0,u.ka=[],u.l){const m=$l(u.h);(m.length!=0||u.i.length!=0)&&(P(u.ka,m),P(u.ka,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.ra()}}function eu(u,m,y){var S=y instanceof Cr?an(y):new Cr(y);if(S.g!="")m&&(S.g=m+"."+S.g),ti(S,S.s);else{var W=h.location;S=W.protocol,m=m?m+"."+W.hostname:W.hostname,W=+W.port;var Q=new Cr(null);S&&Qi(Q,S),m&&(Q.g=m),W&&ti(Q,W),y&&(Q.l=y),S=Q}return y=u.D,m=u.ya,y&&m&&Ye(S,y,m),Ye(S,"VER",u.la),xr(u,S),S}function tu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new nt(new Ar({eb:y})):new nt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ia(){}n=Ia.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eo(){}eo.prototype.g=function(u,m){return new Gt(u,m)};function Gt(u,m){vt.call(this),this.g=new Ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!V(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!V(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new sr(this)}D(Gt,vt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Nt(this.g)},Gt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=aa(u),u=y);m.i.push(new jl(m.Ya++,u)),m.G==3&&ir(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Gt.aa.N.call(this)};function nu(u){Zn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}D(nu,Zn);function ru(){Vs.call(this),this.status=1}D(ru,Vs);function sr(u){this.g=u}D(sr,Ia),sr.prototype.ua=function(){yt(this.g,"a")},sr.prototype.ta=function(u){yt(this.g,new nu(u))},sr.prototype.sa=function(u){yt(this.g,new ru)},sr.prototype.ra=function(){yt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,sE=function(){return new eo},iE=function(){return zi()},rE=er,jf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,vc=js,Ml.COMPLETE="complete",nE=Ml,Ms.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Xa=Ms,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,tE=nt}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const Dy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new yp("@firebase/firestore");function Qa(){return Rs.logLevel}function me(n,...e){if(Rs.logLevel<=Be.DEBUG){const t=e.map(Np);Rs.debug(`Firestore (${Jo}): ${n}`,...t)}}function Qr(n,...e){if(Rs.logLevel<=Be.ERROR){const t=e.map(Np);Rs.error(`Firestore (${Jo}): ${n}`,...t)}}function Uo(n,...e){if(Rs.logLevel<=Be.WARN){const t=e.map(Np);Rs.warn(`Firestore (${Jo}): ${n}`,...t)}}function Np(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function Qe(n,e){n||ke()}function be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($t.UNAUTHENTICATED)))}shutdown(){}}class Nk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bk{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ni,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ni)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string"),new oE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new $t(e)}}class Ok{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Dk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Ok(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const i=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new Lk(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=Vk(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function qe(n,e){return n<e?-1:n>e?1:0}function jo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new St(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new St(0,0))}static max(){return new Ne(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t,i){t===void 0?t=0:t>e.length&&ke(),i===void 0?i=e.length-t:i>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return dl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ct extends dl{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const Fk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends dl{construct(e,t,i){return new Lt(e,t,i)}static isValidIdentifier(e){return Fk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Se(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Se(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new Se(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(t)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(ct.fromString(e))}static fromName(e){return new Ie(ct.fromString(e).popFirst(5))}static empty(){return new Ie(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new ct(e.slice()))}}function Uk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(i===1e9?new St(t+1,0):new St(t,i));return new Di(o,Ie.empty(),e)}function jk(n){return new Di(n.readTime,n.key,-1)}class Di{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Di(Ne.min(),Ie.empty(),-1)}static max(){return new Di(Ne.max(),Ie.empty(),-1)}}function Bk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $k{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==zk)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,i)=>{t(e)}))}static reject(e){return new ne(((t,i)=>{i(e)}))}static waitFor(e){return new ne(((t,i)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&t()}),(f=>i(f)))})),c=!0,a===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next((o=>o?ne.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,a)=>{i.push(t.call(this,o,a))})),this.waitFor(i)}static mapArray(e,t){return new ne(((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const v=f;t(e[v]).next((_=>{c[v]=_,++h,h===a&&i(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new ne(((i,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):i()};a()}))}}function Wk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bp.oe=-1;function ld(n){return n==null}function Mc(n){return n===0&&1/n==-1/0}function Hk(n){return typeof n=="number"&&Number.isInteger(n)&&!Mc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}}class oc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Dt.RED,this.left=o??Dt.EMPTY,this.right=a??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Dt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new My(this.data.getIterator())}getIteratorFrom(e){return new My(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class My{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Mt(Lt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uE("Invalid base64 string: "+a):a}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const qk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=qk.exec(n);if(Qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xs(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dp(n){const e=n.mapValue.fields.__previous_value__;return Op(e)?Dp(e):e}function hl(n){const e=Li(n.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,t,i,o,a,c,h,f,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=v}}class fl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac={mapValue:{}};function Ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Op(n)?4:Qk(n)?9007199254740991:Gk(n)?10:11:ke()}function yr(n,e){if(n===e)return!0;const t=Ps(n);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hl(n).isEqual(hl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Li(o.timestampValue),h=Li(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return xs(o.bytesValue).isEqual(xs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return ft(o.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return ft(o.integerValue)===ft(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=ft(o.doubleValue),h=ft(a.doubleValue);return c===h?Mc(c)===Mc(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return jo(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Ly(c)!==Ly(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!yr(c[f],h[f])))return!1;return!0})(n,e);default:return ke()}}function pl(n,e){return(n.values||[]).find((t=>yr(t,e)))!==void 0}function Bo(n,e){if(n===e)return 0;const t=Ps(n),i=Ps(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=ft(a.integerValue||a.doubleValue),f=ft(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return Vy(n.timestampValue,e.timestampValue);case 4:return Vy(hl(n),hl(e));case 5:return qe(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=xs(a),f=xs(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),f=c.split("/");for(let v=0;v<h.length&&v<f.length;v++){const _=qe(h[v],f[v]);if(_!==0)return _}return qe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=qe(ft(a.latitude),ft(c.latitude));return h!==0?h:qe(ft(a.longitude),ft(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Fy(n.arrayValue,e.arrayValue);case 10:return(function(a,c){var h,f,v,_;const w=a.fields||{},T=c.fields||{},C=(h=w.value)===null||h===void 0?void 0:h.arrayValue,D=(f=T.value)===null||f===void 0?void 0:f.arrayValue,I=qe(((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return I!==0?I:Fy(C,D)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===ac.mapValue&&c===ac.mapValue)return 0;if(a===ac.mapValue)return 1;if(c===ac.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),v=c.fields||{},_=Object.keys(v);f.sort(),_.sort();for(let w=0;w<f.length&&w<_.length;++w){const T=qe(f[w],_[w]);if(T!==0)return T;const C=Bo(h[f[w]],v[_[w]]);if(C!==0)return C}return qe(f.length,_.length)})(n.mapValue,e.mapValue);default:throw ke()}}function Vy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Li(n),i=Li(e),o=qe(t.seconds,i.seconds);return o!==0?o:qe(t.nanos,i.nanos)}function Fy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Bo(t[o],i[o]);if(a)return a}return qe(t.length,i.length)}function zo(n){return Bf(n)}function Bf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Li(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return xs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Bf(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Bf(t.fields[c])}`;return o+"}"})(n.mapValue):ke()}function zf(n){return!!n&&"integerValue"in n}function Lp(n){return!!n&&"arrayValue"in n}function Uy(n){return!!n&&"nullValue"in n}function jy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yc(n){return!!n&&"mapValue"in n}function Gk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zo(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=tl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Qk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=Lt.emptyPath(),i={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=tl(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Zo(t,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new An(tl(this.value))}}function cE(n){const e=[];return Zo(n.fields,((t,i)=>{const o=new Lt([t]);if(yc(i)){const a=cE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Wt(e,0,Ne.min(),Ne.min(),Ne.min(),An.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,Ne.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ne.min(),Ne.min(),An.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ne.min(),Ne.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t){this.position=e,this.inclusive=t}}function By(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),t.key):i=Bo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function zy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Yk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{}class Tt extends dE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Jk(e,t,i):t==="array-contains"?new tN(e,i):t==="in"?new nN(e,i):t==="not-in"?new rN(e,i):t==="array-contains-any"?new iN(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Zk(e,i):new eN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bo(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends dE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _r(e,t)}matches(e){return hE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hE(n){return n.op==="and"}function fE(n){return Xk(n)&&hE(n)}function Xk(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function $f(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+zo(n.value);if(fE(n))return n.filters.map((e=>$f(e))).join(",");{const e=n.filters.map((t=>$f(t))).join(",");return`${n.op}(${e})`}}function pE(n,e){return n instanceof Tt?(function(i,o){return o instanceof Tt&&i.op===o.op&&i.field.isEqual(o.field)&&yr(i.value,o.value)})(n,e):n instanceof _r?(function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,c,h)=>a&&pE(c,o.filters[h])),!0):!1})(n,e):void ke()}function mE(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${zo(t.value)}`})(n):n instanceof _r?(function(t){return t.op.toString()+" {"+t.getFilters().map(mE).join(" ,")+"}"})(n):"Filter"}class Jk extends Tt{constructor(e,t,i){super(e,t,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zk extends Tt{constructor(e,t){super(e,"in",t),this.keys=gE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class eN extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=gE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>Ie.fromName(i.referenceValue)))}class tN extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lp(t)&&pl(t.arrayValue,this.value)}}class nN extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pl(this.value.arrayValue,t)}}class rN extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!pl(this.value.arrayValue,t)}}class iN extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>pl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function $y(n,e=null,t=[],i=[],o=null,a=null,c=null){return new sN(n,e,t,i,o,a,c)}function Mp(n){const e=be(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>$f(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>zo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>zo(i))).join(",")),e.ue=t}return e.ue}function Vp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Yk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zy(n.startAt,e.startAt)&&zy(n.endAt,e.endAt)}function Wf(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oN(n,e,t,i,o,a,c,h){return new ud(n,e,t,i,o,a,c,h)}function Fp(n){return new ud(n)}function Wy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function aN(n){return n.collectionGroup!==null}function nl(n){const e=be(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Mt(Lt.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((v=>{v.isInequality()&&(h=h.add(v.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Fc(a,i))})),t.has(Lt.keyField().canonicalString())||e.ce.push(new Fc(Lt.keyField(),i))}return e.ce}function pr(n){const e=be(n);return e.le||(e.le=lN(e,nl(n))),e.le}function lN(n,e){if(n.limitType==="F")return $y(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Fc(o.field,a)}));const t=n.endAt?new Vc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vc(n.startAt.position,n.startAt.inclusive):null;return $y(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Hf(n,e,t){return new ud(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cd(n,e){return Vp(pr(n),pr(e))&&n.limitType===e.limitType}function vE(n){return`${Mp(pr(n))}|lt:${n.limitType}`}function Ao(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>mE(o))).join(", ")}]`),ld(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>zo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>zo(o))).join(",")),`Target(${i})`})(pr(n))}; limitType=${n.limitType})`}function dd(n,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ie.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,o){for(const a of nl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,h,f){const v=By(c,h,f);return c.inclusive?v<=0:v<0})(i.startAt,nl(i),o)||i.endAt&&!(function(c,h,f){const v=By(c,h,f);return c.inclusive?v>=0:v>0})(i.endAt,nl(i),o))})(n,e)}function uN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yE(n){return(e,t)=>{let i=!1;for(const o of nl(n)){const a=cN(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function cN(n,e,t){const i=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(a,c,h){const f=c.data.field(a),v=h.data.field(a);return f!==null&&v!==null?Bo(f,v):ke()})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,((t,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new at(Ie.comparator);function Yr(){return dN}const _E=new at(Ie.comparator);function Ja(...n){let e=_E;for(const t of n)e=e.insert(t.key,t);return e}function wE(n){let e=_E;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function gs(){return rl()}function EE(){return rl()}function rl(){return new ea((n=>n.toString()),((n,e)=>n.isEqual(e)))}const hN=new at(Ie.comparator),fN=new Mt(Ie.comparator);function Fe(...n){let e=fN;for(const t of n)e=e.add(t);return e}const pN=new Mt(qe);function mN(){return pN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(e)?"-0":e}}function TE(n){return{integerValue:""+n}}function gN(n,e){return Hk(e)?TE(e):Up(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function vN(n,e,t){return n instanceof ml?(function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Op(a)&&(a=Dp(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}})(t,e):n instanceof gl?IE(n,e):n instanceof vl?CE(n,e):(function(o,a){const c=SE(o,a),h=Hy(c)+Hy(o.Pe);return zf(c)&&zf(o.Pe)?TE(h):Up(o.serializer,h)})(n,e)}function yN(n,e,t){return n instanceof gl?IE(n,e):n instanceof vl?CE(n,e):t}function SE(n,e){return n instanceof Uc?(function(i){return zf(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class ml extends hd{}class gl extends hd{constructor(e){super(),this.elements=e}}function IE(n,e){const t=AE(e);for(const i of n.elements)t.some((o=>yr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class vl extends hd{constructor(e){super(),this.elements=e}}function CE(n,e){let t=AE(e);for(const i of n.elements)t=t.filter((o=>!yr(o,i)));return{arrayValue:{values:t}}}class Uc extends hd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Hy(n){return ft(n.integerValue||n.doubleValue)}function AE(n){return Lp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t){this.field=e,this.transform=t}}function wN(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof gl&&o instanceof gl||i instanceof vl&&o instanceof vl?jo(i.elements,o.elements,yr):i instanceof Uc&&o instanceof Uc?yr(i.Pe,o.Pe):i instanceof ml&&o instanceof ml})(n.transform,e.transform)}class EN{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fd{}function RE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new PE(n.key,Wr.none()):new bl(n.key,n.data,Wr.none());{const t=n.data,i=An.empty();let o=new Mt(Lt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new ks(n.key,i,new Gn(o.toArray()),Wr.none())}}function TN(n,e,t){n instanceof bl?(function(o,a,c){const h=o.value.clone(),f=Ky(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ks?(function(o,a,c){if(!_c(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=Ky(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(xE(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function il(n,e,t,i){return n instanceof bl?(function(a,c,h,f){if(!_c(a.precondition,c))return h;const v=a.value.clone(),_=Gy(a.fieldTransforms,f,c);return v.setAll(_),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(n,e,t,i):n instanceof ks?(function(a,c,h,f){if(!_c(a.precondition,c))return h;const v=Gy(a.fieldTransforms,f,c),_=c.data;return _.setAll(xE(a)),_.setAll(v),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,i):(function(a,c,h){return _c(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function SN(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=SE(i.transform,o||null);a!=null&&(t===null&&(t=An.empty()),t.set(i.field,a))}return t||null}function qy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&jo(i,o,((a,c)=>wN(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bl extends fd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends fd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Ky(n,e,t){const i=new Map;Qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,yN(c,h,t[o]))}return i}function Gy(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,vN(a,c,e))}return i}class PE extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IN extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&TN(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=il(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=il(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=EE();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const f=RE(c,h);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((t,i)=>qy(t,i)))&&jo(this.baseMutations,e.baseMutations,((t,i)=>qy(t,i)))}}class jp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Qe(e.mutations.length===i.length);let o=(function(){return hN})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new jp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,$e;function xN(n){switch(n){default:return ke();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function kE(n){if(n===void 0)return Qr("GRPC error has no .code"),ie.UNKNOWN;switch(n){case gt.OK:return ie.OK;case gt.CANCELLED:return ie.CANCELLED;case gt.UNKNOWN:return ie.UNKNOWN;case gt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case gt.INTERNAL:return ie.INTERNAL;case gt.UNAVAILABLE:return ie.UNAVAILABLE;case gt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case gt.NOT_FOUND:return ie.NOT_FOUND;case gt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case gt.ABORTED:return ie.ABORTED;case gt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case gt.DATA_LOSS:return ie.DATA_LOSS;default:return ke()}}($e=gt||(gt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new _s([4294967295,4294967295],0);function Qy(n){const e=PN().encode(n),t=new eE;return t.update(e),new Uint8Array(t.digest())}function Yy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _s([t,i],0),new _s([o,a],0)]}class Bp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Za(`Invalid padding: ${t}`);if(i<0)throw new Za(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Za(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Za(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=_s.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(_s.fromNumber(i)));return o.compare(kN)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Qy(e),[i,o]=Yy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Bp(a,o,t);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const t=Qy(e),[i,o]=Yy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Za extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new pd(Ne.min(),o,new at(qe),Yr(),Fe())}}class Ol{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ol(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class NE{constructor(e,t){this.targetId=e,this.me=t}}class bE{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Xy{constructor(){this.fe=0,this.ge=Zy(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),t=Fe(),i=Fe();return this.ge.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:ke()}})),new Ol(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Zy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class NN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yr(),this.qe=Jy(),this.Qe=new at(qe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ke()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const a=o.target;if(Wf(a))if(i===0){const c=new Ie(a.path);this.Ue(t,c,Wt.newNoDocument(c,Ne.min()))}else Qe(i===1);else{const c=this.Ye(t);if(c!==i){const h=this.Ze(e),f=h?this.Xe(h,e,c):1;if(f!==0){this.je(t);const v=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,v)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=xs(i).toUint8Array()}catch(f){if(f instanceof uE)return Uo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Bp(c,o,a)}catch(f){return Uo(f instanceof Za?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((a=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,a,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((a,c)=>{const h=this.Je(c);if(h){if(a.current&&Wf(h.target)){const f=new Ie(h.target.path);this.ke.get(f)!==null||this.it(c,f)||this.Ue(c,f,Wt.newNoDocument(f,e))}a.be&&(t.set(c,a.ve()),a.Ce())}}));let i=Fe();this.qe.forEach(((a,c)=>{let h=!0;c.forEachWhile((f=>{const v=this.Je(f);return!v||v.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.ke.forEach(((a,c)=>c.setReadTime(e)));const o=new pd(e,t,this.Qe,this.ke,i);return this.ke=Yr(),this.qe=Jy(),this.Qe=new at(qe),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Xy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Mt(qe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xy),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Jy(){return new at(Ie.comparator)}function Zy(){return new at(Ie.comparator)}const bN={asc:"ASCENDING",desc:"DESCENDING"},ON={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DN={and:"AND",or:"OR"};class LN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qf(n,e){return n.useProto3Json||ld(e)?e:{value:e}}function jc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function MN(n,e){return jc(n,e.toTimestamp())}function mr(n){return Qe(!!n),Ne.fromTimestamp((function(t){const i=Li(t);return new St(i.seconds,i.nanos)})(n))}function zp(n,e){return Kf(n,e).canonicalString()}function Kf(n,e){const t=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function DE(n){const e=ct.fromString(n);return Qe(UE(e)),e}function Gf(n,e){return zp(n.databaseId,e.path)}function pf(n,e){const t=DE(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(ME(t))}function LE(n,e){return zp(n.databaseId,e)}function VN(n){const e=DE(n);return e.length===4?ct.emptyPath():ME(e)}function Qf(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ME(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function e_(n,e,t){return{name:Gf(n,e),fields:t.value.mapValue.fields}}function FN(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ke()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(v,_){return v.useProto3Json?(Qe(_===void 0||typeof _=="string"),Vt.fromBase64String(_||"")):(Qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Vt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(v){const _=v.code===void 0?ie.UNKNOWN:kE(v.code);return new Se(_,v.message||"")})(c);t=new bE(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=pf(n,i.document.name),a=mr(i.document.updateTime),c=i.document.createTime?mr(i.document.createTime):Ne.min(),h=new An({mapValue:{fields:i.document.fields}}),f=Wt.newFoundDocument(o,a,c,h),v=i.targetIds||[],_=i.removedTargetIds||[];t=new wc(v,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=pf(n,i.document),a=i.readTime?mr(i.readTime):Ne.min(),c=Wt.newNoDocument(o,a),h=i.removedTargetIds||[];t=new wc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=pf(n,i.document),a=i.removedTargetIds||[];t=new wc([],a,o,null)}else{if(!("filter"in e))return ke();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new RN(o,a),h=i.targetId;t=new NE(h,c)}}return t}function UN(n,e){let t;if(e instanceof bl)t={update:e_(n,e.key,e.value)};else if(e instanceof PE)t={delete:Gf(n,e.key)};else if(e instanceof ks)t={update:e_(n,e.key,e.data),updateMask:GN(e.fieldMask)};else{if(!(e instanceof IN))return ke();t={verify:Gf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,c){const h=c.transform;if(h instanceof ml)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof gl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uc)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw ke()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:MN(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke()})(n,e.precondition)),t}function jN(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map((t=>(function(o,a){let c=o.updateTime?mr(o.updateTime):mr(a);return c.isEqual(Ne.min())&&(c=mr(a)),new EN(c,o.transformResults||[])})(t,e)))):[]}function BN(n,e){return{documents:[LE(n,e.path)]}}function zN(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=LE(n,o);const a=(function(v){if(v.length!==0)return FE(_r.create(v,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(v){if(v.length!==0)return v.map((_=>(function(T){return{field:Ro(T.field),direction:HN(T.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=qf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{_t:t,parent:o}}function $N(n){let e=VN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Qe(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(w){const T=VE(w);return T instanceof _r&&fE(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((T=>(function(D){return new Fc(xo(D.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(w){let T;return T=typeof w=="object"?w.value:w,ld(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(w){const T=!!w.before,C=w.values||[];return new Vc(C,T)})(t.startAt));let v=null;return t.endAt&&(v=(function(w){const T=!w.before,C=w.values||[];return new Vc(C,T)})(t.endAt)),oN(e,o,c,a,h,"F",f,v)}function WN(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=xo(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=xo(t.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xo(t.unaryFilter.field);return Tt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ke()}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(xo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return _r.create(t.compositeFilter.filters.map((i=>VE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke()}})(t.compositeFilter.op))})(n):ke()}function HN(n){return bN[n]}function qN(n){return ON[n]}function KN(n){return DN[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function xo(n){return Lt.fromServerFormat(n.fieldPath)}function FE(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(jy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(Uy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(Uy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:qN(t.op),value:t.value}}})(n):n instanceof _r?(function(t){const i=t.getFilters().map((o=>FE(o)));return i.length===1?i[0]:{compositeFilter:{op:KN(t.op),filters:i}}})(n):ke()}function GN(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function UE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t,i,o,a=Ne.min(),c=Ne.min(),h=Vt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.ct=e}}function YN(n){const e=$N({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.un=new JN}addToCollectionParentIndex(e,t){return this.un.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Di.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class JN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Mt(ct.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Mt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $o(0)}static kn(){return new $o(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.changes=new ea((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&il(i.mutation,o,Gn.empty(),St.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Fe()){const o=gs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((a=>{let c=Ja();return a.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=gs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Fe())))}populateOverlays(e,t,i){const o=[];return i.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,i,o){let a=Yr();const c=rl(),h=(function(){return rl()})();return t.forEach(((f,v)=>{const _=i.get(v.key);o.has(v.key)&&(_===void 0||_.mutation instanceof ks)?a=a.insert(v.key,v):_!==void 0?(c.set(v.key,_.mutation.getFieldMask()),il(_.mutation,v,_.mutation.getFieldMask(),St.now())):c.set(v.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((v,_)=>c.set(v,_))),t.forEach(((v,_)=>{var w;return h.set(v,new e2(_,(w=c.get(v))!==null&&w!==void 0?w:null))})),h)))}recalculateAndSaveOverlays(e,t){const i=rl();let o=new at(((c,h)=>c-h)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const v=t.get(f);if(v===null)return;let _=i.get(f)||Gn.empty();_=h.applyToLocalView(v,_),i.set(f,_);const w=(o.get(h.batchId)||Fe()).add(f);o=o.insert(h.batchId,w)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),v=f.key,_=f.value,w=EE();_.forEach((T=>{if(!a.has(T)){const C=RE(t.get(T),i.get(T));C!==null&&w.set(T,C),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,v,w))}return ne.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):aN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ne.resolve(gs());let h=-1,f=a;return c.next((v=>ne.forEach(v,((_,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{f=f.insert(_,T)}))))).next((()=>this.populateOverlays(e,v,a))).next((()=>this.computeViews(e,f,v,Fe()))).next((_=>({batchId:h,changes:wE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((i=>{let o=Ja();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Ja();return this.indexManager.getCollectionParents(e,a).next((h=>ne.forEach(h,(f=>{const v=(function(w,T){return new ud(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next((_=>{_.forEach(((w,T)=>{c=c.insert(w,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o)))).next((c=>{a.forEach(((f,v)=>{const _=v.getKey();c.get(_)===null&&(c=c.insert(_,Wt.newInvalidDocument(_)))}));let h=Ja();return c.forEach(((f,v)=>{const _=a.get(f);_!==void 0&&il(_.mutation,v,Gn.empty(),St.now()),dd(t,v)&&(h=h.insert(f,v))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ne.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:YN(o.bundledQuery),readTime:mr(o.readTime)}})(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.overlays=new at(Ie.comparator),this.Ir=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=gs();return ne.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,a)=>{this.ht(e,t,a)})),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=gs(),a=t.length+1,c=new Ie(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,v=f.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new at(((v,_)=>v-_));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let _=a.get(v.largestBatchId);_===null&&(_=gs(),a=a.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const h=gs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((v,_)=>h.set(v,_))),!(h.size()>=o)););return ne.resolve(h)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new AN(t,i));let a=this.Ir.get(t);a===void 0&&(a=Fe(),this.Ir.set(t,a)),this.Ir.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(){this.Tr=new Mt(Pt.Er),this.dr=new Mt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new Ie(new ct([])),i=new Pt(t,e),o=new Pt(t,e+1),a=[];return this.dr.forEachInRange([i,o],(c=>{this.Vr(c),a.push(c.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ie(new ct([])),i=new Pt(t,e),o=new Pt(t,e+1);let a=Fe();return this.dr.forEachInRange([i,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Pt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ie.comparator(e.key,t.key)||qe(e.wr,t.wr)}static Ar(e,t){return qe(e.wr,t.wr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Mt(Pt.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new CN(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.br=this.br.add(new Pt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],(c=>{const h=this.Dr(c.wr);a.push(h)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mt(qe);return t.forEach((o=>{const a=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],(h=>{i=i.add(h.wr)}))})),ne.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ie.isDocumentKey(a)||(a=a.child(""));const c=new Pt(new Ie(a),0);let h=new Mt(qe);return this.br.forEachWhile((f=>{const v=f.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(h=h.add(f.wr)),!0)}),c),ne.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ne.forEach(t.mutations,(o=>{const a=new Pt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new Pt(t,0),o=this.br.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.Mr=e,this.docs=(function(){return new at(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Yr();return t.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Wt.newInvalidDocument(o))})),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Yr();const c=t.path,h=new Ie(c.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:v,value:{document:_}}=f.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||Bk(jk(_),i)<=0||(o.has(_.key)||dd(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,i,o){ke()}Or(e,t){return ne.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new a2(this)}getSize(e){return ne.resolve(this.size)}}class a2 extends ZN{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),ne.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.persistence=e,this.Nr=new ea((t=>Mp(t)),Vp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $p,this.targetCount=0,this.kr=$o.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new $o(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Kn(t),ne.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ne.waitFor(a).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,t){this.qr={},this.overlays={},this.Qr=new bp(0),this.Kr=!1,this.Kr=!0,this.$r=new i2,this.referenceDelegate=e(this),this.Ur=new l2(this),this.indexManager=new XN,this.remoteDocumentCache=(function(o){return new o2(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new QN(t),this.Gr=new n2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new r2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new s2(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const o=new c2(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((a=>this.referenceDelegate.jr(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Hr(e,t){return ne.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class c2 extends $k{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Jr=new $p,this.Yr=null}static Zr(e){return new Wp(e)}get Xr(){if(this.Yr)return this.Yr;throw ke()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.Xr.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,(i=>{const o=Ie.fromPath(i);return this.ei(e,o).next((a=>{a||t.removeEntry(o,Ne.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return ne.or([()=>ne.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Fe(),o=Fe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Hp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return dx()?8:Wk(qt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Yi(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.Zi(e,t,o,i).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new d2;return this.Xi(e,t,c).next((h=>{if(a.result=h,this.zi)return this.es(e,t,c,h.size)}))})).next((()=>a.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(Qa()<=Be.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(Qa()<=Be.DEBUG&&me("QueryEngine","Query:",Ao(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(Qa()<=Be.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):ne.resolve())}Yi(e,t){if(Wy(t))return ne.resolve(null);let i=pr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Hf(t,null,"F"),i=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const c=Fe(...a);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const v=this.ts(t,h);return this.ns(t,v,c,f.readTime)?this.Yi(e,Hf(t,null,"F")):this.rs(e,v,t,f)}))))})))))}Zi(e,t,i,o){return Wy(t)||o.isEqual(Ne.min())?ne.resolve(null):this.Ji.getDocuments(e,i).next((a=>{const c=this.ts(t,a);return this.ns(t,c,i,o)?ne.resolve(null):(Qa()<=Be.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(t)),this.rs(e,c,t,Uk(o,-1)).next((h=>h)))}))}ts(e,t){let i=new Mt(yE(e));return t.forEach(((o,a)=>{dd(e,a)&&(i=i.add(a))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,i){return Qa()<=Be.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ao(t)),this.Ji.getDocumentsMatchingQuery(e,t,Di.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new at(qe),this._s=new ea((a=>Mp(a)),Vp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function p2(n,e,t,i){return new f2(n,e,t,i)}async function jE(n,e){const t=be(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const c=[],h=[];let f=Fe();for(const v of o){c.push(v.batchId);for(const _ of v.mutations)f=f.add(_.key)}for(const v of a){h.push(v.batchId);for(const _ of v.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next((v=>({hs:v,removedBatchIds:c,addedBatchIds:h})))}))}))}function m2(n,e){const t=be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return(function(h,f,v,_){const w=v.batch,T=w.keys();let C=ne.resolve();return T.forEach((D=>{C=C.next((()=>_.getEntry(f,D))).next((I=>{const P=v.docVersions.get(D);Qe(P!==null),I.version.compareTo(P)<0&&(w.applyToRemoteDocument(I,v),I.isValidDocument()&&(I.setReadTime(v.commitVersion),_.addEntry(I)))}))})),C.next((()=>h.mutationQueue.removeMutationBatch(f,w)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Fe();for(let v=0;v<h.mutationResults.length;++v)h.mutationResults[v].transformResults.length>0&&(f=f.add(h.batch.mutations[v].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function BE(n){const e=be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function g2(n,e){const t=be(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach(((_,w)=>{const T=o.get(w);if(!T)return;h.push(t.Ur.removeMatchingKeys(a,_.removedDocuments,w).next((()=>t.Ur.addMatchingKeys(a,_.addedDocuments,w))));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(Vt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,i)),o=o.insert(w,C),(function(I,P,L){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(T,C,_)&&h.push(t.Ur.updateTargetData(a,C))}));let f=Yr(),v=Fe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),h.push(v2(a,c,e.documentUpdates).next((_=>{f=_.Ps,v=_.Is}))),!i.isEqual(Ne.min())){const _=t.Ur.getLastRemoteSnapshotVersion(a).next((w=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(_)}return ne.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,v))).next((()=>f))})).then((a=>(t.os=o,a)))}function v2(n,e,t){let i=Fe(),o=Fe();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let c=Yr();return t.forEach(((h,f)=>{const v=a.get(h);f.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!v.isValidDocument()||f.version.compareTo(v.version)>0||f.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):me("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",f.version)})),{Ps:c,Is:o}}))}function y2(n,e){const t=be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function _2(n,e){const t=be(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((a=>a?(o=a,ne.resolve(o)):t.Ur.allocateTargetId(i).next((c=>(o=new Ri(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function Yf(n,e,t){const i=be(n),o=i.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Nl(c))throw c;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function t_(n,e,t){const i=be(n);let o=Ne.min(),a=Fe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,v,_){const w=be(f),T=w._s.get(_);return T!==void 0?ne.resolve(w.os.get(T)):w.Ur.getTargetData(v,_)})(i,c,pr(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,h.targetId).next((f=>{a=f}))})).next((()=>i.ss.getDocumentsMatchingQuery(c,e,t?o:Ne.min(),t?a:Fe()))).next((h=>(w2(i,uN(e),h),{documents:h,Ts:a})))))}function w2(n,e,t){let i=n.us.get(e)||Ne.min();t.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.us.set(e,i)}class n_{constructor(){this.activeTargetIds=mN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E2{constructor(){this.so=new n_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new n_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lc=null;function mf(){return lc===null?lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():lc++,"0x"+lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class C2 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,i,o,a,c){const h=mf(),f=this.xo(t,i.toUriEncodedString());me("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,a,c),this.No(t,f,v,o).then((_=>(me("RestConnection",`Received RPC '${t}' ${h}: `,_),_)),(_=>{throw Uo("RestConnection",`RPC '${t}' ${h} failed with error: `,_,"url: ",f,"request:",o),_}))}Lo(t,i,o,a,c,h){return this.Mo(t,i,o,a,c)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((a,c)=>t[c]=a)),o&&o.headers.forEach(((a,c)=>t[c]=a))}xo(t,i){const o=S2[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const a=mf();return new Promise(((c,h)=>{const f=new tE;f.setWithCredentials(!0),f.listenOnce(nE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case vc.NO_ERROR:const _=f.getResponseJson();me(zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case vc.TIMEOUT:me(zt,`RPC '${e}' ${a} timed out`),h(new Se(ie.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const w=f.getStatus();if(me(zt,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const D=(function(P){const L=P.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(L)>=0?L:ie.UNKNOWN})(C.status);h(new Se(D,C.message))}else h(new Se(ie.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Se(ie.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{me(zt,`RPC '${e}' ${a} completed.`)}}));const v=JSON.stringify(o);me(zt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",v,i,15)}))}Bo(e,t,i){const o=mf(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sE(),h=iE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(f.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=a.join("");me(zt,`Creating RPC '${e}' stream ${o}: ${_}`,f);const w=c.createWebChannel(_,f);let T=!1,C=!1;const D=new I2({Io:P=>{C?me(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(T||(me(zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),me(zt,`RPC '${e}' stream ${o} sending:`,P),w.send(P))},To:()=>w.close()}),I=(P,L,V)=>{P.listen(L,(j=>{try{V(j)}catch(K){setTimeout((()=>{throw K}),0)}}))};return I(w,Xa.EventType.OPEN,(()=>{C||(me(zt,`RPC '${e}' stream ${o} transport opened.`),D.yo())})),I(w,Xa.EventType.CLOSE,(()=>{C||(C=!0,me(zt,`RPC '${e}' stream ${o} transport closed`),D.So())})),I(w,Xa.EventType.ERROR,(P=>{C||(C=!0,Uo(zt,`RPC '${e}' stream ${o} transport errored:`,P),D.So(new Se(ie.UNAVAILABLE,"The operation could not be completed")))})),I(w,Xa.EventType.MESSAGE,(P=>{var L;if(!C){const V=P.data[0];Qe(!!V);const j=V,K=j.error||((L=j[0])===null||L===void 0?void 0:L.error);if(K){me(zt,`RPC '${e}' stream ${o} received error:`,K);const Z=K.status;let J=(function(k){const M=gt[k];if(M!==void 0)return kE(M)})(Z),x=K.message;J===void 0&&(J=ie.INTERNAL,x="Unknown error status: "+Z+" with message "+K.message),C=!0,D.So(new Se(J,x)),w.close()}else me(zt,`RPC '${e}' stream ${o} received:`,V),D.bo(V)}})),I(h,rE.STAT_EVENT,(P=>{P.stat===jf.PROXY?me(zt,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===jf.NOPROXY&&me(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.wo()}),0),D}}function gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n){return new LN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t,i,o,a,c,h,f){this.ui=e,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zE(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new Se(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class A2 extends $E{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=FN(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Ne.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?mr(c.readTime):Ne.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=Qf(this.serializer),t.addTarget=(function(a,c){let h;const f=c.target;if(h=Wf(f)?{documents:BN(a,f)}:{query:zN(a,f)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=OE(a,c.resumeToken);const v=qf(a,c.expectedCount);v!==null&&(h.expectedCount=v)}else if(c.snapshotVersion.compareTo(Ne.min())>0){h.readTime=jc(a,c.snapshotVersion.toTimestamp());const v=qf(a,c.expectedCount);v!==null&&(h.expectedCount=v)}return h})(this.serializer,e);const i=WN(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=Qf(this.serializer),t.removeTarget=e,this.a_(t)}}class R2 extends $E{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=jN(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=Qf(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>UN(this.serializer,i)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Mo(e,Kf(t,i),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ie.UNKNOWN,a.toString())}))}Lo(e,t,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,Kf(t,i),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ie.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class P2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qr(t),this.D_=!1):me("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((c=>{i.enqueueAndForget((async()=>{Ns(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const v=be(f);v.L_.add(4),await Dl(v),v.q_.set("Unknown"),v.L_.delete(4),await gd(v)})(this))}))})),this.q_=new P2(i,o)}}async function gd(n){if(Ns(n))for(const e of n.B_)await e(!0)}async function Dl(n){for(const e of n.B_)await e(!1)}function WE(n,e){const t=be(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Qp(t)?Gp(t):ta(t).r_()&&Kp(t,e))}function qp(n,e){const t=be(n),i=ta(t);t.N_.delete(e),i.r_()&&HE(t,e),t.N_.size===0&&(i.r_()?i.o_():Ns(t)&&t.q_.set("Unknown"))}function Kp(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ta(n).A_(e)}function HE(n,e){n.Q_.xe(e),ta(n).R_(e)}function Gp(n){n.Q_=new NN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ta(n).start(),n.q_.v_()}function Qp(n){return Ns(n)&&!ta(n).n_()&&n.N_.size>0}function Ns(n){return be(n).L_.size===0}function qE(n){n.Q_=void 0}async function N2(n){n.q_.set("Online")}async function b2(n){n.N_.forEach(((e,t)=>{Kp(n,e)}))}async function O2(n,e){qE(n),Qp(n)?(n.q_.M_(e),Gp(n)):n.q_.set("Unknown")}async function D2(n,e,t){if(n.q_.set("Online"),e instanceof bE&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.N_.delete(h),o.Q_.removeTarget(h))})(n,e)}catch(i){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Bc(n,i)}else if(e instanceof wc?n.Q_.Ke(e):e instanceof NE?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Ne.min()))try{const i=await BE(n.localStore);t.compareTo(i)>=0&&await(function(a,c){const h=a.Q_.rt(c);return h.targetChanges.forEach(((f,v)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.N_.get(v);_&&a.N_.set(v,_.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,v)=>{const _=a.N_.get(f);if(!_)return;a.N_.set(f,_.withResumeToken(Vt.EMPTY_BYTE_STRING,_.snapshotVersion)),HE(a,f);const w=new Ri(_.target,f,v,_.sequenceNumber);Kp(a,w)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){me("RemoteStore","Failed to raise snapshot:",i),await Bc(n,i)}}async function Bc(n,e,t){if(!Nl(e))throw e;n.L_.add(1),await Dl(n),n.q_.set("Offline"),t||(t=()=>BE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await gd(n)}))}function KE(n,e){return e().catch((t=>Bc(n,t,e)))}async function vd(n){const e=be(n),t=Mi(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;L2(e);)try{const o=await y2(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,M2(e,o)}catch(o){await Bc(e,o)}GE(e)&&QE(e)}function L2(n){return Ns(n)&&n.O_.length<10}function M2(n,e){n.O_.push(e);const t=Mi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function GE(n){return Ns(n)&&!Mi(n).n_()&&n.O_.length>0}function QE(n){Mi(n).start()}async function V2(n){Mi(n).p_()}async function F2(n){const e=Mi(n);for(const t of n.O_)e.m_(t.mutations)}async function U2(n,e,t){const i=n.O_.shift(),o=jp.from(i,e,t);await KE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await vd(n)}async function j2(n,e){e&&Mi(n).V_&&await(async function(i,o){if((function(c){return xN(c)&&c!==ie.ABORTED})(o.code)){const a=i.O_.shift();Mi(i).s_(),await KE(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await vd(i)}})(n,e),GE(n)&&QE(n)}async function i_(n,e){const t=be(n);t.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const i=Ns(t);t.L_.add(3),await Dl(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await gd(t)}async function B2(n,e){const t=be(n);e?(t.L_.delete(2),await gd(t)):e||(t.L_.add(2),await Dl(t),t.q_.set("Unknown"))}function ta(n){return n.K_||(n.K_=(function(t,i,o){const a=be(t);return a.w_(),new A2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:N2.bind(null,n),Ro:b2.bind(null,n),mo:O2.bind(null,n),d_:D2.bind(null,n)}),n.B_.push((async e=>{e?(n.K_.s_(),Qp(n)?Gp(n):n.q_.set("Unknown")):(await n.K_.stop(),qE(n))}))),n.K_}function Mi(n){return n.U_||(n.U_=(function(t,i,o){const a=be(t);return a.w_(),new R2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:V2.bind(null,n),mo:j2.bind(null,n),f_:F2.bind(null,n),g_:U2.bind(null,n)}),n.B_.push((async e=>{e?(n.U_.s_(),await vd(n)):(await n.U_.stop(),n.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new Yp(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),Nl(n))return new Se(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ie.comparator(t.key,i.key):(t,i)=>Ie.comparator(t.key,i.key),this.keyedMap=Ja(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Do;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.W_=new at(Ie.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ke():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Wo{constructor(e,t,i,o,a,c,h,f,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Wo(e,t,Do.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class $2{constructor(){this.queries=o_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=be(t),a=o.queries;o.queries=o_(),a.forEach(((c,h)=>{for(const f of h.j_)f.onError(i)}))})(this,new Se(ie.ABORTED,"Firestore shutting down"))}}function o_(){return new ea((n=>vE(n)),cd)}async function W2(n,e){const t=be(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(i=2):(a=new z2,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=Xp(c,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&Jp(t)}async function H2(n,e){const t=be(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function q2(n,e){const t=be(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.j_)h.X_(o)&&(i=!0);c.z_=o}}i&&Jp(t)}function K2(n,e,t){const i=be(n),o=i.queries.get(e);if(o)for(const a of o.j_)a.onError(t);i.queries.delete(e)}function Jp(n){n.Y_.forEach((e=>{e.next()}))}var Xf,a_;(a_=Xf||(Xf={})).ea="default",a_.Cache="cache";class G2{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Wo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.key=e}}class XE{constructor(e){this.key=e}}class Q2{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fe(),this.mutatedKeys=Fe(),this.Aa=yE(e),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new s_,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,w)=>{const T=o.get(_),C=dd(this.query,w)?w:null,D=!!T&&this.mutatedKeys.has(T.key),I=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;T&&C?T.data.isEqual(C.data)?D!==I&&(i.track({type:3,doc:C}),P=!0):this.ga(T,C)||(i.track({type:2,doc:C}),P=!0,(f&&this.Aa(C,f)>0||v&&this.Aa(C,v)<0)&&(h=!0)):!T&&C?(i.track({type:0,doc:C}),P=!0):T&&!C&&(i.track({type:1,doc:T}),P=!0,(f||v)&&(h=!0)),P&&(C?(c=c.add(C),a=I?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{Ra:c,fa:i,ns:h,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((_,w)=>(function(C,D){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return I(C)-I(D)})(_.type,w.type)||this.Aa(_.doc,w.doc))),this.pa(i),o=o!=null&&o;const h=t&&!o?this.ya():[],f=this.da.size===0&&this.current&&!o?1:0,v=f!==this.Ea;return this.Ea=f,c.length!==0||v?{snapshot:new Wo(this.query,e.Ra,a,c,e.mutatedKeys,f===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new s_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fe(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new XE(i))})),this.da.forEach((i=>{e.has(i)||t.push(new YE(i))})),t}ba(e){this.Ta=e.Ts,this.da=Fe();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Wo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Y2{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class X2{constructor(e){this.key=e,this.va=!1}}class J2{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new ea((h=>vE(h)),cd),this.Ma=new Map,this.xa=new Set,this.Oa=new at(Ie.comparator),this.Na=new Map,this.La=new $p,this.Ba={},this.ka=new Map,this.qa=$o.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Z2(n,e,t=!0){const i=rT(n);let o;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await JE(i,e,t,!0),o}async function eb(n,e){const t=rT(n);await JE(t,e,!0,!1)}async function JE(n,e,t,i){const o=await _2(n.localStore,pr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await tb(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&WE(n.remoteStore,o),h}async function tb(n,e,t,i,o){n.Ka=(w,T,C)=>(async function(I,P,L,V){let j=P.view.ma(L);j.ns&&(j=await t_(I.localStore,P.query,!1).then((({documents:x})=>P.view.ma(x,j))));const K=V&&V.targetChanges.get(P.targetId),Z=V&&V.targetMismatches.get(P.targetId)!=null,J=P.view.applyChanges(j,I.isPrimaryClient,K,Z);return u_(I,P.targetId,J.wa),J.snapshot})(n,w,T,C);const a=await t_(n.localStore,e,!0),c=new Q2(e,a.Ts),h=c.ma(a.documents),f=Ol.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),v=c.applyChanges(h,n.isPrimaryClient,f);u_(n,t,v.wa);const _=new Y2(e,t,c);return n.Fa.set(e,_),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),v.snapshot}async function nb(n,e,t){const i=be(n),o=i.Fa.get(e),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter((c=>!cd(c,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Yf(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&qp(i.remoteStore,o.targetId),Jf(i,o.targetId)})).catch(kl)):(Jf(i,o.targetId),await Yf(i.localStore,o.targetId,!0))}async function rb(n,e){const t=be(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),qp(t.remoteStore,i.targetId))}async function ib(n,e,t){const i=db(n);try{const o=await(function(c,h){const f=be(c),v=St.now(),_=h.reduce(((C,D)=>C.add(D.key)),Fe());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let D=Yr(),I=Fe();return f.cs.getEntries(C,_).next((P=>{D=P,D.forEach(((L,V)=>{V.isValidDocument()||(I=I.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(C,D))).next((P=>{w=P;const L=[];for(const V of h){const j=SN(V,w.get(V.key).overlayedDocument);j!=null&&L.push(new ks(V.key,j,cE(j.value.mapValue),Wr.exists(!0)))}return f.mutationQueue.addMutationBatch(C,v,L,h)})).next((P=>{T=P;const L=P.applyToLocalDocumentSet(w,I);return f.documentOverlayCache.saveOverlays(C,P.batchId,L)}))})).then((()=>({batchId:T.batchId,changes:wE(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,h,f){let v=c.Ba[c.currentUser.toKey()];v||(v=new at(qe)),v=v.insert(h,f),c.Ba[c.currentUser.toKey()]=v})(i,o.batchId,t),await Ll(i,o.changes),await vd(i.remoteStore)}catch(o){const a=Xp(o,"Failed to persist write");t.reject(a)}}async function ZE(n,e){const t=be(n);try{const i=await g2(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Na.get(a);c&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Qe(c.va):o.removedDocuments.size>0&&(Qe(c.va),c.va=!1))})),await Ll(t,i,e)}catch(i){await kl(i)}}function l_(n,e,t){const i=be(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((a,c)=>{const h=c.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const f=be(c);f.onlineState=h;let v=!1;f.queries.forEach(((_,w)=>{for(const T of w.j_)T.Z_(h)&&(v=!0)})),v&&Jp(f)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function sb(n,e,t){const i=be(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),a=o&&o.key;if(a){let c=new at(Ie.comparator);c=c.insert(a,Wt.newNoDocument(a,Ne.min()));const h=Fe().add(a),f=new pd(Ne.min(),new Map,new at(qe),c,h);await ZE(i,f),i.Oa=i.Oa.remove(a),i.Na.delete(e),Zp(i)}else await Yf(i.localStore,e,!1).then((()=>Jf(i,e,t))).catch(kl)}async function ob(n,e){const t=be(n),i=e.batch.batchId;try{const o=await m2(t.localStore,e);tT(t,i,null),eT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ll(t,o)}catch(o){await kl(o)}}async function ab(n,e,t){const i=be(n);try{const o=await(function(c,h){const f=be(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let _;return f.mutationQueue.lookupMutationBatch(v,h).next((w=>(Qe(w!==null),_=w.keys(),f.mutationQueue.removeMutationBatch(v,w)))).next((()=>f.mutationQueue.performConsistencyCheck(v))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(v,_,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_))).next((()=>f.localDocuments.getDocuments(v,_)))}))})(i.localStore,e);tT(i,e,t),eT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ll(i,o)}catch(o){await kl(o)}}function eT(n,e){(n.ka.get(e)||[]).forEach((t=>{t.resolve()})),n.ka.delete(e)}function tT(n,e,t){const i=be(n);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function Jf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach((i=>{n.La.containsKey(i)||nT(n,i)}))}function nT(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(qp(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Zp(n))}function u_(n,e,t){for(const i of t)i instanceof YE?(n.La.addReference(i.key,e),lb(n,i)):i instanceof XE?(me("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||nT(n,i.key)):ke()}function lb(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(me("SyncEngine","New document in limbo: "+t),n.xa.add(i),Zp(n))}function Zp(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Ie(ct.fromString(e)),i=n.qa.next();n.Na.set(i,new X2(t)),n.Oa=n.Oa.insert(t,i),WE(n.remoteStore,new Ri(pr(Fp(t.path)),i,"TargetPurposeLimboResolution",bp.oe))}}async function Ll(n,e,t){const i=be(n),o=[],a=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach(((h,f)=>{c.push(i.Ka(f,e,t).then((v=>{var _;if((v||t)&&i.isPrimaryClient){const w=v?!v.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(v){o.push(v);const w=Hp.Wi(f.targetId,v);a.push(w)}})))})),await Promise.all(c),i.Ca.d_(o),await(async function(f,v){const _=be(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ne.forEach(v,(T=>ne.forEach(T.$i,(C=>_.persistence.referenceDelegate.addReference(w,T.targetId,C))).next((()=>ne.forEach(T.Ui,(C=>_.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))))))}catch(w){if(!Nl(w))throw w;me("LocalStore","Failed to update sequence numbers: "+w)}for(const w of v){const T=w.targetId;if(!w.fromCache){const C=_.os.get(T),D=C.snapshotVersion,I=C.withLastLimboFreeSnapshotVersion(D);_.os=_.os.insert(T,I)}}})(i.localStore,a))}async function ub(n,e){const t=be(n);if(!t.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const i=await jE(t.localStore,e);t.currentUser=e,(function(a,c){a.ka.forEach((h=>{h.forEach((f=>{f.reject(new Se(ie.CANCELLED,c))}))})),a.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ll(t,i.hs)}}function cb(n,e){const t=be(n),i=t.Na.get(e);if(i&&i.va)return Fe().add(i.key);{let o=Fe();const a=t.Ma.get(e);if(!a)return o;for(const c of a){const h=t.Fa.get(c);o=o.unionWith(h.view.Va)}return o}}function rT(n){const e=be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sb.bind(null,e),e.Ca.d_=q2.bind(null,e.eventManager),e.Ca.$a=K2.bind(null,e.eventManager),e}function db(n){const e=be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ob.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ab.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return p2(this.persistence,new h2,e.initialUser,this.serializer)}Ga(e){return new u2(Wp.Zr,this.serializer)}Wa(e){return new E2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class Zf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>l_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ub.bind(null,this.syncEngine),await B2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $2})()}createDatastore(e){const t=md(e.databaseInfo.databaseId),i=(function(a){return new C2(a)})(e.databaseInfo);return(function(a,c,h,f){return new x2(a,c,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,a,c,h){return new k2(i,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>l_(this.syncEngine,t,0)),(function(){return r_.D()?new r_:new T2})())}createSyncEngine(e,t){return(function(o,a,c,h,f,v,_){const w=new J2(o,a,c,h,f,v);return _&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=be(o);me("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Dl(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Zf.provider={build:()=>new Zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=aE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async c=>{me("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(me("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Xp(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function vf(n,e){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await jE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function c_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await pb(n);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>i_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>i_(e.remoteStore,o))),n._onlineComponents=e}async function pb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await vf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await vf(n,new zc)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await vf(n,new zc);return n._offlineComponents}async function iT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await c_(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await c_(n,new Zf))),n._onlineComponents}function mb(n){return iT(n).then((e=>e.syncEngine))}async function gb(n){const e=await iT(n),t=e.eventManager;return t.onListen=Z2.bind(null,e.syncEngine),t.onUnlisten=nb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eb.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rb.bind(null,e.syncEngine),t}function vb(n,e,t={}){const i=new Ni;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,v){const _=new hb({next:T=>{_.Za(),c.enqueueAndForget((()=>H2(a,w)));const C=T.docs.has(h);!C&&T.fromCache?v.reject(new Se(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&f&&f.source==="server"?v.reject(new Se(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(T)},error:T=>v.reject(T)}),w=new G2(Fp(h.path),_,{includeMetadataChanges:!0,_a:!0});return W2(a,w)})(await gb(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(n,e,t){if(!t)throw new Se(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _b(n,e,t,i){if(e===!0&&i===!0)throw new Se(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function h_(n){if(!Ie.isDocumentKey(n))throw new Se(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function em(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function yl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=em(n);throw new Se(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_b("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new kk;switch(i.type){case"firstParty":return new Dk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=d_.get(t);i&&(me("ComponentProvider","Removing Datastore"),d_.delete(t),i.terminate())})(this),Promise.resolve()}}function wb(n,e,t,i={}){var o;const a=(n=yl(n,tm))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=$t.MOCK_USER;else{h=ix(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Se(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(v)}n._authCredentials=new Nk(new oE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new nm(this.firestore,e,this._query)}}class Rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class _l extends nm{constructor(e,t,i){super(e,t,Fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ie(e))}withConverter(e){return new _l(this.firestore,e,this._path)}}function Eb(n,e,...t){if(n=xn(n),arguments.length===1&&(e=aE.newId()),yb("doc","path",e),n instanceof tm){const i=ct.fromString(e,...t);return h_(i),new Rn(n,null,new Ie(i))}{if(!(n instanceof Rn||n instanceof _l))throw new Se(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return h_(i),new Rn(n.firestore,n instanceof _l?n.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zE(this,"async_queue_retry"),this.Vu=()=>{const i=gf();i&&me("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=gf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=gf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ni;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nl(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(i);throw Qr("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Yp.createAndSchedule(this,e,t,i,(a=>this.yu(a)));return this.Tu.push(o),o}fu(){this.Eu&&ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class rm extends tm{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new p_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p_(e),this._firestoreClient=void 0,await e}}}function Tb(n,e){const t=typeof n=="object"?n:w0(),i=typeof n=="string"?n:"(default)",o=wp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=nx("firestore");a&&wb(o,...a)}return o}function oT(n){if(n._terminated)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Sb(n),n._firestoreClient}function Sb(n){var e,t,i;const o=n._freezeSettings(),a=(function(h,f,v,_){return new Kk(h,f,v,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,sT(_.experimentalLongPollingOptions),_.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new fb(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(Vt.fromBase64String(e))}catch(t){throw new Se(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ho(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=/^__.*__$/;class Cb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new bl(e,this.data,t,this.fieldTransforms)}}function aT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class lm{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new lm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $c(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aT(this.Cu)&&Ib.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ab{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||md(e)}Qu(e,t,i,o=!1){return new lm({Cu:e,methodName:t,qu:i,path:Lt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rb(n){const e=n._freezeSettings(),t=md(n._databaseId);return new Ab(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xb(n,e,t,i,o,a={}){const c=n.Qu(a.merge||a.mergeFields?2:0,e,t,o);dT("Data must be an object, but it was:",c,i);const h=uT(i,c);let f,v;if(a.merge)f=new Gn(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const T=Pb(e,w,t);if(!c.contains(T))throw new Se(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Nb(_,T)||_.push(T)}f=new Gn(_),v=c.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,v=c.fieldTransforms;return new Cb(new An(h),f,v)}class um extends sm{_toFieldTransform(e){return new _N(e.path,new ml)}isEqual(e){return e instanceof um}}function lT(n,e){if(cT(n=xn(n)))return dT("Unsupported field value:",e,n),uT(n,e);if(n instanceof sm)return(function(i,o){if(!aT(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const a=[];let c=0;for(const h of i){let f=lT(h,o.Lu(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(n,e)}return(function(i,o){if((i=xn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=St.fromDate(i);return{timestampValue:jc(o.serializer,a)}}if(i instanceof St){const a=new St(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jc(o.serializer,a)}}if(i instanceof om)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ho)return{bytesValue:OE(o.serializer,i._byteString)};if(i instanceof Rn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof am)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Bu("VectorValues must only contain numeric values.");return Up(h.serializer,f)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${em(i)}`)})(n,e)}function uT(n,e){const t={};return lE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(n,((i,o)=>{const a=lT(o,e.Mu(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function cT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof om||n instanceof Ho||n instanceof Rn||n instanceof sm||n instanceof am)}function dT(n,e,t){if(!cT(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=em(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function Pb(n,e,t){if((e=xn(e))instanceof im)return e._internalPath;if(typeof e=="string")return hT(n,e);throw $c("Field path arguments must be of type string or ",n,!1,void 0,t)}const kb=new RegExp("[~\\*/\\[\\]]");function hT(n,e,t){if(e.search(kb)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new im(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $c(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new Se(ie.INVALID_ARGUMENT,h+n+f)}function Nb(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bb extends fT{data(){return super.data()}}function pT(n,e){return typeof e=="string"?hT(n,e):e instanceof im?e._internalPath:e._delegate._internalPath}class Ob{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Zo(e,((o,a)=>{i[o]=this.convertValue(a,t)})),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((c=>ft(c.doubleValue)));return new am(a)}convertGeoPoint(e){return new om(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Dp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const t=Li(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);Qe(UE(i));const o=new fl(i.get(1),i.get(3)),a=new Ie(i.popFirst(5));return o.isEqual(t)||Qr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mT extends fT{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(pT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Mb extends mT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n){n=yl(n,Rn);const e=yl(n.firestore,rm);return vb(oT(e),n._key).then((t=>Bb(e,n,t)))}class Fb extends Ob{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function Ub(n,e,t){n=yl(n,Rn);const i=yl(n.firestore,rm),o=Db(n.converter,e,t);return jb(i,[xb(Rb(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Wr.none())])}function jb(n,e){return(function(i,o){const a=new Ni;return i.asyncQueue.enqueueAndForget((async()=>ib(await mb(i),o,a))),a.promise})(oT(n),e)}function Bb(n,e,t){const i=t.docs.get(e._key),o=new Fb(n);return new mT(n,o,e._key,i,new Lb(t.hasPendingWrites,t.fromCache),e.converter)}function zb(){return new um("serverTimestamp")}(function(e,t=!0){(function(o){Jo=o})(Yo),Vo(new Cs("firestore",((i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new rm(new bk(i.getProvider("auth-internal")),new Mk(i.getProvider("app-check-internal")),(function(v,_){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Se(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(v.options.projectId,_)})(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),ki(Dy,"4.7.3",e),ki(Dy,"4.7.3","esm2017")})();const $b={apiKey:"AIzaSyBsfan9ZXraevVDpTe8q1GL7DkfUER0wc0",authDomain:"cal-ranking-rm.firebaseapp.com",projectId:"cal-ranking-rm",storageBucket:"cal-ranking-rm.firebasestorage.app",messagingSenderId:"937306488262",appId:"1:937306488262:web:4428898ff1903d6ffd46c7",measurementId:"G-13CK76G4Q7"},gT=_0($b),cm=xk(gT),Wb=Tb(gT),Hb=new Ur;function vT(n){return Eb(Wb,"users",n,"apps","rm_rank_calc")}function qb(){return V1(cm,Hb)}function Kb(){return v1(cm)}async function Gb(n){const e=vT(n.uid),t=await Vb(e);if(!t.exists())return null;const i=t.data();return(i==null?void 0:i.state)||null}let yf=null;function m_(n,e){n&&(yf&&clearTimeout(yf),yf=setTimeout(async()=>{try{const t=vT(n.uid);await Ub(t,{state:e,updatedAt:zb()},{merge:!0})}catch(t){console.warn("Cloud save failed:",t)}},700))}function Qb(n){return g1(cm,e=>n(e||null))}function Yb(){const[n,e]=R.useState(()=>UR()),[t,i]=R.useState(null),[o,a]=R.useState(!1),[c,h]=R.useState(null),[f,v]=R.useState(null),[_,w]=R.useState(null),T=R.useRef(null);T.current=f;function C(L){e(V=>{const j=typeof L=="function"?L(V):L;return iy(j),m_(T.current,j),j})}const D=R.useCallback(L=>{const V=L??n;a(!0),setTimeout(()=>{let j=0;for(const x of hc)for(const A of V.sections[x.id]){const k=Number(A);Number.isFinite(k)&&(j+=k)}const K=Number.isFinite(V.bonus)?V.bonus:0,Z=j+K,J=jR(Z);i({sum:j,bonus:K,total:Z,rank:J}),a(!1)},350)},[n]);function I(){C(L=>{const V={...L};V.sections={...L.sections};for(const j of hc)V.sections[j.id]=L.sections[j.id].map((K,Z)=>L.locked[j.id][Z]?K:"");return V}),i(null)}async function P(L){if(!c){h(L);try{const{points:V,debugLog:j,imageUrl:K}=await GR(L,()=>{});if(!V.length)return;C(x=>{const A=[...x.sections[L]];V.forEach((M,F)=>{F<A.length&&(A[F]=M)});const k={...x,sections:{...x.sections,[L]:A}};return setTimeout(()=>D(k),400),k}),w({imageUrl:K,sectionId:L,points:V});const Z=V.filter(Boolean).length,J=V.map((x,A)=>x?null:`#${A+1}: ${j[A]??"-"}`).filter(Boolean);J.length&&console.warn(`[OCR] Failed slots:
${J.join(`
`)}`),console.log(`[OCR] ${L} done: ${Z}/${V.length}`)}catch(V){console.error(V),alert(`Import  
 Console  (F12)  error `)}finally{h(null)}}}return R.useEffect(()=>Qb(async V=>{if(v(V),!!V)try{const j=await Gb(V);j?(e(j),iy(j),D(j)):m_(V,n)}catch(j){console.warn("Cloud load failed:",j)}}),[]),R.useEffect(()=>{D(n)},[]),O.jsxs("div",{className:`min-h-screen bg-black text-[#eaeaea] font-kanit flex justify-center
      overflow-y-auto -webkit-overflow-scrolling-touch px-[14px] py-4`,children:[O.jsxs("div",{className:"w-full max-w-[1320px] flex flex-col",children:[O.jsx(VR,{user:f,onSignIn:()=>qb().catch(console.error),onSignOut:()=>Kb().catch(console.error)}),O.jsx("h1",{className:`text-center text-[#dfcd80] text-[26px] font-bold tracking-[0.2px]
          mt-1.5 mb-3`,children:""}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3 flex-1 min-h-0",children:[hc.map(L=>O.jsx(LR,{sectionId:L.id,label:L.label,badgeText:`${L.count} `,state:n,isImporting:c===L.id,onStateChange:C,onImport:P,onCalc:()=>D()},L.id)),O.jsx(MR,{bonus:n.bonus,onBonusChange:L=>C(V=>({...V,bonus:L})),onCalc:()=>D(),onReset:I,result:t,isCalculating:o})]})]}),_&&O.jsx(FR,{open:!!_,imageUrl:_.imageUrl,sectionId:_.sectionId,points:_.points,onClose:()=>{URL.revokeObjectURL(_.imageUrl),w(null)}})]})}kS.createRoot(document.getElementById("root")).render(O.jsx(Fr.StrictMode,{children:O.jsx(Yb,{})}));export{ep as g};
