function Px(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function ap(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Kh={exports:{}},Qa={},Gh={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function kx(){if(Sv)return Ve;Sv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function x(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,P={};function k(B,J,ce){this.props=B,this.context=J,this.refs=P,this.updater=ce||R}k.prototype.isReactComponent={},k.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},k.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function V(){}V.prototype=k.prototype;function U(B,J,ce){this.props=B,this.context=J,this.refs=P,this.updater=ce||R}var $=U.prototype=new V;$.constructor=U,M($,k.prototype),$.isPureReactComponent=!0;var q=Array.isArray,Z=Object.prototype.hasOwnProperty,W={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function C(B,J,ce){var Te,Re={},Me=null,ue=null;if(J!=null)for(Te in J.ref!==void 0&&(ue=J.ref),J.key!==void 0&&(Me=""+J.key),J)Z.call(J,Te)&&!I.hasOwnProperty(Te)&&(Re[Te]=J[Te]);var Ee=arguments.length-2;if(Ee===1)Re.children=ce;else if(1<Ee){for(var De=Array(Ee),ke=0;ke<Ee;ke++)De[ke]=arguments[ke+2];Re.children=De}if(B&&B.defaultProps)for(Te in Ee=B.defaultProps,Ee)Re[Te]===void 0&&(Re[Te]=Ee[Te]);return{$$typeof:n,type:B,key:Me,ref:ue,props:Re,_owner:W.current}}function b(B,J){return{$$typeof:n,type:B.type,key:J,ref:B.ref,props:B.props,_owner:B._owner}}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ce){return J[ce]})}var F=/\/+/g;function N(B,J){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):J.toString(36)}function pe(B,J,ce,Te,Re){var Me=typeof B;(Me==="undefined"||Me==="boolean")&&(B=null);var ue=!1;if(B===null)ue=!0;else switch(Me){case"string":case"number":ue=!0;break;case"object":switch(B.$$typeof){case n:case e:ue=!0}}if(ue)return ue=B,Re=Re(ue),B=Te===""?"."+N(ue,0):Te,q(Re)?(ce="",B!=null&&(ce=B.replace(F,"$&/")+"/"),pe(Re,J,ce,"",function(ke){return ke})):Re!=null&&(D(Re)&&(Re=b(Re,ce+(!Re.key||ue&&ue.key===Re.key?"":(""+Re.key).replace(F,"$&/")+"/")+B)),J.push(Re)),1;if(ue=0,Te=Te===""?".":Te+":",q(B))for(var Ee=0;Ee<B.length;Ee++){Me=B[Ee];var De=Te+N(Me,Ee);ue+=pe(Me,J,ce,De,Re)}else if(De=x(B),typeof De=="function")for(B=De.call(B),Ee=0;!(Me=B.next()).done;)Me=Me.value,De=Te+N(Me,Ee++),ue+=pe(Me,J,ce,De,Re);else if(Me==="object")throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ue}function we(B,J,ce){if(B==null)return B;var Te=[],Re=0;return pe(B,Te,"","",function(Me){return J.call(ce,Me,Re++)}),Te}function me(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(ce){(B._status===0||B._status===-1)&&(B._status=1,B._result=ce)},function(ce){(B._status===0||B._status===-1)&&(B._status=2,B._result=ce)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var he={current:null},Y={transition:null},ae={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:Y,ReactCurrentOwner:W};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:we,forEach:function(B,J,ce){we(B,function(){J.apply(this,arguments)},ce)},count:function(B){var J=0;return we(B,function(){J++}),J},toArray:function(B){return we(B,function(J){return J})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ve.Component=k,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=U,Ve.StrictMode=i,Ve.Suspense=f,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ve.act=re,Ve.cloneElement=function(B,J,ce){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Te=M({},B.props),Re=B.key,Me=B.ref,ue=B._owner;if(J!=null){if(J.ref!==void 0&&(Me=J.ref,ue=W.current),J.key!==void 0&&(Re=""+J.key),B.type&&B.type.defaultProps)var Ee=B.type.defaultProps;for(De in J)Z.call(J,De)&&!I.hasOwnProperty(De)&&(Te[De]=J[De]===void 0&&Ee!==void 0?Ee[De]:J[De])}var De=arguments.length-2;if(De===1)Te.children=ce;else if(1<De){Ee=Array(De);for(var ke=0;ke<De;ke++)Ee[ke]=arguments[ke+2];Te.children=Ee}return{$$typeof:n,type:B.type,key:Re,ref:Me,props:Te,_owner:ue}},Ve.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ve.createElement=C,Ve.createFactory=function(B){var J=C.bind(null,B);return J.type=B,J},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(B){return{$$typeof:h,render:B}},Ve.isValidElement=D,Ve.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:me}},Ve.memo=function(B,J){return{$$typeof:m,type:B,compare:J===void 0?null:J}},Ve.startTransition=function(B){var J=Y.transition;Y.transition={};try{B()}finally{Y.transition=J}},Ve.unstable_act=re,Ve.useCallback=function(B,J){return he.current.useCallback(B,J)},Ve.useContext=function(B){return he.current.useContext(B)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(B){return he.current.useDeferredValue(B)},Ve.useEffect=function(B,J){return he.current.useEffect(B,J)},Ve.useId=function(){return he.current.useId()},Ve.useImperativeHandle=function(B,J,ce){return he.current.useImperativeHandle(B,J,ce)},Ve.useInsertionEffect=function(B,J){return he.current.useInsertionEffect(B,J)},Ve.useLayoutEffect=function(B,J){return he.current.useLayoutEffect(B,J)},Ve.useMemo=function(B,J){return he.current.useMemo(B,J)},Ve.useReducer=function(B,J,ce){return he.current.useReducer(B,J,ce)},Ve.useRef=function(B){return he.current.useRef(B)},Ve.useState=function(B){return he.current.useState(B)},Ve.useSyncExternalStore=function(B,J,ce){return he.current.useSyncExternalStore(B,J,ce)},Ve.useTransition=function(){return he.current.useTransition()},Ve.version="18.3.1",Ve}var Iv;function lp(){return Iv||(Iv=1,Gh.exports=kx()),Gh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function bx(){if(Cv)return Qa;Cv=1;var n=lp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var y,w={},x=null,R=null;m!==void 0&&(x=""+m),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(R=f.ref);for(y in f)i.call(f,y)&&!a.hasOwnProperty(y)&&(w[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)w[y]===void 0&&(w[y]=f[y]);return{$$typeof:e,type:h,key:x,ref:R,props:w,_owner:o.current}}return Qa.Fragment=t,Qa.jsx=c,Qa.jsxs=c,Qa}var Rv;function Nx(){return Rv||(Rv=1,Kh.exports=bx()),Kh.exports}var T=Nx(),A=lp();const Fr=ap(A),w_=Px({__proto__:null,default:Fr},[A]);var Yu={},Qh={exports:{}},sn={},Xh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function Ox(){return Av||(Av=1,(function(n){function e(Y,ae){var re=Y.length;Y.push(ae);e:for(;0<re;){var B=re-1>>>1,J=Y[B];if(0<o(J,ae))Y[B]=ae,Y[re]=J,re=B;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ae=Y[0],re=Y.pop();if(re!==ae){Y[0]=re;e:for(var B=0,J=Y.length,ce=J>>>1;B<ce;){var Te=2*(B+1)-1,Re=Y[Te],Me=Te+1,ue=Y[Me];if(0>o(Re,re))Me<J&&0>o(ue,Re)?(Y[B]=ue,Y[Me]=re,B=Me):(Y[B]=Re,Y[Te]=re,B=Te);else if(Me<J&&0>o(ue,re))Y[B]=ue,Y[Me]=re,B=Me;else break e}}return ae}function o(Y,ae){var re=Y.sortIndex-ae.sortIndex;return re!==0?re:Y.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,w=null,x=3,R=!1,M=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(Y){for(var ae=t(m);ae!==null;){if(ae.callback===null)i(m);else if(ae.startTime<=Y)i(m),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=t(m)}}function q(Y){if(P=!1,$(Y),!M)if(t(f)!==null)M=!0,me(Z);else{var ae=t(m);ae!==null&&he(q,ae.startTime-Y)}}function Z(Y,ae){M=!1,P&&(P=!1,V(C),C=-1),R=!0;var re=x;try{for($(ae),w=t(f);w!==null&&(!(w.expirationTime>ae)||Y&&!L());){var B=w.callback;if(typeof B=="function"){w.callback=null,x=w.priorityLevel;var J=B(w.expirationTime<=ae);ae=n.unstable_now(),typeof J=="function"?w.callback=J:w===t(f)&&i(f),$(ae)}else i(f);w=t(f)}if(w!==null)var ce=!0;else{var Te=t(m);Te!==null&&he(q,Te.startTime-ae),ce=!1}return ce}finally{w=null,x=re,R=!1}}var W=!1,I=null,C=-1,b=5,D=-1;function L(){return!(n.unstable_now()-D<b)}function F(){if(I!==null){var Y=n.unstable_now();D=Y;var ae=!0;try{ae=I(!0,Y)}finally{ae?N():(W=!1,I=null)}}else W=!1}var N;if(typeof U=="function")N=function(){U(F)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,we=pe.port2;pe.port1.onmessage=F,N=function(){we.postMessage(null)}}else N=function(){k(F,0)};function me(Y){I=Y,W||(W=!0,N())}function he(Y,ae){C=k(function(){Y(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){M||R||(M=!0,me(Z))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var re=x;x=ae;try{return Y()}finally{x=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=x;x=Y;try{return ae()}finally{x=re}},n.unstable_scheduleCallback=function(Y,ae,re){var B=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?B+re:B):re=B,Y){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=re+J,Y={id:y++,callback:ae,priorityLevel:Y,startTime:re,expirationTime:J,sortIndex:-1},re>B?(Y.sortIndex=re,e(m,Y),t(f)===null&&Y===t(m)&&(P?(V(C),C=-1):P=!0,he(q,re-B))):(Y.sortIndex=J,e(f,Y),M||R||(M=!0,me(Z))),Y},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(Y){var ae=x;return function(){var re=x;x=ae;try{return Y.apply(this,arguments)}finally{x=re}}}})(Yh)),Yh}var Pv;function Dx(){return Pv||(Pv=1,Xh.exports=Ox()),Xh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function Mx(){if(kv)return sn;kv=1;var n=lp(),e=Dx();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function x(r){return f.call(w,r)?!0:f.call(y,r)?!1:m.test(r)?w[r]=!0:(y[r]=!0,!1)}function R(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,s,l,d){if(s===null||typeof s>"u"||R(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function P(r,s,l,d,p,v,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new P(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];k[s]=new P(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new P(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new P(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new P(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new P(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new P(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new P(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new P(r,5,!1,r.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function U(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(V,U);k[s]=new P(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(V,U);k[s]=new P(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(V,U);k[s]=new P(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new P(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new P(r,1,!1,r.toLowerCase(),null,!0,!0)});function $(r,s,l,d){var p=k.hasOwnProperty(s)?k[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,l,p,d)&&(l=null),d||p===null?x(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),W=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var re=Object.assign,B;function J(r){if(B===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+r}var ce=!1;function Te(r,s){if(!r||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var d=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){d=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){d=Q}r()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var p=Q.stack.split(`
`),v=d.stack.split(`
`),E=p.length-1,O=v.length-1;1<=E&&0<=O&&p[E]!==v[O];)O--;for(;1<=E&&0<=O;E--,O--)if(p[E]!==v[O]){if(E!==1||O!==1)do if(E--,O--,0>O||p[E]!==v[O]){var j=`
`+p[E].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=E&&0<=O);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?J(r):""}function Re(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=Te(r.type,!1),r;case 11:return r=Te(r.type.render,!1),r;case 1:return r=Te(r.type,!0),r;default:return""}}function Me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case W:return"Portal";case b:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case pe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case we:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case me:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}function ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ee(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function De(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ke(r){var s=De(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,v.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Le(r){r._valueTracker||(r._valueTracker=ke(r))}function Fe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=De(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function lt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function St(r,s){var l=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function mn(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Ee(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pn(r,s){s=s.checked,s!=null&&$(r,"checked",s,!1)}function kn(r,s){Pn(r,s);var l=Ee(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?bn(r,s.type,l):s.hasOwnProperty("defaultValue")&&bn(r,s.type,Ee(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ns(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function bn(r,s,l){(s!=="number"||lt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Tr=Array.isArray;function xr(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Ee(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function ra(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Os(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Tr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Ee(l)}}function Ds(r,s){var l=Ee(s.value),d=Ee(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ia(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function vt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?vt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Sr,sa=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Sr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Zr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zi=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(r){zi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ui[s]=Ui[r]})});function oa(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ui.hasOwnProperty(r)&&Ui[r]?(""+s).trim():s+"px"}function aa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=oa(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var la=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ua(r,s){if(s){if(la[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ca(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Ms(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ls=null,gn=null,Zn=null;function Vs(r){if(r=Da(r)){if(typeof Ls!="function")throw Error(t(280));var s=r.stateNode;s&&(s=hu(s),Ls(r.stateNode,r.type,s))}}function er(r){gn?Zn?Zn.push(r):Zn=[r]:gn=r}function da(){if(gn){var r=gn,s=Zn;if(Zn=gn=null,Vs(r),s)for(r=0;r<s.length;r++)Vs(s[r])}}function $i(r,s){return r(s)}function ha(){}var Ir=!1;function fa(r,s,l){if(Ir)return r(s,l);Ir=!0;try{return $i(r,s,l)}finally{Ir=!1,(gn!==null||Zn!==null)&&(ha(),da())}}function dt(r,s){var l=r.stateNode;if(l===null)return null;var d=hu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var js=!1;if(h)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){js=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{js=!1}function Wi(r,s,l,d,p,v,E,O,j){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(l,Q)}catch(te){this.onError(te)}}var Hi=!1,Fs=null,On=!1,pa=null,Ed={onError:function(r){Hi=!0,Fs=r}};function Us(r,s,l,d,p,v,E,O,j){Hi=!1,Fs=null,Wi.apply(Ed,arguments)}function Vl(r,s,l,d,p,v,E,O,j){if(Us.apply(this,arguments),Hi){if(Hi){var Q=Fs;Hi=!1,Fs=null}else throw Error(t(198));On||(On=!0,pa=Q)}}function Dn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function qi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Mn(r){if(Dn(r)!==r)throw Error(t(188))}function jl(r){var s=r.alternate;if(!s){if(s=Dn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return Mn(p),r;if(v===d)return Mn(p),s;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=v;else{for(var E=!1,O=p.child;O;){if(O===l){E=!0,l=p,d=v;break}if(O===d){E=!0,d=p,l=v;break}O=O.sibling}if(!E){for(O=v.child;O;){if(O===l){E=!0,l=v,d=p;break}if(O===d){E=!0,d=v,l=p;break}O=O.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ma(r){return r=jl(r),r!==null?zs(r):null}function zs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=zs(r);if(s!==null)return s;r=r.sibling}return null}var Bs=e.unstable_scheduleCallback,ga=e.unstable_cancelCallback,Fl=e.unstable_shouldYield,Td=e.unstable_requestPaint,Je=e.unstable_now,Ul=e.unstable_getCurrentPriorityLevel,Ki=e.unstable_ImmediatePriority,ei=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,va=e.unstable_LowPriority,zl=e.unstable_IdlePriority,Gi=null,on=null;function Bl(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Gi,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Wl,ya=Math.log,$l=Math.LN2;function Wl(r){return r>>>=0,r===0?32:31-(ya(r)/$l|0)|0}var $s=64,Ws=4194304;function ti(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Qi(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,v=r.pingedLanes,E=l&268435455;if(E!==0){var O=E&~p;O!==0?d=ti(O):(v&=E,v!==0&&(d=ti(v)))}else E=l&~p,E!==0?d=ti(E):v!==0&&(d=ti(v));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,v=s&-s,p>=v||p===16&&(v&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Kt(s),p=1<<l,d|=r[l],s&=~p;return d}function xd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes;0<v;){var E=31-Kt(v),O=1<<E,j=p[E];j===-1?((O&l)===0||(O&d)!==0)&&(p[E]=xd(O,s)):j<=s&&(r.expiredLanes|=O),v&=~O}}function an(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Xi(){var r=$s;return $s<<=1,($s&4194240)===0&&($s=64),r}function ni(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ri(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=l}function Xe(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Kt(l),v=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~v}}function ii(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Kt(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Ue=0;function si(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Hl,Hs,ql,Kl,Gl,_a=!1,tr=[],kt=null,Ln=null,Vn=null,oi=new Map,yn=new Map,nr=[],Sd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ql(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":oi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(s.pointerId)}}function Yt(r,s,l,d,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},s!==null&&(s=Da(s),s!==null&&Hs(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Id(r,s,l,d,p){switch(s){case"focusin":return kt=Yt(kt,r,s,l,d,p),!0;case"dragenter":return Ln=Yt(Ln,r,s,l,d,p),!0;case"mouseover":return Vn=Yt(Vn,r,s,l,d,p),!0;case"pointerover":var v=p.pointerId;return oi.set(v,Yt(oi.get(v)||null,r,s,l,d,p)),!0;case"gotpointercapture":return v=p.pointerId,yn.set(v,Yt(yn.get(v)||null,r,s,l,d,p)),!0}return!1}function Xl(r){var s=ts(r.target);if(s!==null){var l=Dn(s);if(l!==null){if(s=l.tag,s===13){if(s=qi(l),s!==null){r.blockedOn=s,Gl(r.priority,function(){ql(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Rr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=qs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Bi=d,l.target.dispatchEvent(d),Bi=null}else return s=Da(l),s!==null&&Hs(s),r.blockedOn=l,!1;s.shift()}return!0}function Yi(r,s,l){Rr(r)&&l.delete(s)}function Yl(){_a=!1,kt!==null&&Rr(kt)&&(kt=null),Ln!==null&&Rr(Ln)&&(Ln=null),Vn!==null&&Rr(Vn)&&(Vn=null),oi.forEach(Yi),yn.forEach(Yi)}function jn(r,s){r.blockedOn===s&&(r.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yl)))}function Fn(r){function s(p){return jn(p,r)}if(0<tr.length){jn(tr[0],r);for(var l=1;l<tr.length;l++){var d=tr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(kt!==null&&jn(kt,r),Ln!==null&&jn(Ln,r),Vn!==null&&jn(Vn,r),oi.forEach(s),yn.forEach(s),l=0;l<nr.length;l++)d=nr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<nr.length&&(l=nr[0],l.blockedOn===null);)Xl(l),l.blockedOn===null&&nr.shift()}var Ar=q.ReactCurrentBatchConfig,ai=!0;function nt(r,s,l,d){var p=Ue,v=Ar.transition;Ar.transition=null;try{Ue=1,wa(r,s,l,d)}finally{Ue=p,Ar.transition=v}}function Cd(r,s,l,d){var p=Ue,v=Ar.transition;Ar.transition=null;try{Ue=4,wa(r,s,l,d)}finally{Ue=p,Ar.transition=v}}function wa(r,s,l,d){if(ai){var p=qs(r,s,l,d);if(p===null)Vd(r,s,d,Ji,l),Ql(r,d);else if(Id(p,r,s,l,d))d.stopPropagation();else if(Ql(r,d),s&4&&-1<Sd.indexOf(r)){for(;p!==null;){var v=Da(p);if(v!==null&&Hl(v),v=qs(r,s,l,d),v===null&&Vd(r,s,d,Ji,l),v===p)break;p=v}p!==null&&d.stopPropagation()}else Vd(r,s,d,null,l)}}var Ji=null;function qs(r,s,l,d){if(Ji=null,r=Ms(d),r=ts(r),r!==null)if(s=Dn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=qi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ji=r,null}function Ea(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ul()){case Ki:return 1;case ei:return 4;case vn:case va:return 16;case zl:return 536870912;default:return 16}default:return 16}}var ln=null,Ks=null,Jt=null;function Ta(){if(Jt)return Jt;var r,s=Ks,l=s.length,d,p="value"in ln?ln.value:ln.textContent,v=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===p[v-d];d++);return Jt=p.slice(r,1<d?1-d:void 0)}function Gs(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function rr(){return!0}function xa(){return!1}function bt(r){function s(l,d,p,v,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(l=r[O],this[O]=l?l(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?rr:xa,this.isPropagationStopped=xa,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),s}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=bt(Un),ir=re({},Un,{view:0,detail:0}),Rd=bt(ir),Xs,Pr,li,Zi=re({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==li&&(li&&r.type==="mousemove"?(Xs=r.screenX-li.screenX,Pr=r.screenY-li.screenY):Pr=Xs=0,li=r),Xs)},movementY:function(r){return"movementY"in r?r.movementY:Pr}}),Ys=bt(Zi),Sa=re({},Zi,{dataTransfer:0}),Jl=bt(Sa),Js=re({},ir,{relatedTarget:0}),Zs=bt(Js),Zl=re({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=bt(Zl),eu=re({},Un,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tu=bt(eu),nu=re({},Un,{data:0}),Ia=bt(nu),eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ru[r])?!!s[r]:!1}function sr(){return iu}var u=re({},ir,{key:function(r){if(r.key){var s=eo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Gs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(r){return r.type==="keypress"?Gs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=bt(u),_=re({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=bt(_),H=re({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),X=bt(H),le=re({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=bt(le),_t=re({},Zi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=bt(_t),It=[9,13,27,32],pt=h&&"CompositionEvent"in window,_n=null;h&&"documentMode"in document&&(_n=document.documentMode);var un=h&&"TextEvent"in window&&!_n,es=h&&(!pt||_n&&8<_n&&11>=_n),to=" ",ym=!1;function _m(r,s){switch(r){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var no=!1;function CT(r,s){switch(r){case"compositionend":return wm(s);case"keypress":return s.which!==32?null:(ym=!0,to);case"textInput":return r=s.data,r===to&&ym?null:r;default:return null}}function RT(r,s){if(no)return r==="compositionend"||!pt&&_m(r,s)?(r=Ta(),Jt=Ks=ln=null,no=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return es&&s.locale!=="ko"?null:s.data;default:return null}}var AT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Em(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!AT[r.type]:s==="textarea"}function Tm(r,s,l,d){er(d),s=uu(s,"onChange"),0<s.length&&(l=new Qs("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ca=null,Ra=null;function PT(r){Um(r,0)}function su(r){var s=ao(r);if(Fe(s))return r}function kT(r,s){if(r==="change")return s}var xm=!1;if(h){var Ad;if(h){var Pd="oninput"in document;if(!Pd){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),Pd=typeof Sm.oninput=="function"}Ad=Pd}else Ad=!1;xm=Ad&&(!document.documentMode||9<document.documentMode)}function Im(){Ca&&(Ca.detachEvent("onpropertychange",Cm),Ra=Ca=null)}function Cm(r){if(r.propertyName==="value"&&su(Ra)){var s=[];Tm(s,Ra,r,Ms(r)),fa(PT,s)}}function bT(r,s,l){r==="focusin"?(Im(),Ca=s,Ra=l,Ca.attachEvent("onpropertychange",Cm)):r==="focusout"&&Im()}function NT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return su(Ra)}function OT(r,s){if(r==="click")return su(s)}function DT(r,s){if(r==="input"||r==="change")return su(s)}function MT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:MT;function Aa(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!zn(r[p],s[p]))return!1}return!0}function Rm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Am(r,s){var l=Rm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Rm(l)}}function Pm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Pm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function km(){for(var r=window,s=lt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=lt(r.document)}return s}function kd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function LT(r){var s=km(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Pm(l.ownerDocument.documentElement,l)){if(d!==null&&kd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,v=Math.min(d.start,p);d=d.end===void 0?v:Math.min(d.end,p),!r.extend&&v>d&&(p=d,d=v,v=p),p=Am(l,v);var E=Am(l,d);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),v>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var VT=h&&"documentMode"in document&&11>=document.documentMode,ro=null,bd=null,Pa=null,Nd=!1;function bm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Nd||ro==null||ro!==lt(d)||(d=ro,"selectionStart"in d&&kd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Pa&&Aa(Pa,d)||(Pa=d,d=uu(bd,"onSelect"),0<d.length&&(s=new Qs("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=ro)))}function ou(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var io={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},Od={},Nm={};h&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function au(r){if(Od[r])return Od[r];if(!io[r])return r;var s=io[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Nm)return Od[r]=s[l];return r}var Om=au("animationend"),Dm=au("animationiteration"),Mm=au("animationstart"),Lm=au("transitionend"),Vm=new Map,jm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(r,s){Vm.set(r,s),a(s,[r])}for(var Dd=0;Dd<jm.length;Dd++){var Md=jm[Dd],jT=Md.toLowerCase(),FT=Md[0].toUpperCase()+Md.slice(1);ui(jT,"on"+FT)}ui(Om,"onAnimationEnd"),ui(Dm,"onAnimationIteration"),ui(Mm,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(Lm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function Fm(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,Vl(d,s,void 0,r),r.currentTarget=null}function Um(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var E=d.length-1;0<=E;E--){var O=d[E],j=O.instance,Q=O.currentTarget;if(O=O.listener,j!==v&&p.isPropagationStopped())break e;Fm(p,O,Q),v=j}else for(E=0;E<d.length;E++){if(O=d[E],j=O.instance,Q=O.currentTarget,O=O.listener,j!==v&&p.isPropagationStopped())break e;Fm(p,O,Q),v=j}}}if(On)throw r=pa,On=!1,pa=null,r}function et(r,s){var l=s[$d];l===void 0&&(l=s[$d]=new Set);var d=r+"__bubble";l.has(d)||(zm(s,r,2,!1),l.add(d))}function Ld(r,s,l){var d=0;s&&(d|=4),zm(l,r,d,s)}var lu="_reactListening"+Math.random().toString(36).slice(2);function ba(r){if(!r[lu]){r[lu]=!0,i.forEach(function(l){l!=="selectionchange"&&(UT.has(l)||Ld(l,!1,r),Ld(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[lu]||(s[lu]=!0,Ld("selectionchange",!1,s))}}function zm(r,s,l,d){switch(Ea(s)){case 1:var p=nt;break;case 4:p=Cd;break;default:p=wa}l=p.bind(null,s,l,r),p=void 0,!js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Vd(r,s,l,d,p){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var O=d.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var j=E.tag;if((j===3||j===4)&&(j=E.stateNode.containerInfo,j===p||j.nodeType===8&&j.parentNode===p))return;E=E.return}for(;O!==null;){if(E=ts(O),E===null)return;if(j=E.tag,j===5||j===6){d=v=E;continue e}O=O.parentNode}}d=d.return}fa(function(){var Q=v,te=Ms(l),ie=[];e:{var ee=Vm.get(r);if(ee!==void 0){var de=Qs,ge=r;switch(r){case"keypress":if(Gs(l)===0)break e;case"keydown":case"keyup":de=g;break;case"focusin":ge="focus",de=Zs;break;case"focusout":ge="blur",de=Zs;break;case"beforeblur":case"afterblur":de=Zs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=X;break;case Om:case Dm:case Mm:de=kr;break;case Lm:de=Ge;break;case"scroll":de=Rd;break;case"wheel":de=Be;break;case"copy":case"cut":case"paste":de=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=S}var ve=(s&4)!==0,ht=!ve&&r==="scroll",K=ve?ee!==null?ee+"Capture":null:ee;ve=[];for(var z=Q,G;z!==null;){G=z;var oe=G.stateNode;if(G.tag===5&&oe!==null&&(G=oe,K!==null&&(oe=dt(z,K),oe!=null&&ve.push(Na(z,oe,G)))),ht)break;z=z.return}0<ve.length&&(ee=new de(ee,ge,null,l,te),ie.push({event:ee,listeners:ve}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",ee&&l!==Bi&&(ge=l.relatedTarget||l.fromElement)&&(ts(ge)||ge[br]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(ge=l.relatedTarget||l.toElement,de=Q,ge=ge?ts(ge):null,ge!==null&&(ht=Dn(ge),ge!==ht||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=Q),de!==ge)){if(ve=Ys,oe="onMouseLeave",K="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(ve=S,oe="onPointerLeave",K="onPointerEnter",z="pointer"),ht=de==null?ee:ao(de),G=ge==null?ee:ao(ge),ee=new ve(oe,z+"leave",de,l,te),ee.target=ht,ee.relatedTarget=G,oe=null,ts(te)===Q&&(ve=new ve(K,z+"enter",ge,l,te),ve.target=G,ve.relatedTarget=ht,oe=ve),ht=oe,de&&ge)t:{for(ve=de,K=ge,z=0,G=ve;G;G=so(G))z++;for(G=0,oe=K;oe;oe=so(oe))G++;for(;0<z-G;)ve=so(ve),z--;for(;0<G-z;)K=so(K),G--;for(;z--;){if(ve===K||K!==null&&ve===K.alternate)break t;ve=so(ve),K=so(K)}ve=null}else ve=null;de!==null&&Bm(ie,ee,de,ve,!1),ge!==null&&ht!==null&&Bm(ie,ht,ge,ve,!0)}}e:{if(ee=Q?ao(Q):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var _e=kT;else if(Em(ee))if(xm)_e=DT;else{_e=NT;var xe=bT}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(_e=OT);if(_e&&(_e=_e(r,Q))){Tm(ie,_e,l,te);break e}xe&&xe(r,ee,Q),r==="focusout"&&(xe=ee._wrapperState)&&xe.controlled&&ee.type==="number"&&bn(ee,"number",ee.value)}switch(xe=Q?ao(Q):window,r){case"focusin":(Em(xe)||xe.contentEditable==="true")&&(ro=xe,bd=Q,Pa=null);break;case"focusout":Pa=bd=ro=null;break;case"mousedown":Nd=!0;break;case"contextmenu":case"mouseup":case"dragend":Nd=!1,bm(ie,l,te);break;case"selectionchange":if(VT)break;case"keydown":case"keyup":bm(ie,l,te)}var Se;if(pt)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else no?_m(r,l)&&(Ae="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(es&&l.locale!=="ko"&&(no||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&no&&(Se=Ta()):(ln=te,Ks="value"in ln?ln.value:ln.textContent,no=!0)),xe=uu(Q,Ae),0<xe.length&&(Ae=new Ia(Ae,r,null,l,te),ie.push({event:Ae,listeners:xe}),Se?Ae.data=Se:(Se=wm(l),Se!==null&&(Ae.data=Se)))),(Se=un?CT(r,l):RT(r,l))&&(Q=uu(Q,"onBeforeInput"),0<Q.length&&(te=new Ia("onBeforeInput","beforeinput",null,l,te),ie.push({event:te,listeners:Q}),te.data=Se))}Um(ie,s)})}function Na(r,s,l){return{instance:r,listener:s,currentTarget:l}}function uu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=dt(r,l),v!=null&&d.unshift(Na(r,v,p)),v=dt(r,s),v!=null&&d.push(Na(r,v,p))),r=r.return}return d}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Bm(r,s,l,d,p){for(var v=s._reactName,E=[];l!==null&&l!==d;){var O=l,j=O.alternate,Q=O.stateNode;if(j!==null&&j===d)break;O.tag===5&&Q!==null&&(O=Q,p?(j=dt(l,v),j!=null&&E.unshift(Na(l,j,O))):p||(j=dt(l,v),j!=null&&E.push(Na(l,j,O)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var zT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function $m(r){return(typeof r=="string"?r:""+r).replace(zT,`
`).replace(BT,"")}function cu(r,s,l){if(s=$m(s),$m(r)!==s&&l)throw Error(t(425))}function du(){}var jd=null,Fd=null;function Ud(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zd=typeof setTimeout=="function"?setTimeout:void 0,$T=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,WT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(r){return Wm.resolve(null).then(r).catch(HT)}:zd;function HT(r){setTimeout(function(){throw r})}function Bd(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),Fn(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Fn(s)}function ci(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Hm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var oo=Math.random().toString(36).slice(2),or="__reactFiber$"+oo,Oa="__reactProps$"+oo,br="__reactContainer$"+oo,$d="__reactEvents$"+oo,qT="__reactListeners$"+oo,KT="__reactHandles$"+oo;function ts(r){var s=r[or];if(s)return s;for(var l=r.parentNode;l;){if(s=l[br]||l[or]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Hm(r);r!==null;){if(l=r[or])return l;r=Hm(r)}return s}r=l,l=r.parentNode}return null}function Da(r){return r=r[or]||r[br],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function hu(r){return r[Oa]||null}var Wd=[],lo=-1;function di(r){return{current:r}}function tt(r){0>lo||(r.current=Wd[lo],Wd[lo]=null,lo--)}function Ze(r,s){lo++,Wd[lo]=r.current,r.current=s}var hi={},jt=di(hi),Zt=di(!1),ns=hi;function uo(r,s){var l=r.type.contextTypes;if(!l)return hi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=s[v];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function en(r){return r=r.childContextTypes,r!=null}function fu(){tt(Zt),tt(jt)}function qm(r,s,l){if(jt.current!==hi)throw Error(t(168));Ze(jt,s),Ze(Zt,l)}function Km(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,ue(r)||"Unknown",p));return re({},l,d)}function pu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||hi,ns=jt.current,Ze(jt,r),Ze(Zt,Zt.current),!0}function Gm(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Km(r,s,ns),d.__reactInternalMemoizedMergedChildContext=r,tt(Zt),tt(jt),Ze(jt,r)):tt(Zt),Ze(Zt,l)}var Nr=null,mu=!1,Hd=!1;function Qm(r){Nr===null?Nr=[r]:Nr.push(r)}function GT(r){mu=!0,Qm(r)}function fi(){if(!Hd&&Nr!==null){Hd=!0;var r=0,s=Ue;try{var l=Nr;for(Ue=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Nr=null,mu=!1}catch(p){throw Nr!==null&&(Nr=Nr.slice(r+1)),Bs(Ki,fi),p}finally{Ue=s,Hd=!1}}return null}var co=[],ho=0,gu=null,vu=0,wn=[],En=0,rs=null,Or=1,Dr="";function is(r,s){co[ho++]=vu,co[ho++]=gu,gu=r,vu=s}function Xm(r,s,l){wn[En++]=Or,wn[En++]=Dr,wn[En++]=rs,rs=r;var d=Or;r=Dr;var p=32-Kt(d)-1;d&=~(1<<p),l+=1;var v=32-Kt(s)+p;if(30<v){var E=p-p%5;v=(d&(1<<E)-1).toString(32),d>>=E,p-=E,Or=1<<32-Kt(s)+p|l<<p|d,Dr=v+r}else Or=1<<v|l<<p|d,Dr=r}function qd(r){r.return!==null&&(is(r,1),Xm(r,1,0))}function Kd(r){for(;r===gu;)gu=co[--ho],co[ho]=null,vu=co[--ho],co[ho]=null;for(;r===rs;)rs=wn[--En],wn[En]=null,Dr=wn[--En],wn[En]=null,Or=wn[--En],wn[En]=null}var cn=null,dn=null,rt=!1,Bn=null;function Ym(r,s){var l=In(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Jm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,cn=r,dn=ci(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,cn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=rs!==null?{id:Or,overflow:Dr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=In(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,cn=r,dn=null,!0):!1;default:return!1}}function Gd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Qd(r){if(rt){var s=dn;if(s){var l=s;if(!Jm(r,s)){if(Gd(r))throw Error(t(418));s=ci(l.nextSibling);var d=cn;s&&Jm(r,s)?Ym(d,l):(r.flags=r.flags&-4097|2,rt=!1,cn=r)}}else{if(Gd(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,cn=r}}}function Zm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;cn=r}function yu(r){if(r!==cn)return!1;if(!rt)return Zm(r),rt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ud(r.type,r.memoizedProps)),s&&(s=dn)){if(Gd(r))throw eg(),Error(t(418));for(;s;)Ym(r,s),s=ci(s.nextSibling)}if(Zm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){dn=ci(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=cn?ci(r.stateNode.nextSibling):null;return!0}function eg(){for(var r=dn;r;)r=ci(r.nextSibling)}function fo(){dn=cn=null,rt=!1}function Xd(r){Bn===null?Bn=[r]:Bn.push(r)}var QT=q.ReactCurrentBatchConfig;function Ma(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(E){var O=p.refs;E===null?delete O[v]:O[v]=E},s._stringRef=v,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function _u(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function tg(r){var s=r._init;return s(r._payload)}function ng(r){function s(K,z){if(r){var G=K.deletions;G===null?(K.deletions=[z],K.flags|=16):G.push(z)}}function l(K,z){if(!r)return null;for(;z!==null;)s(K,z),z=z.sibling;return null}function d(K,z){for(K=new Map;z!==null;)z.key!==null?K.set(z.key,z):K.set(z.index,z),z=z.sibling;return K}function p(K,z){return K=Ei(K,z),K.index=0,K.sibling=null,K}function v(K,z,G){return K.index=G,r?(G=K.alternate,G!==null?(G=G.index,G<z?(K.flags|=2,z):G):(K.flags|=2,z)):(K.flags|=1048576,z)}function E(K){return r&&K.alternate===null&&(K.flags|=2),K}function O(K,z,G,oe){return z===null||z.tag!==6?(z=zh(G,K.mode,oe),z.return=K,z):(z=p(z,G),z.return=K,z)}function j(K,z,G,oe){var _e=G.type;return _e===I?te(K,z,G.props.children,oe,G.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===me&&tg(_e)===z.type)?(oe=p(z,G.props),oe.ref=Ma(K,z,G),oe.return=K,oe):(oe=$u(G.type,G.key,G.props,null,K.mode,oe),oe.ref=Ma(K,z,G),oe.return=K,oe)}function Q(K,z,G,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Bh(G,K.mode,oe),z.return=K,z):(z=p(z,G.children||[]),z.return=K,z)}function te(K,z,G,oe,_e){return z===null||z.tag!==7?(z=hs(G,K.mode,oe,_e),z.return=K,z):(z=p(z,G),z.return=K,z)}function ie(K,z,G){if(typeof z=="string"&&z!==""||typeof z=="number")return z=zh(""+z,K.mode,G),z.return=K,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Z:return G=$u(z.type,z.key,z.props,null,K.mode,G),G.ref=Ma(K,null,z),G.return=K,G;case W:return z=Bh(z,K.mode,G),z.return=K,z;case me:var oe=z._init;return ie(K,oe(z._payload),G)}if(Tr(z)||ae(z))return z=hs(z,K.mode,G,null),z.return=K,z;_u(K,z)}return null}function ee(K,z,G,oe){var _e=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return _e!==null?null:O(K,z,""+G,oe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Z:return G.key===_e?j(K,z,G,oe):null;case W:return G.key===_e?Q(K,z,G,oe):null;case me:return _e=G._init,ee(K,z,_e(G._payload),oe)}if(Tr(G)||ae(G))return _e!==null?null:te(K,z,G,oe,null);_u(K,G)}return null}function de(K,z,G,oe,_e){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return K=K.get(G)||null,O(z,K,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Z:return K=K.get(oe.key===null?G:oe.key)||null,j(z,K,oe,_e);case W:return K=K.get(oe.key===null?G:oe.key)||null,Q(z,K,oe,_e);case me:var xe=oe._init;return de(K,z,G,xe(oe._payload),_e)}if(Tr(oe)||ae(oe))return K=K.get(G)||null,te(z,K,oe,_e,null);_u(z,oe)}return null}function ge(K,z,G,oe){for(var _e=null,xe=null,Se=z,Ae=z=0,At=null;Se!==null&&Ae<G.length;Ae++){Se.index>Ae?(At=Se,Se=null):At=Se.sibling;var He=ee(K,Se,G[Ae],oe);if(He===null){Se===null&&(Se=At);break}r&&Se&&He.alternate===null&&s(K,Se),z=v(He,z,Ae),xe===null?_e=He:xe.sibling=He,xe=He,Se=At}if(Ae===G.length)return l(K,Se),rt&&is(K,Ae),_e;if(Se===null){for(;Ae<G.length;Ae++)Se=ie(K,G[Ae],oe),Se!==null&&(z=v(Se,z,Ae),xe===null?_e=Se:xe.sibling=Se,xe=Se);return rt&&is(K,Ae),_e}for(Se=d(K,Se);Ae<G.length;Ae++)At=de(Se,K,Ae,G[Ae],oe),At!==null&&(r&&At.alternate!==null&&Se.delete(At.key===null?Ae:At.key),z=v(At,z,Ae),xe===null?_e=At:xe.sibling=At,xe=At);return r&&Se.forEach(function(Ti){return s(K,Ti)}),rt&&is(K,Ae),_e}function ve(K,z,G,oe){var _e=ae(G);if(typeof _e!="function")throw Error(t(150));if(G=_e.call(G),G==null)throw Error(t(151));for(var xe=_e=null,Se=z,Ae=z=0,At=null,He=G.next();Se!==null&&!He.done;Ae++,He=G.next()){Se.index>Ae?(At=Se,Se=null):At=Se.sibling;var Ti=ee(K,Se,He.value,oe);if(Ti===null){Se===null&&(Se=At);break}r&&Se&&Ti.alternate===null&&s(K,Se),z=v(Ti,z,Ae),xe===null?_e=Ti:xe.sibling=Ti,xe=Ti,Se=At}if(He.done)return l(K,Se),rt&&is(K,Ae),_e;if(Se===null){for(;!He.done;Ae++,He=G.next())He=ie(K,He.value,oe),He!==null&&(z=v(He,z,Ae),xe===null?_e=He:xe.sibling=He,xe=He);return rt&&is(K,Ae),_e}for(Se=d(K,Se);!He.done;Ae++,He=G.next())He=de(Se,K,Ae,He.value,oe),He!==null&&(r&&He.alternate!==null&&Se.delete(He.key===null?Ae:He.key),z=v(He,z,Ae),xe===null?_e=He:xe.sibling=He,xe=He);return r&&Se.forEach(function(Ax){return s(K,Ax)}),rt&&is(K,Ae),_e}function ht(K,z,G,oe){if(typeof G=="object"&&G!==null&&G.type===I&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Z:e:{for(var _e=G.key,xe=z;xe!==null;){if(xe.key===_e){if(_e=G.type,_e===I){if(xe.tag===7){l(K,xe.sibling),z=p(xe,G.props.children),z.return=K,K=z;break e}}else if(xe.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===me&&tg(_e)===xe.type){l(K,xe.sibling),z=p(xe,G.props),z.ref=Ma(K,xe,G),z.return=K,K=z;break e}l(K,xe);break}else s(K,xe);xe=xe.sibling}G.type===I?(z=hs(G.props.children,K.mode,oe,G.key),z.return=K,K=z):(oe=$u(G.type,G.key,G.props,null,K.mode,oe),oe.ref=Ma(K,z,G),oe.return=K,K=oe)}return E(K);case W:e:{for(xe=G.key;z!==null;){if(z.key===xe)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){l(K,z.sibling),z=p(z,G.children||[]),z.return=K,K=z;break e}else{l(K,z);break}else s(K,z);z=z.sibling}z=Bh(G,K.mode,oe),z.return=K,K=z}return E(K);case me:return xe=G._init,ht(K,z,xe(G._payload),oe)}if(Tr(G))return ge(K,z,G,oe);if(ae(G))return ve(K,z,G,oe);_u(K,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,z!==null&&z.tag===6?(l(K,z.sibling),z=p(z,G),z.return=K,K=z):(l(K,z),z=zh(G,K.mode,oe),z.return=K,K=z),E(K)):l(K,z)}return ht}var po=ng(!0),rg=ng(!1),wu=di(null),Eu=null,mo=null,Yd=null;function Jd(){Yd=mo=Eu=null}function Zd(r){var s=wu.current;tt(wu),r._currentValue=s}function eh(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function go(r,s){Eu=r,Yd=mo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(tn=!0),r.firstContext=null)}function Tn(r){var s=r._currentValue;if(Yd!==r)if(r={context:r,memoizedValue:s,next:null},mo===null){if(Eu===null)throw Error(t(308));mo=r,Eu.dependencies={lanes:0,firstContext:r}}else mo=mo.next=r;return s}var ss=null;function th(r){ss===null?ss=[r]:ss.push(r)}function ig(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,th(s)):(l.next=p.next,p.next=l),s.interleaved=l,Mr(r,d)}function Mr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var pi=!1;function nh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Lr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function mi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Mr(r,l)}return p=d.interleaved,p===null?(s.next=s,th(d)):(s.next=p.next,p.next=s),d.interleaved=s,Mr(r,l)}function Tu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ii(r,l)}}function og(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?p=v=s:v=v.next=s}else p=v=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function xu(r,s,l,d){var p=r.updateQueue;pi=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var j=O,Q=j.next;j.next=null,E===null?v=Q:E.next=Q,E=j;var te=r.alternate;te!==null&&(te=te.updateQueue,O=te.lastBaseUpdate,O!==E&&(O===null?te.firstBaseUpdate=Q:O.next=Q,te.lastBaseUpdate=j))}if(v!==null){var ie=p.baseState;E=0,te=Q=j=null,O=v;do{var ee=O.lane,de=O.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ge=r,ve=O;switch(ee=s,de=l,ve.tag){case 1:if(ge=ve.payload,typeof ge=="function"){ie=ge.call(de,ie,ee);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ve.payload,ee=typeof ge=="function"?ge.call(de,ie,ee):ge,ee==null)break e;ie=re({},ie,ee);break e;case 2:pi=!0}}O.callback!==null&&O.lane!==0&&(r.flags|=64,ee=p.effects,ee===null?p.effects=[O]:ee.push(O))}else de={eventTime:de,lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},te===null?(Q=te=de,j=ie):te=te.next=de,E|=ee;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(j=ie),p.baseState=j,p.firstBaseUpdate=Q,p.lastBaseUpdate=te,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else v===null&&(p.shared.lanes=0);ls|=E,r.lanes=E,r.memoizedState=ie}}function ag(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var La={},ar=di(La),Va=di(La),ja=di(La);function os(r){if(r===La)throw Error(t(174));return r}function rh(r,s){switch(Ze(ja,s),Ze(Va,r),Ze(ar,La),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}tt(ar),Ze(ar,s)}function vo(){tt(ar),tt(Va),tt(ja)}function lg(r){os(ja.current);var s=os(ar.current),l=yt(s,r.type);s!==l&&(Ze(Va,r),Ze(ar,l))}function ih(r){Va.current===r&&(tt(ar),tt(Va))}var it=di(0);function Su(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sh=[];function oh(){for(var r=0;r<sh.length;r++)sh[r]._workInProgressVersionPrimary=null;sh.length=0}var Iu=q.ReactCurrentDispatcher,ah=q.ReactCurrentBatchConfig,as=0,st=null,wt=null,Ct=null,Cu=!1,Fa=!1,Ua=0,XT=0;function Ft(){throw Error(t(321))}function lh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!zn(r[l],s[l]))return!1;return!0}function uh(r,s,l,d,p,v){if(as=v,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Iu.current=r===null||r.memoizedState===null?ex:tx,r=l(d,p),Fa){v=0;do{if(Fa=!1,Ua=0,25<=v)throw Error(t(301));v+=1,Ct=wt=null,s.updateQueue=null,Iu.current=nx,r=l(d,p)}while(Fa)}if(Iu.current=Pu,s=wt!==null&&wt.next!==null,as=0,Ct=wt=st=null,Cu=!1,s)throw Error(t(300));return r}function ch(){var r=Ua!==0;return Ua=0,r}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?st.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function xn(){if(wt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=Ct===null?st.memoizedState:Ct.next;if(s!==null)Ct=s,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ct===null?st.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}function za(r,s){return typeof s=="function"?s(r):s}function dh(r){var s=xn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=wt,p=d.baseQueue,v=l.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}d.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,d=d.baseState;var O=E=null,j=null,Q=v;do{var te=Q.lane;if((as&te)===te)j!==null&&(j=j.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:r(d,Q.action);else{var ie={lane:te,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};j===null?(O=j=ie,E=d):j=j.next=ie,st.lanes|=te,ls|=te}Q=Q.next}while(Q!==null&&Q!==v);j===null?E=d:j.next=O,zn(d,s.memoizedState)||(tn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=j,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do v=p.lane,st.lanes|=v,ls|=v,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function hh(r){var s=xn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,v=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do v=r(v,E.action),E=E.next;while(E!==p);zn(v,s.memoizedState)||(tn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,d]}function ug(){}function cg(r,s){var l=st,d=xn(),p=s(),v=!zn(d.memoizedState,p);if(v&&(d.memoizedState=p,tn=!0),d=d.queue,fh(fg.bind(null,l,d,r),[r]),d.getSnapshot!==s||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ba(9,hg.bind(null,l,d,p,s),void 0,null),Rt===null)throw Error(t(349));(as&30)!==0||dg(l,s,p)}return p}function dg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function hg(r,s,l,d){s.value=l,s.getSnapshot=d,pg(s)&&mg(r)}function fg(r,s,l){return l(function(){pg(s)&&mg(r)})}function pg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!zn(r,l)}catch{return!0}}function mg(r){var s=Mr(r,1);s!==null&&qn(s,r,1,-1)}function gg(r){var s=lr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},s.queue=r,r=r.dispatch=ZT.bind(null,st,r),[s.memoizedState,r]}function Ba(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function vg(){return xn().memoizedState}function Ru(r,s,l,d){var p=lr();st.flags|=r,p.memoizedState=Ba(1|s,l,void 0,d===void 0?null:d)}function Au(r,s,l,d){var p=xn();d=d===void 0?null:d;var v=void 0;if(wt!==null){var E=wt.memoizedState;if(v=E.destroy,d!==null&&lh(d,E.deps)){p.memoizedState=Ba(s,l,v,d);return}}st.flags|=r,p.memoizedState=Ba(1|s,l,v,d)}function yg(r,s){return Ru(8390656,8,r,s)}function fh(r,s){return Au(2048,8,r,s)}function _g(r,s){return Au(4,2,r,s)}function wg(r,s){return Au(4,4,r,s)}function Eg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Tg(r,s,l){return l=l!=null?l.concat([r]):null,Au(4,4,Eg.bind(null,s,r),l)}function ph(){}function xg(r,s){var l=xn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&lh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Sg(r,s){var l=xn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&lh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Ig(r,s,l){return(as&21)===0?(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=l):(zn(l,s)||(l=Xi(),st.lanes|=l,ls|=l,r.baseState=!0),s)}function YT(r,s){var l=Ue;Ue=l!==0&&4>l?l:4,r(!0);var d=ah.transition;ah.transition={};try{r(!1),s()}finally{Ue=l,ah.transition=d}}function Cg(){return xn().memoizedState}function JT(r,s,l){var d=_i(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Rg(r))Ag(s,l);else if(l=ig(r,s,l,d),l!==null){var p=Xt();qn(l,r,d,p),Pg(l,s,d)}}function ZT(r,s,l){var d=_i(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Rg(r))Ag(s,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var E=s.lastRenderedState,O=v(E,l);if(p.hasEagerState=!0,p.eagerState=O,zn(O,E)){var j=s.interleaved;j===null?(p.next=p,th(s)):(p.next=j.next,j.next=p),s.interleaved=p;return}}catch{}finally{}l=ig(r,s,p,d),l!==null&&(p=Xt(),qn(l,r,d,p),Pg(l,s,d))}}function Rg(r){var s=r.alternate;return r===st||s!==null&&s===st}function Ag(r,s){Fa=Cu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Pg(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ii(r,l)}}var Pu={readContext:Tn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},ex={readContext:Tn,useCallback:function(r,s){return lr().memoizedState=[r,s===void 0?null:s],r},useContext:Tn,useEffect:yg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Ru(4194308,4,Eg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ru(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ru(4,2,r,s)},useMemo:function(r,s){var l=lr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=lr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=JT.bind(null,st,r),[d.memoizedState,r]},useRef:function(r){var s=lr();return r={current:r},s.memoizedState=r},useState:gg,useDebugValue:ph,useDeferredValue:function(r){return lr().memoizedState=r},useTransition:function(){var r=gg(!1),s=r[0];return r=YT.bind(null,r[1]),lr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=st,p=lr();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Rt===null)throw Error(t(349));(as&30)!==0||dg(d,s,l)}p.memoizedState=l;var v={value:l,getSnapshot:s};return p.queue=v,yg(fg.bind(null,d,v,r),[r]),d.flags|=2048,Ba(9,hg.bind(null,d,v,l,s),void 0,null),l},useId:function(){var r=lr(),s=Rt.identifierPrefix;if(rt){var l=Dr,d=Or;l=(d&~(1<<32-Kt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ua++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=XT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},tx={readContext:Tn,useCallback:xg,useContext:Tn,useEffect:fh,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:wg,useMemo:Sg,useReducer:dh,useRef:vg,useState:function(){return dh(za)},useDebugValue:ph,useDeferredValue:function(r){var s=xn();return Ig(s,wt.memoizedState,r)},useTransition:function(){var r=dh(za)[0],s=xn().memoizedState;return[r,s]},useMutableSource:ug,useSyncExternalStore:cg,useId:Cg,unstable_isNewReconciler:!1},nx={readContext:Tn,useCallback:xg,useContext:Tn,useEffect:fh,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:wg,useMemo:Sg,useReducer:hh,useRef:vg,useState:function(){return hh(za)},useDebugValue:ph,useDeferredValue:function(r){var s=xn();return wt===null?s.memoizedState=r:Ig(s,wt.memoizedState,r)},useTransition:function(){var r=hh(za)[0],s=xn().memoizedState;return[r,s]},useMutableSource:ug,useSyncExternalStore:cg,useId:Cg,unstable_isNewReconciler:!1};function $n(r,s){if(r&&r.defaultProps){s=re({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function mh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:re({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ku={isMounted:function(r){return(r=r._reactInternals)?Dn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Xt(),p=_i(r),v=Lr(d,p);v.payload=s,l!=null&&(v.callback=l),s=mi(r,v,p),s!==null&&(qn(s,r,p,d),Tu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Xt(),p=_i(r),v=Lr(d,p);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=mi(r,v,p),s!==null&&(qn(s,r,p,d),Tu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Xt(),d=_i(r),p=Lr(l,d);p.tag=2,s!=null&&(p.callback=s),s=mi(r,p,d),s!==null&&(qn(s,r,d,l),Tu(s,r,d))}};function kg(r,s,l,d,p,v,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,E):s.prototype&&s.prototype.isPureReactComponent?!Aa(l,d)||!Aa(p,v):!0}function bg(r,s,l){var d=!1,p=hi,v=s.contextType;return typeof v=="object"&&v!==null?v=Tn(v):(p=en(s)?ns:jt.current,d=s.contextTypes,v=(d=d!=null)?uo(r,p):hi),s=new s(l,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ku,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=v),s}function Ng(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&ku.enqueueReplaceState(s,s.state,null)}function gh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},nh(r);var v=s.contextType;typeof v=="object"&&v!==null?p.context=Tn(v):(v=en(s)?ns:jt.current,p.context=uo(r,v)),p.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(mh(r,s,v,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&ku.enqueueReplaceState(p,p.state,null),xu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function yo(r,s){try{var l="",d=s;do l+=Re(d),d=d.return;while(d);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:p,digest:null}}function vh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function yh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var rx=typeof WeakMap=="function"?WeakMap:Map;function Og(r,s,l){l=Lr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Vu||(Vu=!0,Oh=d),yh(r,s)},l}function Dg(r,s,l){l=Lr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){yh(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){yh(r,s),typeof d!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Mg(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new rx;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=vx.bind(null,r,s,l),s.then(r,r))}function Lg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Vg(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Lr(-1,1),s.tag=2,mi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var ix=q.ReactCurrentOwner,tn=!1;function Qt(r,s,l,d){s.child=r===null?rg(s,null,l,d):po(s,r.child,l,d)}function jg(r,s,l,d,p){l=l.render;var v=s.ref;return go(s,p),d=uh(r,s,l,d,v,p),l=ch(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Vr(r,s,p)):(rt&&l&&qd(s),s.flags|=1,Qt(r,s,d,p),s.child)}function Fg(r,s,l,d,p){if(r===null){var v=l.type;return typeof v=="function"&&!Uh(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,Ug(r,s,v,d,p)):(r=$u(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,(r.lanes&p)===0){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:Aa,l(E,d)&&r.ref===s.ref)return Vr(r,s,p)}return s.flags|=1,r=Ei(v,d),r.ref=s.ref,r.return=s,s.child=r}function Ug(r,s,l,d,p){if(r!==null){var v=r.memoizedProps;if(Aa(v,d)&&r.ref===s.ref)if(tn=!1,s.pendingProps=d=v,(r.lanes&p)!==0)(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,Vr(r,s,p)}return _h(r,s,l,d,p)}function zg(r,s,l){var d=s.pendingProps,p=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(wo,hn),hn|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ze(wo,hn),hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,Ze(wo,hn),hn|=d}else v!==null?(d=v.baseLanes|l,s.memoizedState=null):d=l,Ze(wo,hn),hn|=d;return Qt(r,s,p,l),s.child}function Bg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function _h(r,s,l,d,p){var v=en(l)?ns:jt.current;return v=uo(s,v),go(s,p),l=uh(r,s,l,d,v,p),d=ch(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Vr(r,s,p)):(rt&&d&&qd(s),s.flags|=1,Qt(r,s,l,p),s.child)}function $g(r,s,l,d,p){if(en(l)){var v=!0;pu(s)}else v=!1;if(go(s,p),s.stateNode===null)Nu(r,s),bg(s,l,d),gh(s,l,d,p),d=!0;else if(r===null){var E=s.stateNode,O=s.memoizedProps;E.props=O;var j=E.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Tn(Q):(Q=en(l)?ns:jt.current,Q=uo(s,Q));var te=l.getDerivedStateFromProps,ie=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==d||j!==Q)&&Ng(s,E,d,Q),pi=!1;var ee=s.memoizedState;E.state=ee,xu(s,d,E,p),j=s.memoizedState,O!==d||ee!==j||Zt.current||pi?(typeof te=="function"&&(mh(s,l,te,d),j=s.memoizedState),(O=pi||kg(s,l,O,d,ee,j,Q))?(ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=j),E.props=d,E.state=j,E.context=Q,d=O):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,sg(r,s),O=s.memoizedProps,Q=s.type===s.elementType?O:$n(s.type,O),E.props=Q,ie=s.pendingProps,ee=E.context,j=l.contextType,typeof j=="object"&&j!==null?j=Tn(j):(j=en(l)?ns:jt.current,j=uo(s,j));var de=l.getDerivedStateFromProps;(te=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==ie||ee!==j)&&Ng(s,E,d,j),pi=!1,ee=s.memoizedState,E.state=ee,xu(s,d,E,p);var ge=s.memoizedState;O!==ie||ee!==ge||Zt.current||pi?(typeof de=="function"&&(mh(s,l,de,d),ge=s.memoizedState),(Q=pi||kg(s,l,Q,d,ee,ge,j)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,ge,j),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,ge,j)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ge),E.props=d,E.state=ge,E.context=j,d=Q):(typeof E.componentDidUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),d=!1)}return wh(r,s,l,d,v,p)}function wh(r,s,l,d,p,v){Bg(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return p&&Gm(s,l,!1),Vr(r,s,v);d=s.stateNode,ix.current=s;var O=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=po(s,r.child,null,v),s.child=po(s,null,O,v)):Qt(r,s,O,v),s.memoizedState=d.state,p&&Gm(s,l,!0),s.child}function Wg(r){var s=r.stateNode;s.pendingContext?qm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&qm(r,s.context,!1),rh(r,s.containerInfo)}function Hg(r,s,l,d,p){return fo(),Xd(p),s.flags|=256,Qt(r,s,l,d),s.child}var Eh={dehydrated:null,treeContext:null,retryLane:0};function Th(r){return{baseLanes:r,cachePool:null,transitions:null}}function qg(r,s,l){var d=s.pendingProps,p=it.current,v=!1,E=(s.flags&128)!==0,O;if((O=E)||(O=r!==null&&r.memoizedState===null?!1:(p&2)!==0),O?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ze(it,p&1),r===null)return Qd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=d.children,r=d.fallback,v?(d=s.mode,v=s.child,E={mode:"hidden",children:E},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=Wu(E,d,0,null),r=hs(r,d,l,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=Th(l),s.memoizedState=Eh,r):xh(s,E));if(p=r.memoizedState,p!==null&&(O=p.dehydrated,O!==null))return sx(r,s,E,d,O,p,l);if(v){v=d.fallback,E=s.mode,p=r.child,O=p.sibling;var j={mode:"hidden",children:d.children};return(E&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=j,s.deletions=null):(d=Ei(p,j),d.subtreeFlags=p.subtreeFlags&14680064),O!==null?v=Ei(O,v):(v=hs(v,E,l,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,E=r.child.memoizedState,E=E===null?Th(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=r.childLanes&~l,s.memoizedState=Eh,d}return v=r.child,r=v.sibling,d=Ei(v,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function xh(r,s){return s=Wu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function bu(r,s,l,d){return d!==null&&Xd(d),po(s,r.child,null,l),r=xh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function sx(r,s,l,d,p,v,E){if(l)return s.flags&256?(s.flags&=-257,d=vh(Error(t(422))),bu(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=d.fallback,p=s.mode,d=Wu({mode:"visible",children:d.children},p,0,null),v=hs(v,p,E,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,(s.mode&1)!==0&&po(s,r.child,null,E),s.child.memoizedState=Th(E),s.memoizedState=Eh,v);if((s.mode&1)===0)return bu(r,s,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var O=d.dgst;return d=O,v=Error(t(419)),d=vh(v,d,void 0),bu(r,s,E,d)}if(O=(E&r.childLanes)!==0,tn||O){if(d=Rt,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Mr(r,p),qn(d,r,p,-1))}return Fh(),d=vh(Error(t(421))),bu(r,s,E,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=yx.bind(null,r),p._reactRetry=s,null):(r=v.treeContext,dn=ci(p.nextSibling),cn=s,rt=!0,Bn=null,r!==null&&(wn[En++]=Or,wn[En++]=Dr,wn[En++]=rs,Or=r.id,Dr=r.overflow,rs=s),s=xh(s,d.children),s.flags|=4096,s)}function Kg(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),eh(r.return,s,l)}function Sh(r,s,l,d,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=p)}function Gg(r,s,l){var d=s.pendingProps,p=d.revealOrder,v=d.tail;if(Qt(r,s,d.children,l),d=it.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Kg(r,l,s);else if(r.tag===19)Kg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ze(it,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Su(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Sh(s,!1,p,l,v);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Su(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Sh(s,!0,l,null,v);break;case"together":Sh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Nu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Vr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ls|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Ei(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ei(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function ox(r,s,l){switch(s.tag){case 3:Wg(s),fo();break;case 5:lg(s);break;case 1:en(s.type)&&pu(s);break;case 4:rh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Ze(wu,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ze(it,it.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?qg(r,s,l):(Ze(it,it.current&1),r=Vr(r,s,l),r!==null?r.sibling:null);Ze(it,it.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Gg(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ze(it,it.current),d)break;return null;case 22:case 23:return s.lanes=0,zg(r,s,l)}return Vr(r,s,l)}var Qg,Ih,Xg,Yg;Qg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ih=function(){},Xg=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,os(ar.current);var v=null;switch(l){case"input":p=St(r,p),d=St(r,d),v=[];break;case"select":p=re({},p,{value:void 0}),d=re({},d,{value:void 0}),v=[];break;case"textarea":p=ra(r,p),d=ra(r,d),v=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=du)}ua(l,d);var E;l=null;for(Q in p)if(!d.hasOwnProperty(Q)&&p.hasOwnProperty(Q)&&p[Q]!=null)if(Q==="style"){var O=p[Q];for(E in O)O.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in d){var j=d[Q];if(O=p!=null?p[Q]:void 0,d.hasOwnProperty(Q)&&j!==O&&(j!=null||O!=null))if(Q==="style")if(O){for(E in O)!O.hasOwnProperty(E)||j&&j.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in j)j.hasOwnProperty(E)&&O[E]!==j[E]&&(l||(l={}),l[E]=j[E])}else l||(v||(v=[]),v.push(Q,l)),l=j;else Q==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,O=O?O.__html:void 0,j!=null&&O!==j&&(v=v||[]).push(Q,j)):Q==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(Q,""+j):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(j!=null&&Q==="onScroll"&&et("scroll",r),v||O===j||(v=[])):(v=v||[]).push(Q,j))}l&&(v=v||[]).push("style",l);var Q=v;(s.updateQueue=Q)&&(s.flags|=4)}},Yg=function(r,s,l,d){l!==d&&(s.flags|=4)};function $a(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function ax(r,s,l){var d=s.pendingProps;switch(Kd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return en(s.type)&&fu(),Ut(s),null;case 3:return d=s.stateNode,vo(),tt(Zt),tt(jt),oh(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(yu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bn!==null&&(Lh(Bn),Bn=null))),Ih(r,s),Ut(s),null;case 5:ih(s);var p=os(ja.current);if(l=s.type,r!==null&&s.stateNode!=null)Xg(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(r=os(ar.current),yu(s)){d=s.stateNode,l=s.type;var v=s.memoizedProps;switch(d[or]=s,d[Oa]=v,r=(s.mode&1)!==0,l){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(p=0;p<ka.length;p++)et(ka[p],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":mn(d,v),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},et("invalid",d);break;case"textarea":Os(d,v),et("invalid",d)}ua(l,v),p=null;for(var E in v)if(v.hasOwnProperty(E)){var O=v[E];E==="children"?typeof O=="string"?d.textContent!==O&&(v.suppressHydrationWarning!==!0&&cu(d.textContent,O,r),p=["children",O]):typeof O=="number"&&d.textContent!==""+O&&(v.suppressHydrationWarning!==!0&&cu(d.textContent,O,r),p=["children",""+O]):o.hasOwnProperty(E)&&O!=null&&E==="onScroll"&&et("scroll",d)}switch(l){case"input":Le(d),Ns(d,v,!0);break;case"textarea":Le(d),ia(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=du)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=vt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[or]=s,r[Oa]=d,Qg(r,s,!1,!1),s.stateNode=r;e:{switch(E=ca(l,d),l){case"dialog":et("cancel",r),et("close",r),p=d;break;case"iframe":case"object":case"embed":et("load",r),p=d;break;case"video":case"audio":for(p=0;p<ka.length;p++)et(ka[p],r);p=d;break;case"source":et("error",r),p=d;break;case"img":case"image":case"link":et("error",r),et("load",r),p=d;break;case"details":et("toggle",r),p=d;break;case"input":mn(r,d),p=St(r,d),et("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=re({},d,{value:void 0}),et("invalid",r);break;case"textarea":Os(r,d),p=ra(r,d),et("invalid",r);break;default:p=d}ua(l,p),O=p;for(v in O)if(O.hasOwnProperty(v)){var j=O[v];v==="style"?aa(r,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&sa(r,j)):v==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&Zr(r,j):typeof j=="number"&&Zr(r,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?j!=null&&v==="onScroll"&&et("scroll",r):j!=null&&$(r,v,j,E))}switch(l){case"input":Le(r),Ns(r,d,!1);break;case"textarea":Le(r),ia(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Ee(d.value));break;case"select":r.multiple=!!d.multiple,v=d.value,v!=null?xr(r,!!d.multiple,v,!1):d.defaultValue!=null&&xr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=du)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)Yg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=os(ja.current),os(ar.current),yu(s)){if(d=s.stateNode,l=s.memoizedProps,d[or]=s,(v=d.nodeValue!==l)&&(r=cn,r!==null))switch(r.tag){case 3:cu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&cu(d.nodeValue,l,(r.mode&1)!==0)}v&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[or]=s,s.stateNode=d}return Ut(s),null;case 13:if(tt(it),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)eg(),fo(),s.flags|=98560,v=!1;else if(v=yu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!v)throw Error(t(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[or]=s}else fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),v=!1}else Bn!==null&&(Lh(Bn),Bn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(it.current&1)!==0?Et===0&&(Et=3):Fh())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return vo(),Ih(r,s),r===null&&ba(s.stateNode.containerInfo),Ut(s),null;case 10:return Zd(s.type._context),Ut(s),null;case 17:return en(s.type)&&fu(),Ut(s),null;case 19:if(tt(it),v=s.memoizedState,v===null)return Ut(s),null;if(d=(s.flags&128)!==0,E=v.rendering,E===null)if(d)$a(v,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Su(r),E!==null){for(s.flags|=128,$a(v,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)v=l,r=d,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,r=E.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ze(it,it.current&1|2),s.child}r=r.sibling}v.tail!==null&&Je()>Eo&&(s.flags|=128,d=!0,$a(v,!1),s.lanes=4194304)}else{if(!d)if(r=Su(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),$a(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!rt)return Ut(s),null}else 2*Je()-v.renderingStartTime>Eo&&l!==1073741824&&(s.flags|=128,d=!0,$a(v,!1),s.lanes=4194304);v.isBackwards?(E.sibling=s.child,s.child=E):(l=v.last,l!==null?l.sibling=E:s.child=E,v.last=E)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Je(),s.sibling=null,l=it.current,Ze(it,d?l&1|2:l&1),s):(Ut(s),null);case 22:case 23:return jh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(hn&1073741824)!==0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function lx(r,s){switch(Kd(s),s.tag){case 1:return en(s.type)&&fu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return vo(),tt(Zt),tt(jt),oh(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return ih(s),null;case 13:if(tt(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(it),null;case 4:return vo(),null;case 10:return Zd(s.type._context),null;case 22:case 23:return jh(),null;case 24:return null;default:return null}}var Ou=!1,zt=!1,ux=typeof WeakSet=="function"?WeakSet:Set,fe=null;function _o(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ut(r,s,d)}else l.current=null}function Ch(r,s,l){try{l()}catch(d){ut(r,s,d)}}var Jg=!1;function cx(r,s){if(jd=ai,r=km(),kd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,O=-1,j=-1,Q=0,te=0,ie=r,ee=null;t:for(;;){for(var de;ie!==l||p!==0&&ie.nodeType!==3||(O=E+p),ie!==v||d!==0&&ie.nodeType!==3||(j=E+d),ie.nodeType===3&&(E+=ie.nodeValue.length),(de=ie.firstChild)!==null;)ee=ie,ie=de;for(;;){if(ie===r)break t;if(ee===l&&++Q===p&&(O=E),ee===v&&++te===d&&(j=E),(de=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=de}l=O===-1||j===-1?null:{start:O,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fd={focusedElem:r,selectionRange:l},ai=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ve=ge.memoizedProps,ht=ge.memoizedState,K=s.stateNode,z=K.getSnapshotBeforeUpdate(s.elementType===s.type?ve:$n(s.type,ve),ht);K.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){ut(s,s.return,oe)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return ge=Jg,Jg=!1,ge}function Wa(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var v=p.destroy;p.destroy=void 0,v!==void 0&&Ch(s,l,v)}p=p.next}while(p!==d)}}function Du(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Rh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Zg(r){var s=r.alternate;s!==null&&(r.alternate=null,Zg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[or],delete s[Oa],delete s[$d],delete s[qT],delete s[KT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ev(r){return r.tag===5||r.tag===3||r.tag===4}function tv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ev(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ah(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=du));else if(d!==4&&(r=r.child,r!==null))for(Ah(r,s,l),r=r.sibling;r!==null;)Ah(r,s,l),r=r.sibling}function Ph(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Ph(r,s,l),r=r.sibling;r!==null;)Ph(r,s,l),r=r.sibling}var Nt=null,Wn=!1;function gi(r,s,l){for(l=l.child;l!==null;)nv(r,s,l),l=l.sibling}function nv(r,s,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Gi,l)}catch{}switch(l.tag){case 5:zt||_o(l,s);case 6:var d=Nt,p=Wn;Nt=null,gi(r,s,l),Nt=d,Wn=p,Nt!==null&&(Wn?(r=Nt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Nt.removeChild(l.stateNode));break;case 18:Nt!==null&&(Wn?(r=Nt,l=l.stateNode,r.nodeType===8?Bd(r.parentNode,l):r.nodeType===1&&Bd(r,l),Fn(r)):Bd(Nt,l.stateNode));break;case 4:d=Nt,p=Wn,Nt=l.stateNode.containerInfo,Wn=!0,gi(r,s,l),Nt=d,Wn=p;break;case 0:case 11:case 14:case 15:if(!zt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var v=p,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&Ch(l,s,E),p=p.next}while(p!==d)}gi(r,s,l);break;case 1:if(!zt&&(_o(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(O){ut(l,s,O)}gi(r,s,l);break;case 21:gi(r,s,l);break;case 22:l.mode&1?(zt=(d=zt)||l.memoizedState!==null,gi(r,s,l),zt=d):gi(r,s,l);break;default:gi(r,s,l)}}function rv(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new ux),s.forEach(function(d){var p=_x.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Hn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var v=r,E=s,O=E;e:for(;O!==null;){switch(O.tag){case 5:Nt=O.stateNode,Wn=!1;break e;case 3:Nt=O.stateNode.containerInfo,Wn=!0;break e;case 4:Nt=O.stateNode.containerInfo,Wn=!0;break e}O=O.return}if(Nt===null)throw Error(t(160));nv(v,E,p),Nt=null,Wn=!1;var j=p.alternate;j!==null&&(j.return=null),p.return=null}catch(Q){ut(p,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)iv(s,r),s=s.sibling}function iv(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Hn(s,r),ur(r),d&4){try{Wa(3,r,r.return),Du(3,r)}catch(ve){ut(r,r.return,ve)}try{Wa(5,r,r.return)}catch(ve){ut(r,r.return,ve)}}break;case 1:Hn(s,r),ur(r),d&512&&l!==null&&_o(l,l.return);break;case 5:if(Hn(s,r),ur(r),d&512&&l!==null&&_o(l,l.return),r.flags&32){var p=r.stateNode;try{Zr(p,"")}catch(ve){ut(r,r.return,ve)}}if(d&4&&(p=r.stateNode,p!=null)){var v=r.memoizedProps,E=l!==null?l.memoizedProps:v,O=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{O==="input"&&v.type==="radio"&&v.name!=null&&Pn(p,v),ca(O,E);var Q=ca(O,v);for(E=0;E<j.length;E+=2){var te=j[E],ie=j[E+1];te==="style"?aa(p,ie):te==="dangerouslySetInnerHTML"?sa(p,ie):te==="children"?Zr(p,ie):$(p,te,ie,Q)}switch(O){case"input":kn(p,v);break;case"textarea":Ds(p,v);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?xr(p,!!v.multiple,de,!1):ee!==!!v.multiple&&(v.defaultValue!=null?xr(p,!!v.multiple,v.defaultValue,!0):xr(p,!!v.multiple,v.multiple?[]:"",!1))}p[Oa]=v}catch(ve){ut(r,r.return,ve)}}break;case 6:if(Hn(s,r),ur(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,v=r.memoizedProps;try{p.nodeValue=v}catch(ve){ut(r,r.return,ve)}}break;case 3:if(Hn(s,r),ur(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Fn(s.containerInfo)}catch(ve){ut(r,r.return,ve)}break;case 4:Hn(s,r),ur(r);break;case 13:Hn(s,r),ur(r),p=r.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Nh=Je())),d&4&&rv(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(zt=(Q=zt)||te,Hn(s,r),zt=Q):Hn(s,r),ur(r),d&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!te&&(r.mode&1)!==0)for(fe=r,te=r.child;te!==null;){for(ie=fe=te;fe!==null;){switch(ee=fe,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:Wa(4,ee,ee.return);break;case 1:_o(ee,ee.return);var ge=ee.stateNode;if(typeof ge.componentWillUnmount=="function"){d=ee,l=ee.return;try{s=d,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(ve){ut(d,l,ve)}}break;case 5:_o(ee,ee.return);break;case 22:if(ee.memoizedState!==null){av(ie);continue}}de!==null?(de.return=ee,fe=de):av(ie)}te=te.sibling}e:for(te=null,ie=r;;){if(ie.tag===5){if(te===null){te=ie;try{p=ie.stateNode,Q?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(O=ie.stateNode,j=ie.memoizedProps.style,E=j!=null&&j.hasOwnProperty("display")?j.display:null,O.style.display=oa("display",E))}catch(ve){ut(r,r.return,ve)}}}else if(ie.tag===6){if(te===null)try{ie.stateNode.nodeValue=Q?"":ie.memoizedProps}catch(ve){ut(r,r.return,ve)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;te===ie&&(te=null),ie=ie.return}te===ie&&(te=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Hn(s,r),ur(r),d&4&&rv(r);break;case 21:break;default:Hn(s,r),ur(r)}}function ur(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(ev(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Zr(p,""),d.flags&=-33);var v=tv(r);Ph(r,v,p);break;case 3:case 4:var E=d.stateNode.containerInfo,O=tv(r);Ah(r,O,E);break;default:throw Error(t(161))}}catch(j){ut(r,r.return,j)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function dx(r,s,l){fe=r,sv(r)}function sv(r,s,l){for(var d=(r.mode&1)!==0;fe!==null;){var p=fe,v=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||Ou;if(!E){var O=p.alternate,j=O!==null&&O.memoizedState!==null||zt;O=Ou;var Q=zt;if(Ou=E,(zt=j)&&!Q)for(fe=p;fe!==null;)E=fe,j=E.child,E.tag===22&&E.memoizedState!==null?lv(p):j!==null?(j.return=E,fe=j):lv(p);for(;v!==null;)fe=v,sv(v),v=v.sibling;fe=p,Ou=O,zt=Q}ov(r)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,fe=v):ov(r)}}function ov(r){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:zt||Du(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!zt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:$n(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&ag(s,v,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}ag(s,E,l)}break;case 5:var O=s.stateNode;if(l===null&&s.flags&4){l=O;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var te=Q.memoizedState;if(te!==null){var ie=te.dehydrated;ie!==null&&Fn(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||s.flags&512&&Rh(s)}catch(ee){ut(s,s.return,ee)}}if(s===r){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function av(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function lv(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Du(4,s)}catch(j){ut(s,l,j)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(j){ut(s,p,j)}}var v=s.return;try{Rh(s)}catch(j){ut(s,v,j)}break;case 5:var E=s.return;try{Rh(s)}catch(j){ut(s,E,j)}}}catch(j){ut(s,s.return,j)}if(s===r){fe=null;break}var O=s.sibling;if(O!==null){O.return=s.return,fe=O;break}fe=s.return}}var hx=Math.ceil,Mu=q.ReactCurrentDispatcher,kh=q.ReactCurrentOwner,Sn=q.ReactCurrentBatchConfig,We=0,Rt=null,mt=null,Ot=0,hn=0,wo=di(0),Et=0,Ha=null,ls=0,Lu=0,bh=0,qa=null,nn=null,Nh=0,Eo=1/0,jr=null,Vu=!1,Oh=null,vi=null,ju=!1,yi=null,Fu=0,Ka=0,Dh=null,Uu=-1,zu=0;function Xt(){return(We&6)!==0?Je():Uu!==-1?Uu:Uu=Je()}function _i(r){return(r.mode&1)===0?1:(We&2)!==0&&Ot!==0?Ot&-Ot:QT.transition!==null?(zu===0&&(zu=Xi()),zu):(r=Ue,r!==0||(r=window.event,r=r===void 0?16:Ea(r.type)),r)}function qn(r,s,l,d){if(50<Ka)throw Ka=0,Dh=null,Error(t(185));ri(r,l,d),((We&2)===0||r!==Rt)&&(r===Rt&&((We&2)===0&&(Lu|=l),Et===4&&wi(r,Ot)),rn(r,d),l===1&&We===0&&(s.mode&1)===0&&(Eo=Je()+500,mu&&fi()))}function rn(r,s){var l=r.callbackNode;Cr(r,s);var d=Qi(r,r===Rt?Ot:0);if(d===0)l!==null&&ga(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&ga(l),s===1)r.tag===0?GT(cv.bind(null,r)):Qm(cv.bind(null,r)),WT(function(){(We&6)===0&&fi()}),l=null;else{switch(si(d)){case 1:l=Ki;break;case 4:l=ei;break;case 16:l=vn;break;case 536870912:l=zl;break;default:l=vn}l=yv(l,uv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function uv(r,s){if(Uu=-1,zu=0,(We&6)!==0)throw Error(t(327));var l=r.callbackNode;if(To()&&r.callbackNode!==l)return null;var d=Qi(r,r===Rt?Ot:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=Bu(r,d);else{s=d;var p=We;We|=2;var v=hv();(Rt!==r||Ot!==s)&&(jr=null,Eo=Je()+500,cs(r,s));do try{mx();break}catch(O){dv(r,O)}while(!0);Jd(),Mu.current=v,We=p,mt!==null?s=0:(Rt=null,Ot=0,s=Et)}if(s!==0){if(s===2&&(p=an(r),p!==0&&(d=p,s=Mh(r,p))),s===1)throw l=Ha,cs(r,0),wi(r,d),rn(r,Je()),l;if(s===6)wi(r,d);else{if(p=r.current.alternate,(d&30)===0&&!fx(p)&&(s=Bu(r,d),s===2&&(v=an(r),v!==0&&(d=v,s=Mh(r,v))),s===1))throw l=Ha,cs(r,0),wi(r,d),rn(r,Je()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:ds(r,nn,jr);break;case 3:if(wi(r,d),(d&130023424)===d&&(s=Nh+500-Je(),10<s)){if(Qi(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Xt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=zd(ds.bind(null,r,nn,jr),s);break}ds(r,nn,jr);break;case 4:if(wi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var E=31-Kt(d);v=1<<E,E=s[E],E>p&&(p=E),d&=~v}if(d=p,d=Je()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*hx(d/1960))-d,10<d){r.timeoutHandle=zd(ds.bind(null,r,nn,jr),d);break}ds(r,nn,jr);break;case 5:ds(r,nn,jr);break;default:throw Error(t(329))}}}return rn(r,Je()),r.callbackNode===l?uv.bind(null,r):null}function Mh(r,s){var l=qa;return r.current.memoizedState.isDehydrated&&(cs(r,s).flags|=256),r=Bu(r,s),r!==2&&(s=nn,nn=l,s!==null&&Lh(s)),r}function Lh(r){nn===null?nn=r:nn.push.apply(nn,r)}function fx(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],v=p.getSnapshot;p=p.value;try{if(!zn(v(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function wi(r,s){for(s&=~bh,s&=~Lu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Kt(s),d=1<<l;r[l]=-1,s&=~d}}function cv(r){if((We&6)!==0)throw Error(t(327));To();var s=Qi(r,0);if((s&1)===0)return rn(r,Je()),null;var l=Bu(r,s);if(r.tag!==0&&l===2){var d=an(r);d!==0&&(s=d,l=Mh(r,d))}if(l===1)throw l=Ha,cs(r,0),wi(r,s),rn(r,Je()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ds(r,nn,jr),rn(r,Je()),null}function Vh(r,s){var l=We;We|=1;try{return r(s)}finally{We=l,We===0&&(Eo=Je()+500,mu&&fi())}}function us(r){yi!==null&&yi.tag===0&&(We&6)===0&&To();var s=We;We|=1;var l=Sn.transition,d=Ue;try{if(Sn.transition=null,Ue=1,r)return r()}finally{Ue=d,Sn.transition=l,We=s,(We&6)===0&&fi()}}function jh(){hn=wo.current,tt(wo)}function cs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,$T(l)),mt!==null)for(l=mt.return;l!==null;){var d=l;switch(Kd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&fu();break;case 3:vo(),tt(Zt),tt(jt),oh();break;case 5:ih(d);break;case 4:vo();break;case 13:tt(it);break;case 19:tt(it);break;case 10:Zd(d.type._context);break;case 22:case 23:jh()}l=l.return}if(Rt=r,mt=r=Ei(r.current,null),Ot=hn=s,Et=0,Ha=null,bh=Lu=ls=0,nn=qa=null,ss!==null){for(s=0;s<ss.length;s++)if(l=ss[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,v=l.pending;if(v!==null){var E=v.next;v.next=p,d.next=E}l.pending=d}ss=null}return r}function dv(r,s){do{var l=mt;try{if(Jd(),Iu.current=Pu,Cu){for(var d=st.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Cu=!1}if(as=0,Ct=wt=st=null,Fa=!1,Ua=0,kh.current=null,l===null||l.return===null){Et=1,Ha=s,mt=null;break}e:{var v=r,E=l.return,O=l,j=s;if(s=Ot,O.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var Q=j,te=O,ie=te.tag;if((te.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=Lg(E);if(de!==null){de.flags&=-257,Vg(de,E,O,v,s),de.mode&1&&Mg(v,Q,s),s=de,j=Q;var ge=s.updateQueue;if(ge===null){var ve=new Set;ve.add(j),s.updateQueue=ve}else ge.add(j);break e}else{if((s&1)===0){Mg(v,Q,s),Fh();break e}j=Error(t(426))}}else if(rt&&O.mode&1){var ht=Lg(E);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Vg(ht,E,O,v,s),Xd(yo(j,O));break e}}v=j=yo(j,O),Et!==4&&(Et=2),qa===null?qa=[v]:qa.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var K=Og(v,j,s);og(v,K);break e;case 1:O=j;var z=v.type,G=v.stateNode;if((v.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(vi===null||!vi.has(G)))){v.flags|=65536,s&=-s,v.lanes|=s;var oe=Dg(v,O,s);og(v,oe);break e}}v=v.return}while(v!==null)}pv(l)}catch(_e){s=_e,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(!0)}function hv(){var r=Mu.current;return Mu.current=Pu,r===null?Pu:r}function Fh(){(Et===0||Et===3||Et===2)&&(Et=4),Rt===null||(ls&268435455)===0&&(Lu&268435455)===0||wi(Rt,Ot)}function Bu(r,s){var l=We;We|=2;var d=hv();(Rt!==r||Ot!==s)&&(jr=null,cs(r,s));do try{px();break}catch(p){dv(r,p)}while(!0);if(Jd(),We=l,Mu.current=d,mt!==null)throw Error(t(261));return Rt=null,Ot=0,Et}function px(){for(;mt!==null;)fv(mt)}function mx(){for(;mt!==null&&!Fl();)fv(mt)}function fv(r){var s=vv(r.alternate,r,hn);r.memoizedProps=r.pendingProps,s===null?pv(r):mt=s,kh.current=null}function pv(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=ax(l,s,hn),l!==null){mt=l;return}}else{if(l=lx(l,s),l!==null){l.flags&=32767,mt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,mt=null;return}}if(s=s.sibling,s!==null){mt=s;return}mt=s=r}while(s!==null);Et===0&&(Et=5)}function ds(r,s,l){var d=Ue,p=Sn.transition;try{Sn.transition=null,Ue=1,gx(r,s,l,d)}finally{Sn.transition=p,Ue=d}return null}function gx(r,s,l,d){do To();while(yi!==null);if((We&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(Xe(r,v),r===Rt&&(mt=Rt=null,Ot=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ju||(ju=!0,yv(vn,function(){return To(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Sn.transition,Sn.transition=null;var E=Ue;Ue=1;var O=We;We|=4,kh.current=null,cx(r,l),iv(l,r),LT(Fd),ai=!!jd,Fd=jd=null,r.current=l,dx(l),Td(),We=O,Ue=E,Sn.transition=v}else r.current=l;if(ju&&(ju=!1,yi=r,Fu=p),v=r.pendingLanes,v===0&&(vi=null),Bl(l.stateNode),rn(r,Je()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Vu)throw Vu=!1,r=Oh,Oh=null,r;return(Fu&1)!==0&&r.tag!==0&&To(),v=r.pendingLanes,(v&1)!==0?r===Dh?Ka++:(Ka=0,Dh=r):Ka=0,fi(),null}function To(){if(yi!==null){var r=si(Fu),s=Sn.transition,l=Ue;try{if(Sn.transition=null,Ue=16>r?16:r,yi===null)var d=!1;else{if(r=yi,yi=null,Fu=0,(We&6)!==0)throw Error(t(331));var p=We;for(We|=4,fe=r.current;fe!==null;){var v=fe,E=v.child;if((fe.flags&16)!==0){var O=v.deletions;if(O!==null){for(var j=0;j<O.length;j++){var Q=O[j];for(fe=Q;fe!==null;){var te=fe;switch(te.tag){case 0:case 11:case 15:Wa(8,te,v)}var ie=te.child;if(ie!==null)ie.return=te,fe=ie;else for(;fe!==null;){te=fe;var ee=te.sibling,de=te.return;if(Zg(te),te===Q){fe=null;break}if(ee!==null){ee.return=de,fe=ee;break}fe=de}}}var ge=v.alternate;if(ge!==null){var ve=ge.child;if(ve!==null){ge.child=null;do{var ht=ve.sibling;ve.sibling=null,ve=ht}while(ve!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,fe=E;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Wa(9,v,v.return)}var K=v.sibling;if(K!==null){K.return=v.return,fe=K;break e}fe=v.return}}var z=r.current;for(fe=z;fe!==null;){E=fe;var G=E.child;if((E.subtreeFlags&2064)!==0&&G!==null)G.return=E,fe=G;else e:for(E=z;fe!==null;){if(O=fe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Du(9,O)}}catch(_e){ut(O,O.return,_e)}if(O===E){fe=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,fe=oe;break e}fe=O.return}}if(We=p,fi(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Gi,r)}catch{}d=!0}return d}finally{Ue=l,Sn.transition=s}}return!1}function mv(r,s,l){s=yo(l,s),s=Og(r,s,1),r=mi(r,s,1),s=Xt(),r!==null&&(ri(r,1,s),rn(r,s))}function ut(r,s,l){if(r.tag===3)mv(r,r,l);else for(;s!==null;){if(s.tag===3){mv(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(vi===null||!vi.has(d))){r=yo(l,r),r=Dg(s,r,1),s=mi(s,r,1),r=Xt(),s!==null&&(ri(s,1,r),rn(s,r));break}}s=s.return}}function vx(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&l,Rt===r&&(Ot&l)===l&&(Et===4||Et===3&&(Ot&130023424)===Ot&&500>Je()-Nh?cs(r,0):bh|=l),rn(r,s)}function gv(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ws,Ws<<=1,(Ws&130023424)===0&&(Ws=4194304)));var l=Xt();r=Mr(r,s),r!==null&&(ri(r,s,l),rn(r,l))}function yx(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),gv(r,l)}function _x(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),gv(r,l)}var vv;vv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)tn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return tn=!1,ox(r,s,l);tn=(r.flags&131072)!==0}else tn=!1,rt&&(s.flags&1048576)!==0&&Xm(s,vu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Nu(r,s),r=s.pendingProps;var p=uo(s,jt.current);go(s,l),p=uh(null,s,d,r,p,l);var v=ch();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,en(d)?(v=!0,pu(s)):v=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,nh(s),p.updater=ku,s.stateNode=p,p._reactInternals=s,gh(s,d,r,l),s=wh(null,s,d,!0,v,l)):(s.tag=0,rt&&v&&qd(s),Qt(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Nu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=Ex(d),r=$n(d,r),p){case 0:s=_h(null,s,d,r,l);break e;case 1:s=$g(null,s,d,r,l);break e;case 11:s=jg(null,s,d,r,l);break e;case 14:s=Fg(null,s,d,$n(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),_h(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),$g(r,s,d,p,l);case 3:e:{if(Wg(s),r===null)throw Error(t(387));d=s.pendingProps,v=s.memoizedState,p=v.element,sg(r,s),xu(s,d,null,l);var E=s.memoizedState;if(d=E.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){p=yo(Error(t(423)),s),s=Hg(r,s,d,l,p);break e}else if(d!==p){p=yo(Error(t(424)),s),s=Hg(r,s,d,l,p);break e}else for(dn=ci(s.stateNode.containerInfo.firstChild),cn=s,rt=!0,Bn=null,l=rg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fo(),d===p){s=Vr(r,s,l);break e}Qt(r,s,d,l)}s=s.child}return s;case 5:return lg(s),r===null&&Qd(s),d=s.type,p=s.pendingProps,v=r!==null?r.memoizedProps:null,E=p.children,Ud(d,p)?E=null:v!==null&&Ud(d,v)&&(s.flags|=32),Bg(r,s),Qt(r,s,E,l),s.child;case 6:return r===null&&Qd(s),null;case 13:return qg(r,s,l);case 4:return rh(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=po(s,null,d,l):Qt(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),jg(r,s,d,p,l);case 7:return Qt(r,s,s.pendingProps,l),s.child;case 8:return Qt(r,s,s.pendingProps.children,l),s.child;case 12:return Qt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,v=s.memoizedProps,E=p.value,Ze(wu,d._currentValue),d._currentValue=E,v!==null)if(zn(v.value,E)){if(v.children===p.children&&!Zt.current){s=Vr(r,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var O=v.dependencies;if(O!==null){E=v.child;for(var j=O.firstContext;j!==null;){if(j.context===d){if(v.tag===1){j=Lr(-1,l&-l),j.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var te=Q.pending;te===null?j.next=j:(j.next=te.next,te.next=j),Q.pending=j}}v.lanes|=l,j=v.alternate,j!==null&&(j.lanes|=l),eh(v.return,l,s),O.lanes|=l;break}j=j.next}}else if(v.tag===10)E=v.type===s.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=l,O=E.alternate,O!==null&&(O.lanes|=l),eh(E,l,s),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===s){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}Qt(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,go(s,l),p=Tn(p),d=d(p),s.flags|=1,Qt(r,s,d,l),s.child;case 14:return d=s.type,p=$n(d,s.pendingProps),p=$n(d.type,p),Fg(r,s,d,p,l);case 15:return Ug(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),Nu(r,s),s.tag=1,en(d)?(r=!0,pu(s)):r=!1,go(s,l),bg(s,d,p),gh(s,d,p,l),wh(null,s,d,!0,r,l);case 19:return Gg(r,s,l);case 22:return zg(r,s,l)}throw Error(t(156,s.tag))};function yv(r,s){return Bs(r,s)}function wx(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(r,s,l,d){return new wx(r,s,l,d)}function Uh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ex(r){if(typeof r=="function")return Uh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===we)return 14}return 2}function Ei(r,s){var l=r.alternate;return l===null?(l=In(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function $u(r,s,l,d,p,v){var E=2;if(d=r,typeof r=="function")Uh(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case I:return hs(l.children,p,v,s);case C:E=8,p|=8;break;case b:return r=In(12,l,s,p|2),r.elementType=b,r.lanes=v,r;case N:return r=In(13,l,s,p),r.elementType=N,r.lanes=v,r;case pe:return r=In(19,l,s,p),r.elementType=pe,r.lanes=v,r;case he:return Wu(l,p,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:E=10;break e;case L:E=9;break e;case F:E=11;break e;case we:E=14;break e;case me:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=In(E,l,s,p),s.elementType=r,s.type=d,s.lanes=v,s}function hs(r,s,l,d){return r=In(7,r,d,s),r.lanes=l,r}function Wu(r,s,l,d){return r=In(22,r,d,s),r.elementType=he,r.lanes=l,r.stateNode={isHidden:!1},r}function zh(r,s,l){return r=In(6,r,null,s),r.lanes=l,r}function Bh(r,s,l){return s=In(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Tx(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ni(0),this.expirationTimes=ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function $h(r,s,l,d,p,v,E,O,j){return r=new Tx(r,s,l,O,j),s===1?(s=1,v===!0&&(s|=8)):s=0,v=In(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},nh(v),r}function xx(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function _v(r){if(!r)return hi;r=r._reactInternals;e:{if(Dn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(en(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(en(l))return Km(r,l,s)}return s}function wv(r,s,l,d,p,v,E,O,j){return r=$h(l,d,!0,r,p,v,E,O,j),r.context=_v(null),l=r.current,d=Xt(),p=_i(l),v=Lr(d,p),v.callback=s??null,mi(l,v,p),r.current.lanes=p,ri(r,p,d),rn(r,d),r}function Hu(r,s,l,d){var p=s.current,v=Xt(),E=_i(p);return l=_v(l),s.context===null?s.context=l:s.pendingContext=l,s=Lr(v,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=mi(p,s,E),r!==null&&(qn(r,p,E,v),Tu(r,p,E)),E}function qu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ev(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Wh(r,s){Ev(r,s),(r=r.alternate)&&Ev(r,s)}function Sx(){return null}var Tv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Hh(r){this._internalRoot=r}Ku.prototype.render=Hh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Hu(r,s,null,null)},Ku.prototype.unmount=Hh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;us(function(){Hu(null,r,null,null)}),s[br]=null}};function Ku(r){this._internalRoot=r}Ku.prototype.unstable_scheduleHydration=function(r){if(r){var s=Kl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<nr.length&&s!==0&&s<nr[l].priority;l++);nr.splice(l,0,r),l===0&&Xl(r)}};function qh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Gu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function xv(){}function Ix(r,s,l,d,p){if(p){if(typeof d=="function"){var v=d;d=function(){var Q=qu(E);v.call(Q)}}var E=wv(s,d,r,0,null,!1,!1,"",xv);return r._reactRootContainer=E,r[br]=E.current,ba(r.nodeType===8?r.parentNode:r),us(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var O=d;d=function(){var Q=qu(j);O.call(Q)}}var j=$h(r,0,!1,null,null,!1,!1,"",xv);return r._reactRootContainer=j,r[br]=j.current,ba(r.nodeType===8?r.parentNode:r),us(function(){Hu(s,j,l,d)}),j}function Qu(r,s,l,d,p){var v=l._reactRootContainer;if(v){var E=v;if(typeof p=="function"){var O=p;p=function(){var j=qu(E);O.call(j)}}Hu(s,E,r,p)}else E=Ix(l,s,r,p,d);return qu(E)}Hl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ti(s.pendingLanes);l!==0&&(ii(s,l|1),rn(s,Je()),(We&6)===0&&(Eo=Je()+500,fi()))}break;case 13:us(function(){var d=Mr(r,1);if(d!==null){var p=Xt();qn(d,r,1,p)}}),Wh(r,1)}},Hs=function(r){if(r.tag===13){var s=Mr(r,134217728);if(s!==null){var l=Xt();qn(s,r,134217728,l)}Wh(r,134217728)}},ql=function(r){if(r.tag===13){var s=_i(r),l=Mr(r,s);if(l!==null){var d=Xt();qn(l,r,s,d)}Wh(r,s)}},Kl=function(){return Ue},Gl=function(r,s){var l=Ue;try{return Ue=r,s()}finally{Ue=l}},Ls=function(r,s,l){switch(s){case"input":if(kn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=hu(d);if(!p)throw Error(t(90));Fe(d),kn(d,p)}}}break;case"textarea":Ds(r,l);break;case"select":s=l.value,s!=null&&xr(r,!!l.multiple,s,!1)}},$i=Vh,ha=us;var Cx={usingClientEntryPoint:!1,Events:[Da,ao,hu,er,da,Vh]},Ga={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rx={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ma(r),r===null?null:r.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||Sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Gi=Xu.inject(Rx),on=Xu}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cx,sn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qh(s))throw Error(t(200));return xx(r,s,null,l)},sn.createRoot=function(r,s){if(!qh(r))throw Error(t(299));var l=!1,d="",p=Tv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=$h(r,1,!1,null,null,l,!1,d,p),r[br]=s.current,ba(r.nodeType===8?r.parentNode:r),new Hh(s)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ma(s),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return us(r)},sn.hydrate=function(r,s,l){if(!Gu(s))throw Error(t(200));return Qu(null,r,s,!0,l)},sn.hydrateRoot=function(r,s,l){if(!qh(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,v="",E=Tv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=wv(s,null,r,1,l??null,p,!1,v,E),r[br]=s.current,ba(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Ku(s)},sn.render=function(r,s,l){if(!Gu(s))throw Error(t(200));return Qu(null,r,s,!1,l)},sn.unmountComponentAtNode=function(r){if(!Gu(r))throw Error(t(40));return r._reactRootContainer?(us(function(){Qu(null,null,r,!1,function(){r._reactRootContainer=null,r[br]=null})}),!0):!1},sn.unstable_batchedUpdates=Vh,sn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Gu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Qu(r,s,l,!1,d)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var bv;function E_(){if(bv)return Qh.exports;bv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qh.exports=Mx(),Qh.exports}var Nv;function Lx(){if(Nv)return Yu;Nv=1;var n=E_();return Yu.createRoot=n.createRoot,Yu.hydrateRoot=n.hydrateRoot,Yu}var Vx=Lx();const jx=ap(Vx);function Fx({className:n}){return T.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[T.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),T.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}function Ux({className:n}){return T.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:T.jsx("path",{d:"M17 10h-1V8a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2Zm-7-2a2 2 0 1 1 4 0v2h-4V8Zm3.5 9.73V19h-3v-1.27a2 2 0 1 1 3 0Z"})})}function zx({className:n}){return T.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:T.jsx("path",{d:"M17 10h-7V8a2 2 0 1 1 4 0h2a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2Zm-4.5 7.73V19h-3v-1.27a2 2 0 1 1 3 0Z"})})}function Bx({className:n}){return T.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[T.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),T.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}function $x({className:n}){return T.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[T.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),T.jsx("circle",{cx:"12",cy:"13",r:"4"})]})}function Wx({className:n}){return T.jsxs("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",children:[T.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),T.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),T.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),T.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Ke(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Ov(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function T_(...n){return e=>{let t=!1;const i=n.map(o=>{const a=Ov(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():Ov(n[o],null)}}}}function ot(...n){return A.useCallback(T_(...n),n)}function Hx(n,e){const t=A.createContext(e),i=a=>{const{children:c,...h}=a,f=A.useMemo(()=>h,Object.values(h));return T.jsx(t.Provider,{value:f,children:c})};i.displayName=n+"Provider";function o(a){const c=A.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[i,o]}function El(n,e=[]){let t=[];function i(a,c){const h=A.createContext(c),f=t.length;t=[...t,c];const m=w=>{var V;const{scope:x,children:R,...M}=w,P=((V=x==null?void 0:x[n])==null?void 0:V[f])||h,k=A.useMemo(()=>M,Object.values(M));return T.jsx(P.Provider,{value:k,children:R})};m.displayName=a+"Provider";function y(w,x){var P;const R=((P=x==null?void 0:x[n])==null?void 0:P[f])||h,M=A.useContext(R);if(M)return M;if(c!==void 0)return c;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[m,y]}const o=()=>{const a=t.map(c=>A.createContext(c));return function(h){const f=(h==null?void 0:h[n])||a;return A.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return o.scopeName=n,[i,qx(o,...e)]}function qx(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=i.reduce((h,{useScope:f,scopeName:m})=>{const w=f(a)[`__scope${m}`];return{...h,...w}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var Tl=E_();const Kx=ap(Tl);function ol(n){const e=Gx(n),t=A.forwardRef((i,o)=>{const{children:a,...c}=i,h=A.Children.toArray(a),f=h.find(Xx);if(f){const m=f.props.children,y=h.map(w=>w===f?A.Children.count(m)>1?A.Children.only(null):A.isValidElement(m)?m.props.children:null:w);return T.jsx(e,{...c,ref:o,children:A.isValidElement(m)?A.cloneElement(m,void 0,y):null})}return T.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function Gx(n){const e=A.forwardRef((t,i)=>{const{children:o,...a}=t;if(A.isValidElement(o)){const c=Jx(o),h=Yx(a,o.props);return o.type!==A.Fragment&&(h.ref=i?T_(i,c):c),A.cloneElement(o,h)}return A.Children.count(o)>1?A.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var x_=Symbol("radix.slottable");function Qx(n){const e=({children:t})=>T.jsx(T.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=x_,e}function Xx(n){return A.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===x_}function Yx(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function Jx(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Zx=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=Zx.reduce((n,e)=>{const t=ol(`Primitive.${e}`),i=A.forwardRef((o,a)=>{const{asChild:c,...h}=o,f=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(f,{...h,ref:a})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function eS(n,e){n&&Tl.flushSync(()=>n.dispatchEvent(e))}function ws(n){const e=A.useRef(n);return A.useEffect(()=>{e.current=n}),A.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function tS(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n);A.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var nS="DismissableLayer",Cf="dismissableLayer.update",rS="dismissableLayer.pointerDownOutside",iS="dismissableLayer.focusOutside",Dv,S_=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kc=A.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...f}=n,m=A.useContext(S_),[y,w]=A.useState(null),x=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=A.useState({}),M=ot(e,I=>w(I)),P=Array.from(m.layers),[k]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),V=P.indexOf(k),U=y?P.indexOf(y):-1,$=m.layersWithOutsidePointerEventsDisabled.size>0,q=U>=V,Z=aS(I=>{const C=I.target,b=[...m.branches].some(D=>D.contains(C));!q||b||(o==null||o(I),c==null||c(I),I.defaultPrevented||h==null||h())},x),W=lS(I=>{const C=I.target;[...m.branches].some(D=>D.contains(C))||(a==null||a(I),c==null||c(I),I.defaultPrevented||h==null||h())},x);return tS(I=>{U===m.layers.size-1&&(i==null||i(I),!I.defaultPrevented&&h&&(I.preventDefault(),h()))},x),A.useEffect(()=>{if(y)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Dv=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),Mv(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Dv)}},[y,x,t,m]),A.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),Mv())},[y,m]),A.useEffect(()=>{const I=()=>R({});return document.addEventListener(Cf,I),()=>document.removeEventListener(Cf,I)},[]),T.jsx(Ye.div,{...f,ref:M,style:{pointerEvents:$?q?"auto":"none":void 0,...n.style},onFocusCapture:Ke(n.onFocusCapture,W.onFocusCapture),onBlurCapture:Ke(n.onBlurCapture,W.onBlurCapture),onPointerDownCapture:Ke(n.onPointerDownCapture,Z.onPointerDownCapture)})});Kc.displayName=nS;var sS="DismissableLayerBranch",oS=A.forwardRef((n,e)=>{const t=A.useContext(S_),i=A.useRef(null),o=ot(e,i);return A.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),T.jsx(Ye.div,{...n,ref:o})});oS.displayName=sS;function aS(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n),i=A.useRef(!1),o=A.useRef(()=>{});return A.useEffect(()=>{const a=h=>{if(h.target&&!i.current){let f=function(){I_(rS,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function lS(n,e=globalThis==null?void 0:globalThis.document){const t=ws(n),i=A.useRef(!1);return A.useEffect(()=>{const o=a=>{a.target&&!i.current&&I_(iS,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Mv(){const n=new CustomEvent(Cf);document.dispatchEvent(n)}function I_(n,e,t,{discrete:i}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?eS(o,a):o.dispatchEvent(a)}var Ht=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},uS=w_[" useId ".trim().toString()]||(()=>{}),cS=0;function vs(n){const[e,t]=A.useState(uS());return Ht(()=>{t(i=>i??String(cS++))},[n]),e?`radix-${e}`:""}const dS=["top","right","bottom","left"],Oi=Math.min,fn=Math.max,xc=Math.round,Ju=Math.floor,fr=n=>({x:n,y:n}),hS={left:"right",right:"left",bottom:"top",top:"bottom"},fS={start:"end",end:"start"};function Rf(n,e,t){return fn(n,Oi(e,t))}function qr(n,e){return typeof n=="function"?n(e):n}function Kr(n){return n.split("-")[0]}function Ko(n){return n.split("-")[1]}function up(n){return n==="x"?"y":"x"}function cp(n){return n==="y"?"height":"width"}const pS=new Set(["top","bottom"]);function dr(n){return pS.has(Kr(n))?"y":"x"}function dp(n){return up(dr(n))}function mS(n,e,t){t===void 0&&(t=!1);const i=Ko(n),o=dp(n),a=cp(o);let c=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Sc(c)),[c,Sc(c)]}function gS(n){const e=Sc(n);return[Af(n),e,Af(e)]}function Af(n){return n.replace(/start|end/g,e=>fS[e])}const Lv=["left","right"],Vv=["right","left"],vS=["top","bottom"],yS=["bottom","top"];function _S(n,e,t){switch(n){case"top":case"bottom":return t?e?Vv:Lv:e?Lv:Vv;case"left":case"right":return e?vS:yS;default:return[]}}function wS(n,e,t,i){const o=Ko(n);let a=_S(Kr(n),t==="start",i);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(Af)))),a}function Sc(n){return n.replace(/left|right|bottom|top/g,e=>hS[e])}function ES(n){return{top:0,right:0,bottom:0,left:0,...n}}function C_(n){return typeof n!="number"?ES(n):{top:n,right:n,bottom:n,left:n}}function Ic(n){const{x:e,y:t,width:i,height:o}=n;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function jv(n,e,t){let{reference:i,floating:o}=n;const a=dr(e),c=dp(e),h=cp(c),f=Kr(e),m=a==="y",y=i.x+i.width/2-o.width/2,w=i.y+i.height/2-o.height/2,x=i[h]/2-o[h]/2;let R;switch(f){case"top":R={x:y,y:i.y-o.height};break;case"bottom":R={x:y,y:i.y+i.height};break;case"right":R={x:i.x+i.width,y:w};break;case"left":R={x:i.x-o.width,y:w};break;default:R={x:i.x,y:i.y}}switch(Ko(e)){case"start":R[c]-=x*(t&&m?-1:1);break;case"end":R[c]+=x*(t&&m?-1:1);break}return R}async function TS(n,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:a,rects:c,elements:h,strategy:f}=n,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:x=!1,padding:R=0}=qr(e,n),M=C_(R),k=h[x?w==="floating"?"reference":"floating":w],V=Ic(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(k)))==null||t?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:m,rootBoundary:y,strategy:f})),U=w==="floating"?{x:i,y:o,width:c.floating.width,height:c.floating.height}:c.reference,$=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),q=await(a.isElement==null?void 0:a.isElement($))?await(a.getScale==null?void 0:a.getScale($))||{x:1,y:1}:{x:1,y:1},Z=Ic(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:U,offsetParent:$,strategy:f}):U);return{top:(V.top-Z.top+M.top)/q.y,bottom:(Z.bottom-V.bottom+M.bottom)/q.y,left:(V.left-Z.left+M.left)/q.x,right:(Z.right-V.right+M.right)/q.x}}const xS=async(n,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:c}=t,h=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:y,y:w}=jv(m,i,f),x=i,R={},M=0;for(let k=0;k<h.length;k++){var P;const{name:V,fn:U}=h[k],{x:$,y:q,data:Z,reset:W}=await U({x:y,y:w,initialPlacement:i,placement:x,strategy:o,middlewareData:R,rects:m,platform:{...c,detectOverflow:(P=c.detectOverflow)!=null?P:TS},elements:{reference:n,floating:e}});y=$??y,w=q??w,R={...R,[V]:{...R[V],...Z}},W&&M<=50&&(M++,typeof W=="object"&&(W.placement&&(x=W.placement),W.rects&&(m=W.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):W.rects),{x:y,y:w}=jv(m,x,f)),k=-1)}return{x:y,y:w,placement:x,strategy:o,middlewareData:R}},SS=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:o,rects:a,platform:c,elements:h,middlewareData:f}=e,{element:m,padding:y=0}=qr(n,e)||{};if(m==null)return{};const w=C_(y),x={x:t,y:i},R=dp(o),M=cp(R),P=await c.getDimensions(m),k=R==="y",V=k?"top":"left",U=k?"bottom":"right",$=k?"clientHeight":"clientWidth",q=a.reference[M]+a.reference[R]-x[R]-a.floating[M],Z=x[R]-a.reference[R],W=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let I=W?W[$]:0;(!I||!await(c.isElement==null?void 0:c.isElement(W)))&&(I=h.floating[$]||a.floating[M]);const C=q/2-Z/2,b=I/2-P[M]/2-1,D=Oi(w[V],b),L=Oi(w[U],b),F=D,N=I-P[M]-L,pe=I/2-P[M]/2+C,we=Rf(F,pe,N),me=!f.arrow&&Ko(o)!=null&&pe!==we&&a.reference[M]/2-(pe<F?D:L)-P[M]/2<0,he=me?pe<F?pe-F:pe-N:0;return{[R]:x[R]+he,data:{[R]:we,centerOffset:pe-we-he,...me&&{alignmentOffset:he}},reset:me}}}),IS=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:o,middlewareData:a,rects:c,initialPlacement:h,platform:f,elements:m}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:x,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:P=!0,...k}=qr(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const V=Kr(o),U=dr(h),$=Kr(h)===h,q=await(f.isRTL==null?void 0:f.isRTL(m.floating)),Z=x||($||!P?[Sc(h)]:gS(h)),W=M!=="none";!x&&W&&Z.push(...wS(h,P,M,q));const I=[h,...Z],C=await f.detectOverflow(e,k),b=[];let D=((i=a.flip)==null?void 0:i.overflows)||[];if(y&&b.push(C[V]),w){const pe=mS(o,c,q);b.push(C[pe[0]],C[pe[1]])}if(D=[...D,{placement:o,overflows:b}],!b.every(pe=>pe<=0)){var L,F;const pe=(((L=a.flip)==null?void 0:L.index)||0)+1,we=I[pe];if(we&&(!(w==="alignment"?U!==dr(we):!1)||D.every(Y=>dr(Y.placement)===U?Y.overflows[0]>0:!0)))return{data:{index:pe,overflows:D},reset:{placement:we}};let me=(F=D.filter(he=>he.overflows[0]<=0).sort((he,Y)=>he.overflows[1]-Y.overflows[1])[0])==null?void 0:F.placement;if(!me)switch(R){case"bestFit":{var N;const he=(N=D.filter(Y=>{if(W){const ae=dr(Y.placement);return ae===U||ae==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ae=>ae>0).reduce((ae,re)=>ae+re,0)]).sort((Y,ae)=>Y[1]-ae[1])[0])==null?void 0:N[0];he&&(me=he);break}case"initialPlacement":me=h;break}if(o!==me)return{reset:{placement:me}}}return{}}}};function Fv(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Uv(n){return dS.some(e=>n[e]>=0)}const CS=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t,platform:i}=e,{strategy:o="referenceHidden",...a}=qr(n,e);switch(o){case"referenceHidden":{const c=await i.detectOverflow(e,{...a,elementContext:"reference"}),h=Fv(c,t.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Uv(h)}}}case"escaped":{const c=await i.detectOverflow(e,{...a,altBoundary:!0}),h=Fv(c,t.floating);return{data:{escapedOffsets:h,escaped:Uv(h)}}}default:return{}}}}},R_=new Set(["left","top"]);async function RS(n,e){const{placement:t,platform:i,elements:o}=n,a=await(i.isRTL==null?void 0:i.isRTL(o.floating)),c=Kr(t),h=Ko(t),f=dr(t)==="y",m=R_.has(c)?-1:1,y=a&&f?-1:1,w=qr(e,n);let{mainAxis:x,crossAxis:R,alignmentAxis:M}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof M=="number"&&(R=h==="end"?M*-1:M),f?{x:R*y,y:x*m}:{x:x*m,y:R*y}}const AS=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:o,y:a,placement:c,middlewareData:h}=e,f=await RS(e,n);return c===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:c}}}}},PS=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:o,platform:a}=e,{mainAxis:c=!0,crossAxis:h=!1,limiter:f={fn:V=>{let{x:U,y:$}=V;return{x:U,y:$}}},...m}=qr(n,e),y={x:t,y:i},w=await a.detectOverflow(e,m),x=dr(Kr(o)),R=up(x);let M=y[R],P=y[x];if(c){const V=R==="y"?"top":"left",U=R==="y"?"bottom":"right",$=M+w[V],q=M-w[U];M=Rf($,M,q)}if(h){const V=x==="y"?"top":"left",U=x==="y"?"bottom":"right",$=P+w[V],q=P-w[U];P=Rf($,P,q)}const k=f.fn({...e,[R]:M,[x]:P});return{...k,data:{x:k.x-t,y:k.y-i,enabled:{[R]:c,[x]:h}}}}}},kS=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:o,rects:a,middlewareData:c}=e,{offset:h=0,mainAxis:f=!0,crossAxis:m=!0}=qr(n,e),y={x:t,y:i},w=dr(o),x=up(w);let R=y[x],M=y[w];const P=qr(h,e),k=typeof P=="number"?{mainAxis:P,crossAxis:0}:{mainAxis:0,crossAxis:0,...P};if(f){const $=x==="y"?"height":"width",q=a.reference[x]-a.floating[$]+k.mainAxis,Z=a.reference[x]+a.reference[$]-k.mainAxis;R<q?R=q:R>Z&&(R=Z)}if(m){var V,U;const $=x==="y"?"width":"height",q=R_.has(Kr(o)),Z=a.reference[w]-a.floating[$]+(q&&((V=c.offset)==null?void 0:V[w])||0)+(q?0:k.crossAxis),W=a.reference[w]+a.reference[$]+(q?0:((U=c.offset)==null?void 0:U[w])||0)-(q?k.crossAxis:0);M<Z?M=Z:M>W&&(M=W)}return{[x]:R,[w]:M}}}},bS=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:o,rects:a,platform:c,elements:h}=e,{apply:f=()=>{},...m}=qr(n,e),y=await c.detectOverflow(e,m),w=Kr(o),x=Ko(o),R=dr(o)==="y",{width:M,height:P}=a.floating;let k,V;w==="top"||w==="bottom"?(k=w,V=x===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(V=w,k=x==="end"?"top":"bottom");const U=P-y.top-y.bottom,$=M-y.left-y.right,q=Oi(P-y[k],U),Z=Oi(M-y[V],$),W=!e.middlewareData.shift;let I=q,C=Z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=$),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(I=U),W&&!x){const D=fn(y.left,0),L=fn(y.right,0),F=fn(y.top,0),N=fn(y.bottom,0);R?C=M-2*(D!==0||L!==0?D+L:fn(y.left,y.right)):I=P-2*(F!==0||N!==0?F+N:fn(y.top,y.bottom))}await f({...e,availableWidth:C,availableHeight:I});const b=await c.getDimensions(h.floating);return M!==b.width||P!==b.height?{reset:{rects:!0}}:{}}}};function Gc(){return typeof window<"u"}function Go(n){return A_(n)?(n.nodeName||"").toLowerCase():"#document"}function pn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Er(n){var e;return(e=(A_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function A_(n){return Gc()?n instanceof Node||n instanceof pn(n).Node:!1}function Xn(n){return Gc()?n instanceof Element||n instanceof pn(n).Element:!1}function vr(n){return Gc()?n instanceof HTMLElement||n instanceof pn(n).HTMLElement:!1}function zv(n){return!Gc()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof pn(n).ShadowRoot}const NS=new Set(["inline","contents"]);function xl(n){const{overflow:e,overflowX:t,overflowY:i,display:o}=Yn(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!NS.has(o)}const OS=new Set(["table","td","th"]);function DS(n){return OS.has(Go(n))}const MS=[":popover-open",":modal"];function Qc(n){return MS.some(e=>{try{return n.matches(e)}catch{return!1}})}const LS=["transform","translate","scale","rotate","perspective"],VS=["transform","translate","scale","rotate","perspective","filter"],jS=["paint","layout","strict","content"];function hp(n){const e=fp(),t=Xn(n)?Yn(n):n;return LS.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||VS.some(i=>(t.willChange||"").includes(i))||jS.some(i=>(t.contain||"").includes(i))}function FS(n){let e=Di(n);for(;vr(e)&&!Lo(e);){if(hp(e))return e;if(Qc(e))return null;e=Di(e)}return null}function fp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const US=new Set(["html","body","#document"]);function Lo(n){return US.has(Go(n))}function Yn(n){return pn(n).getComputedStyle(n)}function Xc(n){return Xn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Di(n){if(Go(n)==="html")return n;const e=n.assignedSlot||n.parentNode||zv(n)&&n.host||Er(n);return zv(e)?e.host:e}function P_(n){const e=Di(n);return Lo(e)?n.ownerDocument?n.ownerDocument.body:n.body:vr(e)&&xl(e)?e:P_(e)}function al(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=P_(n),a=o===((i=n.ownerDocument)==null?void 0:i.body),c=pn(o);if(a){const h=Pf(c);return e.concat(c,c.visualViewport||[],xl(o)?o:[],h&&t?al(h):[])}return e.concat(o,al(o,[],t))}function Pf(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function k_(n){const e=Yn(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=vr(n),a=o?n.offsetWidth:t,c=o?n.offsetHeight:i,h=xc(t)!==a||xc(i)!==c;return h&&(t=a,i=c),{width:t,height:i,$:h}}function pp(n){return Xn(n)?n:n.contextElement}function ko(n){const e=pp(n);if(!vr(e))return fr(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:a}=k_(e);let c=(a?xc(t.width):t.width)/i,h=(a?xc(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const zS=fr(0);function b_(n){const e=pn(n);return!fp()||!e.visualViewport?zS:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function BS(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==pn(n)?!1:e}function Es(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=pp(n);let c=fr(1);e&&(i?Xn(i)&&(c=ko(i)):c=ko(n));const h=BS(a,t,i)?b_(a):fr(0);let f=(o.left+h.x)/c.x,m=(o.top+h.y)/c.y,y=o.width/c.x,w=o.height/c.y;if(a){const x=pn(a),R=i&&Xn(i)?pn(i):i;let M=x,P=Pf(M);for(;P&&i&&R!==M;){const k=ko(P),V=P.getBoundingClientRect(),U=Yn(P),$=V.left+(P.clientLeft+parseFloat(U.paddingLeft))*k.x,q=V.top+(P.clientTop+parseFloat(U.paddingTop))*k.y;f*=k.x,m*=k.y,y*=k.x,w*=k.y,f+=$,m+=q,M=pn(P),P=Pf(M)}}return Ic({width:y,height:w,x:f,y:m})}function Yc(n,e){const t=Xc(n).scrollLeft;return e?e.left+t:Es(Er(n)).left+t}function N_(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-Yc(n,t),o=t.top+e.scrollTop;return{x:i,y:o}}function $S(n){let{elements:e,rect:t,offsetParent:i,strategy:o}=n;const a=o==="fixed",c=Er(i),h=e?Qc(e.floating):!1;if(i===c||h&&a)return t;let f={scrollLeft:0,scrollTop:0},m=fr(1);const y=fr(0),w=vr(i);if((w||!w&&!a)&&((Go(i)!=="body"||xl(c))&&(f=Xc(i)),vr(i))){const R=Es(i);m=ko(i),y.x=R.x+i.clientLeft,y.y=R.y+i.clientTop}const x=c&&!w&&!a?N_(c,f):fr(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+y.x+x.x,y:t.y*m.y-f.scrollTop*m.y+y.y+x.y}}function WS(n){return Array.from(n.getClientRects())}function HS(n){const e=Er(n),t=Xc(n),i=n.ownerDocument.body,o=fn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=fn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Yc(n);const h=-t.scrollTop;return Yn(i).direction==="rtl"&&(c+=fn(e.clientWidth,i.clientWidth)-o),{width:o,height:a,x:c,y:h}}const Bv=25;function qS(n,e){const t=pn(n),i=Er(n),o=t.visualViewport;let a=i.clientWidth,c=i.clientHeight,h=0,f=0;if(o){a=o.width,c=o.height;const y=fp();(!y||y&&e==="fixed")&&(h=o.offsetLeft,f=o.offsetTop)}const m=Yc(i);if(m<=0){const y=i.ownerDocument,w=y.body,x=getComputedStyle(w),R=y.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,M=Math.abs(i.clientWidth-w.clientWidth-R);M<=Bv&&(a-=M)}else m<=Bv&&(a+=m);return{width:a,height:c,x:h,y:f}}const KS=new Set(["absolute","fixed"]);function GS(n,e){const t=Es(n,!0,e==="fixed"),i=t.top+n.clientTop,o=t.left+n.clientLeft,a=vr(n)?ko(n):fr(1),c=n.clientWidth*a.x,h=n.clientHeight*a.y,f=o*a.x,m=i*a.y;return{width:c,height:h,x:f,y:m}}function $v(n,e,t){let i;if(e==="viewport")i=qS(n,t);else if(e==="document")i=HS(Er(n));else if(Xn(e))i=GS(e,t);else{const o=b_(n);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Ic(i)}function O_(n,e){const t=Di(n);return t===e||!Xn(t)||Lo(t)?!1:Yn(t).position==="fixed"||O_(t,e)}function QS(n,e){const t=e.get(n);if(t)return t;let i=al(n,[],!1).filter(h=>Xn(h)&&Go(h)!=="body"),o=null;const a=Yn(n).position==="fixed";let c=a?Di(n):n;for(;Xn(c)&&!Lo(c);){const h=Yn(c),f=hp(c);!f&&h.position==="fixed"&&(o=null),(a?!f&&!o:!f&&h.position==="static"&&!!o&&KS.has(o.position)||xl(c)&&!f&&O_(n,c))?i=i.filter(y=>y!==c):o=h,c=Di(c)}return e.set(n,i),i}function XS(n){let{element:e,boundary:t,rootBoundary:i,strategy:o}=n;const c=[...t==="clippingAncestors"?Qc(e)?[]:QS(e,this._c):[].concat(t),i],h=c[0],f=c.reduce((m,y)=>{const w=$v(e,y,o);return m.top=fn(w.top,m.top),m.right=Oi(w.right,m.right),m.bottom=Oi(w.bottom,m.bottom),m.left=fn(w.left,m.left),m},$v(e,h,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function YS(n){const{width:e,height:t}=k_(n);return{width:e,height:t}}function JS(n,e,t){const i=vr(e),o=Er(e),a=t==="fixed",c=Es(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=fr(0);function m(){f.x=Yc(o)}if(i||!i&&!a)if((Go(e)!=="body"||xl(o))&&(h=Xc(e)),i){const R=Es(e,!0,a,e);f.x=R.x+e.clientLeft,f.y=R.y+e.clientTop}else o&&m();a&&!i&&o&&m();const y=o&&!i&&!a?N_(o,h):fr(0),w=c.left+h.scrollLeft-f.x-y.x,x=c.top+h.scrollTop-f.y-y.y;return{x:w,y:x,width:c.width,height:c.height}}function Jh(n){return Yn(n).position==="static"}function Wv(n,e){if(!vr(n)||Yn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Er(n)===t&&(t=t.ownerDocument.body),t}function D_(n,e){const t=pn(n);if(Qc(n))return t;if(!vr(n)){let o=Di(n);for(;o&&!Lo(o);){if(Xn(o)&&!Jh(o))return o;o=Di(o)}return t}let i=Wv(n,e);for(;i&&DS(i)&&Jh(i);)i=Wv(i,e);return i&&Lo(i)&&Jh(i)&&!hp(i)?t:i||FS(n)||t}const ZS=async function(n){const e=this.getOffsetParent||D_,t=this.getDimensions,i=await t(n.floating);return{reference:JS(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function eI(n){return Yn(n).direction==="rtl"}const tI={convertOffsetParentRelativeRectToViewportRelativeRect:$S,getDocumentElement:Er,getClippingRect:XS,getOffsetParent:D_,getElementRects:ZS,getClientRects:WS,getDimensions:YS,getScale:ko,isElement:Xn,isRTL:eI};function M_(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function nI(n,e){let t=null,i;const o=Er(n);function a(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function c(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const m=n.getBoundingClientRect(),{left:y,top:w,width:x,height:R}=m;if(h||e(),!x||!R)return;const M=Ju(w),P=Ju(o.clientWidth-(y+x)),k=Ju(o.clientHeight-(w+R)),V=Ju(y),$={rootMargin:-M+"px "+-P+"px "+-k+"px "+-V+"px",threshold:fn(0,Oi(1,f))||1};let q=!0;function Z(W){const I=W[0].intersectionRatio;if(I!==f){if(!q)return c();I?c(!1,I):i=setTimeout(()=>{c(!1,1e-7)},1e3)}I===1&&!M_(m,n.getBoundingClientRect())&&c(),q=!1}try{t=new IntersectionObserver(Z,{...$,root:o.ownerDocument})}catch{t=new IntersectionObserver(Z,$)}t.observe(n)}return c(!0),a}function rI(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,m=pp(n),y=o||a?[...m?al(m):[],...al(e)]:[];y.forEach(V=>{o&&V.addEventListener("scroll",t,{passive:!0}),a&&V.addEventListener("resize",t)});const w=m&&h?nI(m,t):null;let x=-1,R=null;c&&(R=new ResizeObserver(V=>{let[U]=V;U&&U.target===m&&R&&(R.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var $;($=R)==null||$.observe(e)})),t()}),m&&!f&&R.observe(m),R.observe(e));let M,P=f?Es(n):null;f&&k();function k(){const V=Es(n);P&&!M_(P,V)&&t(),P=V,M=requestAnimationFrame(k)}return t(),()=>{var V;y.forEach(U=>{o&&U.removeEventListener("scroll",t),a&&U.removeEventListener("resize",t)}),w==null||w(),(V=R)==null||V.disconnect(),R=null,f&&cancelAnimationFrame(M)}}const iI=AS,sI=PS,oI=IS,aI=bS,lI=CS,Hv=SS,uI=kS,cI=(n,e,t)=>{const i=new Map,o={platform:tI,...t},a={...o.platform,_c:i};return xS(n,e,{...o,platform:a})};var dI=typeof document<"u",hI=function(){},hc=dI?A.useLayoutEffect:hI;function Cc(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Cc(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const a=o[i];if(!(a==="_owner"&&n.$$typeof)&&!Cc(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function L_(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function qv(n,e){const t=L_(n);return Math.round(e*t)/t}function Zh(n){const e=A.useRef(n);return hc(()=>{e.current=n}),e}function fI(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:f,open:m}=n,[y,w]=A.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,R]=A.useState(i);Cc(x,i)||R(i);const[M,P]=A.useState(null),[k,V]=A.useState(null),U=A.useCallback(Y=>{Y!==W.current&&(W.current=Y,P(Y))},[]),$=A.useCallback(Y=>{Y!==I.current&&(I.current=Y,V(Y))},[]),q=a||M,Z=c||k,W=A.useRef(null),I=A.useRef(null),C=A.useRef(y),b=f!=null,D=Zh(f),L=Zh(o),F=Zh(m),N=A.useCallback(()=>{if(!W.current||!I.current)return;const Y={placement:e,strategy:t,middleware:x};L.current&&(Y.platform=L.current),cI(W.current,I.current,Y).then(ae=>{const re={...ae,isPositioned:F.current!==!1};pe.current&&!Cc(C.current,re)&&(C.current=re,Tl.flushSync(()=>{w(re)}))})},[x,e,t,L,F]);hc(()=>{m===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,w(Y=>({...Y,isPositioned:!1})))},[m]);const pe=A.useRef(!1);hc(()=>(pe.current=!0,()=>{pe.current=!1}),[]),hc(()=>{if(q&&(W.current=q),Z&&(I.current=Z),q&&Z){if(D.current)return D.current(q,Z,N);N()}},[q,Z,N,D,b]);const we=A.useMemo(()=>({reference:W,floating:I,setReference:U,setFloating:$}),[U,$]),me=A.useMemo(()=>({reference:q,floating:Z}),[q,Z]),he=A.useMemo(()=>{const Y={position:t,left:0,top:0};if(!me.floating)return Y;const ae=qv(me.floating,y.x),re=qv(me.floating,y.y);return h?{...Y,transform:"translate("+ae+"px, "+re+"px)",...L_(me.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ae,top:re}},[t,h,me.floating,y.x,y.y]);return A.useMemo(()=>({...y,update:N,refs:we,elements:me,floatingStyles:he}),[y,N,we,me,he])}const pI=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:o}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Hv({element:i.current,padding:o}).fn(t):{}:i?Hv({element:i,padding:o}).fn(t):{}}}},mI=(n,e)=>({...iI(n),options:[n,e]}),gI=(n,e)=>({...sI(n),options:[n,e]}),vI=(n,e)=>({...uI(n),options:[n,e]}),yI=(n,e)=>({...oI(n),options:[n,e]}),_I=(n,e)=>({...aI(n),options:[n,e]}),wI=(n,e)=>({...lI(n),options:[n,e]}),EI=(n,e)=>({...pI(n),options:[n,e]});var TI="Arrow",V_=A.forwardRef((n,e)=>{const{children:t,width:i=10,height:o=5,...a}=n;return T.jsx(Ye.svg,{...a,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:T.jsx("polygon",{points:"0,0 30,0 15,10"})})});V_.displayName=TI;var xI=V_;function SI(n){const[e,t]=A.useState(void 0);return Ht(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,h;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,h=m.blockSize}else c=n.offsetWidth,h=n.offsetHeight;t({width:c,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var mp="Popper",[j_,Jc]=El(mp),[II,F_]=j_(mp),U_=n=>{const{__scopePopper:e,children:t}=n,[i,o]=A.useState(null);return T.jsx(II,{scope:e,anchor:i,onAnchorChange:o,children:t})};U_.displayName=mp;var z_="PopperAnchor",B_=A.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...o}=n,a=F_(z_,t),c=A.useRef(null),h=ot(e,c),f=A.useRef(null);return A.useEffect(()=>{const m=f.current;f.current=(i==null?void 0:i.current)||c.current,m!==f.current&&a.onAnchorChange(f.current)}),i?null:T.jsx(Ye.div,{...o,ref:h})});B_.displayName=z_;var gp="PopperContent",[CI,RI]=j_(gp),$_=A.forwardRef((n,e)=>{var ue,Ee,De,ke,Le,Fe;const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:x=!1,updatePositionStrategy:R="optimized",onPlaced:M,...P}=n,k=F_(gp,t),[V,U]=A.useState(null),$=ot(e,lt=>U(lt)),[q,Z]=A.useState(null),W=SI(q),I=(W==null?void 0:W.width)??0,C=(W==null?void 0:W.height)??0,b=i+(a!=="center"?"-"+a:""),D=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},L=Array.isArray(m)?m:[m],F=L.length>0,N={padding:D,boundary:L.filter(PI),altBoundary:F},{refs:pe,floatingStyles:we,placement:me,isPositioned:he,middlewareData:Y}=fI({strategy:"fixed",placement:b,whileElementsMounted:(...lt)=>rI(...lt,{animationFrame:R==="always"}),elements:{reference:k.anchor},middleware:[mI({mainAxis:o+C,alignmentAxis:c}),f&&gI({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?vI():void 0,...N}),f&&yI({...N}),_I({...N,apply:({elements:lt,rects:St,availableWidth:mn,availableHeight:Pn})=>{const{width:kn,height:Ns}=St.reference,bn=lt.floating.style;bn.setProperty("--radix-popper-available-width",`${mn}px`),bn.setProperty("--radix-popper-available-height",`${Pn}px`),bn.setProperty("--radix-popper-anchor-width",`${kn}px`),bn.setProperty("--radix-popper-anchor-height",`${Ns}px`)}}),q&&EI({element:q,padding:h}),kI({arrowWidth:I,arrowHeight:C}),x&&wI({strategy:"referenceHidden",...N})]}),[ae,re]=q_(me),B=ws(M);Ht(()=>{he&&(B==null||B())},[he,B]);const J=(ue=Y.arrow)==null?void 0:ue.x,ce=(Ee=Y.arrow)==null?void 0:Ee.y,Te=((De=Y.arrow)==null?void 0:De.centerOffset)!==0,[Re,Me]=A.useState();return Ht(()=>{V&&Me(window.getComputedStyle(V).zIndex)},[V]),T.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...we,transform:he?we.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(ke=Y.transformOrigin)==null?void 0:ke.x,(Le=Y.transformOrigin)==null?void 0:Le.y].join(" "),...((Fe=Y.hide)==null?void 0:Fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:T.jsx(CI,{scope:t,placedSide:ae,onArrowChange:Z,arrowX:J,arrowY:ce,shouldHideArrow:Te,children:T.jsx(Ye.div,{"data-side":ae,"data-align":re,...P,ref:$,style:{...P.style,animation:he?void 0:"none"}})})})});$_.displayName=gp;var W_="PopperArrow",AI={top:"bottom",right:"left",bottom:"top",left:"right"},H_=A.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,a=RI(W_,i),c=AI[a.placedSide];return T.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:T.jsx(xI,{...o,ref:t,style:{...o.style,display:"block"}})})});H_.displayName=W_;function PI(n){return n!==null}var kI=n=>({name:"transformOrigin",options:n,fn(e){var k,V,U;const{placement:t,rects:i,middlewareData:o}=e,c=((k=o.arrow)==null?void 0:k.centerOffset)!==0,h=c?0:n.arrowWidth,f=c?0:n.arrowHeight,[m,y]=q_(t),w={start:"0%",center:"50%",end:"100%"}[y],x=(((V=o.arrow)==null?void 0:V.x)??0)+h/2,R=(((U=o.arrow)==null?void 0:U.y)??0)+f/2;let M="",P="";return m==="bottom"?(M=c?w:`${x}px`,P=`${-f}px`):m==="top"?(M=c?w:`${x}px`,P=`${i.floating.height+f}px`):m==="right"?(M=`${-f}px`,P=c?w:`${R}px`):m==="left"&&(M=`${i.floating.width+f}px`,P=c?w:`${R}px`),{data:{x:M,y:P}}}});function q_(n){const[e,t="center"]=n.split("-");return[e,t]}var K_=U_,G_=B_,Q_=$_,X_=H_,bI="Portal",Zc=A.forwardRef((n,e)=>{var h;const{container:t,...i}=n,[o,a]=A.useState(!1);Ht(()=>a(!0),[]);const c=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?Kx.createPortal(T.jsx(Ye.div,{...i,ref:e}),c):null});Zc.displayName=bI;function NI(n,e){return A.useReducer((t,i)=>e[t][i]??t,n)}var Qo=n=>{const{present:e,children:t}=n,i=OI(e),o=typeof t=="function"?t({present:i.isPresent}):A.Children.only(t),a=ot(i.ref,DI(o));return typeof t=="function"||i.isPresent?A.cloneElement(o,{ref:a}):null};Qo.displayName="Presence";function OI(n){const[e,t]=A.useState(),i=A.useRef(null),o=A.useRef(n),a=A.useRef("none"),c=n?"mounted":"unmounted",[h,f]=NI(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const m=Zu(i.current);a.current=h==="mounted"?m:"none"},[h]),Ht(()=>{const m=i.current,y=o.current;if(y!==n){const x=a.current,R=Zu(m);n?f("MOUNT"):R==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(y&&x!==R?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),Ht(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,w=R=>{const P=Zu(i.current).includes(CSS.escape(R.animationName));if(R.target===e&&P&&(f("ANIMATION_END"),!o.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},x=R=>{R.target===e&&(a.current=Zu(i.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:A.useCallback(m=>{i.current=m?getComputedStyle(m):null,t(m)},[])}}function Zu(n){return(n==null?void 0:n.animationName)||"none"}function DI(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var MI=w_[" useInsertionEffect ".trim().toString()]||Ht;function Rc({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,a,c]=LI({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:o;{const y=A.useRef(n!==void 0);A.useEffect(()=>{const w=y.current;w!==h&&console.warn(`${i} is changing from ${w?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,i])}const m=A.useCallback(y=>{var w;if(h){const x=VI(y)?y(n):y;x!==n&&((w=c.current)==null||w.call(c,x))}else a(y)},[h,n,a,c]);return[f,m]}function LI({defaultProp:n,onChange:e}){const[t,i]=A.useState(n),o=A.useRef(t),a=A.useRef(e);return MI(()=>{a.current=e},[e]),A.useEffect(()=>{var c;o.current!==t&&((c=a.current)==null||c.call(a,t),o.current=t)},[t,o]),[t,i,a]}function VI(n){return typeof n=="function"}var Y_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jI="VisuallyHidden",J_=A.forwardRef((n,e)=>T.jsx(Ye.span,{...n,ref:e,style:{...Y_,...n.style}}));J_.displayName=jI;var FI=J_,[ed]=El("Tooltip",[Jc]),td=Jc(),Z_="TooltipProvider",UI=700,kf="tooltip.open",[zI,vp]=ed(Z_),e0=n=>{const{__scopeTooltip:e,delayDuration:t=UI,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:a}=n,c=A.useRef(!0),h=A.useRef(!1),f=A.useRef(0);return A.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),T.jsx(zI,{scope:e,isOpenDelayedRef:c,delayDuration:t,onOpen:A.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,i)},[i]),isPointerInTransitRef:h,onPointerInTransitChange:A.useCallback(m=>{h.current=m},[]),disableHoverableContent:o,children:a})};e0.displayName=Z_;var ll="Tooltip",[BI,Sl]=ed(ll),t0=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:o,onOpenChange:a,disableHoverableContent:c,delayDuration:h}=n,f=vp(ll,n.__scopeTooltip),m=td(e),[y,w]=A.useState(null),x=vs(),R=A.useRef(0),M=c??f.disableHoverableContent,P=h??f.delayDuration,k=A.useRef(!1),[V,U]=Rc({prop:i,defaultProp:o??!1,onChange:I=>{I?(f.onOpen(),document.dispatchEvent(new CustomEvent(kf))):f.onClose(),a==null||a(I)},caller:ll}),$=A.useMemo(()=>V?k.current?"delayed-open":"instant-open":"closed",[V]),q=A.useCallback(()=>{window.clearTimeout(R.current),R.current=0,k.current=!1,U(!0)},[U]),Z=A.useCallback(()=>{window.clearTimeout(R.current),R.current=0,U(!1)},[U]),W=A.useCallback(()=>{window.clearTimeout(R.current),R.current=window.setTimeout(()=>{k.current=!0,U(!0),R.current=0},P)},[P,U]);return A.useEffect(()=>()=>{R.current&&(window.clearTimeout(R.current),R.current=0)},[]),T.jsx(K_,{...m,children:T.jsx(BI,{scope:e,contentId:x,open:V,stateAttribute:$,trigger:y,onTriggerChange:w,onTriggerEnter:A.useCallback(()=>{f.isOpenDelayedRef.current?W():q()},[f.isOpenDelayedRef,W,q]),onTriggerLeave:A.useCallback(()=>{M?Z():(window.clearTimeout(R.current),R.current=0)},[Z,M]),onOpen:q,onClose:Z,disableHoverableContent:M,children:t})})};t0.displayName=ll;var bf="TooltipTrigger",n0=A.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,o=Sl(bf,t),a=vp(bf,t),c=td(t),h=A.useRef(null),f=ot(e,h,o.onTriggerChange),m=A.useRef(!1),y=A.useRef(!1),w=A.useCallback(()=>m.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),T.jsx(G_,{asChild:!0,...c,children:T.jsx(Ye.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:f,onPointerMove:Ke(n.onPointerMove,x=>{x.pointerType!=="touch"&&!y.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ke(n.onPointerLeave,()=>{o.onTriggerLeave(),y.current=!1}),onPointerDown:Ke(n.onPointerDown,()=>{o.open&&o.onClose(),m.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Ke(n.onFocus,()=>{m.current||o.onOpen()}),onBlur:Ke(n.onBlur,o.onClose),onClick:Ke(n.onClick,o.onClose)})})});n0.displayName=bf;var yp="TooltipPortal",[$I,WI]=ed(yp,{forceMount:void 0}),r0=n=>{const{__scopeTooltip:e,forceMount:t,children:i,container:o}=n,a=Sl(yp,e);return T.jsx($I,{scope:e,forceMount:t,children:T.jsx(Qo,{present:t||a.open,children:T.jsx(Zc,{asChild:!0,container:o,children:i})})})};r0.displayName=yp;var Vo="TooltipContent",i0=A.forwardRef((n,e)=>{const t=WI(Vo,n.__scopeTooltip),{forceMount:i=t.forceMount,side:o="top",...a}=n,c=Sl(Vo,n.__scopeTooltip);return T.jsx(Qo,{present:i||c.open,children:c.disableHoverableContent?T.jsx(s0,{side:o,...a,ref:e}):T.jsx(HI,{side:o,...a,ref:e})})}),HI=A.forwardRef((n,e)=>{const t=Sl(Vo,n.__scopeTooltip),i=vp(Vo,n.__scopeTooltip),o=A.useRef(null),a=ot(e,o),[c,h]=A.useState(null),{trigger:f,onClose:m}=t,y=o.current,{onPointerInTransitChange:w}=i,x=A.useCallback(()=>{h(null),w(!1)},[w]),R=A.useCallback((M,P)=>{const k=M.currentTarget,V={x:M.clientX,y:M.clientY},U=QI(V,k.getBoundingClientRect()),$=XI(V,U),q=YI(P.getBoundingClientRect()),Z=ZI([...$,...q]);h(Z),w(!0)},[w]);return A.useEffect(()=>()=>x(),[x]),A.useEffect(()=>{if(f&&y){const M=k=>R(k,y),P=k=>R(k,f);return f.addEventListener("pointerleave",M),y.addEventListener("pointerleave",P),()=>{f.removeEventListener("pointerleave",M),y.removeEventListener("pointerleave",P)}}},[f,y,R,x]),A.useEffect(()=>{if(c){const M=P=>{const k=P.target,V={x:P.clientX,y:P.clientY},U=(f==null?void 0:f.contains(k))||(y==null?void 0:y.contains(k)),$=!JI(V,c);U?x():$&&(x(),m())};return document.addEventListener("pointermove",M),()=>document.removeEventListener("pointermove",M)}},[f,y,c,m,x]),T.jsx(s0,{...n,ref:a})}),[qI,KI]=ed(ll,{isInside:!1}),GI=Qx("TooltipContent"),s0=A.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:c,...h}=n,f=Sl(Vo,t),m=td(t),{onClose:y}=f;return A.useEffect(()=>(document.addEventListener(kf,y),()=>document.removeEventListener(kf,y)),[y]),A.useEffect(()=>{if(f.trigger){const w=x=>{const R=x.target;R!=null&&R.contains(f.trigger)&&y()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,y]),T.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:w=>w.preventDefault(),onDismiss:y,children:T.jsxs(Q_,{"data-state":f.stateAttribute,...m,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[T.jsx(GI,{children:i}),T.jsx(qI,{scope:t,isInside:!0,children:T.jsx(FI,{id:f.contentId,role:"tooltip",children:o||i})})]})})});i0.displayName=Vo;var o0="TooltipArrow",a0=A.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,o=td(t);return KI(o0,t).isInside?null:T.jsx(X_,{...o,...i,ref:e})});a0.displayName=o0;function QI(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),o=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,i,o,a)){case a:return"left";case o:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function XI(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function YI(n){const{top:e,right:t,bottom:i,left:o}=n;return[{x:o,y:e},{x:t,y:e},{x:t,y:i},{x:o,y:i}]}function JI(n,e){const{x:t,y:i}=n;let o=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const h=e[a],f=e[c],m=h.x,y=h.y,w=f.x,x=f.y;y>i!=x>i&&t<(w-m)*(i-y)/(x-y)+m&&(o=!o)}return o}function ZI(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),eC(e)}function eC(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const o=n[i];for(;e.length>=2;){const a=e[e.length-1],c=e[e.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))e.pop();else break}e.push(o)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const o=n[i];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var tC=e0,ef=t0,tf=n0,nf=r0,rf=i0,sf=a0;function Kv(n,[e,t]){return Math.min(t,Math.max(e,n))}function nC(n){const e=n+"CollectionProvider",[t,i]=El(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=P=>{const{scope:k,children:V}=P,U=Fr.useRef(null),$=Fr.useRef(new Map).current;return T.jsx(o,{scope:k,itemMap:$,collectionRef:U,children:V})};c.displayName=e;const h=n+"CollectionSlot",f=ol(h),m=Fr.forwardRef((P,k)=>{const{scope:V,children:U}=P,$=a(h,V),q=ot(k,$.collectionRef);return T.jsx(f,{ref:q,children:U})});m.displayName=h;const y=n+"CollectionItemSlot",w="data-radix-collection-item",x=ol(y),R=Fr.forwardRef((P,k)=>{const{scope:V,children:U,...$}=P,q=Fr.useRef(null),Z=ot(k,q),W=a(y,V);return Fr.useEffect(()=>(W.itemMap.set(q,{ref:q,...$}),()=>void W.itemMap.delete(q))),T.jsx(x,{[w]:"",ref:Z,children:U})});R.displayName=y;function M(P){const k=a(n+"CollectionConsumer",P);return Fr.useCallback(()=>{const U=k.collectionRef.current;if(!U)return[];const $=Array.from(U.querySelectorAll(`[${w}]`));return Array.from(k.itemMap.values()).sort((W,I)=>$.indexOf(W.ref.current)-$.indexOf(I.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:c,Slot:m,ItemSlot:R},M,i]}var rC=A.createContext(void 0);function iC(n){const e=A.useContext(rC);return n||e||"ltr"}var of=0;function l0(){A.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Gv()),document.body.insertAdjacentElement("beforeend",n[1]??Gv()),of++,()=>{of===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),of--}},[])}function Gv(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var af="focusScope.autoFocusOnMount",lf="focusScope.autoFocusOnUnmount",Qv={bubbles:!1,cancelable:!0},sC="FocusScope",_p=A.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[h,f]=A.useState(null),m=ws(o),y=ws(a),w=A.useRef(null),x=ot(e,P=>f(P)),R=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(i){let P=function($){if(R.paused||!h)return;const q=$.target;h.contains(q)?w.current=q:Si(w.current,{select:!0})},k=function($){if(R.paused||!h)return;const q=$.relatedTarget;q!==null&&(h.contains(q)||Si(w.current,{select:!0}))},V=function($){if(document.activeElement===document.body)for(const Z of $)Z.removedNodes.length>0&&Si(h)};document.addEventListener("focusin",P),document.addEventListener("focusout",k);const U=new MutationObserver(V);return h&&U.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",P),document.removeEventListener("focusout",k),U.disconnect()}}},[i,h,R.paused]),A.useEffect(()=>{if(h){Yv.add(R);const P=document.activeElement;if(!h.contains(P)){const V=new CustomEvent(af,Qv);h.addEventListener(af,m),h.dispatchEvent(V),V.defaultPrevented||(oC(dC(u0(h)),{select:!0}),document.activeElement===P&&Si(h))}return()=>{h.removeEventListener(af,m),setTimeout(()=>{const V=new CustomEvent(lf,Qv);h.addEventListener(lf,y),h.dispatchEvent(V),V.defaultPrevented||Si(P??document.body,{select:!0}),h.removeEventListener(lf,y),Yv.remove(R)},0)}}},[h,m,y,R]);const M=A.useCallback(P=>{if(!t&&!i||R.paused)return;const k=P.key==="Tab"&&!P.altKey&&!P.ctrlKey&&!P.metaKey,V=document.activeElement;if(k&&V){const U=P.currentTarget,[$,q]=aC(U);$&&q?!P.shiftKey&&V===q?(P.preventDefault(),t&&Si($,{select:!0})):P.shiftKey&&V===$&&(P.preventDefault(),t&&Si(q,{select:!0})):V===U&&P.preventDefault()}},[t,i,R.paused]);return T.jsx(Ye.div,{tabIndex:-1,...c,ref:x,onKeyDown:M})});_p.displayName=sC;function oC(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Si(i,{select:e}),document.activeElement!==t)return}function aC(n){const e=u0(n),t=Xv(e,n),i=Xv(e.reverse(),n);return[t,i]}function u0(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Xv(n,e){for(const t of n)if(!lC(t,{upTo:e}))return t}function lC(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function uC(n){return n instanceof HTMLInputElement&&"select"in n}function Si(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&uC(n)&&e&&n.select()}}var Yv=cC();function cC(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Jv(n,e),n.unshift(e)},remove(e){var t;n=Jv(n,e),(t=n[0])==null||t.resume()}}}function Jv(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function dC(n){return n.filter(e=>e.tagName!=="A")}function hC(n){const e=A.useRef({value:n,previous:n});return A.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var fC=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},xo=new WeakMap,ec=new WeakMap,tc={},uf=0,c0=function(n){return n&&(n.host||c0(n.parentNode))},pC=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=c0(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},mC=function(n,e,t,i){var o=pC(e,Array.isArray(n)?n:[n]);tc[t]||(tc[t]=new WeakMap);var a=tc[t],c=[],h=new Set,f=new Set(o),m=function(w){!w||h.has(w)||(h.add(w),m(w.parentNode))};o.forEach(m);var y=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(x){if(h.has(x))y(x);else try{var R=x.getAttribute(i),M=R!==null&&R!=="false",P=(xo.get(x)||0)+1,k=(a.get(x)||0)+1;xo.set(x,P),a.set(x,k),c.push(x),P===1&&M&&ec.set(x,!0),k===1&&x.setAttribute(t,"true"),M||x.setAttribute(i,"true")}catch(V){console.error("aria-hidden: cannot operate on ",x,V)}})};return y(e),h.clear(),uf++,function(){c.forEach(function(w){var x=xo.get(w)-1,R=a.get(w)-1;xo.set(w,x),a.set(w,R),x||(ec.has(w)||w.removeAttribute(i),ec.delete(w)),R||w.removeAttribute(t)}),uf--,uf||(xo=new WeakMap,xo=new WeakMap,ec=new WeakMap,tc={})}},d0=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=fC(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),mC(i,o,t,"aria-hidden")):function(){return null}},cr=function(){return cr=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},cr.apply(this,arguments)};function Il(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function gC(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}var fc="right-scroll-bar-position",pc="width-before-scroll-bar",vC="with-scroll-bars-hidden",yC="--removed-body-scroll-bar-size";function cf(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function _C(n,e){var t=A.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var wC=typeof window<"u"?A.useLayoutEffect:A.useEffect,Zv=new WeakMap;function EC(n,e){var t=_C(null,function(i){return n.forEach(function(o){return cf(o,i)})});return wC(function(){var i=Zv.get(t);if(i){var o=new Set(i),a=new Set(n),c=t.current;o.forEach(function(h){a.has(h)||cf(h,null)}),a.forEach(function(h){o.has(h)||cf(h,c)})}Zv.set(t,n)},[n]),t}function TC(n){return n}function xC(n,e){e===void 0&&(e=TC);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,i);return t.push(c),function(){t=t.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(i=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){i=!0;var c=[];if(t.length){var h=t;t=[],h.forEach(a),c=t}var f=function(){var y=c;c=[],y.forEach(a)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(y){c.push(y),m()},filter:function(y){return c=c.filter(y),t}}}};return o}function SC(n){n===void 0&&(n={});var e=xC(null);return e.options=cr({async:!0,ssr:!1},n),e}var h0=function(n){var e=n.sideCar,t=Il(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return A.createElement(i,cr({},t))};h0.isSideCarExport=!0;function IC(n,e){return n.useMedium(e),h0}var f0=SC(),df=function(){},nd=A.forwardRef(function(n,e){var t=A.useRef(null),i=A.useState({onScrollCapture:df,onWheelCapture:df,onTouchMoveCapture:df}),o=i[0],a=i[1],c=n.forwardProps,h=n.children,f=n.className,m=n.removeScrollBar,y=n.enabled,w=n.shards,x=n.sideCar,R=n.noRelative,M=n.noIsolation,P=n.inert,k=n.allowPinchZoom,V=n.as,U=V===void 0?"div":V,$=n.gapMode,q=Il(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Z=x,W=EC([t,e]),I=cr(cr({},q),o);return A.createElement(A.Fragment,null,y&&A.createElement(Z,{sideCar:f0,removeScrollBar:m,shards:w,noRelative:R,noIsolation:M,inert:P,setCallbacks:a,allowPinchZoom:!!k,lockRef:t,gapMode:$}),c?A.cloneElement(A.Children.only(h),cr(cr({},I),{ref:W})):A.createElement(U,cr({},I,{className:f,ref:W}),h))});nd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nd.classNames={fullWidth:pc,zeroRight:fc};var CC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RC(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=CC();return e&&n.setAttribute("nonce",e),n}function AC(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function PC(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var kC=function(){var n=0,e=null;return{add:function(t){n==0&&(e=RC())&&(AC(e,t),PC(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bC=function(){var n=kC();return function(e,t){A.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},p0=function(){var n=bC(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},NC={left:0,top:0,right:0,gap:0},hf=function(n){return parseInt(n||"",10)||0},OC=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[hf(t),hf(i),hf(o)]},DC=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return NC;var e=OC(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},MC=p0(),bo="data-scroll-locked",LC=function(n,e,t,i){var o=n.left,a=n.top,c=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(vC,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(bo,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fc,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(pc,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(fc," .").concat(fc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(pc," .").concat(pc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(bo,`] {
    `).concat(yC,": ").concat(h,`px;
  }
`)},ey=function(){var n=parseInt(document.body.getAttribute(bo)||"0",10);return isFinite(n)?n:0},VC=function(){A.useEffect(function(){return document.body.setAttribute(bo,(ey()+1).toString()),function(){var n=ey()-1;n<=0?document.body.removeAttribute(bo):document.body.setAttribute(bo,n.toString())}},[])},jC=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;VC();var a=A.useMemo(function(){return DC(o)},[o]);return A.createElement(MC,{styles:LC(a,!e,o,t?"":"!important")})},Nf=!1;if(typeof window<"u")try{var nc=Object.defineProperty({},"passive",{get:function(){return Nf=!0,!0}});window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{Nf=!1}var So=Nf?{passive:!1}:!1,FC=function(n){return n.tagName==="TEXTAREA"},m0=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!FC(n)&&t[e]==="visible")},UC=function(n){return m0(n,"overflowY")},zC=function(n){return m0(n,"overflowX")},ty=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=g0(n,i);if(o){var a=v0(n,i),c=a[1],h=a[2];if(c>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},BC=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},$C=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},g0=function(n,e){return n==="v"?UC(e):zC(e)},v0=function(n,e){return n==="v"?BC(e):$C(e)},WC=function(n,e){return n==="h"&&e==="rtl"?-1:1},HC=function(n,e,t,i,o){var a=WC(n,window.getComputedStyle(e).direction),c=a*i,h=t.target,f=e.contains(h),m=!1,y=c>0,w=0,x=0;do{if(!h)break;var R=v0(n,h),M=R[0],P=R[1],k=R[2],V=P-k-a*M;(M||V)&&g0(n,h)&&(w+=V,x+=M);var U=h.parentNode;h=U&&U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?U.host:U}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(y&&Math.abs(w)<1||!y&&Math.abs(x)<1)&&(m=!0),m},rc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},ny=function(n){return[n.deltaX,n.deltaY]},ry=function(n){return n&&"current"in n?n.current:n},qC=function(n,e){return n[0]===e[0]&&n[1]===e[1]},KC=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},GC=0,Io=[];function QC(n){var e=A.useRef([]),t=A.useRef([0,0]),i=A.useRef(),o=A.useState(GC++)[0],a=A.useState(p0)[0],c=A.useRef(n);A.useEffect(function(){c.current=n},[n]),A.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var P=gC([n.lockRef.current],(n.shards||[]).map(ry),!0).filter(Boolean);return P.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),P.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=A.useCallback(function(P,k){if("touches"in P&&P.touches.length===2||P.type==="wheel"&&P.ctrlKey)return!c.current.allowPinchZoom;var V=rc(P),U=t.current,$="deltaX"in P?P.deltaX:U[0]-V[0],q="deltaY"in P?P.deltaY:U[1]-V[1],Z,W=P.target,I=Math.abs($)>Math.abs(q)?"h":"v";if("touches"in P&&I==="h"&&W.type==="range")return!1;var C=window.getSelection(),b=C&&C.anchorNode,D=b?b===W||b.contains(W):!1;if(D)return!1;var L=ty(I,W);if(!L)return!0;if(L?Z=I:(Z=I==="v"?"h":"v",L=ty(I,W)),!L)return!1;if(!i.current&&"changedTouches"in P&&($||q)&&(i.current=Z),!Z)return!0;var F=i.current||Z;return HC(F,k,P,F==="h"?$:q)},[]),f=A.useCallback(function(P){var k=P;if(!(!Io.length||Io[Io.length-1]!==a)){var V="deltaY"in k?ny(k):rc(k),U=e.current.filter(function(Z){return Z.name===k.type&&(Z.target===k.target||k.target===Z.shadowParent)&&qC(Z.delta,V)})[0];if(U&&U.should){k.cancelable&&k.preventDefault();return}if(!U){var $=(c.current.shards||[]).map(ry).filter(Boolean).filter(function(Z){return Z.contains(k.target)}),q=$.length>0?h(k,$[0]):!c.current.noIsolation;q&&k.cancelable&&k.preventDefault()}}},[]),m=A.useCallback(function(P,k,V,U){var $={name:P,delta:k,target:V,should:U,shadowParent:XC(V)};e.current.push($),setTimeout(function(){e.current=e.current.filter(function(q){return q!==$})},1)},[]),y=A.useCallback(function(P){t.current=rc(P),i.current=void 0},[]),w=A.useCallback(function(P){m(P.type,ny(P),P.target,h(P,n.lockRef.current))},[]),x=A.useCallback(function(P){m(P.type,rc(P),P.target,h(P,n.lockRef.current))},[]);A.useEffect(function(){return Io.push(a),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:x}),document.addEventListener("wheel",f,So),document.addEventListener("touchmove",f,So),document.addEventListener("touchstart",y,So),function(){Io=Io.filter(function(P){return P!==a}),document.removeEventListener("wheel",f,So),document.removeEventListener("touchmove",f,So),document.removeEventListener("touchstart",y,So)}},[]);var R=n.removeScrollBar,M=n.inert;return A.createElement(A.Fragment,null,M?A.createElement(a,{styles:KC(o)}):null,R?A.createElement(jC,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function XC(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const YC=IC(f0,QC);var wp=A.forwardRef(function(n,e){return A.createElement(nd,cr({},n,{ref:e,sideCar:YC}))});wp.classNames=nd.classNames;var JC=[" ","Enter","ArrowUp","ArrowDown"],ZC=[" ","Enter"],Ts="Select",[rd,id,eR]=nC(Ts),[Xo]=El(Ts,[eR,Jc]),sd=Jc(),[tR,ji]=Xo(Ts),[nR,rR]=Xo(Ts),y0=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:a,value:c,defaultValue:h,onValueChange:f,dir:m,name:y,autoComplete:w,disabled:x,required:R,form:M}=n,P=sd(e),[k,V]=A.useState(null),[U,$]=A.useState(null),[q,Z]=A.useState(!1),W=iC(m),[I,C]=Rc({prop:i,defaultProp:o??!1,onChange:a,caller:Ts}),[b,D]=Rc({prop:c,defaultProp:h,onChange:f,caller:Ts}),L=A.useRef(null),F=k?M||!!k.closest("form"):!0,[N,pe]=A.useState(new Set),we=Array.from(N).map(me=>me.props.value).join(";");return T.jsx(K_,{...P,children:T.jsxs(tR,{required:R,scope:e,trigger:k,onTriggerChange:V,valueNode:U,onValueNodeChange:$,valueNodeHasChildren:q,onValueNodeHasChildrenChange:Z,contentId:vs(),value:b,onValueChange:D,open:I,onOpenChange:C,dir:W,triggerPointerDownPosRef:L,disabled:x,children:[T.jsx(rd.Provider,{scope:e,children:T.jsx(nR,{scope:n.__scopeSelect,onNativeOptionAdd:A.useCallback(me=>{pe(he=>new Set(he).add(me))},[]),onNativeOptionRemove:A.useCallback(me=>{pe(he=>{const Y=new Set(he);return Y.delete(me),Y})},[]),children:t})}),F?T.jsxs(U0,{"aria-hidden":!0,required:R,tabIndex:-1,name:y,autoComplete:w,value:b,onChange:me=>D(me.target.value),disabled:x,form:M,children:[b===void 0?T.jsx("option",{value:""}):null,Array.from(N)]},we):null]})})};y0.displayName=Ts;var _0="SelectTrigger",w0=A.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=n,a=sd(t),c=ji(_0,t),h=c.disabled||i,f=ot(e,c.onTriggerChange),m=id(t),y=A.useRef("touch"),[w,x,R]=B0(P=>{const k=m().filter($=>!$.disabled),V=k.find($=>$.value===c.value),U=$0(k,P,V);U!==void 0&&c.onValueChange(U.value)}),M=P=>{h||(c.onOpenChange(!0),R()),P&&(c.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)})};return T.jsx(G_,{asChild:!0,...a,children:T.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":z0(c.value)?"":void 0,...o,ref:f,onClick:Ke(o.onClick,P=>{P.currentTarget.focus(),y.current!=="mouse"&&M(P)}),onPointerDown:Ke(o.onPointerDown,P=>{y.current=P.pointerType;const k=P.target;k.hasPointerCapture(P.pointerId)&&k.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&P.pointerType==="mouse"&&(M(P),P.preventDefault())}),onKeyDown:Ke(o.onKeyDown,P=>{const k=w.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&x(P.key),!(k&&P.key===" ")&&JC.includes(P.key)&&(M(),P.preventDefault())})})})});w0.displayName=_0;var E0="SelectValue",T0=A.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,children:a,placeholder:c="",...h}=n,f=ji(E0,t),{onValueNodeHasChildrenChange:m}=f,y=a!==void 0,w=ot(e,f.onValueNodeChange);return Ht(()=>{m(y)},[m,y]),T.jsx(Ye.span,{...h,ref:w,style:{pointerEvents:"none"},children:z0(f.value)?T.jsx(T.Fragment,{children:c}):a})});T0.displayName=E0;var iR="SelectIcon",x0=A.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...o}=n;return T.jsx(Ye.span,{"aria-hidden":!0,...o,ref:e,children:i||""})});x0.displayName=iR;var sR="SelectPortal",S0=n=>T.jsx(Zc,{asChild:!0,...n});S0.displayName=sR;var xs="SelectContent",I0=A.forwardRef((n,e)=>{const t=ji(xs,n.__scopeSelect),[i,o]=A.useState();if(Ht(()=>{o(new DocumentFragment)},[]),!t.open){const a=i;return a?Tl.createPortal(T.jsx(C0,{scope:n.__scopeSelect,children:T.jsx(rd.Slot,{scope:n.__scopeSelect,children:T.jsx("div",{children:n.children})})}),a):null}return T.jsx(R0,{...n,ref:e})});I0.displayName=xs;var Kn=10,[C0,Fi]=Xo(xs),oR="SelectContentImpl",aR=ol("SelectContent.RemoveScroll"),R0=A.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:h,sideOffset:f,align:m,alignOffset:y,arrowPadding:w,collisionBoundary:x,collisionPadding:R,sticky:M,hideWhenDetached:P,avoidCollisions:k,...V}=n,U=ji(xs,t),[$,q]=A.useState(null),[Z,W]=A.useState(null),I=ot(e,ue=>q(ue)),[C,b]=A.useState(null),[D,L]=A.useState(null),F=id(t),[N,pe]=A.useState(!1),we=A.useRef(!1);A.useEffect(()=>{if($)return d0($)},[$]),l0();const me=A.useCallback(ue=>{const[Ee,...De]=F().map(Fe=>Fe.ref.current),[ke]=De.slice(-1),Le=document.activeElement;for(const Fe of ue)if(Fe===Le||(Fe==null||Fe.scrollIntoView({block:"nearest"}),Fe===Ee&&Z&&(Z.scrollTop=0),Fe===ke&&Z&&(Z.scrollTop=Z.scrollHeight),Fe==null||Fe.focus(),document.activeElement!==Le))return},[F,Z]),he=A.useCallback(()=>me([C,$]),[me,C,$]);A.useEffect(()=>{N&&he()},[N,he]);const{onOpenChange:Y,triggerPointerDownPosRef:ae}=U;A.useEffect(()=>{if($){let ue={x:0,y:0};const Ee=ke=>{var Le,Fe;ue={x:Math.abs(Math.round(ke.pageX)-(((Le=ae.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Fe=ae.current)==null?void 0:Fe.y)??0))}},De=ke=>{ue.x<=10&&ue.y<=10?ke.preventDefault():$.contains(ke.target)||Y(!1),document.removeEventListener("pointermove",Ee),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",De,{capture:!0})}}},[$,Y,ae]),A.useEffect(()=>{const ue=()=>Y(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[Y]);const[re,B]=B0(ue=>{const Ee=F().filter(Le=>!Le.disabled),De=Ee.find(Le=>Le.ref.current===document.activeElement),ke=$0(Ee,ue,De);ke&&setTimeout(()=>ke.ref.current.focus())}),J=A.useCallback((ue,Ee,De)=>{const ke=!we.current&&!De;(U.value!==void 0&&U.value===Ee||ke)&&(b(ue),ke&&(we.current=!0))},[U.value]),ce=A.useCallback(()=>$==null?void 0:$.focus(),[$]),Te=A.useCallback((ue,Ee,De)=>{const ke=!we.current&&!De;(U.value!==void 0&&U.value===Ee||ke)&&L(ue)},[U.value]),Re=i==="popper"?Of:A0,Me=Re===Of?{side:h,sideOffset:f,align:m,alignOffset:y,arrowPadding:w,collisionBoundary:x,collisionPadding:R,sticky:M,hideWhenDetached:P,avoidCollisions:k}:{};return T.jsx(C0,{scope:t,content:$,viewport:Z,onViewportChange:W,itemRefCallback:J,selectedItem:C,onItemLeave:ce,itemTextRefCallback:Te,focusSelectedItem:he,selectedItemText:D,position:i,isPositioned:N,searchRef:re,children:T.jsx(wp,{as:aR,allowPinchZoom:!0,children:T.jsx(_p,{asChild:!0,trapped:U.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Ke(o,ue=>{var Ee;(Ee=U.trigger)==null||Ee.focus({preventScroll:!0}),ue.preventDefault()}),children:T.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:T.jsx(Re,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:ue=>ue.preventDefault(),...V,...Me,onPlaced:()=>pe(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...V.style},onKeyDown:Ke(V.onKeyDown,ue=>{const Ee=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Ee&&ue.key.length===1&&B(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let ke=F().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Le=ue.target,Fe=ke.indexOf(Le);ke=ke.slice(Fe+1)}setTimeout(()=>me(ke)),ue.preventDefault()}})})})})})})});R0.displayName=oR;var lR="SelectItemAlignedPosition",A0=A.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=n,a=ji(xs,t),c=Fi(xs,t),[h,f]=A.useState(null),[m,y]=A.useState(null),w=ot(e,I=>y(I)),x=id(t),R=A.useRef(!1),M=A.useRef(!0),{viewport:P,selectedItem:k,selectedItemText:V,focusSelectedItem:U}=c,$=A.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&m&&P&&k&&V){const I=a.trigger.getBoundingClientRect(),C=m.getBoundingClientRect(),b=a.valueNode.getBoundingClientRect(),D=V.getBoundingClientRect();if(a.dir!=="rtl"){const Le=D.left-C.left,Fe=b.left-Le,lt=I.left-Fe,St=I.width+lt,mn=Math.max(St,C.width),Pn=window.innerWidth-Kn,kn=Kv(Fe,[Kn,Math.max(Kn,Pn-mn)]);h.style.minWidth=St+"px",h.style.left=kn+"px"}else{const Le=C.right-D.right,Fe=window.innerWidth-b.right-Le,lt=window.innerWidth-I.right-Fe,St=I.width+lt,mn=Math.max(St,C.width),Pn=window.innerWidth-Kn,kn=Kv(Fe,[Kn,Math.max(Kn,Pn-mn)]);h.style.minWidth=St+"px",h.style.right=kn+"px"}const L=x(),F=window.innerHeight-Kn*2,N=P.scrollHeight,pe=window.getComputedStyle(m),we=parseInt(pe.borderTopWidth,10),me=parseInt(pe.paddingTop,10),he=parseInt(pe.borderBottomWidth,10),Y=parseInt(pe.paddingBottom,10),ae=we+me+N+Y+he,re=Math.min(k.offsetHeight*5,ae),B=window.getComputedStyle(P),J=parseInt(B.paddingTop,10),ce=parseInt(B.paddingBottom,10),Te=I.top+I.height/2-Kn,Re=F-Te,Me=k.offsetHeight/2,ue=k.offsetTop+Me,Ee=we+me+ue,De=ae-Ee;if(Ee<=Te){const Le=L.length>0&&k===L[L.length-1].ref.current;h.style.bottom="0px";const Fe=m.clientHeight-P.offsetTop-P.offsetHeight,lt=Math.max(Re,Me+(Le?ce:0)+Fe+he),St=Ee+lt;h.style.height=St+"px"}else{const Le=L.length>0&&k===L[0].ref.current;h.style.top="0px";const lt=Math.max(Te,we+P.offsetTop+(Le?J:0)+Me)+De;h.style.height=lt+"px",P.scrollTop=Ee-Te+P.offsetTop}h.style.margin=`${Kn}px 0`,h.style.minHeight=re+"px",h.style.maxHeight=F+"px",i==null||i(),requestAnimationFrame(()=>R.current=!0)}},[x,a.trigger,a.valueNode,h,m,P,k,V,a.dir,i]);Ht(()=>$(),[$]);const[q,Z]=A.useState();Ht(()=>{m&&Z(window.getComputedStyle(m).zIndex)},[m]);const W=A.useCallback(I=>{I&&M.current===!0&&($(),U==null||U(),M.current=!1)},[$,U]);return T.jsx(cR,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:R,onScrollButtonChange:W,children:T.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:T.jsx(Ye.div,{...o,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});A0.displayName=lR;var uR="SelectPopperPosition",Of=A.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=Kn,...a}=n,c=sd(t);return T.jsx(Q_,{...c,...a,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Of.displayName=uR;var[cR,Ep]=Xo(xs,{}),Df="SelectViewport",P0=A.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...o}=n,a=Fi(Df,t),c=Ep(Df,t),h=ot(e,a.onViewportChange),f=A.useRef(0);return T.jsxs(T.Fragment,{children:[T.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),T.jsx(rd.Slot,{scope:t,children:T.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ke(o.onScroll,m=>{const y=m.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:x}=c;if(x!=null&&x.current&&w){const R=Math.abs(f.current-y.scrollTop);if(R>0){const M=window.innerHeight-Kn*2,P=parseFloat(w.style.minHeight),k=parseFloat(w.style.height),V=Math.max(P,k);if(V<M){const U=V+R,$=Math.min(M,U),q=U-$;w.style.height=$+"px",w.style.bottom==="0px"&&(y.scrollTop=q>0?q:0,w.style.justifyContent="flex-end")}}}f.current=y.scrollTop})})})]})});P0.displayName=Df;var k0="SelectGroup",[dR,hR]=Xo(k0),fR=A.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=vs();return T.jsx(dR,{scope:t,id:o,children:T.jsx(Ye.div,{role:"group","aria-labelledby":o,...i,ref:e})})});fR.displayName=k0;var b0="SelectLabel",pR=A.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=hR(b0,t);return T.jsx(Ye.div,{id:o.id,...i,ref:e})});pR.displayName=b0;var Ac="SelectItem",[mR,N0]=Xo(Ac),O0=A.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:a,...c}=n,h=ji(Ac,t),f=Fi(Ac,t),m=h.value===i,[y,w]=A.useState(a??""),[x,R]=A.useState(!1),M=ot(e,U=>{var $;return($=f.itemRefCallback)==null?void 0:$.call(f,U,i,o)}),P=vs(),k=A.useRef("touch"),V=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return T.jsx(mR,{scope:t,value:i,disabled:o,textId:P,isSelected:m,onItemTextChange:A.useCallback(U=>{w($=>$||((U==null?void 0:U.textContent)??"").trim())},[]),children:T.jsx(rd.ItemSlot,{scope:t,value:i,disabled:o,textValue:y,children:T.jsx(Ye.div,{role:"option","aria-labelledby":P,"data-highlighted":x?"":void 0,"aria-selected":m&&x,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:M,onFocus:Ke(c.onFocus,()=>R(!0)),onBlur:Ke(c.onBlur,()=>R(!1)),onClick:Ke(c.onClick,()=>{k.current!=="mouse"&&V()}),onPointerUp:Ke(c.onPointerUp,()=>{k.current==="mouse"&&V()}),onPointerDown:Ke(c.onPointerDown,U=>{k.current=U.pointerType}),onPointerMove:Ke(c.onPointerMove,U=>{var $;k.current=U.pointerType,o?($=f.onItemLeave)==null||$.call(f):k.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(c.onPointerLeave,U=>{var $;U.currentTarget===document.activeElement&&(($=f.onItemLeave)==null||$.call(f))}),onKeyDown:Ke(c.onKeyDown,U=>{var q;((q=f.searchRef)==null?void 0:q.current)!==""&&U.key===" "||(ZC.includes(U.key)&&V(),U.key===" "&&U.preventDefault())})})})})});O0.displayName=Ac;var Ya="SelectItemText",D0=A.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,...a}=n,c=ji(Ya,t),h=Fi(Ya,t),f=N0(Ya,t),m=rR(Ya,t),[y,w]=A.useState(null),x=ot(e,V=>w(V),f.onItemTextChange,V=>{var U;return(U=h.itemTextRefCallback)==null?void 0:U.call(h,V,f.value,f.disabled)}),R=y==null?void 0:y.textContent,M=A.useMemo(()=>T.jsx("option",{value:f.value,disabled:f.disabled,children:R},f.value),[f.disabled,f.value,R]),{onNativeOptionAdd:P,onNativeOptionRemove:k}=m;return Ht(()=>(P(M),()=>k(M)),[P,k,M]),T.jsxs(T.Fragment,{children:[T.jsx(Ye.span,{id:f.textId,...a,ref:x}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Tl.createPortal(a.children,c.valueNode):null]})});D0.displayName=Ya;var M0="SelectItemIndicator",L0=A.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return N0(M0,t).isSelected?T.jsx(Ye.span,{"aria-hidden":!0,...i,ref:e}):null});L0.displayName=M0;var Mf="SelectScrollUpButton",V0=A.forwardRef((n,e)=>{const t=Fi(Mf,n.__scopeSelect),i=Ep(Mf,n.__scopeSelect),[o,a]=A.useState(!1),c=ot(e,i.onScrollButtonChange);return Ht(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=f.scrollTop>0;a(m)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?T.jsx(F0,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});V0.displayName=Mf;var Lf="SelectScrollDownButton",j0=A.forwardRef((n,e)=>{const t=Fi(Lf,n.__scopeSelect),i=Ep(Lf,n.__scopeSelect),[o,a]=A.useState(!1),c=ot(e,i.onScrollButtonChange);return Ht(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=f.scrollHeight-f.clientHeight,y=Math.ceil(f.scrollTop)<m;a(y)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?T.jsx(F0,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});j0.displayName=Lf;var F0=A.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=n,a=Fi("SelectScrollButton",t),c=A.useRef(null),h=id(t),f=A.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return A.useEffect(()=>()=>f(),[f]),Ht(()=>{var y;const m=h().find(w=>w.ref.current===document.activeElement);(y=m==null?void 0:m.ref.current)==null||y.scrollIntoView({block:"nearest"})},[h]),T.jsx(Ye.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ke(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:Ke(o.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:Ke(o.onPointerLeave,()=>{f()})})}),gR="SelectSeparator",vR=A.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return T.jsx(Ye.div,{"aria-hidden":!0,...i,ref:e})});vR.displayName=gR;var Vf="SelectArrow",yR=A.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=sd(t),a=ji(Vf,t),c=Fi(Vf,t);return a.open&&c.position==="popper"?T.jsx(X_,{...o,...i,ref:e}):null});yR.displayName=Vf;var _R="SelectBubbleInput",U0=A.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const o=A.useRef(null),a=ot(i,o),c=hC(e);return A.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&y){const w=new Event("change",{bubbles:!0});y.call(h,e),h.dispatchEvent(w)}},[c,e]),T.jsx(Ye.select,{...t,style:{...Y_,...t.style},ref:a,defaultValue:e})});U0.displayName=_R;function z0(n){return n===""||n===void 0}function B0(n){const e=ws(n),t=A.useRef(""),i=A.useRef(0),o=A.useCallback(c=>{const h=t.current+c;e(h),(function f(m){t.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>f(""),1e3))})(h)},[e]),a=A.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,a]}function $0(n,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=wR(n,Math.max(a,0));o.length===1&&(c=c.filter(m=>m!==t));const f=c.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==t?f:void 0}function wR(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var ER=y0,TR=w0,xR=T0,SR=x0,IR=S0,CR=I0,RR=P0,iy=O0,sy=D0,AR=L0,PR=V0,kR=j0;function bR({value:n,onChange:e,options:t,placeholder:i="..."}){return T.jsxs(ER,{value:n||"__none__",onValueChange:o=>e(o==="__none__"?"":o),children:[T.jsxs(TR,{className:`flex-1 min-w-0 flex items-center justify-between gap-1 h-10 px-3
          rounded border border-zinc-700 bg-black/25
          text-zinc-200 font-kanit font-bold text-sm outline-none
          focus:border-zinc-500 focus:ring-2 focus:ring-zinc-700/30
          data-[placeholder]:text-zinc-500
          truncate cursor-pointer`,"aria-label":"",children:[T.jsx(xR,{placeholder:i,className:"truncate"}),T.jsx(SR,{className:"ml-1 opacity-60 flex-shrink-0",children:T.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:T.jsx("path",{d:"M7 10l5 5 5-5z"})})})]}),T.jsx(IR,{children:T.jsxs(CR,{position:"popper",sideOffset:4,className:`z-50 min-w-[180px] max-h-60 overflow-auto rounded
            border border-zinc-700 bg-zinc-900 shadow-2xl
            data-[state=open]:animate-in data-[state=closed]:animate-out
            data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0`,children:[T.jsx(PR,{className:"flex items-center justify-center h-6 text-zinc-400",children:T.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:T.jsx("path",{d:"M7 14l5-5 5 5z"})})}),T.jsxs(RR,{className:"p-1",children:[T.jsx(iy,{value:"__none__",className:`flex items-center px-3 py-2 rounded-lg text-sm text-zinc-500
                cursor-pointer outline-none select-none
                data-[highlighted]:bg-zinc-800 data-[highlighted]:text-zinc-300`,children:T.jsx(sy,{children:i})}),t.map(o=>T.jsxs(iy,{value:o,className:`flex items-center px-3 py-2 rounded text-sm
                  text-zinc-200 cursor-pointer outline-none select-none
                  data-[highlighted]:bg-zinc-800 data-[highlighted]:text-white data-[state=checked]:font-bold`,children:[T.jsx(AR,{className:"mr-2",children:T.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:T.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",fill:"none"})})}),T.jsx(sy,{children:o})]},o))]}),T.jsx(kR,{className:"flex items-center justify-center h-6 text-zinc-400",children:T.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:T.jsx("path",{d:"M7 10l5 5 5-5z"})})})]})})]})}var od="Dialog",[W0]=El(od),[NR,Jn]=W0(od),H0=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:o,onOpenChange:a,modal:c=!0}=n,h=A.useRef(null),f=A.useRef(null),[m,y]=Rc({prop:i,defaultProp:o??!1,onChange:a,caller:od});return T.jsx(NR,{scope:e,triggerRef:h,contentRef:f,contentId:vs(),titleId:vs(),descriptionId:vs(),open:m,onOpenChange:y,onOpenToggle:A.useCallback(()=>y(w=>!w),[y]),modal:c,children:t})};H0.displayName=od;var q0="DialogTrigger",OR=A.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(q0,t),a=ot(e,o.triggerRef);return T.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Sp(o.open),...i,ref:a,onClick:Ke(n.onClick,o.onOpenToggle)})});OR.displayName=q0;var Tp="DialogPortal",[DR,K0]=W0(Tp,{forceMount:void 0}),G0=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:o}=n,a=Jn(Tp,e);return T.jsx(DR,{scope:e,forceMount:t,children:A.Children.map(i,c=>T.jsx(Qo,{present:t||a.open,children:T.jsx(Zc,{asChild:!0,container:o,children:c})}))})};G0.displayName=Tp;var Pc="DialogOverlay",Q0=A.forwardRef((n,e)=>{const t=K0(Pc,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=Jn(Pc,n.__scopeDialog);return a.modal?T.jsx(Qo,{present:i||a.open,children:T.jsx(LR,{...o,ref:e})}):null});Q0.displayName=Pc;var MR=ol("DialogOverlay.RemoveScroll"),LR=A.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Pc,t);return T.jsx(wp,{as:MR,allowPinchZoom:!0,shards:[o.contentRef],children:T.jsx(Ye.div,{"data-state":Sp(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Ss="DialogContent",X0=A.forwardRef((n,e)=>{const t=K0(Ss,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=Jn(Ss,n.__scopeDialog);return T.jsx(Qo,{present:i||a.open,children:a.modal?T.jsx(VR,{...o,ref:e}):T.jsx(jR,{...o,ref:e})})});X0.displayName=Ss;var VR=A.forwardRef((n,e)=>{const t=Jn(Ss,n.__scopeDialog),i=A.useRef(null),o=ot(e,t.contentRef,i);return A.useEffect(()=>{const a=i.current;if(a)return d0(a)},[]),T.jsx(Y0,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(n.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ke(n.onPointerDownOutside,a=>{const c=a.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0;(c.button===2||h)&&a.preventDefault()}),onFocusOutside:Ke(n.onFocusOutside,a=>a.preventDefault())})}),jR=A.forwardRef((n,e)=>{const t=Jn(Ss,n.__scopeDialog),i=A.useRef(!1),o=A.useRef(!1);return T.jsx(Y0,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,h;(c=n.onCloseAutoFocus)==null||c.call(n,a),a.defaultPrevented||(i.current||(h=t.triggerRef.current)==null||h.focus(),a.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:a=>{var f,m;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((m=t.triggerRef.current)==null?void 0:m.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Y0=A.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=n,h=Jn(Ss,t),f=A.useRef(null),m=ot(e,f);return l0(),T.jsxs(T.Fragment,{children:[T.jsx(_p,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:a,children:T.jsx(Kc,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Sp(h.open),...c,ref:m,onDismiss:()=>h.onOpenChange(!1)})}),T.jsxs(T.Fragment,{children:[T.jsx(FR,{titleId:h.titleId}),T.jsx(zR,{contentRef:f,descriptionId:h.descriptionId})]})]})}),xp="DialogTitle",J0=A.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(xp,t);return T.jsx(Ye.h2,{id:o.titleId,...i,ref:e})});J0.displayName=xp;var Z0="DialogDescription",ew=A.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Z0,t);return T.jsx(Ye.p,{id:o.descriptionId,...i,ref:e})});ew.displayName=Z0;var tw="DialogClose",nw=A.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(tw,t);return T.jsx(Ye.button,{type:"button",...i,ref:e,onClick:Ke(n.onClick,()=>o.onOpenChange(!1))})});nw.displayName=tw;function Sp(n){return n?"open":"closed"}var rw="DialogTitleWarning",[MO,iw]=Hx(rw,{contentName:Ss,titleName:xp,docsSlug:"dialog"}),FR=({titleId:n})=>{const e=iw(rw),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},UR="DialogDescriptionWarning",zR=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iw(UR).contentName}}.`;return A.useEffect(()=>{var a;const o=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},sw=H0,ow=G0,aw=Q0,lw=X0,uw=J0,cw=ew,dw=nw;function hw({open:n,title:e,label:t,defaultValue:i="",onConfirm:o,onCancel:a}){const[c,h]=A.useState(i),f=A.useRef(null);A.useEffect(()=>{n&&(h(i),setTimeout(()=>{var w;return(w=f.current)==null?void 0:w.focus()},50))},[n,i]);function m(){const w=c.trim();w&&o(w)}function y(w){w.key==="Enter"&&m(),w.key==="Escape"&&a()}return T.jsx(sw,{open:n,onOpenChange:w=>!w&&a(),children:T.jsxs(ow,{children:[T.jsx(aw,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50"}),T.jsxs(lw,{className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50
            w-[90vw] max-w-sm rounded-xl border border-zinc-700
            bg-zinc-900 p-6 shadow-2xl`,children:[T.jsx(uw,{className:"text-white font-bold text-lg mb-1",children:e}),T.jsx(cw,{className:"text-zinc-400 text-sm mb-4",children:t}),T.jsx("input",{ref:f,value:c,onChange:w=>h(w.target.value),onKeyDown:y,className:`w-full h-11 rounded border-2 border-zinc-500 bg-white
              text-black font-bold text-base px-3 outline-none`,placeholder:"..."}),T.jsxs("div",{className:"flex gap-3 mt-4",children:[T.jsx("button",{onClick:m,className:`flex-1 h-11 rounded bg-[#e60a3d] text-white font-extrabold
                text-base hover:brightness-110 active:scale-[0.985] transition-all`,children:""}),T.jsx("button",{onClick:a,className:`flex-1 h-11 rounded border border-zinc-700
                text-zinc-400 font-extrabold text-base bg-transparent
                hover:bg-zinc-800 hover:text-zinc-200 active:scale-[0.985] transition-all`,children:""})]}),T.jsx(dw,{asChild:!0,children:T.jsx("button",{"aria-label":"Close",className:`absolute top-3 right-3 text-zinc-500 hover:text-zinc-300
                w-7 h-7 flex items-center justify-center rounded-full text-lg`,onClick:a,children:""})})]})]})})}const Co=200,ff=[{name:"",steps:5,image:"rank1.png"},{name:"",steps:10,image:"rank2.png"},{name:"",steps:10,image:"rank3.png"},{name:"",steps:20,image:"rank4.png"},{name:"",steps:25,image:"rank5.png"},{name:"",steps:25,image:"rank6.png"},{name:"",steps:25,image:"rank7.png"},{name:"",steps:25,image:"rank8.png"},{name:"",steps:50,image:"rank9.png"},{name:"",steps:50,image:"rank10.png"}],hr=[{id:"extream",count:8,label:"Extream"},{id:"sport",count:7,label:"Sport"},{id:"standard",count:7,label:"Standard"}],fw={extream:["LaFerrari","Huayra BC","Ford GT","Centodieci","SVJ","Benz GT R","Chiron","Vulcan"],sport:["Reventon","Giulia","GT-R","XJ220","F-Type","NSX-R","4C Spider"],standard:["RX7","DB5","Emira","911 Carrera","Mach 1","Camaro Z/28","S15"]},pw={extream:[{pointBox:[.42,.27,.17,.05]},{pointBox:[.595,.27,.17,.05]},{pointBox:[.77,.27,.17,.05]},{pointBox:[.42,.49,.17,.05]},{pointBox:[.595,.49,.17,.05]},{pointBox:[.77,.49,.17,.05]},{pointBox:[.42,.72,.17,.05]},{pointBox:[.595,.72,.17,.05]}],sport:[{pointBox:[.42,.32,.17,.05]},{pointBox:[.595,.32,.17,.05]},{pointBox:[.77,.32,.17,.05]},{pointBox:[.42,.55,.17,.05]},{pointBox:[.595,.55,.17,.05]},{pointBox:[.77,.55,.17,.05]},{pointBox:[.42,.775,.17,.05]}],standard:[{pointBox:[.42,.39,.17,.05]},{pointBox:[.595,.39,.17,.05]},{pointBox:[.77,.39,.17,.05]},{pointBox:[.42,.62,.17,.05]},{pointBox:[.595,.62,.17,.05]},{pointBox:[.77,.62,.17,.05]},{pointBox:[.42,.845,.17,.05]}]},BR={extream:[{pointBox:[.42,.23,.17,.04]},{pointBox:[.595,.23,.17,.04]},{pointBox:[.77,.23,.17,.04]},{pointBox:[.42,.45,.17,.04]},{pointBox:[.595,.45,.17,.04]},{pointBox:[.77,.45,.17,.04]},{pointBox:[.42,.68,.17,.04]},{pointBox:[.595,.68,.17,.04]}],sport:[{pointBox:[.42,.29,.17,.04]},{pointBox:[.595,.29,.17,.04]},{pointBox:[.77,.29,.17,.04]},{pointBox:[.42,.51,.17,.04]},{pointBox:[.595,.51,.17,.04]},{pointBox:[.77,.51,.17,.04]},{pointBox:[.42,.74,.17,.04]}],standard:[{pointBox:[.42,.35,.17,.04]},{pointBox:[.595,.35,.17,.04]},{pointBox:[.77,.35,.17,.04]},{pointBox:[.42,.58,.17,.04]},{pointBox:[.595,.58,.17,.04]},{pointBox:[.77,.58,.17,.04]},{pointBox:[.42,.805,.17,.04]}]};function ul(n){return String(n||"").trim()}function ps(n){return ul(n).toLowerCase()}function kc(n,e){var h;const t=fw[n]||[],i=((h=e.customCars)==null?void 0:h[n])||[],o=[...t,...i].map(ul).filter(Boolean),a=new Set,c=[];for(const f of o){const m=ps(f);a.has(m)||(a.add(m),c.push(f))}return c}function $R({index:n,sectionId:e,value:t,isLocked:i,carValue:o,isOcrCar:a,state:c,onValueChange:h,onToggleLock:f,onCarChange:m,onAddCustomCar:y,onCalc:w}){const[x,R]=A.useState(!1),M=kc(e,c);function P(k){const V=ul(k);if(!V)return;M.some($=>ps($)===ps(V))||y(V),m(V),R(!1)}return T.jsx(tC,{delayDuration:400,children:T.jsxs("div",{className:`flex gap-[6px] items-center ${i?"locked-row":""}`,children:[T.jsx("input",{type:"number",inputMode:"numeric",placeholder:` #${n+1}`,value:t,onChange:k=>h(k.target.value),onKeyDown:k=>k.key==="Enter"&&w(),className:`w-[130px] flex-shrink-0 h-10 rounded border-2 border-zinc-500
            bg-white text-black font-extrabold text-base text-center px-2 outline-none
            placeholder:text-gray-400 placeholder:font-semibold
            [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none
            [&::-webkit-outer-spin-button]:appearance-none`}),T.jsxs(ef,{children:[T.jsx(tf,{asChild:!0,children:T.jsx("button",{type:"button",onClick:f,className:`w-10 h-10 flex-shrink-0 rounded flex items-center justify-center
                cursor-pointer transition-all active:scale-[0.97]
                ${i?"border border-zinc-500 bg-zinc-800 text-zinc-200":"border border-white/20 bg-transparent text-white/80 hover:bg-white/5"}`,children:i?T.jsx(Ux,{}):T.jsx(zx,{})})}),T.jsx(nf,{children:T.jsxs(rf,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[i?" (Reset )":"",T.jsx(sf,{className:"fill-zinc-800"})]})})]}),a?T.jsxs(ef,{children:[T.jsx(tf,{asChild:!0,children:T.jsxs("div",{className:`flex-1 min-w-0 h-10 rounded border border-zinc-700
                bg-zinc-900/50 text-zinc-300 text-sm font-semibold
                flex items-center px-3 overflow-hidden cursor-default select-none`,children:[T.jsx("span",{className:"truncate",children:o||` #${n+1}`}),T.jsx("span",{className:"ml-auto text-[10px] text-zinc-600 flex-shrink-0 pl-2",children:"OCR"})]})}),T.jsx(nf,{children:T.jsxs(rf,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[" OCR  ",T.jsx(sf,{className:"fill-zinc-800"})]})})]}):T.jsxs(T.Fragment,{children:[T.jsx(bR,{value:o,onChange:m,options:M}),T.jsxs(ef,{children:[T.jsx(tf,{asChild:!0,children:T.jsx("button",{type:"button",onClick:()=>R(!0),className:`w-10 h-10 flex-shrink-0 rounded border border-zinc-700
                    bg-zinc-900/50 text-zinc-400
                    flex items-center justify-center cursor-pointer
                    hover:bg-zinc-800 hover:text-zinc-200 active:scale-[0.97] transition-all`,children:T.jsx(Bx,{})})}),T.jsx(nf,{children:T.jsxs(rf,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[" / ",T.jsx(sf,{className:"fill-zinc-800"})]})})]}),T.jsx(hw,{open:x,title:"",label:" ( dropdown )",defaultValue:o,onConfirm:P,onCancel:()=>R(!1)})]})]})})}function WR({sectionId:n,label:e,badgeText:t,state:i,isImporting:o,hasDebug:a,onStateChange:c,onImport:h,onCalc:f,onShowDebug:m}){const[y,w]=A.useState(!1),x=i.sections[n],R=i.locked[n],M=i.cars[n];function P($,q,Z){c(W=>{const I=[...W[q][n]];return I[$]=Z,{...W,[q]:{...W[q],[n]:I}}})}function k($){const q=ul($);!q||kc(n,i).some(W=>ps(W)===ps(q))||c(W=>({...W,customCars:{...W.customCars,[n]:[...W.customCars[n]||[],q]}}))}function V($){const q=ul($);if(!q)return;kc(n,i).some(W=>ps(W)===ps(q))||k(q),w(!1)}const U=x.every($=>!$);return T.jsxs("div",{className:`flex flex-col rounded-none
      border border-white/[0.07] shadow-[0_4px_24px_rgba(0,0,0,0.8)]
      min-h-0 overflow-hidden`,children:[T.jsxs("div",{className:"flex items-center gap-2.5 px-3 py-2.5 bg-[#0c0c0c]/90 border-b border-white/[0.08] flex-shrink-0",children:[T.jsx("span",{className:"flex-shrink-0 w-[3px] h-5 bg-[#e60a3d]"}),T.jsx("span",{className:"text-white font-extrabold text-[14px] uppercase tracking-widest",children:e}),T.jsx("span",{className:"text-[10px] text-zinc-500 font-semibold",children:t}),a&&T.jsxs("button",{type:"button",onClick:m,title:" OCR Debug",className:`flex items-center gap-1 h-6 px-2 rounded
              bg-white/5 text-zinc-400 text-[10px] cursor-pointer
              hover:bg-white/10 hover:text-zinc-200 active:scale-[0.97] transition-all`,children:[T.jsx(Fx,{}),"Debug"]}),T.jsx("button",{type:"button",onClick:()=>w(!0),className:`ml-auto flex items-center gap-1 h-6 px-2 rounded
            bg-white/5 text-zinc-400 text-[11px] cursor-pointer
            hover:bg-white/10 hover:text-zinc-200 active:scale-[0.97] transition-all`,children:"+ "})]}),T.jsxs("div",{className:"flex flex-col p-3 min-h-0 flex-1 bg-[#0c0c0c]/70",children:[o?T.jsxs("div",{className:`mb-3 flex-shrink-0 rounded border border-zinc-700
            bg-zinc-900/50 px-3 py-2.5`,children:[T.jsxs("div",{className:"flex items-center justify-between text-white text-xs font-bold mb-2",children:[T.jsx("span",{children:"..."}),T.jsx("span",{className:`inline-block w-3.5 h-3.5 border-2 border-zinc-600
                border-t-zinc-300 rounded-full animate-spin`})]}),T.jsx("div",{className:"h-1 bg-zinc-800 rounded-full overflow-hidden",children:T.jsx("div",{className:`h-full w-2/3 bg-gradient-to-r from-zinc-600 to-zinc-400
                rounded-full animate-pulse`})})]}):T.jsxs("button",{type:"button",onClick:()=>h(n),className:`mb-3 flex-shrink-0 w-full flex items-center justify-center gap-2
              py-2 rounded border border-dashed border-zinc-700
              bg-transparent text-zinc-300 font-bold text-[13px]
              hover:bg-zinc-900 hover:border-zinc-500 hover:text-white
              active:scale-[0.99] transition-all cursor-pointer`,children:[T.jsx($x,{}),"Import "]}),U&&!o&&T.jsxs("p",{className:"text-[12px] text-center text-zinc-700 mb-2 leading-relaxed flex-shrink-0",children:[" ",T.jsx("span",{className:"text-zinc-500 font-semibold",children:"Import"})," "]}),T.jsx("div",{className:"flex flex-col gap-[10px] overflow-auto section-scroll min-h-0 pr-1",children:x.map(($,q)=>{var Z,W;return T.jsx($R,{index:q,sectionId:n,value:$,isLocked:R[q],carValue:M[q],isOcrCar:!!((W=(Z=i.ocrCars)==null?void 0:Z[n])!=null&&W[q]),state:i,onValueChange:I=>P(q,"sections",I),onToggleLock:()=>P(q,"locked",!R[q]),onCarChange:I=>P(q,"cars",I),onAddCustomCar:k,onCalc:f},q)})})]}),T.jsx(hw,{open:y,title:` ${e}`,label:" dropdown",onConfirm:V,onCancel:()=>w(!1)})]})}const HR="/cal-ranking-rm/assets/rank1-DZAoVzls.png",qR=Object.freeze(Object.defineProperty({__proto__:null,default:HR},Symbol.toStringTag,{value:"Module"})),KR="/cal-ranking-rm/assets/rank10-CVDQi1xx.png",GR=Object.freeze(Object.defineProperty({__proto__:null,default:KR},Symbol.toStringTag,{value:"Module"})),QR="/cal-ranking-rm/assets/rank2-D5c2RTG_.png",XR=Object.freeze(Object.defineProperty({__proto__:null,default:QR},Symbol.toStringTag,{value:"Module"})),YR="/cal-ranking-rm/assets/rank3-Cz6YBboE.png",JR=Object.freeze(Object.defineProperty({__proto__:null,default:YR},Symbol.toStringTag,{value:"Module"})),ZR="/cal-ranking-rm/assets/rank4-BtCpKU8a.png",eA=Object.freeze(Object.defineProperty({__proto__:null,default:ZR},Symbol.toStringTag,{value:"Module"})),tA="/cal-ranking-rm/assets/rank5-Bm73PBg4.png",nA=Object.freeze(Object.defineProperty({__proto__:null,default:tA},Symbol.toStringTag,{value:"Module"})),rA="/cal-ranking-rm/assets/rank6-CdWWTIHA.png",iA=Object.freeze(Object.defineProperty({__proto__:null,default:rA},Symbol.toStringTag,{value:"Module"})),sA="/cal-ranking-rm/assets/rank7-DTb5zJIB.png",oA=Object.freeze(Object.defineProperty({__proto__:null,default:sA},Symbol.toStringTag,{value:"Module"})),aA="/cal-ranking-rm/assets/rank8-CId31O5R.png",lA=Object.freeze(Object.defineProperty({__proto__:null,default:aA},Symbol.toStringTag,{value:"Module"})),uA="/cal-ranking-rm/assets/rank9-B_JOtBkm.png",cA=Object.freeze(Object.defineProperty({__proto__:null,default:uA},Symbol.toStringTag,{value:"Module"})),dA=Object.assign({"../images/rank1.png":qR,"../images/rank10.png":GR,"../images/rank2.png":XR,"../images/rank3.png":JR,"../images/rank4.png":eA,"../images/rank5.png":nA,"../images/rank6.png":iA,"../images/rank7.png":oA,"../images/rank8.png":lA,"../images/rank9.png":cA});function hA(n){const e=dA[`../images/${n}`];return(e==null?void 0:e.default)??""}function fA(n){return n.includes("")?"#9ca3af":n.includes("")?"#86efac":n.includes("")?"#22c55e":n.includes("")?"#60a5fa":n.includes("")?"#c084fc":n.includes("")?"#fb923c":n.includes("")?"#f97316":n.includes("")?"#f87171":n.includes("")?"#a3e635":"#dfcd80"}function pA({bonus:n,sectionTotals:e,onBonusChange:t,onCalc:i,onReset:o,result:a,isCalculating:c}){const h=a?fA(a.rank.hat):"#71717a",f=a?Math.round(a.rank.inStep/a.rank.stepMax*100):0;return T.jsxs("div",{className:`rounded-none border border-white/[0.07]
      shadow-[0_4px_24px_rgba(0,0,0,0.8)] overflow-hidden`,children:[T.jsxs("div",{className:"flex items-center gap-2.5 px-4 py-2.5 bg-[#0c0c0c]/90 border-b border-white/[0.08]",children:[T.jsx("span",{className:"flex-shrink-0 w-[3px] h-5 bg-[#e60a3d]"}),T.jsx("span",{className:"text-white font-extrabold text-[13px] uppercase tracking-widest",children:"Season Reward"}),T.jsx("span",{className:"text-zinc-600 text-[11px]",children:"/  Tier Details"})]}),T.jsxs("div",{className:"p-4 bg-[#0c0c0c]/70",children:[T.jsxs("div",{className:`flex flex-wrap items-center gap-2 mb-4 pb-3.5
          border-b border-zinc-800`,children:[hr.map(m=>T.jsxs("div",{className:`flex items-center gap-2 bg-black/60 rounded px-3 py-1.5
                border border-zinc-800`,children:[T.jsx("span",{className:"text-zinc-500 text-xs",children:m.label}),T.jsx("span",{className:"text-white font-bold text-sm tabular-nums tracking-tight",children:e[m.id].toLocaleString()})]},m.id)),T.jsx("span",{className:"text-zinc-700 text-sm font-light",children:"+"}),T.jsxs("div",{className:`flex items-center gap-2 bg-black/60 rounded px-3 py-1.5
            border border-zinc-800`,children:[T.jsx("span",{className:"text-zinc-500 text-xs",children:""}),T.jsx("span",{className:"text-white font-bold text-sm tabular-nums",children:n.toLocaleString()})]}),a&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"text-zinc-700 text-sm font-light",children:"="}),T.jsxs("div",{className:`flex items-center gap-2 bg-black/60 rounded px-3 py-1.5
                border border-zinc-600`,children:[T.jsx("span",{className:"text-zinc-400 text-xs",children:""}),T.jsx("span",{className:"text-white font-extrabold text-sm tabular-nums",children:a.total.toLocaleString()})]})]})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-5",children:[T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("div",{className:"text-[10px] text-zinc-600 font-semibold uppercase tracking-[0.15em] mb-2",children:"Tier Details"}),T.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a&&T.jsx("img",{src:hA(a.rank.image),alt:a.rank.hat,className:`w-14 h-14 object-contain flex-shrink-0 drop-shadow-lg
                    transition-all duration-500`},a.rank.image),T.jsx("div",{className:"font-extrabold leading-none truncate transition-colors duration-500",style:{fontSize:"clamp(24px, 3.5vw, 38px)",color:h},children:a?a.rank.hat:""})]}),T.jsx("div",{className:"text-zinc-500 text-sm font-medium mb-3",children:a?` ${a.rank.stepInHat}  ${a.rank.hatSteps} `:" Import  "}),T.jsxs("div",{className:"space-y-1.5",children:[T.jsx("div",{className:"h-1.5 bg-zinc-900 rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${f}%`,background:`linear-gradient(90deg, ${h}60, ${h})`}})}),T.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[T.jsx("span",{className:"text-zinc-600",children:a?`${a.rank.inStep.toLocaleString()} / ${a.rank.stepMax.toLocaleString()} `:`: 1  = ${Co} `}),a&&T.jsxs("span",{className:"font-bold tabular-nums",style:{color:h},children:[f,"%"]})]})]})]}),T.jsxs("div",{className:"flex flex-row sm:flex-col items-center sm:items-end gap-2 flex-shrink-0",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("label",{className:"text-zinc-500 text-[11px] font-bold whitespace-nowrap hidden sm:block",children:""}),T.jsx("input",{type:"number",value:n,onChange:m=>t(Number(m.target.value)),placeholder:"",className:`w-[88px] h-10 rounded border-2 border-zinc-500
                  bg-white text-black font-extrabold text-sm text-center
                  outline-none [appearance:textfield]
                  [&::-webkit-inner-spin-button]:appearance-none
                  [&::-webkit-outer-spin-button]:appearance-none`})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"button",onClick:i,disabled:c,className:`h-10 px-5 rounded bg-[#e60a3d] text-white font-extrabold text-sm
                  cursor-pointer hover:brightness-110 active:scale-[0.985] transition-all
                  disabled:opacity-70 disabled:cursor-wait flex items-center justify-center gap-1.5
                  whitespace-nowrap`,children:c?T.jsxs(T.Fragment,{children:["...",T.jsx("span",{className:`inline-block w-3.5 h-3.5 border-2 border-white/30
                      border-t-white rounded-full animate-spin`})]}):""}),T.jsx("button",{type:"button",onClick:o,className:`h-10 px-4 rounded border border-zinc-700
                  text-zinc-400 font-extrabold text-sm bg-transparent
                  cursor-pointer hover:bg-zinc-900/50 hover:text-zinc-200 active:scale-[0.985] transition-all
                  whitespace-nowrap`,children:"Reset"})]})]})]})]})]})}function mA({user:n,onSignIn:e,onSignOut:t}){var i;return T.jsxs("button",{type:"button",onClick:n?t:e,className:`flex items-center gap-2
        h-8 px-3 rounded-[8px] bg-[#e60a3d] text-white font-bold text-xs
        cursor-pointer hover:brightness-110 active:scale-[0.98] transition-all`,children:[T.jsx(Wx,{className:"w-3.5 h-3.5 flex-shrink-0"}),T.jsx("span",{className:"max-w-[120px] truncate",children:n?((i=n.displayName)==null?void 0:i.split(" ")[0])||"Google":"Sign in"})]})}const ic=["#ff4444","#ff8800","#ffdd00","#44ff88","#00ccff","#aa44ff","#ff66cc","#ffffff"];function gA({open:n,imageUrl:e,sectionId:t,points:i,badgeRightEdges:o=[],onClose:a}){const c=A.useRef(null);return A.useEffect(()=>{if(!n||!e)return;let h=!1;const f=requestAnimationFrame(()=>{if(h||!c.current)return;const m=c.current,y=m.getContext("2d"),w=new Image;w.onerror=x=>console.error("[OcrDebug] image load failed",x),w.onload=()=>{if(h)return;const x=Math.min(900,w.naturalWidth),R=x/w.naturalWidth;m.width=x,m.height=w.naturalHeight*R,y.drawImage(w,0,0,m.width,m.height);const M=Math.round(w.naturalWidth*.005);pw[t].forEach((k,V)=>{const[U,$,q,Z]=k.pointBox,W=ic[V%ic.length],I=U*m.width,C=$*m.height,b=q*m.width,D=Z*m.height;y.save(),y.setLineDash([5,4]),y.strokeStyle="#ffee00",y.lineWidth=1.5,y.strokeRect(I,C,b,D),y.restore();const L=o[V],F=Math.round(w.naturalWidth*U),N=Math.round(w.naturalHeight*$),pe=Math.round(w.naturalWidth*q),we=Math.round(w.naturalHeight*Z),me=L!=null?L+M:F+Math.round(pe*.65),he=F+pe,Y=Math.max(0,he-me),ae=me*R,re=N*R,B=Y*R,J=we*R;if(y.fillStyle=W+"28",y.fillRect(ae,re,B,J),y.strokeStyle=W,y.lineWidth=2,y.strokeRect(ae,re,B,J),L!=null){const Re=(L+M)*R;y.save(),y.strokeStyle="#ff69b4",y.lineWidth=1.5,y.setLineDash([3,3]),y.beginPath(),y.moveTo(Re,re),y.lineTo(Re,re+J),y.stroke(),y.restore()}const ce=`#${V+1}: ${i[V]||""}`;y.font="bold 13px monospace";const Te=y.measureText(ce).width;y.fillStyle="rgba(0,0,0,0.8)",y.fillRect(ae,re-21,Te+8,20),y.fillStyle=W,y.fillText(ce,ae+4,re-6)})},w.src=e});return()=>{h=!0,cancelAnimationFrame(f)}},[n,e,t,i,o]),T.jsx(sw,{open:n,onOpenChange:h=>!h&&a(),children:T.jsxs(ow,{children:[T.jsx(aw,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),T.jsxs(lw,{className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50
            w-[95vw] max-w-5xl max-h-[90vh] flex flex-col
            rounded-xl border border-zinc-700 bg-zinc-900 shadow-2xl overflow-hidden`,children:[T.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-zinc-800 flex-shrink-0 gap-4",children:[T.jsxs(uw,{className:"text-white font-bold text-lg whitespace-nowrap",children:["OCR Debug  ",t.toUpperCase()]}),T.jsxs(cw,{className:"text-zinc-500 text-xs text-center flex-1",children:[T.jsxs("span",{className:"inline-block mr-3",children:[T.jsx("span",{className:"text-yellow-300",children:"- - -"})," = zone  badge "]}),T.jsxs("span",{className:"inline-block mr-3",children:[T.jsx("span",{className:"text-pink-400",children:"| |"})," =  badge"]}),T.jsxs("span",{className:"inline-block",children:[T.jsx("span",{className:"text-green-400",children:""})," = zone OCR "]})]}),T.jsx(dw,{asChild:!0,children:T.jsx("button",{onClick:a,className:`text-zinc-400 hover:text-white w-8 h-8 flex items-center justify-center
                  rounded-full hover:bg-zinc-700 text-xl transition-colors flex-shrink-0`,children:""})})]}),T.jsx("div",{className:"overflow-auto p-4 flex-1",children:T.jsx("canvas",{ref:c,className:"w-full rounded-xl border border-zinc-700",style:{imageRendering:"auto"}})}),T.jsx("div",{className:"flex flex-wrap gap-2 px-5 py-3 border-t border-zinc-800 flex-shrink-0",children:i.map((h,f)=>T.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-mono px-2 py-1 rounded-lg bg-zinc-800",children:[T.jsx("span",{className:"inline-block w-3 h-3 rounded-sm flex-shrink-0",style:{background:ic[f%ic.length]}}),T.jsxs("span",{className:"text-zinc-400",children:["#",f+1]}),T.jsx("span",{className:h?"text-white font-bold":"text-red-400",children:h||""}),o[f]!=null?T.jsx("span",{className:"text-pink-400 text-[10px]",children:"badge"}):T.jsx("span",{className:"text-zinc-600 text-[10px]",children:"fallback"})]},f))})]})]})})}const oy=1200;function vA(){const[n,e]=A.useState(["","","","",""]),[t,i]=A.useState(""),[o,a]=A.useState(null);function c(y,w){e(x=>{const R=[...x];return R[y]=w,R})}function h(){t&&e(Array(5).fill(t))}function f(){const y=n.reduce((w,x)=>w+(Number(x)||0),0);a(y+oy)}function m(){e(["","","","",""]),i(""),a(null)}return T.jsx("main",{className:"max-w-[600px] mx-auto px-3 py-8 flex flex-col gap-4",children:T.jsxs("div",{className:`rounded-none bg-[#0c0c0c] border border-white/[0.07]
        shadow-[0_4px_24px_rgba(0,0,0,0.8)] overflow-hidden`,children:[T.jsxs("div",{className:"flex items-center gap-2.5 px-4 py-2.5 border-b border-white/[0.08]",children:[T.jsx("span",{className:"flex-shrink-0 w-[3px] h-5 bg-[#e60a3d]"}),T.jsx("span",{className:"text-white font-extrabold text-[14px] uppercase tracking-widest",children:"Score Calculator"}),T.jsx("span",{className:"text-zinc-500 text-[11px]",children:""})]}),T.jsxs("div",{className:"p-5 flex flex-col gap-5",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("label",{className:"text-zinc-400 text-sm whitespace-nowrap",children:":"}),T.jsx("input",{type:"number",value:t,onChange:y=>i(y.target.value),onKeyDown:y=>y.key==="Enter"&&h(),placeholder:"...",className:`w-28 h-9 rounded border border-zinc-700 bg-black/40
                text-white font-bold text-sm text-center outline-none
                [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none
                [&::-webkit-outer-spin-button]:appearance-none
                focus:border-zinc-500 transition-colors`}),T.jsx("button",{type:"button",onClick:h,className:`h-9 px-4 rounded border border-zinc-700 bg-white/5
                text-zinc-300 text-sm font-semibold cursor-pointer
                hover:bg-white/10 hover:text-white active:scale-[0.97] transition-all`,children:"Fill All"})]}),T.jsxs("div",{className:"flex flex-col gap-2.5",children:[T.jsx("span",{className:"text-zinc-500 text-xs uppercase tracking-widest",children:""}),T.jsx("div",{className:"grid grid-cols-5 gap-2",children:n.map((y,w)=>T.jsxs("div",{className:"flex flex-col items-center gap-1",children:[T.jsxs("span",{className:"text-zinc-600 text-[10px]",children:["#",w+1]}),T.jsx("input",{type:"number",inputMode:"numeric",value:y,onChange:x=>c(w,x.target.value),onKeyDown:x=>x.key==="Enter"&&f(),className:`w-full h-12 rounded border-2 border-zinc-600
                      bg-white text-black font-extrabold text-base text-center
                      outline-none focus:border-zinc-400 transition-colors
                      [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none
                      [&::-webkit-outer-spin-button]:appearance-none`})]},w))})]}),T.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-600",children:[T.jsx("span",{className:"w-[3px] h-3 bg-zinc-700 flex-shrink-0"})," ",oy.toLocaleString(),"  "]}),T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{type:"button",onClick:f,className:`flex-1 h-11 rounded bg-[#e60a3d] text-white font-extrabold text-base
                cursor-pointer hover:brightness-110 active:scale-[0.985] transition-all`,children:""}),T.jsx("button",{type:"button",onClick:m,className:`h-11 px-6 rounded border border-zinc-700
                text-zinc-400 font-extrabold text-base bg-transparent
                cursor-pointer hover:bg-zinc-900/50 hover:text-zinc-200 active:scale-[0.985] transition-all`,children:"Reset"})]}),o!==null&&T.jsxs("div",{className:"border-t border-white/[0.08] pt-4 flex items-center justify-between",children:[T.jsx("span",{className:"text-zinc-500 text-sm",children:""}),T.jsx("span",{className:"text-white font-extrabold tabular-nums",style:{fontSize:"clamp(28px, 5vw, 42px)"},children:o.toLocaleString()})]})]})]})})}const mw=5;function sc(){const n={};for(const e of hr)n[e.id]=Array(mw).fill("");return n}function oc(n){return n.reduce((e,t)=>e+(Number(t)||0),0)}function yA(){const[n,e]=A.useState(sc),[t,i]=A.useState(sc),[o,a]=A.useState(!1);function c(w,x,R,M){(w==="mine"?e:i)(k=>{const V={...k,[x]:[...k[x]]};return V[x][R]=M,V})}function h(){e(sc()),i(sc()),a(!1)}const f=hr.reduce((w,x)=>w+oc(n[x.id]),0),m=hr.reduce((w,x)=>w+oc(t[x.id]),0),y=f-m;return T.jsxs("main",{className:"max-w-[1320px] mx-auto px-3 py-6 flex flex-col gap-4",children:[T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:hr.map(w=>{const x=oc(n[w.id]),R=oc(t[w.id]),M=x-R;return T.jsxs("div",{className:`rounded-none bg-[#0c0c0c] border border-white/[0.07]
                shadow-[0_4px_24px_rgba(0,0,0,0.8)] overflow-hidden flex flex-col`,children:[T.jsxs("div",{className:"flex items-center gap-2.5 px-3 py-2.5 border-b border-white/[0.08] flex-shrink-0",children:[T.jsx("span",{className:"flex-shrink-0 w-[3px] h-5 bg-[#e60a3d]"}),T.jsx("span",{className:"text-white font-extrabold text-[13px] uppercase tracking-widest",children:w.label}),T.jsxs("span",{className:"text-zinc-600 text-[10px]",children:[mw," "]})]}),T.jsxs("div",{className:"p-3 flex flex-col gap-3 flex-1",children:[T.jsxs("div",{className:"flex flex-col gap-1.5",children:[T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#e60a3d]"}),T.jsx("span",{className:"text-[#e60a3d] text-[10px] font-extrabold uppercase tracking-widest",children:""}),o&&T.jsx("span",{className:"ml-auto text-white font-extrabold text-sm tabular-nums",children:x.toLocaleString()})]}),T.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:n[w.id].map((P,k)=>T.jsx("input",{type:"number",inputMode:"numeric",value:P,onChange:V=>c("mine",w.id,k,V.target.value),onKeyDown:V=>V.key==="Enter"&&a(!0),placeholder:`${k+1}`,className:`w-full h-9 rounded border-2 border-zinc-500
                          bg-white text-black font-bold text-sm text-center outline-none
                          focus:border-zinc-300 transition-colors
                          [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none
                          [&::-webkit-outer-spin-button]:appearance-none`},k))})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"flex-1 h-px bg-white/[0.06]"}),o?T.jsx("span",{className:`text-[11px] font-extrabold tabular-nums px-2 py-0.5 rounded
                      ${M>0?"text-[#e60a3d] bg-[#e60a3d]/10":M<0?"text-zinc-300 bg-zinc-800":"text-zinc-600 bg-zinc-900"}`,children:M>0?`+${M.toLocaleString()}`:M===0?"=":M.toLocaleString()}):T.jsx("span",{className:"text-zinc-800 text-[10px]",children:"vs"}),T.jsx("div",{className:"flex-1 h-px bg-white/[0.06]"})]}),T.jsxs("div",{className:"flex flex-col gap-1.5",children:[T.jsxs("div",{className:"flex items-center gap-1.5",children:[T.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-zinc-500"}),T.jsx("span",{className:"text-zinc-400 text-[10px] font-extrabold uppercase tracking-widest",children:""}),o&&T.jsx("span",{className:"ml-auto text-zinc-300 font-extrabold text-sm tabular-nums",children:R.toLocaleString()})]}),T.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:t[w.id].map((P,k)=>T.jsx("input",{type:"number",inputMode:"numeric",value:P,onChange:V=>c("theirs",w.id,k,V.target.value),onKeyDown:V=>V.key==="Enter"&&a(!0),placeholder:`${k+1}`,className:`w-full h-9 rounded border-2 border-zinc-600
                          bg-white text-black font-bold text-sm text-center outline-none
                          focus:border-zinc-400 transition-colors
                          [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none
                          [&::-webkit-outer-spin-button]:appearance-none`},k))})]})]})]},w.id)})}),T.jsx("div",{className:`rounded-none bg-[#0c0c0c] border border-white/[0.07]
        shadow-[0_4px_24px_rgba(0,0,0,0.8)] overflow-hidden`,children:T.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[T.jsxs("div",{className:"flex gap-3",children:[T.jsx("button",{type:"button",onClick:()=>a(!0),className:`flex-1 h-11 rounded bg-[#e60a3d] text-white font-extrabold text-base
                cursor-pointer hover:brightness-110 active:scale-[0.985] transition-all`,children:""}),T.jsx("button",{type:"button",onClick:h,className:`h-11 px-6 rounded border border-zinc-700
                text-zinc-400 font-extrabold text-base bg-transparent
                cursor-pointer hover:bg-zinc-900/50 hover:text-zinc-200 active:scale-[0.985] transition-all`,children:"Reset"})]}),o&&T.jsxs("div",{className:"flex flex-col gap-3 border-t border-white/[0.08] pt-4",children:[T.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] gap-4 items-center",children:[T.jsxs("div",{className:"flex flex-col gap-0.5",children:[T.jsx("span",{className:"text-[10px] text-zinc-600 uppercase tracking-widest",children:" Class  "}),T.jsx("span",{className:`font-extrabold tabular-nums text-3xl
                    ${y>=0?"text-[#e60a3d]":"text-white"}`,children:f.toLocaleString()})]}),T.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[T.jsx("span",{className:"text-[10px] text-zinc-700",children:""}),T.jsx("span",{className:`font-extrabold tabular-nums text-xl
                    ${y>0?"text-[#e60a3d]":y<0?"text-zinc-400":"text-zinc-600"}`,children:y>0?`+${y.toLocaleString()}`:y===0?"=":y.toLocaleString()})]}),T.jsxs("div",{className:"flex flex-col gap-0.5 items-end",children:[T.jsx("span",{className:"text-[10px] text-zinc-600 uppercase tracking-widest",children:" Class  "}),T.jsx("span",{className:`font-extrabold tabular-nums text-3xl
                    ${y<0?"text-[#e60a3d]":"text-zinc-300"}`,children:m.toLocaleString()})]})]}),T.jsx("div",{className:`text-center py-2.5 rounded text-sm font-extrabold tracking-wider uppercase
                ${y>0?"bg-[#e60a3d]/10 text-[#e60a3d]":y<0?"bg-zinc-900 text-zinc-400":"bg-zinc-900 text-zinc-500"}`,children:y>0?` +${y.toLocaleString()}  `:y<0?` ${Math.abs(y).toLocaleString()} `:""})]})]})})]})}const _A="/cal-ranking-rm/assets/image-DuMhNYC-.png",wA="/cal-ranking-rm/assets/rm-bg-De-XA_kJ.jpg",gw="rm_rank_calc_split_v1";function jf(){return{bonus:1200,sections:{extream:Array(8).fill(""),sport:Array(7).fill(""),standard:Array(7).fill("")},locked:{extream:Array(8).fill(!1),sport:Array(7).fill(!1),standard:Array(7).fill(!1)},cars:{extream:Array(8).fill(""),sport:Array(7).fill(""),standard:Array(7).fill("")},customCars:{extream:[],sport:[],standard:[]},ocrCars:{extream:Array(8).fill(!1),sport:Array(7).fill(!1),standard:Array(7).fill(!1)}}}function vw(n){var t,i,o,a,c;const e=jf();for(const h of hr){const f=h.id;Array.isArray((t=n.sections)==null?void 0:t[f])&&(e.sections[f]=n.sections[f].slice(0,e.sections[f].length)),Array.isArray((i=n.locked)==null?void 0:i[f])&&(e.locked[f]=n.locked[f].slice(0,e.locked[f].length)),Array.isArray((o=n.cars)==null?void 0:o[f])&&(e.cars[f]=n.cars[f].slice(0,e.cars[f].length)),Array.isArray((a=n.customCars)==null?void 0:a[f])&&(e.customCars[f]=n.customCars[f]),Array.isArray((c=n.ocrCars)==null?void 0:c[f])&&(e.ocrCars[f]=n.ocrCars[f].slice(0,e.ocrCars[f].length))}return Number.isFinite(Number(n.bonus))&&(e.bonus=Number(n.bonus)),e}function EA(){try{const n=localStorage.getItem(gw);if(!n)return jf();const e=JSON.parse(n);return vw(e)}catch{return jf()}}function ay(n){localStorage.setItem(gw,JSON.stringify(n))}function TA(n){(!Number.isFinite(n)||n<0)&&(n=0);const e=Math.floor(n/Co),t=n%Co;let i=0;for(const a of ff){const c=i+a.steps;if(e<c){const h=e-i+1;return{hat:a.name,image:a.image,stepInHat:h,inStep:t,stepMax:Co,hatSteps:a.steps}}i=c}const o=ff[ff.length-1];return{hat:o.name,image:o.image,stepInHat:o.steps,inStep:Co-1,stepMax:Co,hatSteps:o.steps}}const xA="modulepreload",SA=function(n){return"/cal-ranking-rm/"+n},ly={},IA=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=c(t.map(m=>{if(m=SA(m),m in ly)return;ly[m]=!0;const y=m.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":xA,y||(x.as="script"),x.crossOrigin="",x.href=m,f&&x.setAttribute("nonce",f),document.head.appendChild(x),y)return new Promise((R,M)=>{x.addEventListener("load",R),x.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};function CA(n){const t=[...String(n||"").matchAll(/\d+/g)].map(o=>o[0]).find(o=>o.length===4&&Number(o)>=1e3);if(t)return t;const i=String(n||"").replace(/\D/g,"");if(i.length>=4)for(let o=0;o<=i.length-4;o++){const a=i.slice(o,o+4);if(Number(a)>=1e3)return a}return""}function RA(n,e,t){const i=Math.max(n,e,t),o=Math.min(n,e,t),a=i-o;if(a<25||e>n||e>t||t<60)return!1;const c=(()=>{let m=0;return i===n?m=((e-t)/a+(e<t?6:0))*60:i===e?m=((t-n)/a+2)*60:m=((n-e)/a+4)*60,m})(),h=(i+o)/2/255,f=a/255/(1-Math.abs(2*h-1));return c>=220&&c<=340&&f>.2&&h>.1&&h<.85}function AA(n,e,t,i,o){const a=document.createElement("canvas");a.width=i,a.height=o;const c=a.getContext("2d");c.drawImage(n,e,t,i,o,0,0,i,o);const{data:h}=c.getImageData(0,0,i,o);let f=-1;for(let m=0;m<i;m++){let y=0;for(let w=0;w<o;w++){const x=(w*i+m)*4;RA(h[x],h[x+1],h[x+2])&&y++}y>o*.08&&(f=m)}return f>=0?e+f:null}function PA(n,e,t,i,o){const a=document.createElement("canvas"),c=3;a.width=i*c,a.height=o*c;const h=a.getContext("2d");h.imageSmoothingEnabled=!0,h.imageSmoothingQuality="high",h.fillStyle="#fff",h.fillRect(0,0,a.width,a.height),h.drawImage(n,e,t,i,o,0,0,a.width,a.height);const f=h.getImageData(0,0,a.width,a.height),m=f.data;for(let y=0;y<m.length;y+=4){const x=m[y]*.299+m[y+1]*.587+m[y+2]*.114>130?0:255;m[y]=m[y+1]=m[y+2]=x,m[y+3]=255}return h.putImageData(f,0,0),a}function yw(n,e){const t=n.replace(/[^\u0E00-\u0E7Fa-zA-Z0-9\s\-\/]/g,"").trim();if(!t)return"";const i=t.toLowerCase(),o=e.find(f=>f.toLowerCase()===i);if(o)return o;const a=e.find(f=>i.includes(f.toLowerCase())||f.toLowerCase().includes(i));if(a)return a;let c=0,h="";for(const f of e){const m=f.toLowerCase();let y=0;for(const x of i)m.includes(x)&&y++;const w=y/Math.max(i.length,m.length);w>c&&(c=w,h=f)}return c>=.6?h:""}function kA(n){return new Promise((e,t)=>{const i=URL.createObjectURL(n),o=new Image;o.onload=()=>{URL.revokeObjectURL(i),e(o)},o.onerror=t,o.src=i})}function bA(n,e,t,i,o,a,c,h){const f=Math.round(n.naturalWidth*.005),m=a!==null?a+f:e+Math.round(i*.65),y=e+i,w=Math.max(8,y-m),x=document.createElement("canvas"),R=4;x.width=w*R,x.height=o*R;const M=x.getContext("2d");M.imageSmoothingEnabled=!0,M.imageSmoothingQuality="high",M.fillStyle="#fff",M.fillRect(0,0,x.width,x.height),M.drawImage(n,m,t,w,o,0,0,x.width,x.height);const P=M.getImageData(0,0,x.width,x.height),k=P.data;for(let V=0;V<k.length;V+=4){const $=k[V]*.299+k[V+1]*.587+k[V+2]*.114>c,q=(h?$:!$)?0:255;k[V]=k[V+1]=k[V+2]=q,k[V+3]=255}return M.putImageData(P,0,0),x}async function uy(n,e){const{data:t}=await e.recognize(n);return(t.text||"").trim()}async function NA(n,e){const t=pw[n];if(!(t!=null&&t.length))throw new Error(" OCR_BOXES ");return new Promise((i,o)=>{const a=document.createElement("input");a.type="file",a.accept="image/*",a.style.display="none",document.body.appendChild(a),a.onchange=async()=>{var f;const c=(f=a.files)==null?void 0:f[0];if(document.body.removeChild(a),!c){i({points:[],carNames:[],debugLog:[],imageUrl:"",badgeRightEdges:[]});return}const h=URL.createObjectURL(c);try{const m=await kA(c),{createWorker:y}=await IA(async()=>{const{createWorker:V}=await import("./index-CVQI04dg.js").then(U=>U.i);return{createWorker:V}},[]),w=await y("eng");await w.setParameters({tessedit_char_whitelist:"0123456789"});const x=[],R=[],M=[],P=[];for(let V=0;V<t.length;V++){const[U,$,q,Z]=t[V].pointBox,W=Math.round(m.naturalWidth*U),I=Math.round(m.naturalHeight*$),C=Math.max(1,Math.round(m.naturalWidth*q)),b=Math.max(1,Math.round(m.naturalHeight*Z)),D=AA(m,W,I,C,b),L=D!==null?D-15:null;P.push(L);const F=[[155,!0],[120,!0],[140,!1]];let N="";const pe=[];for(const[he,Y]of F){const ae=bA(m,W,I,C,b,L,he,Y),re=await uy(ae,w);pe.push(`t${he}${Y?"i":"n"}:"${re}"`);const B=CA(re);B&&!N&&(N=B)}const we=L!==null?`badgex${L}`:"no-badge(fallback)",me=`box${V+1}[${we}]: ${pe.join(" | ")}  "${N}"`;M.push(me),console.log(`[OCR ${n}] ${me}`),x.push(N),e(Math.round((V+1)/t.length*100))}const k=BR[n];if(k!=null&&k.length){const V=await y("eng");for(let U=0;U<k.length;U++){const[$,q,Z,W]=k[U].pointBox,I=Math.round(m.naturalWidth*$),C=Math.round(m.naturalHeight*q),b=Math.max(1,Math.round(m.naturalWidth*Z)),D=Math.max(1,Math.round(m.naturalHeight*W)),L=PA(m,I,C,b,D),F=await uy(L,V),N=yw(F.trim(),fw[n]??[]);R.push(N)}await V.terminate()}await w.terminate(),i({points:x,carNames:R,debugLog:M,imageUrl:h,badgeRightEdges:P})}catch(m){URL.revokeObjectURL(h),o(m)}},a.click()})}var cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},OA=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},ww={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,y=a>>2,w=(a&3)<<4|h>>4;let x=(h&15)<<2|m>>6,R=m&63;f||(R=64,c||(x=64)),i.push(t[y],t[w],t[x],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_w(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||w==null)throw new DA;const x=a<<2|h>>4;if(i.push(x),m!==64){const R=h<<4&240|m>>2;if(i.push(R),w!==64){const M=m<<6&192|w;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MA=function(n){const e=_w(n);return ww.encodeByteArray(e,!0)},bc=function(n){return MA(n).replace(/\./g,"")},Ew=function(n){try{return ww.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=()=>LA().__FIREBASE_DEFAULTS__,jA=()=>{if(typeof process>"u"||typeof cy>"u")return;const n=cy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ew(n[1]);return e&&JSON.parse(e)},ad=()=>{try{return VA()||jA()||FA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Tw=n=>{var e,t;return(t=(e=ad())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},UA=n=>{const e=Tw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},xw=()=>{var n;return(n=ad())===null||n===void 0?void 0:n.config},Sw=n=>{var e;return(e=ad())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bc(JSON.stringify(t)),bc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function WA(){var n;const e=(n=ad())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GA(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QA(){return!WA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XA(){try{return typeof indexedDB=="object"}catch{return!1}}function YA(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="FirebaseError";class Jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=JA,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?ZA(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Jr(o,h,i)}}function ZA(n,e){return n.replace(e1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const e1=/\{\$([^}]+)}/g;function t1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(dy(a)&&dy(c)){if(!Nc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function dy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function n1(n,e){const t=new r1(n,e);return t.subscribe.bind(t)}class r1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");i1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=pf),o.error===void 0&&(o.error=pf),o.complete===void 0&&(o.complete=pf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){return n&&n._delegate?n._delegate:n}class Is{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new zA;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a1(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:o1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(n){return n===fs?void 0:n}function a1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ze||(ze={}));const u1={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},c1=ze.INFO,d1={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},h1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=d1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=c1,this._logHandler=h1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const f1=(n,e)=>e.some(t=>n instanceof t);let hy,fy;function p1(){return hy||(hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m1(){return fy||(fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iw=new WeakMap,Ff=new WeakMap,Cw=new WeakMap,mf=new WeakMap,Cp=new WeakMap;function g1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Pi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Iw.set(t,n)}).catch(()=>{}),Cp.set(e,n),e}function v1(n){if(Ff.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Ff.set(n,e)}let Uf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ff.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Cw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function y1(n){Uf=n(Uf)}function _1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(gf(this),e,...t);return Cw.set(i,e.sort?e.sort():[e]),Pi(i)}:m1().includes(n)?function(...e){return n.apply(gf(this),e),Pi(Iw.get(this))}:function(...e){return Pi(n.apply(gf(this),e))}}function w1(n){return typeof n=="function"?_1(n):(n instanceof IDBTransaction&&v1(n),f1(n,p1())?new Proxy(n,Uf):n)}function Pi(n){if(n instanceof IDBRequest)return g1(n);if(mf.has(n))return mf.get(n);const e=w1(n);return e!==n&&(mf.set(n,e),Cp.set(e,n)),e}const gf=n=>Cp.get(n);function E1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=Pi(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Pi(c.result),f.oldVersion,f.newVersion,Pi(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const T1=["get","getKey","getAll","getAllKeys","count"],x1=["put","add","delete","clear"],vf=new Map;function py(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(vf.get(e))return vf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=x1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||T1.includes(t)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&f.done]))[0]};return vf.set(e,a),a}y1(n=>({...n,get:(e,t,i)=>py(e,t)||n.get(e,t,i),has:(e,t)=>!!py(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function I1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zf="@firebase/app",my="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Ip("@firebase/app"),C1="@firebase/app-compat",R1="@firebase/analytics-compat",A1="@firebase/analytics",P1="@firebase/app-check-compat",k1="@firebase/app-check",b1="@firebase/auth",N1="@firebase/auth-compat",O1="@firebase/database",D1="@firebase/data-connect",M1="@firebase/database-compat",L1="@firebase/functions",V1="@firebase/functions-compat",j1="@firebase/installations",F1="@firebase/installations-compat",U1="@firebase/messaging",z1="@firebase/messaging-compat",B1="@firebase/performance",$1="@firebase/performance-compat",W1="@firebase/remote-config",H1="@firebase/remote-config-compat",q1="@firebase/storage",K1="@firebase/storage-compat",G1="@firebase/firestore",Q1="@firebase/vertexai-preview",X1="@firebase/firestore-compat",Y1="firebase",J1="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",Z1={[zf]:"fire-core",[C1]:"fire-core-compat",[A1]:"fire-analytics",[R1]:"fire-analytics-compat",[k1]:"fire-app-check",[P1]:"fire-app-check-compat",[b1]:"fire-auth",[N1]:"fire-auth-compat",[O1]:"fire-rtdb",[D1]:"fire-data-connect",[M1]:"fire-rtdb-compat",[L1]:"fire-fn",[V1]:"fire-fn-compat",[j1]:"fire-iid",[F1]:"fire-iid-compat",[U1]:"fire-fcm",[z1]:"fire-fcm-compat",[B1]:"fire-perf",[$1]:"fire-perf-compat",[W1]:"fire-rc",[H1]:"fire-rc-compat",[q1]:"fire-gcs",[K1]:"fire-gcs-compat",[G1]:"fire-fst",[X1]:"fire-fst-compat",[Q1]:"fire-vertex","fire-js":"fire-js",[Y1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new Map,eP=new Map,$f=new Map;function gy(n,e){try{n.container.addComponent(e)}catch(t){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jo(n){const e=n.name;if($f.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,n);for(const t of Oc.values())gy(t,n);for(const t of eP.values())gy(t,n);return!0}function Rp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new Cl("app","Firebase",tP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=J1;function Rw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ki.create("bad-app-name",{appName:String(o)});if(t||(t=xw()),!t)throw ki.create("no-options");const a=Oc.get(o);if(a){if(Nc(t,a.options)&&Nc(i,a.config))return a;throw ki.create("duplicate-app",{appName:o})}const c=new l1(o);for(const f of $f.values())c.addComponent(f);const h=new nP(t,i,c);return Oc.set(o,h),h}function Aw(n=Bf){const e=Oc.get(n);if(!e&&n===Bf&&xw())return Rw();if(!e)throw ki.create("no-app",{appName:n});return e}function bi(n,e,t){var i;let o=(i=Z1[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(h.join(" "));return}jo(new Is(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="firebase-heartbeat-database",iP=1,cl="firebase-heartbeat-store";let yf=null;function Pw(){return yf||(yf=E1(rP,iP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw ki.create("idb-open",{originalErrorMessage:n.message})})),yf}async function sP(n){try{const t=(await Pw()).transaction(cl),i=await t.objectStore(cl).get(kw(n));return await t.done,i}catch(e){if(e instanceof Jr)Gr.warn(e.message);else{const t=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(t.message)}}}async function vy(n,e){try{const i=(await Pw()).transaction(cl,"readwrite");await i.objectStore(cl).put(e,kw(n)),await i.done}catch(t){if(t instanceof Jr)Gr.warn(t.message);else{const i=ki.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Gr.warn(i.message)}}}function kw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=1024,aP=720*60*60*1e3;class lP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=aP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Gr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yy(),{heartbeatsToSend:i,unsentEntries:o}=uP(this._heartbeatsCache.heartbeats),a=bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Gr.warn(t),""}}}function yy(){return new Date().toISOString().substring(0,10)}function uP(n,e=oP){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),_y(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),_y(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class cP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XA()?YA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _y(n){return bc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n){jo(new Is("platform-logger",e=>new S1(e),"PRIVATE")),jo(new Is("heartbeat",e=>new lP(e),"PRIVATE")),bi(zf,my,n),bi(zf,my,"esm2017"),bi("fire-js","")}dP("");var hP="firebase",fP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(hP,fP,"app");function bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pP=bw,Nw=new Cl("auth","Firebase",bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Ip("@firebase/auth");function mP(n,...e){Dc.logLevel<=ze.WARN&&Dc.warn(`Auth (${Yo}): ${n}`,...e)}function mc(n,...e){Dc.logLevel<=ze.ERROR&&Dc.error(`Auth (${Yo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(n,...e){throw Pp(n,...e)}function Qn(n,...e){return Pp(n,...e)}function Ap(n,e,t){const i=Object.assign(Object.assign({},pP()),{[e]:t});return new Cl("auth","Firebase",i).create(e,{appName:n.name})}function ys(n){return Ap(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&yr(n,"argument-error"),Ap(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Nw.create(n,...e)}function Pe(n,e,...t){if(!n)throw Pp(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mc(e),new Error(e)}function Qr(n,e){n||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function vP(){return wy()==="http:"||wy()==="https:"}function wy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vP()||qA()||"connection"in navigator)?navigator.onLine:!0}function _P(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qr(t>e,"Short delay should be less than long delay!"),this.isMobile=$A()||KA()}get(){return yP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(n,e){Qr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new Al(3e4,6e4);function bp(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Jo(n,e,t,i,o={}){return Dw(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Rl(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return HA()||(m.referrerPolicy="no-referrer"),Ow.fetch()(Mw(n,n.config.apiHost,t,h),m)})}async function Dw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},wP),e);try{const o=new xP(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw ac(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw ac(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw ac(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ap(n,y,m);yr(n,y)}}catch(o){if(o instanceof Jr)throw o;yr(n,"network-request-failed",{message:String(o)})}}async function TP(n,e,t,i,o={}){const a=await Jo(n,e,t,i,o);return"mfaPendingCredential"in a&&yr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Mw(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?kp(n.config,o):`${n.config.apiScheme}://${o}`}class xP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Qn(this.auth,"network-request-failed")),EP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ac(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Qn(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(n,e){return Jo(n,"POST","/v1/accounts:delete",e)}async function Lw(n,e){return Jo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IP(n,e=!1){const t=An(n),i=await t.getIdToken(e),o=Np(i);Pe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:tl(_f(o.auth_time)),issuedAtTime:tl(_f(o.iat)),expirationTime:tl(_f(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function _f(n){return Number(n)*1e3}function Np(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ew(t);return o?JSON.parse(o):(mc("Failed to decode base64 JWT payload"),null)}catch(o){return mc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ey(n){const e=Np(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Jr&&CP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function CP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await dl(n,Lw(t,{idToken:i}));Pe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Vw(a.providerUserInfo):[],h=PP(n.providerData,c),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),y=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Hf(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function AP(n){const e=An(n);await Mc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Vw(n){return n.map(e=>{var{providerId:t}=e,i=Il(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(n,e){const t=await Dw(n,{},async()=>{const i=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=Mw(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Ow.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bP(n,e){return Jo(n,"POST","/v2/accounts:revokeToken",bp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ey(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=Ey(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await kP(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new No;return i&&(Pe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Pe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Pe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class $r{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Il(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await dl(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return IP(this,e)}reload(){return AP(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Mc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await dl(this,SP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,f,m,y;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,M=(c=t.photoURL)!==null&&c!==void 0?c:void 0,P=(h=t.tenantId)!==null&&h!==void 0?h:void 0,k=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,V=(m=t.createdAt)!==null&&m!==void 0?m:void 0,U=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:$,emailVerified:q,isAnonymous:Z,providerData:W,stsTokenManager:I}=t;Pe($&&I,e,"internal-error");const C=No.fromJSON(this.name,I);Pe(typeof $=="string",e,"internal-error"),xi(w,e.name),xi(x,e.name),Pe(typeof q=="boolean",e,"internal-error"),Pe(typeof Z=="boolean",e,"internal-error"),xi(R,e.name),xi(M,e.name),xi(P,e.name),xi(k,e.name),xi(V,e.name),xi(U,e.name);const b=new $r({uid:$,auth:e,email:x,emailVerified:q,displayName:w,isAnonymous:Z,photoURL:M,phoneNumber:R,tenantId:P,stsTokenManager:C,createdAt:V,lastLoginAt:U});return W&&Array.isArray(W)&&(b.providerData=W.map(D=>Object.assign({},D))),k&&(b._redirectEventId=k),b}static async _fromIdTokenResponse(e,t,i=!1){const o=new No;o.updateFromServerResponse(t);const a=new $r({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Mc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Pe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Vw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new No;h.updateFromIdToken(i);const f=new $r({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new Map;function Wr(n){Qr(n instanceof Function,"Expected a class definition");let e=Ty.get(n);return e?(Qr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ty.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}jw.type="NONE";const xy=jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n,e,t){return`firebase:${n}:${e}:${t}`}class Oo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=gc(this.userKey,o.apiKey,a),this.fullPersistenceKey=gc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Oo(Wr(xy),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Wr(xy);const c=gc(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(c);if(y){const w=$r._fromJSON(e,y);m!==a&&(h=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Oo(a,e,i):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new Oo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ww(e))return"Blackberry";if(Hw(e))return"Webos";if(Uw(e))return"Safari";if((e.includes("chrome/")||zw(e))&&!e.includes("edge/"))return"Chrome";if($w(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Fw(n=qt()){return/firefox\//i.test(n)}function Uw(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zw(n=qt()){return/crios\//i.test(n)}function Bw(n=qt()){return/iemobile/i.test(n)}function $w(n=qt()){return/android/i.test(n)}function Ww(n=qt()){return/blackberry/i.test(n)}function Hw(n=qt()){return/webos/i.test(n)}function Op(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function NP(n=qt()){var e;return Op(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OP(){return GA()&&document.documentMode===10}function qw(n=qt()){return Op(n)||$w(n)||Hw(n)||Ww(n)||/windows phone/i.test(n)||Bw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n,e=[]){let t;switch(n){case"Browser":t=Sy(qt());break;case"Worker":t=`${Sy(qt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(n,e={}){return Jo(n,"GET","/v2/passwordPolicy",bp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=6;class VP{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:LP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iy(this),this.idTokenSubscription=new Iy(this),this.beforeStateQueue=new DP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lw(this,{idToken:e}),i=await $r._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_P()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(ys(this));const t=e?An(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MP(this),t=new VP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await bP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wr(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&mP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ld(n){return An(n)}class Iy{constructor(e){this.auth=e,this.observer=null,this.addObserver=n1(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FP(n){Dp=n}function UP(n){return Dp.loadJS(n)}function zP(){return Dp.gapiScript}function BP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(n,e){const t=Rp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Nc(a,e??{}))return o;yr(o,"already-initialized")}return t.initialize({options:e})}function WP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Wr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function HP(n,e,t){const i=ld(n);Pe(i._canInitEmulator,i,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Gw(e),{host:c,port:h}=qP(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),KP()}function Gw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function qP(n){const e=Gw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Cy(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Cy(c)}}}function Cy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function KP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(n,e){return TP(n,"POST","/v1/accounts:signInWithIdp",bp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="http://localhost";class Cs extends Qw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Il(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Cs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Do(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:GP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Mp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Pl{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ur.credential(t,i)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Pl{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Pl{constructor(){super("twitter.com")}static credential(e,t){return Cs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ri.credential(t,i)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await $r._fromIdTokenResponse(e,i,o),c=Ry(i);return new Fo({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Ry(i);return new Fo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Ry(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Jr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Lc(e,t,i,o)}}function Xw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Lc._fromErrorAndOperation(n,a,e,i):a})}async function QP(n,e,t=!1){const i=await dl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(n,e,t=!1){const{auth:i}=n;if(zr(i.app))return Promise.reject(ys(i));const o="reauthenticate";try{const a=await dl(n,Xw(i,o,e,n),t);Pe(a.idToken,i,"internal-error");const c=Np(a.idToken);Pe(c,i,"internal-error");const{sub:h}=c;return Pe(n.uid===h,i,"user-mismatch"),Fo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&yr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(n,e,t=!1){if(zr(n.app))return Promise.reject(ys(n));const i="signIn",o=await Xw(n,i,e),a=await Fo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}function JP(n,e,t,i){return An(n).onIdTokenChanged(e,t,i)}function ZP(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function ek(n,e,t,i){return An(n).onAuthStateChanged(e,t,i)}function tk(n){return An(n).signOut()}const Vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vc,"1"),this.storage.removeItem(Vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=1e3,rk=10;class Jw extends Yw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);OP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,rk):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jw.type="LOCAL";const ik=Jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Yw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zw.type="SESSION";const eE=Zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new ud(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async m=>m(t.origin,a)),f=await sk(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const m=Lp("",20);o.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const x=w;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(x.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function ak(n){pr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function lk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ck(){return tE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="firebaseLocalStorageDb",dk=1,jc="firebaseLocalStorage",rE="fbase_key";class kl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cd(n,e){return n.transaction([jc],e?"readwrite":"readonly").objectStore(jc)}function hk(){const n=indexedDB.deleteDatabase(nE);return new kl(n).toPromise()}function qf(){const n=indexedDB.open(nE,dk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(jc,{keyPath:rE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(jc)?e(i):(i.close(),await hk(),e(await qf()))})})}async function Ay(n,e,t){const i=cd(n,!0).put({[rE]:e,value:t});return new kl(i).toPromise()}async function fk(n,e){const t=cd(n,!1).get(e),i=await new kl(t).toPromise();return i===void 0?null:i.value}function Py(n,e){const t=cd(n,!0).delete(e);return new kl(t).toPromise()}const pk=800,mk=3;class iE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>mk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ud._getInstance(ck()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await lk(),!this.activeServiceWorker)return;this.sender=new ok(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qf();return await Ay(e,Vc,"1"),await Py(e,Vc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ay(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>fk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Py(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=cd(o,!1).getAll();return new kl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iE.type="LOCAL";const gk=iE;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(n,e){return e?Wr(e):(Pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends Qw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vk(n){return YP(n.auth,new Vp(n),n.bypassAuthState)}function yk(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),XP(t,new Vp(n),n.bypassAuthState)}async function _k(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),QP(t,new Vp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vk;case"linkViaPopup":case"linkViaRedirect":return _k;case"reauthViaPopup":case"reauthViaRedirect":return yk;default:yr(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=new Al(2e3,1e4);async function Ek(n,e,t){if(zr(n.app))return Promise.reject(Qn(n,"operation-not-supported-in-this-environment"));const i=ld(n);gP(n,e,Mp);const o=sE(i,t);return new ms(i,"signInViaPopup",e,o).executeNotNull()}class ms extends oE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wk.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="pendingRedirect",vc=new Map;class xk extends oE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=vc.get(this.auth._key());if(!e){try{const i=await Sk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}vc.set(this.auth._key(),e)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sk(n,e){const t=Rk(e),i=Ck(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Ik(n,e){vc.set(n._key(),e)}function Ck(n){return Wr(n._redirectPersistence)}function Rk(n){return gc(Tk,n.config.apiKey,n.name)}async function Ak(n,e,t=!1){if(zr(n.app))return Promise.reject(ys(n));const i=ld(n),o=sE(i,e),c=await new xk(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=600*1e3;class kk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!aE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pk&&this.cachedEventUids.clear(),this.cachedEventUids.has(ky(e))}saveEventToCache(e){this.cachedEventUids.add(ky(e)),this.lastProcessedEventTime=Date.now()}}function ky(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function aE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(n,e={}){return Jo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dk=/^https?/;async function Mk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Nk(n);for(const t of e)try{if(Lk(t))return}catch{}yr(n,"unauthorized-domain")}function Lk(n){const e=Wf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Dk.test(t))return!1;if(Ok.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new Al(3e4,6e4);function by(){const n=pr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jk(n){return new Promise((e,t)=>{var i,o,a;function c(){by(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{by(),t(Qn(n,"network-request-failed"))},timeout:Vk.get()})}if(!((o=(i=pr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=pr().gapi)===null||a===void 0)&&a.load)c();else{const h=BP("iframefcb");return pr()[h]=()=>{gapi.load?c():t(Qn(n,"network-request-failed"))},UP(`${zP()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw yc=null,e})}let yc=null;function Fk(n){return yc=yc||jk(n),yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new Al(5e3,15e3),zk="__/auth/iframe",Bk="emulator/auth/iframe",$k={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hk(n){const e=n.config;Pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kp(e,Bk):`https://${n.config.authDomain}/${zk}`,i={apiKey:e.apiKey,appName:n.name,v:Yo},o=Wk.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Rl(i).slice(1)}`}async function qk(n){const e=await Fk(n),t=pr().gapi;return Pe(t,n,"internal-error"),e.open({where:document.body,url:Hk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$k,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Qn(n,"network-request-failed"),h=pr().setTimeout(()=>{a(c)},Uk.get());function f(){pr().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gk=500,Qk=600,Xk="_blank",Yk="http://localhost";class Ny{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jk(n,e,t,i=Gk,o=Qk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},Kk),{width:i.toString(),height:o.toString(),top:a,left:c}),m=qt().toLowerCase();t&&(h=zw(m)?Xk:t),Fw(m)&&(e=e||Yk,f.scrollbars="yes");const y=Object.entries(f).reduce((x,[R,M])=>`${x}${R}=${M},`,"");if(NP(m)&&h!=="_self")return Zk(e||"",h),new Ny(null);const w=window.open(e||"",h,y);Pe(w,n,"popup-blocked");try{w.focus()}catch{}return new Ny(w)}function Zk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__/auth/handler",tb="emulator/auth/handler",nb=encodeURIComponent("fac");async function Oy(n,e,t,i,o,a){Pe(n.config.authDomain,n,"auth-domain-config-required"),Pe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Yo,eventId:o};if(e instanceof Mp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",t1(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof Pl){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${nb}=${encodeURIComponent(f)}`:"";return`${rb(n)}?${Rl(h).slice(1)}${m}`}function rb({config:n}){return n.emulator?kp(n,tb):`https://${n.authDomain}/${eb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="webStorageSupport";class ib{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eE,this._completeRedirectFn=Ak,this._overrideRedirectResult=Ik}async _openPopup(e,t,i,o){var a;Qr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Oy(e,t,i,Wf(),o);return Jk(e,c,Lp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Oy(e,t,i,Wf(),o);return ak(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Qr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await qk(e),i=new kk(e);return t.register("authEvent",o=>(Pe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wf,{type:wf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[wf];c!==void 0&&t(!!c),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Mk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qw()||Uw()||Op()}}const sb=ib;var Dy="@firebase/auth",My="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lb(n){jo(new Is("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Pe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kw(n)},m=new jP(i,o,a,f);return WP(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),jo(new Is("auth-internal",e=>{const t=ld(e.getProvider("auth").getImmediate());return(i=>new ob(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(Dy,My,ab(n)),bi(Dy,My,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=300,cb=Sw("authIdTokenMaxAge")||ub;let Ly=null;const db=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>cb)return;const o=t==null?void 0:t.token;Ly!==o&&(Ly=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hb(n=Aw()){const e=Rp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=$P(n,{popupRedirectResolver:sb,persistence:[gk,ik,eE]}),i=Sw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=db(a.toString());ZP(t,c,()=>c(t.currentUser)),JP(t,h=>c(h))}}const o=Tw("auth");return o&&HP(t,`http://${o}`),t}function fb(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}FP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Qn("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",fb().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lb("Browser");var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,lE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function b(){}b.prototype=C.prototype,I.D=C.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(D,L,F){for(var N=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)N[pe-2]=arguments[pe];return C.prototype[L].apply(D,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,b){b||(b=0);var D=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)D[L]=C.charCodeAt(b++)|C.charCodeAt(b++)<<8|C.charCodeAt(b++)<<16|C.charCodeAt(b++)<<24;else for(L=0;16>L;++L)D[L]=C[b++]|C[b++]<<8|C[b++]<<16|C[b++]<<24;C=I.g[0],b=I.g[1],L=I.g[2];var F=I.g[3],N=C+(F^b&(L^F))+D[0]+3614090360&4294967295;C=b+(N<<7&4294967295|N>>>25),N=F+(L^C&(b^L))+D[1]+3905402710&4294967295,F=C+(N<<12&4294967295|N>>>20),N=L+(b^F&(C^b))+D[2]+606105819&4294967295,L=F+(N<<17&4294967295|N>>>15),N=b+(C^L&(F^C))+D[3]+3250441966&4294967295,b=L+(N<<22&4294967295|N>>>10),N=C+(F^b&(L^F))+D[4]+4118548399&4294967295,C=b+(N<<7&4294967295|N>>>25),N=F+(L^C&(b^L))+D[5]+1200080426&4294967295,F=C+(N<<12&4294967295|N>>>20),N=L+(b^F&(C^b))+D[6]+2821735955&4294967295,L=F+(N<<17&4294967295|N>>>15),N=b+(C^L&(F^C))+D[7]+4249261313&4294967295,b=L+(N<<22&4294967295|N>>>10),N=C+(F^b&(L^F))+D[8]+1770035416&4294967295,C=b+(N<<7&4294967295|N>>>25),N=F+(L^C&(b^L))+D[9]+2336552879&4294967295,F=C+(N<<12&4294967295|N>>>20),N=L+(b^F&(C^b))+D[10]+4294925233&4294967295,L=F+(N<<17&4294967295|N>>>15),N=b+(C^L&(F^C))+D[11]+2304563134&4294967295,b=L+(N<<22&4294967295|N>>>10),N=C+(F^b&(L^F))+D[12]+1804603682&4294967295,C=b+(N<<7&4294967295|N>>>25),N=F+(L^C&(b^L))+D[13]+4254626195&4294967295,F=C+(N<<12&4294967295|N>>>20),N=L+(b^F&(C^b))+D[14]+2792965006&4294967295,L=F+(N<<17&4294967295|N>>>15),N=b+(C^L&(F^C))+D[15]+1236535329&4294967295,b=L+(N<<22&4294967295|N>>>10),N=C+(L^F&(b^L))+D[1]+4129170786&4294967295,C=b+(N<<5&4294967295|N>>>27),N=F+(b^L&(C^b))+D[6]+3225465664&4294967295,F=C+(N<<9&4294967295|N>>>23),N=L+(C^b&(F^C))+D[11]+643717713&4294967295,L=F+(N<<14&4294967295|N>>>18),N=b+(F^C&(L^F))+D[0]+3921069994&4294967295,b=L+(N<<20&4294967295|N>>>12),N=C+(L^F&(b^L))+D[5]+3593408605&4294967295,C=b+(N<<5&4294967295|N>>>27),N=F+(b^L&(C^b))+D[10]+38016083&4294967295,F=C+(N<<9&4294967295|N>>>23),N=L+(C^b&(F^C))+D[15]+3634488961&4294967295,L=F+(N<<14&4294967295|N>>>18),N=b+(F^C&(L^F))+D[4]+3889429448&4294967295,b=L+(N<<20&4294967295|N>>>12),N=C+(L^F&(b^L))+D[9]+568446438&4294967295,C=b+(N<<5&4294967295|N>>>27),N=F+(b^L&(C^b))+D[14]+3275163606&4294967295,F=C+(N<<9&4294967295|N>>>23),N=L+(C^b&(F^C))+D[3]+4107603335&4294967295,L=F+(N<<14&4294967295|N>>>18),N=b+(F^C&(L^F))+D[8]+1163531501&4294967295,b=L+(N<<20&4294967295|N>>>12),N=C+(L^F&(b^L))+D[13]+2850285829&4294967295,C=b+(N<<5&4294967295|N>>>27),N=F+(b^L&(C^b))+D[2]+4243563512&4294967295,F=C+(N<<9&4294967295|N>>>23),N=L+(C^b&(F^C))+D[7]+1735328473&4294967295,L=F+(N<<14&4294967295|N>>>18),N=b+(F^C&(L^F))+D[12]+2368359562&4294967295,b=L+(N<<20&4294967295|N>>>12),N=C+(b^L^F)+D[5]+4294588738&4294967295,C=b+(N<<4&4294967295|N>>>28),N=F+(C^b^L)+D[8]+2272392833&4294967295,F=C+(N<<11&4294967295|N>>>21),N=L+(F^C^b)+D[11]+1839030562&4294967295,L=F+(N<<16&4294967295|N>>>16),N=b+(L^F^C)+D[14]+4259657740&4294967295,b=L+(N<<23&4294967295|N>>>9),N=C+(b^L^F)+D[1]+2763975236&4294967295,C=b+(N<<4&4294967295|N>>>28),N=F+(C^b^L)+D[4]+1272893353&4294967295,F=C+(N<<11&4294967295|N>>>21),N=L+(F^C^b)+D[7]+4139469664&4294967295,L=F+(N<<16&4294967295|N>>>16),N=b+(L^F^C)+D[10]+3200236656&4294967295,b=L+(N<<23&4294967295|N>>>9),N=C+(b^L^F)+D[13]+681279174&4294967295,C=b+(N<<4&4294967295|N>>>28),N=F+(C^b^L)+D[0]+3936430074&4294967295,F=C+(N<<11&4294967295|N>>>21),N=L+(F^C^b)+D[3]+3572445317&4294967295,L=F+(N<<16&4294967295|N>>>16),N=b+(L^F^C)+D[6]+76029189&4294967295,b=L+(N<<23&4294967295|N>>>9),N=C+(b^L^F)+D[9]+3654602809&4294967295,C=b+(N<<4&4294967295|N>>>28),N=F+(C^b^L)+D[12]+3873151461&4294967295,F=C+(N<<11&4294967295|N>>>21),N=L+(F^C^b)+D[15]+530742520&4294967295,L=F+(N<<16&4294967295|N>>>16),N=b+(L^F^C)+D[2]+3299628645&4294967295,b=L+(N<<23&4294967295|N>>>9),N=C+(L^(b|~F))+D[0]+4096336452&4294967295,C=b+(N<<6&4294967295|N>>>26),N=F+(b^(C|~L))+D[7]+1126891415&4294967295,F=C+(N<<10&4294967295|N>>>22),N=L+(C^(F|~b))+D[14]+2878612391&4294967295,L=F+(N<<15&4294967295|N>>>17),N=b+(F^(L|~C))+D[5]+4237533241&4294967295,b=L+(N<<21&4294967295|N>>>11),N=C+(L^(b|~F))+D[12]+1700485571&4294967295,C=b+(N<<6&4294967295|N>>>26),N=F+(b^(C|~L))+D[3]+2399980690&4294967295,F=C+(N<<10&4294967295|N>>>22),N=L+(C^(F|~b))+D[10]+4293915773&4294967295,L=F+(N<<15&4294967295|N>>>17),N=b+(F^(L|~C))+D[1]+2240044497&4294967295,b=L+(N<<21&4294967295|N>>>11),N=C+(L^(b|~F))+D[8]+1873313359&4294967295,C=b+(N<<6&4294967295|N>>>26),N=F+(b^(C|~L))+D[15]+4264355552&4294967295,F=C+(N<<10&4294967295|N>>>22),N=L+(C^(F|~b))+D[6]+2734768916&4294967295,L=F+(N<<15&4294967295|N>>>17),N=b+(F^(L|~C))+D[13]+1309151649&4294967295,b=L+(N<<21&4294967295|N>>>11),N=C+(L^(b|~F))+D[4]+4149444226&4294967295,C=b+(N<<6&4294967295|N>>>26),N=F+(b^(C|~L))+D[11]+3174756917&4294967295,F=C+(N<<10&4294967295|N>>>22),N=L+(C^(F|~b))+D[2]+718787259&4294967295,L=F+(N<<15&4294967295|N>>>17),N=b+(F^(L|~C))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+L&4294967295,I.g[3]=I.g[3]+F&4294967295}i.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var b=C-this.blockSize,D=this.B,L=this.h,F=0;F<C;){if(L==0)for(;F<=b;)o(this,I,F),F+=this.blockSize;if(typeof I=="string"){for(;F<C;)if(D[L++]=I.charCodeAt(F++),L==this.blockSize){o(this,D),L=0;break}}else for(;F<C;)if(D[L++]=I[F++],L==this.blockSize){o(this,D),L=0;break}}this.h=L,this.o+=C},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var b=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.u(I),I=Array(16),C=b=0;4>C;++C)for(var D=0;32>D;D+=8)I[b++]=this.g[C]>>>D&255;return I};function a(I,C){var b=h;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=C(I)}function c(I,C){this.h=C;for(var b=[],D=!0,L=I.length-1;0<=L;L--){var F=I[L]|0;D&&F==C||(b[L]=F,D=!1)}this.g=b}var h={};function f(I){return-128<=I&&128>I?a(I,function(C){return new c([C|0],0>C?-1:0)}):new c([I|0],0>I?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return w;if(0>I)return k(m(-I));for(var C=[],b=1,D=0;I>=b;D++)C[D]=I/b|0,b*=4294967296;return new c(C,0)}function y(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return k(y(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=m(Math.pow(C,8)),D=w,L=0;L<I.length;L+=8){var F=Math.min(8,I.length-L),N=parseInt(I.substring(L,L+F),C);8>F?(F=m(Math.pow(C,F)),D=D.j(F).add(m(N))):(D=D.j(b),D=D.add(m(N)))}return D}var w=f(0),x=f(1),R=f(16777216);n=c.prototype,n.m=function(){if(P(this))return-k(this).m();for(var I=0,C=1,b=0;b<this.g.length;b++){var D=this.i(b);I+=(0<=D?D:4294967296+D)*C,C*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(P(this))return"-"+k(this).toString(I);for(var C=m(Math.pow(I,6)),b=this,D="";;){var L=q(b,C).g;b=V(b,L.j(C));var F=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=L,M(b))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function P(I){return I.h==-1}n.l=function(I){return I=V(this,I),P(I)?-1:M(I)?0:1};function k(I){for(var C=I.g.length,b=[],D=0;D<C;D++)b[D]=~I.g[D];return new c(b,~I.h).add(x)}n.abs=function(){return P(this)?k(this):this},n.add=function(I){for(var C=Math.max(this.g.length,I.g.length),b=[],D=0,L=0;L<=C;L++){var F=D+(this.i(L)&65535)+(I.i(L)&65535),N=(F>>>16)+(this.i(L)>>>16)+(I.i(L)>>>16);D=N>>>16,F&=65535,N&=65535,b[L]=N<<16|F}return new c(b,b[b.length-1]&-2147483648?-1:0)};function V(I,C){return I.add(k(C))}n.j=function(I){if(M(this)||M(I))return w;if(P(this))return P(I)?k(this).j(k(I)):k(k(this).j(I));if(P(I))return k(this.j(k(I)));if(0>this.l(R)&&0>I.l(R))return m(this.m()*I.m());for(var C=this.g.length+I.g.length,b=[],D=0;D<2*C;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<I.g.length;L++){var F=this.i(D)>>>16,N=this.i(D)&65535,pe=I.i(L)>>>16,we=I.i(L)&65535;b[2*D+2*L]+=N*we,U(b,2*D+2*L),b[2*D+2*L+1]+=F*we,U(b,2*D+2*L+1),b[2*D+2*L+1]+=N*pe,U(b,2*D+2*L+1),b[2*D+2*L+2]+=F*pe,U(b,2*D+2*L+2)}for(D=0;D<C;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=C;D<2*C;D++)b[D]=0;return new c(b,0)};function U(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function $(I,C){this.g=I,this.h=C}function q(I,C){if(M(C))throw Error("division by zero");if(M(I))return new $(w,w);if(P(I))return C=q(k(I),C),new $(k(C.g),k(C.h));if(P(C))return C=q(I,k(C)),new $(k(C.g),C.h);if(30<I.g.length){if(P(I)||P(C))throw Error("slowDivide_ only works with positive integers.");for(var b=x,D=C;0>=D.l(I);)b=Z(b),D=Z(D);var L=W(b,1),F=W(D,1);for(D=W(D,2),b=W(b,2);!M(D);){var N=F.add(D);0>=N.l(I)&&(L=L.add(b),F=N),D=W(D,1),b=W(b,1)}return C=V(I,L.j(C)),new $(L,C)}for(L=w;0<=I.l(C);){for(b=Math.max(1,Math.floor(I.m()/C.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=m(b),N=F.j(C);P(N)||0<N.l(I);)b-=D,F=m(b),N=F.j(C);M(F)&&(F=x),L=L.add(F),I=V(I,N)}return new $(L,I)}n.A=function(I){return q(this,I).h},n.and=function(I){for(var C=Math.max(this.g.length,I.g.length),b=[],D=0;D<C;D++)b[D]=this.i(D)&I.i(D);return new c(b,this.h&I.h)},n.or=function(I){for(var C=Math.max(this.g.length,I.g.length),b=[],D=0;D<C;D++)b[D]=this.i(D)|I.i(D);return new c(b,this.h|I.h)},n.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),b=[],D=0;D<C;D++)b[D]=this.i(D)^I.i(D);return new c(b,this.h^I.h)};function Z(I){for(var C=I.g.length+1,b=[],D=0;D<C;D++)b[D]=I.i(D)<<1|I.i(D-1)>>>31;return new c(b,I.h)}function W(I,C){var b=C>>5;C%=32;for(var D=I.g.length-b,L=[],F=0;F<D;F++)L[F]=0<C?I.i(F+b)>>>C|I.i(F+b+1)<<32-C:I.i(F+b);return new c(L,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,_s=c}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uE,Ja,cE,_c,Kf,dE,hE,fE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var H=u[S];if(!(H in _))break e;_=_[H]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var _=0,S=!1,H={next:function(){if(!S&&_<u.length){var X=_++;return{value:g(X,u[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,_){return u.call.apply(u.bind,arguments)}function w(u,g,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),u.apply(g,H)}}return function(){return u.apply(g,arguments)}}function x(u,g,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,x.apply(null,arguments)}function R(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function M(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,H,X){for(var le=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)le[Ge-2]=arguments[Ge];return g.prototype[H].apply(S,le)}}function P(u){const g=u.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function k(u,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const H=u.length||0,X=S.length||0;u.length=H+X;for(let le=0;le<X;le++)u[H+le]=S[le]}else u.push(S)}}class V{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function U(u){return/^[\s\xa0]*$/.test(u)}function $(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function q(u){return q[" "](u),u}q[" "]=function(){};var Z=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function W(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function I(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function C(u){const g={};for(const _ in u)g[_]=u[_];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,g){let _,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(_ in S)u[_]=S[_];for(let X=0;X<b.length;X++)_=b[X],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function L(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function F(u){h.setTimeout(()=>{throw u},0)}function N(){var u=ae;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class pe{constructor(){this.h=this.g=null}add(g,_){const S=we.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var we=new V(()=>new me,u=>u.reset());class me{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,Y=!1,ae=new pe,re=()=>{const u=h.Promise.resolve(void 0);he=()=>{u.then(B)}};var B=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(_){F(_)}var g=we;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Y=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Te=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return u})();function Re(u,g){if(ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(Z){e:{try{q(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}M(Re,ce);var Me={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function De(u,g,_,S,H){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=H,this.key=++Ee,this.da=this.fa=!1}function ke(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u){this.src=u,this.g={},this.h=0}Le.prototype.add=function(u,g,_,S,H){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var le=lt(u,g,S,H);return-1<le?(g=u[le],_||(g.fa=!1)):(g=new De(g,this.src,X,!!S,H),g.fa=_,u.push(g)),g};function Fe(u,g){var _=g.type;if(_ in u.g){var S=u.g[_],H=Array.prototype.indexOf.call(S,g,void 0),X;(X=0<=H)&&Array.prototype.splice.call(S,H,1),X&&(ke(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function lt(u,g,_,S){for(var H=0;H<u.length;++H){var X=u[H];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==S)return H}return-1}var St="closure_lm_"+(1e6*Math.random()|0),mn={};function Pn(u,g,_,S,H){if(Array.isArray(g)){for(var X=0;X<g.length;X++)Pn(u,g[X],_,S,H);return null}return _=ia(_),u&&u[ue]?u.K(g,_,m(S)?!!S.capture:!1,H):kn(u,g,_,!1,S,H)}function kn(u,g,_,S,H,X){if(!g)throw Error("Invalid event type");var le=m(H)?!!H.capture:!!H,Ge=Os(u);if(Ge||(u[St]=Ge=new Le(u)),_=Ge.add(g,_,S,le,X),_.proxy)return _;if(S=Ns(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)Te||(H=le),H===void 0&&(H=!1),u.addEventListener(g.toString(),S,H);else if(u.attachEvent)u.attachEvent(xr(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ns(){function u(_){return g.call(u.src,u.listener,_)}const g=ra;return u}function bn(u,g,_,S,H){if(Array.isArray(g))for(var X=0;X<g.length;X++)bn(u,g[X],_,S,H);else S=m(S)?!!S.capture:!!S,_=ia(_),u&&u[ue]?(u=u.i,g=String(g).toString(),g in u.g&&(X=u.g[g],_=lt(X,_,S,H),-1<_&&(ke(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete u.g[g],u.h--)))):u&&(u=Os(u))&&(g=u.g[g.toString()],u=-1,g&&(u=lt(g,_,S,H)),(_=-1<u?g[u]:null)&&Tr(_))}function Tr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ue])Fe(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(xr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Os(g))?(Fe(_,u),_.h==0&&(_.src=null,g[St]=null)):ke(u)}}}function xr(u){return u in mn?mn[u]:mn[u]="on"+u}function ra(u,g){if(u.da)u=!0;else{g=new Re(g,this);var _=u.listener,S=u.ha||u.src;u.fa&&Tr(u),u=_.call(S,g)}return u}function Os(u){return u=u[St],u instanceof Le?u:null}var Ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function ia(u){return typeof u=="function"?u:(u[Ds]||(u[Ds]=function(g){return u.handleEvent(g)}),u[Ds])}function vt(){J.call(this),this.i=new Le(this),this.M=this,this.F=null}M(vt,J),vt.prototype[ue]=!0,vt.prototype.removeEventListener=function(u,g,_,S){bn(this,u,g,_,S)};function yt(u,g){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new ce(g,u);else if(g instanceof ce)g.target=g.target||u;else{var H=g;g=new ce(S,u),D(g,H)}if(H=!0,_)for(var X=_.length-1;0<=X;X--){var le=g.g=_[X];H=Sr(le,S,!0,g)&&H}if(le=g.g=u,H=Sr(le,S,!0,g)&&H,H=Sr(le,S,!1,g)&&H,_)for(X=0;X<_.length;X++)le=g.g=_[X],H=Sr(le,S,!1,g)&&H}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],S=0;S<_.length;S++)ke(_[S]);delete u.g[g],u.h--}}this.F=null},vt.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},vt.prototype.L=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function Sr(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,X=0;X<g.length;++X){var le=g[X];if(le&&!le.da&&le.capture==_){var Ge=le.listener,_t=le.ha||le.src;le.fa&&Fe(u.i,le),H=Ge.call(_t,S)!==!1&&H}}return H&&!S.defaultPrevented}function sa(u,g,_){if(typeof u=="function")_&&(u=x(u,_));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(u,g||0)}function Zr(u){u.g=sa(()=>{u.g=null,u.i&&(u.i=!1,Zr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Ui extends J{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(u){J.call(this),this.h=u,this.g={}}M(zi,J);var oa=[];function aa(u){W(u.g,function(g,_){this.g.hasOwnProperty(_)&&Tr(g)},u),u.g={}}zi.prototype.N=function(){zi.aa.N.call(this),aa(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var la=h.JSON.stringify,ua=h.JSON.parse,ca=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Bi(){}Bi.prototype.h=null;function Ms(u){return u.h||(u.h=u.i())}function Ls(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){ce.call(this,"d")}M(Zn,ce);function Vs(){ce.call(this,"c")}M(Vs,ce);var er={},da=null;function $i(){return da=da||new vt}er.La="serverreachability";function ha(u){ce.call(this,er.La,u)}M(ha,ce);function Ir(u){const g=$i();yt(g,new ha(g))}er.STAT_EVENT="statevent";function fa(u,g){ce.call(this,er.STAT_EVENT,u),this.stat=g}M(fa,ce);function dt(u){const g=$i();yt(g,new fa(g,u))}er.Ma="timingevent";function js(u,g){ce.call(this,er.Ma,u),this.size=g}M(js,ce);function Nn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function Hi(u,g,_,S,H,X){u.info(function(){if(u.g)if(X)for(var le="",Ge=X.split("&"),_t=0;_t<Ge.length;_t++){var Be=Ge[_t].split("=");if(1<Be.length){var It=Be[0];Be=Be[1];var pt=It.split("_");le=2<=pt.length&&pt[1]=="type"?le+(It+"="+Be+"&"):le+(It+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+g+`
`+_+`
`+le})}function Fs(u,g,_,S,H,X,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+g+`
`+_+`
`+X+" "+le})}function On(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ed(u,_)+(S?" "+S:"")})}function pa(u,g){u.info(function(){return"TIMEOUT: "+g})}Wi.prototype.info=function(){};function Ed(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<H.length;le++)H[le]=""}}}}return la(_)}catch{return g}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function qi(){}M(qi,Bi),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},Dn=new qi;function Mn(u,g,_,S){this.j=u,this.i=g,this.l=_,this.R=S||1,this.U=new zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jl}function jl(){this.i=null,this.g="",this.h=!1}var ma={},zs={};function Bs(u,g,_){u.L=1,u.v=ii(an(g)),u.m=_,u.P=!0,ga(u,null)}function ga(u,g){u.F=Date.now(),Je(u),u.A=an(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),oi(_.i,"t",S),u.C=0,_=u.j.J,u.h=new jl,u.g=nu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Ui(x(u.Y,u,u.g),u.O)),g=u.U,_=u.g,S=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(oa[0]=H.toString()),H=oa);for(var X=0;X<H.length;X++){var le=Pn(_,H[X],S||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Ir(),Hi(u.i,u.u,u.A,u.l,u.R,u.m)}Mn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Jt(u)==3?g.j():this.Y(u)},Mn.prototype.Y=function(u){try{if(u==this.g)e:{const pt=Jt(this.g);var g=this.g.Ba();const _n=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Ta(this.g)))){this.J||pt!=4||g==7||(g==8||0>=_n?Ir(3):Ir(2)),Ki(this);var _=this.g.Z();this.X=_;t:if(Fl(this)){var S=Ta(this.g);u="";var H=S.length,X=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),ei(this);var le="";break t}this.h.i=new h.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(X&&g==H-1)});S.length=0,this.h.g+=u,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,Fs(this.i,this.u,this.A,this.l,this.R,pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,_t=this.g;if((Ge=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ge)){var Be=Ge;break t}}Be=null}if(_=Be)On(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,_);else{this.o=!1,this.s=3,dt(12),vn(this),ei(this);break e}}if(this.P){_=!0;let un;for(;!this.J&&this.C<le.length;)if(un=Td(this,le),un==zs){pt==4&&(this.s=4,dt(14),_=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(un==ma){this.s=4,dt(15),On(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else On(this.i,this.l,un,null),va(this,un);if(Fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||le.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)On(this.i,this.l,le,"[Invalid Chunked Response]"),vn(this),ei(this);else if(0<le.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Sa(It),It.M=!0,dt(11))}}else On(this.i,this.l,le,null),va(this,le);pt==4&&vn(this),this.o&&!this.J&&(pt==4?Zs(this.j,this):(this.o=!1,Je(this)))}else Gs(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),vn(this),ei(this)}}}catch{}finally{}};function Fl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Td(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?zs:(_=Number(g.substring(_,S)),isNaN(_)?ma:(S+=1,S+_>g.length?zs:(g=g.slice(S,S+_),u.C=S+_,g)))}Mn.prototype.cancel=function(){this.J=!0,vn(this)};function Je(u){u.S=Date.now()+u.I,Ul(u,u.I)}function Ul(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nn(x(u.ba,u),g)}function Ki(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Mn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(pa(this.i,this.A),this.L!=2&&(Ir(),dt(17)),vn(this),this.s=2,ei(this)):Ul(this,this.S-u)};function ei(u){u.j.G==0||u.J||Zs(u.j,u)}function vn(u){Ki(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,aa(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function va(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Kt(_.h,u))){if(!u.K&&Kt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Js(_),Un(_);else break e;Ys(_),dt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Nn(x(_.Za,_),6e3));if(1>=Bl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else kr(_,11)}else if((u.K||_.g==u)&&Js(_),!U(g))for(H=_.Da.g.parse(g),g=0;g<H.length;g++){let Be=H[g];if(_.T=Be[0],Be=Be[1],_.G==2)if(Be[0]=="c"){_.K=Be[1],_.ia=Be[2];const It=Be[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const pt=Be[4];pt!=null&&(_.Aa=pt,_.j.info("SVER="+_.Aa));const _n=Be[5];_n!=null&&typeof _n=="number"&&0<_n&&(S=1.5*_n,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const un=u.g;if(un){const es=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var X=S.h;X.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ya(X,X.h),X.h=null))}if(S.D){const to=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(S.ya=to,Xe(S.I,S.D,to))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var le=u;if(S.qa=tu(S,S.J?S.ia:null,S.W),le.K){$l(S.h,le);var Ge=le,_t=S.L;_t&&(Ge.I=_t),Ge.B&&(Ki(Ge),Je(Ge)),S.g=le}else Zi(S);0<_.i.length&&ir(_)}else Be[0]!="stop"&&Be[0]!="close"||kr(_,7);else _.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?kr(_,7):bt(_):Be[0]!="noop"&&_.l&&_.l.ta(Be),_.v=0)}}Ir(4)}catch{}}var zl=class{constructor(u,g){this.g=u,this.map=g}};function Gi(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Bl(u){return u.h?1:u.g?u.g.size:0}function Kt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ya(u,g){u.g?u.g.add(g):u.h=g}function $l(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Gi.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return P(u.i)}function $s(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var g=[],_=u.length,S=0;S<_;S++)g.push(u[S]);return g}g=[],_=0;for(S in u)g[_++]=u[S];return g}function Ws(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const S in u)g[_++]=S;return g}}}function ti(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Ws(u),S=$s(u),H=S.length,X=0;X<H;X++)g.call(void 0,S[X],_&&_[X],u)}var Qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xd(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),H=null;if(0<=S){var X=u[_].substring(0,S);H=u[_].substring(S+1)}else X=u[_];g(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Cr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Cr){this.h=u.h,Xi(this,u.j),this.o=u.o,this.g=u.g,ni(this,u.s),this.l=u.l;var g=u.i,_=new tr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ri(this,_),this.m=u.m}else u&&(g=String(u).match(Qi))?(this.h=!1,Xi(this,g[1]||"",!0),this.o=Ue(g[2]||""),this.g=Ue(g[3]||"",!0),ni(this,g[4]),this.l=Ue(g[5]||"",!0),ri(this,g[6]||"",!0),this.m=Ue(g[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}Cr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(si(g,Hs,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(si(g,Hs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(si(_,_.charAt(0)=="/"?Kl:ql,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",si(_,_a)),u.join("")};function an(u){return new Cr(u)}function Xi(u,g,_){u.j=_?Ue(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ni(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function ri(u,g,_){g instanceof tr?(u.i=g,nr(u.i,u.h)):(_||(g=si(g,Gl)),u.i=new tr(g,u.h))}function Xe(u,g,_){u.i.set(g,_)}function ii(u){return Xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ue(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function si(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Hl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Hl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hs=/[#\/\?@]/g,ql=/[#\?:]/g,Kl=/[#\?]/g,Gl=/[#\?@]/g,_a=/#/g;function tr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function kt(u){u.g||(u.g=new Map,u.h=0,u.i&&xd(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=tr.prototype,n.add=function(u,g){kt(this),this.i=null,u=yn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Ln(u,g){kt(u),g=yn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Vn(u,g){return kt(u),g=yn(u,g),u.g.has(g)}n.forEach=function(u,g){kt(this),this.g.forEach(function(_,S){_.forEach(function(H){u.call(g,H,S,this)},this)},this)},n.na=function(){kt(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const H=u[S];for(let X=0;X<H.length;X++)_.push(g[S])}return _},n.V=function(u){kt(this);let g=[];if(typeof u=="string")Vn(this,u)&&(g=g.concat(this.g.get(yn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},n.set=function(u,g){return kt(this),this.i=null,u=yn(this,u),Vn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function oi(u,g,_){Ln(u,g),0<_.length&&(u.i=null,u.g.set(yn(u,g),P(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const X=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var H=X;le[S]!==""&&(H+="="+encodeURIComponent(String(le[S]))),u.push(H)}}return this.i=u.join("&")};function yn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function nr(u,g){g&&!u.j&&(kt(u),u.i=null,u.g.forEach(function(_,S){var H=S.toLowerCase();S!=H&&(Ln(this,S),oi(this,H,_))},u)),u.j=g}function Sd(u,g){const _=new Wi;if(h.Image){const S=new Image;S.onload=R(Yt,_,"TestLoadImage: loaded",!0,g,S),S.onerror=R(Yt,_,"TestLoadImage: error",!1,g,S),S.onabort=R(Yt,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=R(Yt,_,"TestLoadImage: timeout",!1,g,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function Ql(u,g){const _=new Wi,S=new AbortController,H=setTimeout(()=>{S.abort(),Yt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(X=>{clearTimeout(H),X.ok?Yt(_,"TestPingServer: ok",!0,g):Yt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Yt(_,"TestPingServer: error",!1,g)})}function Yt(u,g,_,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(_)}catch{}}function Id(){this.g=new ca}function Xl(u,g,_){const S=_||"";try{ti(u,function(H,X){let le=H;m(H)&&(le=la(H)),g.push(S+X+"="+encodeURIComponent(le))})}catch(H){throw g.push(S+"type="+encodeURIComponent("_badmap")),H}}function Rr(u){this.l=u.Ub||null,this.j=u.eb||!1}M(Rr,Bi),Rr.prototype.g=function(){return new Yi(this.l,this.j)},Rr.prototype.i=(function(u){return function(){return u}})({});function Yi(u,g){vt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Yi,vt),n=Yi.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Fn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?jn(this):Fn(this),this.readyState==3&&Yl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,jn(this))},n.Qa=function(u){this.g&&(this.response=u,jn(this))},n.ga=function(){this.g&&jn(this)};function jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ar(u){let g="";return W(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function ai(u,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ar(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Xe(u,g,_))}function nt(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(nt,vt);var Cd=/^https?$/i,wa=["POST","PUT"];n=nt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?Ms(this.o):Ms(Dn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(X){Ji(this,X);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)_.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())_.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),H=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(wa,g,void 0))||S||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of _)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){Ji(this,X)}};function Ji(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,qs(u),ln(u)}function qs(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},n.bb=function(){Ea(this)};function Ea(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Jt(u)!=4||u.Z()!=2)){if(u.u&&Jt(u)==4)sa(u.Ea,0,u);else if(yt(u,"readystatechange"),Jt(u)==4){u.h=!1;try{const le=u.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=le===0){var H=String(u.D).match(Qi)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),S=!Cd.test(H?H.toLowerCase():"")}_=S}if(_)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var X=2<Jt(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",qs(u)}}finally{ln(u)}}}}function ln(u,g){if(u.g){Ks(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||yt(u,"ready");try{_.onreadystatechange=S}catch{}}}function Ks(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Jt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ua(g)}};function Ta(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(u){const g={};u=(u.g&&2<=Jt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(U(u[S]))continue;var _=L(u[S]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[H]||[];g[H]=X,X.push(_)}I(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function xa(u){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,u),this.cb=rr("retryDelaySeedMs",1e4,u),this.Wa=rr("forwardChannelMaxRetries",2,u),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gi(u&&u.concurrentRequestLimit),this.Da=new Id,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xa.prototype,n.la=8,n.G=1,n.connect=function(u,g,_,S){dt(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=tu(this,null,this.W),ir(this)};function bt(u){if(Qs(u),u.G==3){var g=u.U++,_=an(u.I);if(Xe(_,"SID",u.K),Xe(_,"RID",g),Xe(_,"TYPE","terminate"),Pr(u,_),g=new Mn(u,u.j,g),g.L=2,g.v=ii(an(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=nu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Je(g)}eu(u)}function Un(u){u.g&&(Sa(u),u.g.cancel(),u.g=null)}function Qs(u){Un(u),u.u&&(h.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function ir(u){if(!on(u.h)&&!u.s){u.s=!0;var g=u.Ga;he||re(),Y||(he(),Y=!0),ae.add(g,u),u.B=0}}function Rd(u,g){return Bl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nn(x(u.Ga,u,g),Zl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new Mn(this,this.j,u);let X=this.o;if(this.S&&(X?(X=C(X),D(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=li(this,H,g),_=an(this.I),Xe(_,"RID",u),Xe(_,"CVER",22),this.D&&Xe(_,"X-HTTP-Session-Id",this.D),Pr(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(Ar(X)))+"&"+g:this.m&&ai(_,this.m,X)),ya(this.h,H),this.Ua&&Xe(_,"TYPE","init"),this.P?(Xe(_,"$req",g),Xe(_,"SID","null"),H.T=!0,Bs(H,_,null)):Bs(H,_,g),this.G=2}}else this.G==3&&(u?Xs(this,u):this.i.length==0||on(this.h)||Xs(this))};function Xs(u,g){var _;g?_=g.l:_=u.U++;const S=an(u.I);Xe(S,"SID",u.K),Xe(S,"RID",_),Xe(S,"AID",u.T),Pr(u,S),u.m&&u.o&&ai(S,u.m,u.o),_=new Mn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=li(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ya(u.h,_),Bs(_,S,g)}function Pr(u,g){u.H&&W(u.H,function(_,S){Xe(g,S,_)}),u.l&&ti({},function(_,S){Xe(g,S,_)})}function li(u,g,_){_=Math.min(u.i.length,_);var S=u.l?x(u.l.Na,u.l,u):null;e:{var H=u.i;let X=-1;for(;;){const le=["count="+_];X==-1?0<_?(X=H[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let Ge=!0;for(let _t=0;_t<_;_t++){let Be=H[_t].g;const It=H[_t].map;if(Be-=X,0>Be)X=Math.max(0,H[_t].g-100),Ge=!1;else try{Xl(It,le,"req"+Be+"_")}catch{S&&S(It)}}if(Ge){S=le.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,S}function Zi(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;he||re(),Y||(he(),Y=!0),ae.add(g,u),u.v=0}}function Ys(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nn(x(u.Fa,u),Zl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nn(x(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Un(this),Jl(this))};function Sa(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Jl(u){u.g=new Mn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=an(u.qa);Xe(g,"RID","rpc"),Xe(g,"SID",u.K),Xe(g,"AID",u.T),Xe(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xe(g,"TO",u.ja),Xe(g,"TYPE","xmlhttp"),Pr(u,g),u.m&&u.o&&ai(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ii(an(g)),_.m=null,_.P=!0,ga(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Un(this),Ys(this),dt(19))};function Js(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Zs(u,g){var _=null;if(u.g==g){Js(u),Sa(u),u.g=null;var S=2}else if(Kt(u.h,g))_=g.D,$l(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var H=u.B;S=$i(),yt(S,new js(S,_)),ir(u)}else Zi(u);else if(H=g.s,H==3||H==0&&0<g.X||!(S==1&&Rd(u,g)||S==2&&Ys(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),H){case 1:kr(u,5);break;case 4:kr(u,10);break;case 3:kr(u,6);break;default:kr(u,2)}}}function Zl(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function kr(u,g){if(u.j.info("Error code "+g),g==2){var _=x(u.fb,u),S=u.Xa;const H=!S;S=new Cr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Xi(S,"https"),ii(S),H?Sd(S.toString(),_):Ql(S.toString(),_)}else dt(2);u.G=0,u.l&&u.l.sa(g),eu(u),Qs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function eu(u){if(u.G=0,u.ka=[],u.l){const g=Wl(u.h);(g.length!=0||u.i.length!=0)&&(k(u.ka,g),k(u.ka,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.ra()}}function tu(u,g,_){var S=_ instanceof Cr?an(_):new Cr(_);if(S.g!="")g&&(S.g=g+"."+S.g),ni(S,S.s);else{var H=h.location;S=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var X=new Cr(null);S&&Xi(X,S),g&&(X.g=g),H&&ni(X,H),_&&(X.l=_),S=X}return _=u.D,g=u.ya,_&&g&&Xe(S,_,g),Xe(S,"VER",u.la),Pr(u,S),S}function nu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new nt(new Rr({eb:_})):new nt(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ia(){}n=Ia.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eo(){}eo.prototype.g=function(u,g){return new Gt(u,g)};function Gt(u,g){vt.call(this),this.g=new xa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!U(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!U(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new sr(this)}M(Gt,vt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){bt(this.g)},Gt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=la(u),u=_);g.i.push(new zl(g.Ya++,u)),g.G==3&&ir(g)},Gt.prototype.N=function(){this.g.l=null,delete this.j,bt(this.g),delete this.g,Gt.aa.N.call(this)};function ru(u){Zn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}M(ru,Zn);function iu(){Vs.call(this),this.status=1}M(iu,Vs);function sr(u){this.g=u}M(sr,Ia),sr.prototype.ua=function(){yt(this.g,"a")},sr.prototype.ta=function(u){yt(this.g,new ru(u))},sr.prototype.sa=function(u){yt(this.g,new iu)},sr.prototype.ra=function(){yt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,fE=function(){return new eo},hE=function(){return $i()},dE=er,Kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,_c=Us,Vl.COMPLETE="complete",cE=Vl,Ls.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ja=Ls,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,uE=nt}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const jy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Ip("@firebase/firestore");function Xa(){return Rs.logLevel}function ye(n,...e){if(Rs.logLevel<=ze.DEBUG){const t=e.map(jp);Rs.debug(`Firestore (${Zo}): ${n}`,...t)}}function Xr(n,...e){if(Rs.logLevel<=ze.ERROR){const t=e.map(jp);Rs.error(`Firestore (${Zo}): ${n}`,...t)}}function Uo(n,...e){if(Rs.logLevel<=ze.WARN){const t=e.map(jp);Rs.warn(`Firestore (${Zo}): ${n}`,...t)}}function jp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+n;throw Xr(e),new Error(e)}function Qe(n,e){n||be()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($t.UNAUTHENTICATED)))}shutdown(){}}class mb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class gb{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ni,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ni)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string"),new pE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new $t(e)}}class vb{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yb{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new vb(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _b{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wb{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const i=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new _b(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=Eb(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function qe(n,e){return n<e?-1:n>e?1:0}function zo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new xt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new xt(0,0))}static max(){return new Ne(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t,i){t===void 0?t=0:t>e.length&&be(),i===void 0?i=e.length-t:i>e.length-t&&be(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return hl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ct extends hl{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ie(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const Tb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends hl{construct(e,t,i){return new Mt(e,t,i)}static isValidIdentifier(e){return Tb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Ie(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Ie(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ie(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new Ie(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(ct.fromString(e))}static fromName(e){return new Ce(ct.fromString(e).popFirst(5))}static empty(){return new Ce(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new ct(e.slice()))}}function xb(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(i===1e9?new xt(t+1,0):new xt(t,i));return new Mi(o,Ce.empty(),e)}function Sb(n){return new Mi(n.readTime,n.key,-1)}class Mi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Mi(Ne.min(),Ce.empty(),-1)}static max(){return new Mi(Ne.max(),Ce.empty(),-1)}}function Ib(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==Cb)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,i)=>{t(e)}))}static reject(e){return new ne(((t,i)=>{i(e)}))}static waitFor(e){return new ne(((t,i)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&t()}),(f=>i(f)))})),c=!0,a===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next((o=>o?ne.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,a)=>{i.push(t.call(this,o,a))})),this.waitFor(i)}static mapArray(e,t){return new ne(((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((y=>{c[m]=y,++h,h===a&&i(c)}),(y=>o(y)))}}))}static doWhile(e,t){return new ne(((i,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):i()};a()}))}}function Ab(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fp.oe=-1;function dd(n){return n==null}function Fc(n){return n===0&&1/n==-1/0}function Pb(n){return typeof n=="number"&&Number.isInteger(n)&&!Fc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ea(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Dt.RED,this.left=o??Dt.EMPTY,this.right=a??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Dt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(e){return new Uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class Uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Lt(Mt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vE("Invalid base64 string: "+a):a}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const kb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=kb.exec(n);if(Qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function As(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function zp(n){const e=n.mapValue.fields.__previous_value__;return Up(e)?zp(e):e}function fl(n){const e=Li(n.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t,i,o,a,c,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}class pl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc={mapValue:{}};function Ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Up(n)?4:Ob(n)?9007199254740991:Nb(n)?10:11:be()}function _r(n,e){if(n===e)return!0;const t=Ps(n);if(t!==Ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fl(n).isEqual(fl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Li(o.timestampValue),h=Li(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return As(o.bytesValue).isEqual(As(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return ft(o.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return ft(o.integerValue)===ft(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=ft(o.doubleValue),h=ft(a.doubleValue);return c===h?Fc(c)===Fc(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return zo(n.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Fy(c)!==Fy(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!_r(c[f],h[f])))return!1;return!0})(n,e);default:return be()}}function ml(n,e){return(n.values||[]).find((t=>_r(t,e)))!==void 0}function Bo(n,e){if(n===e)return 0;const t=Ps(n),i=Ps(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=ft(a.integerValue||a.doubleValue),f=ft(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return zy(n.timestampValue,e.timestampValue);case 4:return zy(fl(n),fl(e));case 5:return qe(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=As(a),f=As(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=qe(h[m],f[m]);if(y!==0)return y}return qe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=qe(ft(a.latitude),ft(c.latitude));return h!==0?h:qe(ft(a.longitude),ft(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return By(n.arrayValue,e.arrayValue);case 10:return(function(a,c){var h,f,m,y;const w=a.fields||{},x=c.fields||{},R=(h=w.value)===null||h===void 0?void 0:h.arrayValue,M=(f=x.value)===null||f===void 0?void 0:f.arrayValue,P=qe(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:By(R,M)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===cc.mapValue&&c===cc.mapValue)return 0;if(a===cc.mapValue)return 1;if(c===cc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const x=qe(f[w],y[w]);if(x!==0)return x;const R=Bo(h[f[w]],m[y[w]]);if(R!==0)return R}return qe(f.length,y.length)})(n.mapValue,e.mapValue);default:throw be()}}function zy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Li(n),i=Li(e),o=qe(t.seconds,i.seconds);return o!==0?o:qe(t.nanos,i.nanos)}function By(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Bo(t[o],i[o]);if(a)return a}return qe(t.length,i.length)}function $o(n){return Gf(n)}function Gf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Li(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return As(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ce.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Gf(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Gf(t.fields[c])}`;return o+"}"})(n.mapValue):be()}function Qf(n){return!!n&&"integerValue"in n}function Bp(n){return!!n&&"arrayValue"in n}function $y(n){return!!n&&"nullValue"in n}function Wy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wc(n){return!!n&&"mapValue"in n}function Nb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function nl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ea(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=nl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ob(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!wc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(t)}setAll(e){let t=Mt.emptyPath(),i={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=nl(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());wc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ea(t,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new Cn(nl(this.value))}}function yE(n){const e=[];return ea(n.fields,((t,i)=>{const o=new Mt([t]);if(wc(i)){const a=yE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Wt(e,0,Ne.min(),Ne.min(),Ne.min(),Cn.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,Ne.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ne.min(),Ne.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ne.min(),Ne.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.position=e,this.inclusive=t}}function Hy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ce.comparator(Ce.fromName(c.referenceValue),t.key):i=Bo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function qy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_r(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Db(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{}class Tt extends _E{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Lb(e,t,i):t==="array-contains"?new Fb(e,i):t==="in"?new Ub(e,i):t==="not-in"?new zb(e,i):t==="array-contains-any"?new Bb(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Vb(e,i):new jb(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bo(t,this.value)):t!==null&&Ps(this.value)===Ps(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends _E{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new wr(e,t)}matches(e){return wE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wE(n){return n.op==="and"}function EE(n){return Mb(n)&&wE(n)}function Mb(n){for(const e of n.filters)if(e instanceof wr)return!1;return!0}function Xf(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(EE(n))return n.filters.map((e=>Xf(e))).join(",");{const e=n.filters.map((t=>Xf(t))).join(",");return`${n.op}(${e})`}}function TE(n,e){return n instanceof Tt?(function(i,o){return o instanceof Tt&&i.op===o.op&&i.field.isEqual(o.field)&&_r(i.value,o.value)})(n,e):n instanceof wr?(function(i,o){return o instanceof wr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,c,h)=>a&&TE(c,o.filters[h])),!0):!1})(n,e):void be()}function xE(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`})(n):n instanceof wr?(function(t){return t.op.toString()+" {"+t.getFilters().map(xE).join(" ,")+"}"})(n):"Filter"}class Lb extends Tt{constructor(e,t,i){super(e,t,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class Vb extends Tt{constructor(e,t){super(e,"in",t),this.keys=SE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class jb extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=SE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function SE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>Ce.fromName(i.referenceValue)))}class Fb extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bp(t)&&ml(t.arrayValue,this.value)}}class Ub extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ml(this.value.arrayValue,t)}}class zb extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ml(this.value.arrayValue,t)}}class Bb extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>ml(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function Ky(n,e=null,t=[],i=[],o=null,a=null,c=null){return new $b(n,e,t,i,o,a,c)}function $p(n){const e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Xf(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>$o(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>$o(i))).join(",")),e.ue=t}return e.ue}function Wp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Db(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!TE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qy(n.startAt,e.startAt)&&qy(n.endAt,e.endAt)}function Yf(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Wb(n,e,t,i,o,a,c,h){return new hd(n,e,t,i,o,a,c,h)}function Hp(n){return new hd(n)}function Gy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Hb(n){return n.collectionGroup!==null}function rl(n){const e=Oe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Lt(Mt.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new zc(a,i))})),t.has(Mt.keyField().canonicalString())||e.ce.push(new zc(Mt.keyField(),i))}return e.ce}function mr(n){const e=Oe(n);return e.le||(e.le=qb(e,rl(n))),e.le}function qb(n,e){if(n.limitType==="F")return Ky(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new zc(o.field,a)}));const t=n.endAt?new Uc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Uc(n.startAt.position,n.startAt.inclusive):null;return Ky(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Jf(n,e,t){return new hd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fd(n,e){return Wp(mr(n),mr(e))&&n.limitType===e.limitType}function IE(n){return`${$p(mr(n))}|lt:${n.limitType}`}function Ro(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>xE(o))).join(", ")}]`),dd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>$o(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>$o(o))).join(",")),`Target(${i})`})(mr(n))}; limitType=${n.limitType})`}function pd(n,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ce.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,o){for(const a of rl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,h,f){const m=Hy(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,rl(i),o)||i.endAt&&!(function(c,h,f){const m=Hy(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,rl(i),o))})(n,e)}function Kb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CE(n){return(e,t)=>{let i=!1;for(const o of rl(n)){const a=Gb(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function Gb(n,e,t){const i=n.field.isKeyField()?Ce.comparator(e.key,t.key):(function(a,c,h){const f=c.data.field(a),m=h.data.field(a);return f!==null&&m!==null?Bo(f,m):be()})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,((t,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new at(Ce.comparator);function Yr(){return Qb}const RE=new at(Ce.comparator);function Za(...n){let e=RE;for(const t of n)e=e.insert(t.key,t);return e}function AE(n){let e=RE;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function gs(){return il()}function PE(){return il()}function il(){return new ta((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Xb=new at(Ce.comparator),Yb=new Lt(Ce.comparator);function je(...n){let e=Yb;for(const t of n)e=e.add(t);return e}const Jb=new Lt(qe);function Zb(){return Jb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function kE(n){return{integerValue:""+n}}function eN(n,e){return Pb(e)?kE(e):qp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this._=void 0}}function tN(n,e,t){return n instanceof gl?(function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Up(a)&&(a=zp(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}})(t,e):n instanceof vl?NE(n,e):n instanceof yl?OE(n,e):(function(o,a){const c=bE(o,a),h=Qy(c)+Qy(o.Pe);return Qf(c)&&Qf(o.Pe)?kE(h):qp(o.serializer,h)})(n,e)}function nN(n,e,t){return n instanceof vl?NE(n,e):n instanceof yl?OE(n,e):t}function bE(n,e){return n instanceof Bc?(function(i){return Qf(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class gl extends md{}class vl extends md{constructor(e){super(),this.elements=e}}function NE(n,e){const t=DE(e);for(const i of n.elements)t.some((o=>_r(o,i)))||t.push(i);return{arrayValue:{values:t}}}class yl extends md{constructor(e){super(),this.elements=e}}function OE(n,e){let t=DE(e);for(const i of n.elements)t=t.filter((o=>!_r(o,i)));return{arrayValue:{values:t}}}class Bc extends md{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Qy(n){return ft(n.integerValue||n.doubleValue)}function DE(n){return Bp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t){this.field=e,this.transform=t}}function iN(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof vl&&o instanceof vl||i instanceof yl&&o instanceof yl?zo(i.elements,o.elements,_r):i instanceof Bc&&o instanceof Bc?_r(i.Pe,o.Pe):i instanceof gl&&o instanceof gl})(n.transform,e.transform)}class sN{constructor(e,t){this.version=e,this.transformResults=t}}class Hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gd{}function ME(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new VE(n.key,Hr.none()):new Ol(n.key,n.data,Hr.none());{const t=n.data,i=Cn.empty();let o=new Lt(Mt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new ks(n.key,i,new Gn(o.toArray()),Hr.none())}}function oN(n,e,t){n instanceof Ol?(function(o,a,c){const h=o.value.clone(),f=Yy(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ks?(function(o,a,c){if(!Ec(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=Yy(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(LE(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function sl(n,e,t,i){return n instanceof Ol?(function(a,c,h,f){if(!Ec(a.precondition,c))return h;const m=a.value.clone(),y=Jy(a.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,i):n instanceof ks?(function(a,c,h,f){if(!Ec(a.precondition,c))return h;const m=Jy(a.fieldTransforms,f,c),y=c.data;return y.setAll(LE(a)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,i):(function(a,c,h){return Ec(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function aN(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=bE(i.transform,o||null);a!=null&&(t===null&&(t=Cn.empty()),t.set(i.field,a))}return t||null}function Xy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&zo(i,o,((a,c)=>iN(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ol extends gd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends gd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function LE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Yy(n,e,t){const i=new Map;Qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,nN(c,h,t[o]))}return i}function Jy(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,tN(a,c,e))}return i}class VE extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lN extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&oN(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=sl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=sl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=PE();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const f=ME(c,h);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,((t,i)=>Xy(t,i)))&&zo(this.baseMutations,e.baseMutations,((t,i)=>Xy(t,i)))}}class Kp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Qe(e.mutations.length===i.length);let o=(function(){return Xb})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Kp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,$e;function hN(n){switch(n){default:return be();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function jE(n){if(n===void 0)return Xr("GRPC error has no .code"),se.UNKNOWN;switch(n){case gt.OK:return se.OK;case gt.CANCELLED:return se.CANCELLED;case gt.UNKNOWN:return se.UNKNOWN;case gt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case gt.INTERNAL:return se.INTERNAL;case gt.UNAVAILABLE:return se.UNAVAILABLE;case gt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case gt.NOT_FOUND:return se.NOT_FOUND;case gt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case gt.ABORTED:return se.ABORTED;case gt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case gt.DATA_LOSS:return se.DATA_LOSS;default:return be()}}($e=gt||(gt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new _s([4294967295,4294967295],0);function Zy(n){const e=fN().encode(n),t=new lE;return t.update(e),new Uint8Array(t.digest())}function e_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _s([t,i],0),new _s([o,a],0)]}class Gp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new el(`Invalid padding: ${t}`);if(i<0)throw new el(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new el(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new el(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=_s.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(_s.fromNumber(i)));return o.compare(pN)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Zy(e),[i,o]=e_(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Gp(a,o,t);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const t=Zy(e),[i,o]=e_(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new vd(Ne.min(),o,new at(qe),Yr(),je())}}class Dl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Dl(i,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class FE{constructor(e,t){this.targetId=e,this.me=t}}class UE{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class t_{constructor(){this.fe=0,this.ge=r_(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),t=je(),i=je();return this.ge.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:be()}})),new Dl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=r_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yr(),this.qe=n_(),this.Qe=new at(qe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:be()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const a=o.target;if(Yf(a))if(i===0){const c=new Ce(a.path);this.Ue(t,c,Wt.newNoDocument(c,Ne.min()))}else Qe(i===1);else{const c=this.Ye(t);if(c!==i){const h=this.Ze(e),f=h?this.Xe(h,e,c):1;if(f!==0){this.je(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,m)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=As(i).toUint8Array()}catch(f){if(f instanceof vE)return Uo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Gp(c,o,a)}catch(f){return Uo(f instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((a=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,a,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((a,c)=>{const h=this.Je(c);if(h){if(a.current&&Yf(h.target)){const f=new Ce(h.target.path);this.ke.get(f)!==null||this.it(c,f)||this.Ue(c,f,Wt.newNoDocument(f,e))}a.be&&(t.set(c,a.ve()),a.Ce())}}));let i=je();this.qe.forEach(((a,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.Je(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.ke.forEach(((a,c)=>c.setReadTime(e)));const o=new vd(e,t,this.Qe,this.ke,i);return this.ke=Yr(),this.qe=n_(),this.Qe=new at(qe),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new t_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Lt(qe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new t_),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function n_(){return new at(Ce.comparator)}function r_(){return new at(Ce.comparator)}const gN={asc:"ASCENDING",desc:"DESCENDING"},vN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yN={and:"AND",or:"OR"};class _N{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zf(n,e){return n.useProto3Json||dd(e)?e:{value:e}}function $c(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wN(n,e){return $c(n,e.toTimestamp())}function gr(n){return Qe(!!n),Ne.fromTimestamp((function(t){const i=Li(t);return new xt(i.seconds,i.nanos)})(n))}function Qp(n,e){return ep(n,e).canonicalString()}function ep(n,e){const t=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function BE(n){const e=ct.fromString(n);return Qe(KE(e)),e}function tp(n,e){return Qp(n.databaseId,e.path)}function Ef(n,e){const t=BE(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(WE(t))}function $E(n,e){return Qp(n.databaseId,e)}function EN(n){const e=BE(n);return e.length===4?ct.emptyPath():WE(e)}function np(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WE(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function i_(n,e,t){return{name:tp(n,e),fields:t.value.mapValue.fields}}function TN(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:be()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(Qe(y===void 0||typeof y=="string"),Vt.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Vt.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?se.UNKNOWN:jE(m.code);return new Ie(y,m.message||"")})(c);t=new UE(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ef(n,i.document.name),a=gr(i.document.updateTime),c=i.document.createTime?gr(i.document.createTime):Ne.min(),h=new Cn({mapValue:{fields:i.document.fields}}),f=Wt.newFoundDocument(o,a,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];t=new Tc(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ef(n,i.document),a=i.readTime?gr(i.readTime):Ne.min(),c=Wt.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Tc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ef(n,i.document),a=i.removedTargetIds||[];t=new Tc([],a,o,null)}else{if(!("filter"in e))return be();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new dN(o,a),h=i.targetId;t=new FE(h,c)}}return t}function xN(n,e){let t;if(e instanceof Ol)t={update:i_(n,e.key,e.value)};else if(e instanceof VE)t={delete:tp(n,e.key)};else if(e instanceof ks)t={update:i_(n,e.key,e.data),updateMask:NN(e.fieldMask)};else{if(!(e instanceof lN))return be();t={verify:tp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,c){const h=c.transform;if(h instanceof gl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof yl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Bc)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw be()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:wN(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be()})(n,e.precondition)),t}function SN(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map((t=>(function(o,a){let c=o.updateTime?gr(o.updateTime):gr(a);return c.isEqual(Ne.min())&&(c=gr(a)),new sN(c,o.transformResults||[])})(t,e)))):[]}function IN(n,e){return{documents:[$E(n,e.path)]}}function CN(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=$E(n,o);const a=(function(m){if(m.length!==0)return qE(wr.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(m){if(m.length!==0)return m.map((y=>(function(x){return{field:Ao(x.field),direction:PN(x.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Zf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:t,parent:o}}function RN(n){let e=EN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Qe(i===1);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=(function(w){const x=HE(w);return x instanceof wr&&EE(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((x=>(function(M){return new zc(Po(M.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(x)))})(t.orderBy));let h=null;t.limit&&(h=(function(w){let x;return x=typeof w=="object"?w.value:w,dd(x)?null:x})(t.limit));let f=null;t.startAt&&(f=(function(w){const x=!!w.before,R=w.values||[];return new Uc(R,x)})(t.startAt));let m=null;return t.endAt&&(m=(function(w){const x=!w.before,R=w.values||[];return new Uc(R,x)})(t.endAt)),Wb(e,o,c,a,h,"F",f,m)}function AN(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Po(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Po(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Po(t.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Po(t.unaryFilter.field);return Tt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return be()}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(Po(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return wr.create(t.compositeFilter.filters.map((i=>HE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}})(t.compositeFilter.op))})(n):be()}function PN(n){return gN[n]}function kN(n){return vN[n]}function bN(n){return yN[n]}function Ao(n){return{fieldPath:n.canonicalString()}}function Po(n){return Mt.fromServerFormat(n.fieldPath)}function qE(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(Wy(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NAN"}};if($y(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Wy(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NAN"}};if($y(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(t.field),op:kN(t.op),value:t.value}}})(n):n instanceof wr?(function(t){const i=t.getFilters().map((o=>qE(o)));return i.length===1?i[0]:{compositeFilter:{op:bN(t.op),filters:i}}})(n):be()}function NN(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function KE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,t,i,o,a=Ne.min(),c=Ne.min(),h=Vt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.ct=e}}function DN(n){const e=RN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.un=new LN}addToCollectionParentIndex(e,t){return this.un.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Mi.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class LN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Lt(ct.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Lt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wo(0)}static kn(){return new Wo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.changes=new ta((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&sl(i.mutation,o,Gn.empty(),xt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,je()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=je()){const o=gs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((a=>{let c=Za();return a.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=gs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,je())))}populateOverlays(e,t,i){const o=[];return i.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,i,o){let a=Yr();const c=il(),h=(function(){return il()})();return t.forEach(((f,m)=>{const y=i.get(m.key);o.has(m.key)&&(y===void 0||y.mutation instanceof ks)?a=a.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),sl(y.mutation,m,y.mutation.getFieldMask(),xt.now())):c.set(m.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,y)=>c.set(m,y))),t.forEach(((m,y)=>{var w;return h.set(m,new jN(y,(w=c.get(m))!==null&&w!==void 0?w:null))})),h)))}recalculateAndSaveOverlays(e,t){const i=il();let o=new at(((c,h)=>c-h)),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let y=i.get(f)||Gn.empty();y=h.applyToLocalView(m,y),i.set(f,y);const w=(o.get(h.batchId)||je()).add(f);o=o.insert(h.batchId,w)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,w=PE();y.forEach((x=>{if(!a.has(x)){const R=ME(t.get(x),i.get(x));R!==null&&w.set(x,R),a=a.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return ne.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return Ce.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ne.resolve(gs());let h=-1,f=a;return c.next((m=>ne.forEach(m,((y,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{f=f.insert(y,x)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,je()))).next((y=>({batchId:h,changes:AE(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next((i=>{let o=Za();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Za();return this.indexManager.getCollectionParents(e,a).next((h=>ne.forEach(h,(f=>{const m=(function(w,x){return new hd(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next((y=>{y.forEach(((w,x)=>{c=c.insert(w,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o)))).next((c=>{a.forEach(((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Wt.newInvalidDocument(y)))}));let h=Za();return c.forEach(((f,m)=>{const y=a.get(f);y!==void 0&&sl(y.mutation,m,Gn.empty(),xt.now()),pd(t,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ne.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:gr(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:DN(o.bundledQuery),readTime:gr(o.readTime)}})(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.overlays=new at(Ce.comparator),this.Ir=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=gs();return ne.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,a)=>{this.ht(e,t,a)})),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=gs(),a=t.length+1,c=new Ce(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new at(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=a.get(m.largestBatchId);y===null&&(y=gs(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=gs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=o)););return ne.resolve(h)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new cN(t,i));let a=this.Ir.get(t);a===void 0&&(a=je(),this.Ir.set(t,a)),this.Ir.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.Tr=new Lt(Pt.Er),this.dr=new Lt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new Ce(new ct([])),i=new Pt(t,e),o=new Pt(t,e+1),a=[];return this.dr.forEachInRange([i,o],(c=>{this.Vr(c),a.push(c.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ce(new ct([])),i=new Pt(t,e),o=new Pt(t,e+1);let a=je();return this.dr.forEachInRange([i,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Pt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ce.comparator(e.key,t.key)||qe(e.wr,t.wr)}static Ar(e,t){return qe(e.wr,t.wr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Lt(Pt.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uN(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.br=this.br.add(new Pt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],(c=>{const h=this.Dr(c.wr);a.push(h)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(qe);return t.forEach((o=>{const a=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],(h=>{i=i.add(h.wr)}))})),ne.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ce.isDocumentKey(a)||(a=a.child(""));const c=new Pt(new Ce(a),0);let h=new Lt(qe);return this.br.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.wr)),!0)}),c),ne.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ne.forEach(t.mutations,(o=>{const a=new Pt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new Pt(t,0),o=this.br.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.Mr=e,this.docs=(function(){return new at(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Yr();return t.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Wt.newInvalidDocument(o))})),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Yr();const c=t.path,h=new Ce(c.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Ib(Sb(y),i)<=0||(o.has(y.key)||pd(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,i,o){be()}Or(e,t){return ne.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new HN(this)}getSize(e){return ne.resolve(this.size)}}class HN extends VN{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),ne.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.persistence=e,this.Nr=new ta((t=>$p(t)),Wp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xp,this.targetCount=0,this.kr=Wo.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Wo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Kn(t),ne.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ne.waitFor(a).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Fp(0),this.Kr=!1,this.Kr=!0,this.$r=new BN,this.referenceDelegate=e(this),this.Ur=new qN(this),this.indexManager=new MN,this.remoteDocumentCache=(function(o){return new WN(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new ON(t),this.Gr=new UN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new $N(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const o=new GN(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((a=>this.referenceDelegate.jr(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Hr(e,t){return ne.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class GN extends Rb{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Jr=new Xp,this.Yr=null}static Zr(e){return new Yp(e)}get Xr(){if(this.Yr)return this.Yr;throw be()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.Xr.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,(i=>{const o=Ce.fromPath(i);return this.ei(e,o).next((a=>{a||t.removeEntry(o,Ne.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return ne.or([()=>ne.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=je(),o=je();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Jp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return QA()?8:Ab(qt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Yi(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.Zi(e,t,o,i).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new QN;return this.Xi(e,t,c).next((h=>{if(a.result=h,this.zi)return this.es(e,t,c,h.size)}))})).next((()=>a.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(Xa()<=ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(Xa()<=ze.DEBUG&&ye("QueryEngine","Query:",Ro(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(Xa()<=ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):ne.resolve())}Yi(e,t){if(Gy(t))return ne.resolve(null);let i=mr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Jf(t,null,"F"),i=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const c=je(...a);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const m=this.ts(t,h);return this.ns(t,m,c,f.readTime)?this.Yi(e,Jf(t,null,"F")):this.rs(e,m,t,f)}))))})))))}Zi(e,t,i,o){return Gy(t)||o.isEqual(Ne.min())?ne.resolve(null):this.Ji.getDocuments(e,i).next((a=>{const c=this.ts(t,a);return this.ns(t,c,i,o)?ne.resolve(null):(Xa()<=ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(t)),this.rs(e,c,t,xb(o,-1)).next((h=>h)))}))}ts(e,t){let i=new Lt(CE(e));return t.forEach(((o,a)=>{pd(e,a)&&(i=i.add(a))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,i){return Xa()<=ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Ro(t)),this.Ji.getDocumentsMatchingQuery(e,t,Mi.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new at(qe),this._s=new ta((a=>$p(a)),Wp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function JN(n,e,t,i){return new YN(n,e,t,i)}async function GE(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const c=[],h=[];let f=je();for(const m of o){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of a){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(i,f).next((m=>({hs:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function ZN(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,y){const w=m.batch,x=w.keys();let R=ne.resolve();return x.forEach((M=>{R=R.next((()=>y.getEntry(f,M))).next((P=>{const k=m.docVersions.get(M);Qe(k!==null),P.version.compareTo(k)<0&&(w.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),y.addEntry(P)))}))})),R.next((()=>h.mutationQueue.removeMutationBatch(f,w)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=je();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function QE(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function e2(n,e){const t=Oe(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach(((y,w)=>{const x=o.get(w);if(!x)return;h.push(t.Ur.removeMatchingKeys(a,y.removedDocuments,w).next((()=>t.Ur.addMatchingKeys(a,y.addedDocuments,w))));let R=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?R=R.withResumeToken(Vt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,i)),o=o.insert(w,R),(function(P,k,V){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(x,R,y)&&h.push(t.Ur.updateTargetData(a,R))}));let f=Yr(),m=je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))})),h.push(t2(a,c,e.documentUpdates).next((y=>{f=y.Ps,m=y.Is}))),!i.isEqual(Ne.min())){const y=t.Ur.getLastRemoteSnapshotVersion(a).next((w=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(y)}return ne.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.os=o,a)))}function t2(n,e,t){let i=je(),o=je();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let c=Yr();return t.forEach(((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ye("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{Ps:c,Is:o}}))}function n2(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function r2(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((a=>a?(o=a,ne.resolve(o)):t.Ur.allocateTargetId(i).next((c=>(o=new Ai(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function rp(n,e,t){const i=Oe(n),o=i.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Nl(c))throw c;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function s_(n,e,t){const i=Oe(n);let o=Ne.min(),a=je();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,y){const w=Oe(f),x=w._s.get(y);return x!==void 0?ne.resolve(w.os.get(x)):w.Ur.getTargetData(m,y)})(i,c,mr(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,h.targetId).next((f=>{a=f}))})).next((()=>i.ss.getDocumentsMatchingQuery(c,e,t?o:Ne.min(),t?a:je()))).next((h=>(i2(i,Kb(e),h),{documents:h,Ts:a})))))}function i2(n,e,t){let i=n.us.get(e)||Ne.min();t.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.us.set(e,i)}class o_{constructor(){this.activeTargetIds=Zb()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s2{constructor(){this.so=new o_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new o_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function Tf(){return dc===null?dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class u2 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,i,o,a,c){const h=Tf(),f=this.xo(t,i.toUriEncodedString());ye("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,a,c),this.No(t,f,m,o).then((y=>(ye("RestConnection",`Received RPC '${t}' ${h}: `,y),y)),(y=>{throw Uo("RestConnection",`RPC '${t}' ${h} failed with error: `,y,"url: ",f,"request:",o),y}))}Lo(t,i,o,a,c,h){return this.Mo(t,i,o,a,c)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((a,c)=>t[c]=a)),o&&o.headers.forEach(((a,c)=>t[c]=a))}xo(t,i){const o=a2[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const a=Tf();return new Promise(((c,h)=>{const f=new uE;f.setWithCredentials(!0),f.listenOnce(cE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case _c.NO_ERROR:const y=f.getResponseJson();ye(Bt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),c(y);break;case _c.TIMEOUT:ye(Bt,`RPC '${e}' ${a} timed out`),h(new Ie(se.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const w=f.getStatus();if(ye(Bt,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const R=x==null?void 0:x.error;if(R&&R.status&&R.message){const M=(function(k){const V=k.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(V)>=0?V:se.UNKNOWN})(R.status);h(new Ie(M,R.message))}else h(new Ie(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Ie(se.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ye(Bt,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(o);ye(Bt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,i,15)}))}Bo(e,t,i){const o=Tf(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=fE(),h=hE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const y=a.join("");ye(Bt,`Creating RPC '${e}' stream ${o}: ${y}`,f);const w=c.createWebChannel(y,f);let x=!1,R=!1;const M=new l2({Io:k=>{R?ye(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(x||(ye(Bt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),x=!0),ye(Bt,`RPC '${e}' stream ${o} sending:`,k),w.send(k))},To:()=>w.close()}),P=(k,V,U)=>{k.listen(V,($=>{try{U($)}catch(q){setTimeout((()=>{throw q}),0)}}))};return P(w,Ja.EventType.OPEN,(()=>{R||(ye(Bt,`RPC '${e}' stream ${o} transport opened.`),M.yo())})),P(w,Ja.EventType.CLOSE,(()=>{R||(R=!0,ye(Bt,`RPC '${e}' stream ${o} transport closed`),M.So())})),P(w,Ja.EventType.ERROR,(k=>{R||(R=!0,Uo(Bt,`RPC '${e}' stream ${o} transport errored:`,k),M.So(new Ie(se.UNAVAILABLE,"The operation could not be completed")))})),P(w,Ja.EventType.MESSAGE,(k=>{var V;if(!R){const U=k.data[0];Qe(!!U);const $=U,q=$.error||((V=$[0])===null||V===void 0?void 0:V.error);if(q){ye(Bt,`RPC '${e}' stream ${o} received error:`,q);const Z=q.status;let W=(function(b){const D=gt[b];if(D!==void 0)return jE(D)})(Z),I=q.message;W===void 0&&(W=se.INTERNAL,I="Unknown error status: "+Z+" with message "+q.message),R=!0,M.So(new Ie(W,I)),w.close()}else ye(Bt,`RPC '${e}' stream ${o} received:`,U),M.bo(U)}})),P(h,dE.STAT_EVENT,(k=>{k.stat===Kf.PROXY?ye(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Kf.NOPROXY&&ye(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.wo()}),0),M}}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(n){return new _N(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,i,o,a,c,h,f){this.ui=e,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new XE(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new Ie(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c2 extends YE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=TN(this.serializer,e),i=(function(a){if(!("targetChange"in a))return Ne.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?gr(c.readTime):Ne.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=np(this.serializer),t.addTarget=(function(a,c){let h;const f=c.target;if(h=Yf(f)?{documents:IN(a,f)}:{query:CN(a,f)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=zE(a,c.resumeToken);const m=Zf(a,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ne.min())>0){h.readTime=$c(a,c.snapshotVersion.toTimestamp());const m=Zf(a,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=AN(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=np(this.serializer),t.removeTarget=e,this.a_(t)}}class d2 extends YE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=SN(e.writeResults,e.commitTime),i=gr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=np(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>xN(this.serializer,i)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2 extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Ie(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Mo(e,ep(t,i),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(se.UNKNOWN,a.toString())}))}Lo(e,t,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,ep(t,i),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ie(se.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class f2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xr(t),this.D_=!1):ye("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((c=>{i.enqueueAndForget((async()=>{bs(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const m=Oe(f);m.L_.add(4),await Ml(m),m.q_.set("Unknown"),m.L_.delete(4),await _d(m)})(this))}))})),this.q_=new f2(i,o)}}async function _d(n){if(bs(n))for(const e of n.B_)await e(!0)}async function Ml(n){for(const e of n.B_)await e(!1)}function JE(n,e){const t=Oe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),nm(t)?tm(t):na(t).r_()&&em(t,e))}function Zp(n,e){const t=Oe(n),i=na(t);t.N_.delete(e),i.r_()&&ZE(t,e),t.N_.size===0&&(i.r_()?i.o_():bs(t)&&t.q_.set("Unknown"))}function em(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}na(n).A_(e)}function ZE(n,e){n.Q_.xe(e),na(n).R_(e)}function tm(n){n.Q_=new mN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),na(n).start(),n.q_.v_()}function nm(n){return bs(n)&&!na(n).n_()&&n.N_.size>0}function bs(n){return Oe(n).L_.size===0}function eT(n){n.Q_=void 0}async function m2(n){n.q_.set("Online")}async function g2(n){n.N_.forEach(((e,t)=>{em(n,e)}))}async function v2(n,e){eT(n),nm(n)?(n.q_.M_(e),tm(n)):n.q_.set("Unknown")}async function y2(n,e,t){if(n.q_.set("Online"),e instanceof UE&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.N_.delete(h),o.Q_.removeTarget(h))})(n,e)}catch(i){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Wc(n,i)}else if(e instanceof Tc?n.Q_.Ke(e):e instanceof FE?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Ne.min()))try{const i=await QE(n.localStore);t.compareTo(i)>=0&&await(function(a,c){const h=a.Q_.rt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.N_.get(m);y&&a.N_.set(m,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const y=a.N_.get(f);if(!y)return;a.N_.set(f,y.withResumeToken(Vt.EMPTY_BYTE_STRING,y.snapshotVersion)),ZE(a,f);const w=new Ai(y.target,f,m,y.sequenceNumber);em(a,w)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){ye("RemoteStore","Failed to raise snapshot:",i),await Wc(n,i)}}async function Wc(n,e,t){if(!Nl(e))throw e;n.L_.add(1),await Ml(n),n.q_.set("Offline"),t||(t=()=>QE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await _d(n)}))}function tT(n,e){return e().catch((t=>Wc(n,t,e)))}async function wd(n){const e=Oe(n),t=Vi(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_2(e);)try{const o=await n2(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,w2(e,o)}catch(o){await Wc(e,o)}nT(e)&&rT(e)}function _2(n){return bs(n)&&n.O_.length<10}function w2(n,e){n.O_.push(e);const t=Vi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function nT(n){return bs(n)&&!Vi(n).n_()&&n.O_.length>0}function rT(n){Vi(n).start()}async function E2(n){Vi(n).p_()}async function T2(n){const e=Vi(n);for(const t of n.O_)e.m_(t.mutations)}async function x2(n,e,t){const i=n.O_.shift(),o=Kp.from(i,e,t);await tT(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await wd(n)}async function S2(n,e){e&&Vi(n).V_&&await(async function(i,o){if((function(c){return hN(c)&&c!==se.ABORTED})(o.code)){const a=i.O_.shift();Vi(i).s_(),await tT(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await wd(i)}})(n,e),nT(n)&&rT(n)}async function l_(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const i=bs(t);t.L_.add(3),await Ml(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await _d(t)}async function I2(n,e){const t=Oe(n);e?(t.L_.delete(2),await _d(t)):e||(t.L_.add(2),await Ml(t),t.q_.set("Unknown"))}function na(n){return n.K_||(n.K_=(function(t,i,o){const a=Oe(t);return a.w_(),new c2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:m2.bind(null,n),Ro:g2.bind(null,n),mo:v2.bind(null,n),d_:y2.bind(null,n)}),n.B_.push((async e=>{e?(n.K_.s_(),nm(n)?tm(n):n.q_.set("Unknown")):(await n.K_.stop(),eT(n))}))),n.K_}function Vi(n){return n.U_||(n.U_=(function(t,i,o){const a=Oe(t);return a.w_(),new d2(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:E2.bind(null,n),mo:S2.bind(null,n),f_:T2.bind(null,n),g_:x2.bind(null,n)}),n.B_.push((async e=>{e?(n.U_.s_(),await wd(n)):(await n.U_.stop(),n.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new rm(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function im(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),Nl(n))return new Ie(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ce.comparator(t.key,i.key):(t,i)=>Ce.comparator(t.key,i.key),this.keyedMap=Za(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Mo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Mo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.W_=new at(Ce.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):be():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Ho{constructor(e,t,i,o,a,c,h,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Ho(e,t,Mo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class R2{constructor(){this.queries=c_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=Oe(t),a=o.queries;o.queries=c_(),a.forEach(((c,h)=>{for(const f of h.j_)f.onError(i)}))})(this,new Ie(se.ABORTED,"Firestore shutting down"))}}function c_(){return new ta((n=>IE(n)),fd)}async function A2(n,e){const t=Oe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(i=2):(a=new C2,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=im(c,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&sm(t)}async function P2(n,e){const t=Oe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function k2(n,e){const t=Oe(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.j_)h.X_(o)&&(i=!0);c.z_=o}}i&&sm(t)}function b2(n,e,t){const i=Oe(n),o=i.queries.get(e);if(o)for(const a of o.j_)a.onError(t);i.queries.delete(e)}function sm(n){n.Y_.forEach((e=>{e.next()}))}var ip,d_;(d_=ip||(ip={})).ea="default",d_.Cache="cache";class N2{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ho(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.key=e}}class sT{constructor(e){this.key=e}}class O2{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=je(),this.mutatedKeys=je(),this.Aa=CE(e),this.Ra=new Mo(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new u_,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,w)=>{const x=o.get(y),R=pd(this.query,w)?w:null,M=!!x&&this.mutatedKeys.has(x.key),P=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;x&&R?x.data.isEqual(R.data)?M!==P&&(i.track({type:3,doc:R}),k=!0):this.ga(x,R)||(i.track({type:2,doc:R}),k=!0,(f&&this.Aa(R,f)>0||m&&this.Aa(R,m)<0)&&(h=!0)):!x&&R?(i.track({type:0,doc:R}),k=!0):x&&!R&&(i.track({type:1,doc:x}),k=!0,(f||m)&&(h=!0)),k&&(R?(c=c.add(R),a=P?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{Ra:c,fa:i,ns:h,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((y,w)=>(function(R,M){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return P(R)-P(M)})(y.type,w.type)||this.Aa(y.doc,w.doc))),this.pa(i),o=o!=null&&o;const h=t&&!o?this.ya():[],f=this.da.size===0&&this.current&&!o?1:0,m=f!==this.Ea;return this.Ea=f,c.length!==0||m?{snapshot:new Ho(this.query,e.Ra,a,c,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new u_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=je(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new sT(i))})),this.da.forEach((i=>{e.has(i)||t.push(new iT(i))})),t}ba(e){this.Ta=e.Ts,this.da=je();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ho.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class D2{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class M2{constructor(e){this.key=e,this.va=!1}}class L2{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new ta((h=>IE(h)),fd),this.Ma=new Map,this.xa=new Set,this.Oa=new at(Ce.comparator),this.Na=new Map,this.La=new Xp,this.Ba={},this.ka=new Map,this.qa=Wo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function V2(n,e,t=!0){const i=dT(n);let o;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await oT(i,e,t,!0),o}async function j2(n,e){const t=dT(n);await oT(t,e,!0,!1)}async function oT(n,e,t,i){const o=await r2(n.localStore,mr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await F2(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&JE(n.remoteStore,o),h}async function F2(n,e,t,i,o){n.Ka=(w,x,R)=>(async function(P,k,V,U){let $=k.view.ma(V);$.ns&&($=await s_(P.localStore,k.query,!1).then((({documents:I})=>k.view.ma(I,$))));const q=U&&U.targetChanges.get(k.targetId),Z=U&&U.targetMismatches.get(k.targetId)!=null,W=k.view.applyChanges($,P.isPrimaryClient,q,Z);return f_(P,k.targetId,W.wa),W.snapshot})(n,w,x,R);const a=await s_(n.localStore,e,!0),c=new O2(e,a.Ts),h=c.ma(a.documents),f=Dl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(h,n.isPrimaryClient,f);f_(n,t,m.wa);const y=new D2(e,t,c);return n.Fa.set(e,y),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),m.snapshot}async function U2(n,e,t){const i=Oe(n),o=i.Fa.get(e),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter((c=>!fd(c,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Zp(i.remoteStore,o.targetId),sp(i,o.targetId)})).catch(bl)):(sp(i,o.targetId),await rp(i.localStore,o.targetId,!0))}async function z2(n,e){const t=Oe(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Zp(t.remoteStore,i.targetId))}async function B2(n,e,t){const i=Q2(n);try{const o=await(function(c,h){const f=Oe(c),m=xt.now(),y=h.reduce(((R,M)=>R.add(M.key)),je());let w,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let M=Yr(),P=je();return f.cs.getEntries(R,y).next((k=>{M=k,M.forEach(((V,U)=>{U.isValidDocument()||(P=P.add(V))}))})).next((()=>f.localDocuments.getOverlayedDocuments(R,M))).next((k=>{w=k;const V=[];for(const U of h){const $=aN(U,w.get(U.key).overlayedDocument);$!=null&&V.push(new ks(U.key,$,yE($.value.mapValue),Hr.exists(!0)))}return f.mutationQueue.addMutationBatch(R,m,V,h)})).next((k=>{x=k;const V=k.applyToLocalDocumentSet(w,P);return f.documentOverlayCache.saveOverlays(R,k.batchId,V)}))})).then((()=>({batchId:x.batchId,changes:AE(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,h,f){let m=c.Ba[c.currentUser.toKey()];m||(m=new at(qe)),m=m.insert(h,f),c.Ba[c.currentUser.toKey()]=m})(i,o.batchId,t),await Ll(i,o.changes),await wd(i.remoteStore)}catch(o){const a=im(o,"Failed to persist write");t.reject(a)}}async function aT(n,e){const t=Oe(n);try{const i=await e2(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Na.get(a);c&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Qe(c.va):o.removedDocuments.size>0&&(Qe(c.va),c.va=!1))})),await Ll(t,i,e)}catch(i){await bl(i)}}function h_(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((a,c)=>{const h=c.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const f=Oe(c);f.onlineState=h;let m=!1;f.queries.forEach(((y,w)=>{for(const x of w.j_)x.Z_(h)&&(m=!0)})),m&&sm(f)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $2(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),a=o&&o.key;if(a){let c=new at(Ce.comparator);c=c.insert(a,Wt.newNoDocument(a,Ne.min()));const h=je().add(a),f=new vd(Ne.min(),new Map,new at(qe),c,h);await aT(i,f),i.Oa=i.Oa.remove(a),i.Na.delete(e),om(i)}else await rp(i.localStore,e,!1).then((()=>sp(i,e,t))).catch(bl)}async function W2(n,e){const t=Oe(n),i=e.batch.batchId;try{const o=await ZN(t.localStore,e);uT(t,i,null),lT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ll(t,o)}catch(o){await bl(o)}}async function H2(n,e,t){const i=Oe(n);try{const o=await(function(c,h){const f=Oe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next((w=>(Qe(w!==null),y=w.keys(),f.mutationQueue.removeMutationBatch(m,w)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(i.localStore,e);uT(i,e,t),lT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ll(i,o)}catch(o){await bl(o)}}function lT(n,e){(n.ka.get(e)||[]).forEach((t=>{t.resolve()})),n.ka.delete(e)}function uT(n,e,t){const i=Oe(n);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function sp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach((i=>{n.La.containsKey(i)||cT(n,i)}))}function cT(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(Zp(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),om(n))}function f_(n,e,t){for(const i of t)i instanceof iT?(n.La.addReference(i.key,e),q2(n,i)):i instanceof sT?(ye("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||cT(n,i.key)):be()}function q2(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(ye("SyncEngine","New document in limbo: "+t),n.xa.add(i),om(n))}function om(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Ce(ct.fromString(e)),i=n.qa.next();n.Na.set(i,new M2(t)),n.Oa=n.Oa.insert(t,i),JE(n.remoteStore,new Ai(mr(Hp(t.path)),i,"TargetPurposeLimboResolution",Fp.oe))}}async function Ll(n,e,t){const i=Oe(n),o=[],a=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach(((h,f)=>{c.push(i.Ka(f,e,t).then((m=>{var y;if((m||t)&&i.isPrimaryClient){const w=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Jp.Wi(f.targetId,m);a.push(w)}})))})),await Promise.all(c),i.Ca.d_(o),await(async function(f,m){const y=Oe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ne.forEach(m,(x=>ne.forEach(x.$i,(R=>y.persistence.referenceDelegate.addReference(w,x.targetId,R))).next((()=>ne.forEach(x.Ui,(R=>y.persistence.referenceDelegate.removeReference(w,x.targetId,R)))))))))}catch(w){if(!Nl(w))throw w;ye("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const x=w.targetId;if(!w.fromCache){const R=y.os.get(x),M=R.snapshotVersion,P=R.withLastLimboFreeSnapshotVersion(M);y.os=y.os.insert(x,P)}}})(i.localStore,a))}async function K2(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const i=await GE(t.localStore,e);t.currentUser=e,(function(a,c){a.ka.forEach((h=>{h.forEach((f=>{f.reject(new Ie(se.CANCELLED,c))}))})),a.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ll(t,i.hs)}}function G2(n,e){const t=Oe(n),i=t.Na.get(e);if(i&&i.va)return je().add(i.key);{let o=je();const a=t.Ma.get(e);if(!a)return o;for(const c of a){const h=t.Fa.get(c);o=o.unionWith(h.view.Va)}return o}}function dT(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$2.bind(null,e),e.Ca.d_=k2.bind(null,e.eventManager),e.Ca.$a=b2.bind(null,e.eventManager),e}function Q2(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H2.bind(null,e),e}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return JN(this.persistence,new XN,e.initialUser,this.serializer)}Ga(e){return new KN(Yp.Zr,this.serializer)}Wa(e){return new s2}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>h_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=K2.bind(null,this.syncEngine),await I2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new R2})()}createDatastore(e){const t=yd(e.databaseInfo.databaseId),i=(function(a){return new u2(a)})(e.databaseInfo);return(function(a,c,h,f){return new h2(a,c,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,a,c,h){return new p2(i,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>h_(this.syncEngine,t,0)),(function(){return a_.D()?new a_:new o2})())}createSyncEngine(e,t){return(function(o,a,c,h,f,m,y){const w=new L2(o,a,c,h,f,m);return y&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=Oe(o);ye("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ml(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=mE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async c=>{ye("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ye("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=im(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Sf(n,e){n.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await GE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function p_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await J2(n);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>l_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>l_(e.remoteStore,o))),n._onlineComponents=e}async function J2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await Sf(n,new Hc)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await Sf(n,new Hc);return n._offlineComponents}async function hT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await p_(n,n._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await p_(n,new op))),n._onlineComponents}function Z2(n){return hT(n).then((e=>e.syncEngine))}async function eO(n){const e=await hT(n),t=e.eventManager;return t.onListen=V2.bind(null,e.syncEngine),t.onUnlisten=U2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=j2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=z2.bind(null,e.syncEngine),t}function tO(n,e,t={}){const i=new Ni;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,m){const y=new X2({next:x=>{y.Za(),c.enqueueAndForget((()=>P2(a,w)));const R=x.docs.has(h);!R&&x.fromCache?m.reject(new Ie(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&x.fromCache&&f&&f.source==="server"?m.reject(new Ie(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),w=new N2(Hp(h.path),y,{includeMetadataChanges:!0,_a:!0});return A2(a,w)})(await eO(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(n,e,t){if(!t)throw new Ie(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rO(n,e,t,i){if(e===!0&&i===!0)throw new Ie(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function g_(n){if(!Ce.isDocumentKey(n))throw new Ie(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function am(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be()}function _l(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=am(n);throw new Ie(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ie(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lm{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new pb;switch(i.type){case"firstParty":return new yb(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ie(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=m_.get(t);i&&(ye("ComponentProvider","Removing Datastore"),m_.delete(t),i.terminate())})(this),Promise.resolve()}}function iO(n,e,t,i={}){var o;const a=(n=_l(n,lm))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=$t.MOCK_USER;else{h=BA(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Ie(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(m)}n._authCredentials=new mb(new pE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new um(this.firestore,e,this._query)}}class Rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class wl extends um{constructor(e,t,i){super(e,t,Hp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ce(e))}withConverter(e){return new wl(this.firestore,e,this._path)}}function sO(n,e,...t){if(n=An(n),arguments.length===1&&(e=mE.newId()),nO("doc","path",e),n instanceof lm){const i=ct.fromString(e,...t);return g_(i),new Rn(n,null,new Ce(i))}{if(!(n instanceof Rn||n instanceof wl))throw new Ie(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return g_(i),new Rn(n.firestore,n instanceof wl?n.converter:null,new Ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new XE(this,"async_queue_retry"),this.Vu=()=>{const i=xf();i&&ye("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=xf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=xf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ni;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nl(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(i);throw Xr("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=rm.createAndSchedule(this,e,t,i,(a=>this.yu(a)));return this.Tu.push(o),o}fu(){this.Eu&&be()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class cm extends lm{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new y_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y_(e),this._firestoreClient=void 0,await e}}}function oO(n,e){const t=typeof n=="object"?n:Aw(),i=typeof n=="string"?n:"(default)",o=Rp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=UA("firestore");a&&iO(o,...a)}return o}function pT(n){if(n._terminated)throw new Ie(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aO(n),n._firestoreClient}function aO(n){var e,t,i;const o=n._freezeSettings(),a=(function(h,f,m,y){return new bb(h,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,fT(y.experimentalLongPollingOptions),y.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Y2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(Vt.fromBase64String(e))}catch(t){throw new Ie(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qo(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/^__.*__$/;class uO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ol(e,this.data,t,this.fieldTransforms)}}function mT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class mm{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return qc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(mT(this.Cu)&&lO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class cO{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||yd(e)}Qu(e,t,i,o=!1){return new mm({Cu:e,methodName:t,qu:i,path:Mt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dO(n){const e=n._freezeSettings(),t=yd(n._databaseId);return new cO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hO(n,e,t,i,o,a={}){const c=n.Qu(a.merge||a.mergeFields?2:0,e,t,o);_T("Data must be an object, but it was:",c,i);const h=vT(i,c);let f,m;if(a.merge)f=new Gn(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const x=fO(e,w,t);if(!c.contains(x))throw new Ie(se.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);mO(y,x)||y.push(x)}f=new Gn(y),m=c.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,m=c.fieldTransforms;return new uO(new Cn(h),f,m)}class gm extends hm{_toFieldTransform(e){return new rN(e.path,new gl)}isEqual(e){return e instanceof gm}}function gT(n,e){if(yT(n=An(n)))return _T("Unsupported field value:",e,n),vT(n,e);if(n instanceof hm)return(function(i,o){if(!mT(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const a=[];let c=0;for(const h of i){let f=gT(h,o.Lu(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(n,e)}return(function(i,o){if((i=An(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return eN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=xt.fromDate(i);return{timestampValue:$c(o.serializer,a)}}if(i instanceof xt){const a=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:$c(o.serializer,a)}}if(i instanceof fm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qo)return{bytesValue:zE(o.serializer,i._byteString)};if(i instanceof Rn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Qp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof pm)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Bu("VectorValues must only contain numeric values.");return qp(h.serializer,f)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${am(i)}`)})(n,e)}function vT(n,e){const t={};return gE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(n,((i,o)=>{const a=gT(o,e.Mu(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function yT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof fm||n instanceof qo||n instanceof Rn||n instanceof hm||n instanceof pm)}function _T(n,e,t){if(!yT(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=am(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function fO(n,e,t){if((e=An(e))instanceof dm)return e._internalPath;if(typeof e=="string")return wT(n,e);throw qc("Field path arguments must be of type string or ",n,!1,void 0,t)}const pO=new RegExp("[~\\*/\\[\\]]");function wT(n,e,t){if(e.search(pO)>=0)throw qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dm(...e.split("."))._internalPath}catch{throw qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qc(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new Ie(se.INVALID_ARGUMENT,h+n+f)}function mO(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gO extends ET{data(){return super.data()}}function TT(n,e){return typeof e=="string"?wT(n,e):e instanceof dm?e._internalPath:e._delegate._internalPath}class vO{convertValue(e,t="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ea(e,((o,a)=>{i[o]=this.convertValue(a,t)})),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((c=>ft(c.doubleValue)));return new pm(a)}convertGeoPoint(e){return new fm(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=zp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const t=Li(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);Qe(KE(i));const o=new pl(i.get(1),i.get(3)),a=new Ce(i.popFirst(5));return o.isEqual(t)||Xr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xT extends ET{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(TT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class wO extends xT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(n){n=_l(n,Rn);const e=_l(n.firestore,cm);return tO(pT(e),n._key).then((t=>IO(e,n,t)))}class TO extends vO{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function xO(n,e,t){n=_l(n,Rn);const i=_l(n.firestore,cm),o=yO(n.converter,e,t);return SO(i,[hO(dO(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Hr.none())])}function SO(n,e){return(function(i,o){const a=new Ni;return i.asyncQueue.enqueueAndForget((async()=>B2(await Z2(i),o,a))),a.promise})(pT(n),e)}function IO(n,e,t){const i=t.docs.get(e._key),o=new TO(n);return new xT(n,o,e._key,i,new _O(t.hasPendingWrites,t.fromCache),e.converter)}function CO(){return new gm("serverTimestamp")}(function(e,t=!0){(function(o){Zo=o})(Yo),jo(new Is("firestore",((i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new cm(new gb(i.getProvider("auth-internal")),new wb(i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ie(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(m.options.projectId,y)})(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),bi(jy,"4.7.3",e),bi(jy,"4.7.3","esm2017")})();const RO={apiKey:"AIzaSyBsfan9ZXraevVDpTe8q1GL7DkfUER0wc0",authDomain:"cal-ranking-rm.firebaseapp.com",projectId:"cal-ranking-rm",storageBucket:"cal-ranking-rm.firebasestorage.app",messagingSenderId:"937306488262",appId:"1:937306488262:web:4428898ff1903d6ffd46c7",measurementId:"G-13CK76G4Q7"},ST=Rw(RO),vm=hb(ST),AO=oO(ST),PO=new Ur;function IT(n){return sO(AO,"users",n,"apps","rm_rank_calc")}function kO(){return Ek(vm,PO)}function bO(){return tk(vm)}async function NO(n){const e=IT(n.uid),t=await EO(e);if(!t.exists())return null;const i=t.data();return(i==null?void 0:i.state)||null}let If=null;function __(n,e){n&&(If&&clearTimeout(If),If=setTimeout(async()=>{try{const t=IT(n.uid);await xO(t,{state:e,updatedAt:CO()},{merge:!0})}catch(t){console.warn("Cloud save failed:",t)}},700))}function OO(n){return ek(vm,e=>n(e||null))}function DO(){const[n,e]=A.useState(()=>EA()),[t,i]=A.useState(null),[o,a]=A.useState(!1),[c,h]=A.useState(null),[f,m]=A.useState(null),[y,w]=A.useState("ranking"),[x,R]=A.useState(null),[M,P]=A.useState({}),k=A.useRef(null);k.current=f;const V=A.useMemo(()=>{const W={};for(const I of hr)W[I.id]=n.sections[I.id].reduce((C,b)=>C+(Number(b)||0),0);return W},[n.sections]);function U(W){e(I=>{const C=typeof W=="function"?W(I):W;return ay(C),__(k.current,C),C})}const $=A.useCallback(W=>{const I=W??n;a(!0),setTimeout(()=>{let C=0;for(const F of hr)for(const N of I.sections[F.id]){const pe=Number(N);Number.isFinite(pe)&&(C+=pe)}const b=Number.isFinite(I.bonus)?I.bonus:0,D=C+b,L=TA(D);i({sum:C,bonus:b,total:D,rank:L}),a(!1)},350)},[n]);function q(){U(W=>{var C;const I={...W};I.sections={...W.sections},I.cars={...W.cars},I.ocrCars={...W.ocrCars??{}};for(const b of hr)I.sections[b.id]=W.sections[b.id].map((D,L)=>W.locked[b.id][L]?D:""),I.cars[b.id]=W.cars[b.id].map((D,L)=>W.locked[b.id][L]?D:""),I.ocrCars[b.id]=(((C=W.ocrCars)==null?void 0:C[b.id])??[]).map((D,L)=>W.locked[b.id][L]?D:!1);return I}),i(null)}async function Z(W){if(!c){h(W);try{const{points:I,carNames:C,debugLog:b,imageUrl:D,badgeRightEdges:L}=await NA(W,()=>{});if(!I.length)return;U(we=>{var B;const me=[...we.sections[W]];I.forEach((J,ce)=>{ce<me.length&&(me[ce]=J)});const he=[...we.cars[W]],Y=[...((B=we.ocrCars)==null?void 0:B[W])??[]],ae=kc(W,we);C.forEach((J,ce)=>{if(ce<he.length){const Te=yw(J,ae);Te&&(he[ce]=Te,Y[ce]=!0)}});const re={...we,sections:{...we.sections,[W]:me},cars:{...we.cars,[W]:he},ocrCars:{...we.ocrCars,[W]:Y}};return setTimeout(()=>$(re),400),re});const F={imageUrl:D,sectionId:W,points:I,badgeRightEdges:L};R(F),P(we=>(we[W]&&URL.revokeObjectURL(we[W].imageUrl),{...we,[W]:F}));const N=I.filter(Boolean).length,pe=I.map((we,me)=>we?null:`#${me+1}: ${b[me]??"-"}`).filter(Boolean);pe.length&&console.warn(`[OCR] Failed slots:
${pe.join(`
`)}`),console.log(`[OCR] ${W} done: ${N}/${I.length}`)}catch(I){console.error(I),alert(`Import  
 Console  (F12)  error `)}finally{h(null)}}}return A.useEffect(()=>OO(async I=>{if(m(I),!!I)try{const C=await NO(I);if(C){const b=vw(C);e(b),ay(b),$(b)}else __(I,n)}catch(C){console.warn("Cloud load failed:",C)}}),[]),A.useEffect(()=>{$(n)},[]),T.jsxs("div",{className:"min-h-[125vh] text-[#eaeaea] font-kanit relative flex flex-col",style:{backgroundImage:`url(${wA})`,backgroundSize:"cover",backgroundPosition:"center center",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat"},children:[T.jsx("div",{className:"fixed inset-0 bg-black/80 -z-10"}),T.jsx("header",{className:`sticky top-0 z-40 bg-black/95 backdrop-blur-sm
        border-b border-white/[0.08]`,children:T.jsxs("div",{className:"max-w-[1320px] mx-auto px-4 py-2 flex items-center gap-3",children:[T.jsx("img",{src:_A,alt:"Racing Master",className:"w-8 h-8 rounded-lg object-cover"}),T.jsxs("div",{className:"flex flex-col leading-tight",children:[T.jsx("span",{className:"text-white font-extrabold text-sm tracking-widest uppercase",children:"Racing Master"}),T.jsx("span",{className:"text-zinc-500 text-[10px] tracking-wider",children:"Ranking Calculator"})]}),T.jsxs("nav",{className:"flex items-center gap-1 ml-4",children:[T.jsx("button",{type:"button",onClick:()=>w("ranking"),className:`h-7 px-3 text-xs font-bold uppercase tracking-wider rounded transition-all
                ${y==="ranking"?"bg-[#e60a3d] text-white":"text-zinc-500 hover:text-zinc-200 hover:bg-white/5"}`,children:"Ranking"}),T.jsx("button",{type:"button",onClick:()=>w("score"),className:`h-7 px-3 text-xs font-bold uppercase tracking-wider rounded transition-all
                ${y==="score"?"bg-[#e60a3d] text-white":"text-zinc-500 hover:text-zinc-200 hover:bg-white/5"}`,children:"Score"}),T.jsx("button",{type:"button",onClick:()=>w("compare"),className:`h-7 px-3 text-xs font-bold uppercase tracking-wider rounded transition-all
                ${y==="compare"?"bg-[#e60a3d] text-white":"text-zinc-500 hover:text-zinc-200 hover:bg-white/5"}`,children:"Compare"})]}),T.jsx("div",{className:"ml-auto",children:T.jsx(mA,{user:f,onSignIn:()=>kO().catch(console.error),onSignOut:()=>bO().catch(console.error)})})]})}),y==="score"?T.jsx("div",{className:"flex-1",children:T.jsx(vA,{})}):y==="compare"?T.jsx("div",{className:"flex-1",children:T.jsx(yA,{})}):T.jsxs("main",{className:"max-w-[1320px] mx-auto px-3 py-4 flex flex-col gap-3",children:[T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:hr.map(W=>T.jsx(WR,{sectionId:W.id,label:W.label,badgeText:`${W.count} `,state:n,isImporting:c===W.id,onStateChange:U,onImport:Z,onCalc:()=>$(),hasDebug:!!M[W.id],onShowDebug:()=>M[W.id]&&R(M[W.id])},W.id))}),T.jsx(pA,{bonus:n.bonus,sectionTotals:V,onBonusChange:W=>U(I=>({...I,bonus:W})),onCalc:()=>$(),onReset:q,result:t,isCalculating:o})]}),x&&T.jsx(gA,{open:!!x,imageUrl:x.imageUrl,sectionId:x.sectionId,points:x.points,badgeRightEdges:x.badgeRightEdges,onClose:()=>R(null)})]})}jx.createRoot(document.getElementById("root")).render(T.jsx(Fr.StrictMode,{children:T.jsx(DO,{})}));export{ap as g};
