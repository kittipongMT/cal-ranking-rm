function xS(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function sp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hh={exports:{}},Qa={},qh={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function CS(){if(Tv)return Ve;Tv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function T(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,P={};function N(B,Z,pe){this.props=B,this.context=Z,this.refs=P,this.updater=pe||A}N.prototype.isReactComponent={},N.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function U(){}U.prototype=N.prototype;function z(B,Z,pe){this.props=B,this.context=Z,this.refs=P,this.updater=pe||A}var W=z.prototype=new U;W.constructor=z,L(W,N.prototype),W.isPureReactComponent=!0;var V=Array.isArray,Q=Object.prototype.hasOwnProperty,X={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function I(B,Z,pe){var xe,Re={},Me=null,ue=null;if(Z!=null)for(xe in Z.ref!==void 0&&(ue=Z.ref),Z.key!==void 0&&(Me=""+Z.key),Z)Q.call(Z,xe)&&!C.hasOwnProperty(xe)&&(Re[xe]=Z[xe]);var we=arguments.length-2;if(we===1)Re.children=pe;else if(1<we){for(var De=Array(we),ke=0;ke<we;ke++)De[ke]=arguments[ke+2];Re.children=De}if(B&&B.defaultProps)for(xe in we=B.defaultProps,we)Re[xe]===void 0&&(Re[xe]=we[xe]);return{$$typeof:n,type:B,key:Me,ref:ue,props:Re,_owner:X.current}}function b(B,Z){return{$$typeof:n,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function M(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(pe){return Z[pe]})}var F=/\/+/g;function k(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):Z.toString(36)}function de(B,Z,pe,xe,Re){var Me=typeof B;(Me==="undefined"||Me==="boolean")&&(B=null);var ue=!1;if(B===null)ue=!0;else switch(Me){case"string":case"number":ue=!0;break;case"object":switch(B.$$typeof){case n:case e:ue=!0}}if(ue)return ue=B,Re=Re(ue),B=xe===""?"."+k(ue,0):xe,V(Re)?(pe="",B!=null&&(pe=B.replace(F,"$&/")+"/"),de(Re,Z,pe,"",function(ke){return ke})):Re!=null&&(D(Re)&&(Re=b(Re,pe+(!Re.key||ue&&ue.key===Re.key?"":(""+Re.key).replace(F,"$&/")+"/")+B)),Z.push(Re)),1;if(ue=0,xe=xe===""?".":xe+":",V(B))for(var we=0;we<B.length;we++){Me=B[we];var De=xe+k(Me,we);ue+=de(Me,Z,pe,De,Re)}else if(De=T(B),typeof De=="function")for(B=De.call(B),we=0;!(Me=B.next()).done;)Me=Me.value,De=xe+k(Me,we++),ue+=de(Me,Z,pe,De,Re);else if(Me==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ue}function Ce(B,Z,pe){if(B==null)return B;var xe=[],Re=0;return de(B,xe,"","",function(Me){return Z.call(pe,Me,Re++)}),xe}function ye(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(pe){(B._status===0||B._status===-1)&&(B._status=1,B._result=pe)},function(pe){(B._status===0||B._status===-1)&&(B._status=2,B._result=pe)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var he={current:null},J={transition:null},oe={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:J,ReactCurrentOwner:X};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Ce,forEach:function(B,Z,pe){Ce(B,function(){Z.apply(this,arguments)},pe)},count:function(B){var Z=0;return Ce(B,function(){Z++}),Z},toArray:function(B){return Ce(B,function(Z){return Z})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ve.Component=N,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=z,Ve.StrictMode=i,Ve.Suspense=f,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ve.act=re,Ve.cloneElement=function(B,Z,pe){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var xe=L({},B.props),Re=B.key,Me=B.ref,ue=B._owner;if(Z!=null){if(Z.ref!==void 0&&(Me=Z.ref,ue=X.current),Z.key!==void 0&&(Re=""+Z.key),B.type&&B.type.defaultProps)var we=B.type.defaultProps;for(De in Z)Q.call(Z,De)&&!C.hasOwnProperty(De)&&(xe[De]=Z[De]===void 0&&we!==void 0?we[De]:Z[De])}var De=arguments.length-2;if(De===1)xe.children=pe;else if(1<De){we=Array(De);for(var ke=0;ke<De;ke++)we[ke]=arguments[ke+2];xe.children=we}return{$$typeof:n,type:B.type,key:Re,ref:Me,props:xe,_owner:ue}},Ve.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ve.createElement=I,Ve.createFactory=function(B){var Z=I.bind(null,B);return Z.type=B,Z},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(B){return{$$typeof:h,render:B}},Ve.isValidElement=D,Ve.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:ye}},Ve.memo=function(B,Z){return{$$typeof:m,type:B,compare:Z===void 0?null:Z}},Ve.startTransition=function(B){var Z=J.transition;J.transition={};try{B()}finally{J.transition=Z}},Ve.unstable_act=re,Ve.useCallback=function(B,Z){return he.current.useCallback(B,Z)},Ve.useContext=function(B){return he.current.useContext(B)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(B){return he.current.useDeferredValue(B)},Ve.useEffect=function(B,Z){return he.current.useEffect(B,Z)},Ve.useId=function(){return he.current.useId()},Ve.useImperativeHandle=function(B,Z,pe){return he.current.useImperativeHandle(B,Z,pe)},Ve.useInsertionEffect=function(B,Z){return he.current.useInsertionEffect(B,Z)},Ve.useLayoutEffect=function(B,Z){return he.current.useLayoutEffect(B,Z)},Ve.useMemo=function(B,Z){return he.current.useMemo(B,Z)},Ve.useReducer=function(B,Z,pe){return he.current.useReducer(B,Z,pe)},Ve.useRef=function(B){return he.current.useRef(B)},Ve.useState=function(B){return he.current.useState(B)},Ve.useSyncExternalStore=function(B,Z,pe){return he.current.useSyncExternalStore(B,Z,pe)},Ve.useTransition=function(){return he.current.useTransition()},Ve.version="18.3.1",Ve}var Sv;function op(){return Sv||(Sv=1,qh.exports=CS()),qh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function RS(){if(Iv)return Qa;Iv=1;var n=op(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var y,w={},T=null,A=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(A=f.ref);for(y in f)i.call(f,y)&&!a.hasOwnProperty(y)&&(w[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)w[y]===void 0&&(w[y]=f[y]);return{$$typeof:e,type:h,key:T,ref:A,props:w,_owner:o.current}}return Qa.Fragment=t,Qa.jsx=c,Qa.jsxs=c,Qa}var xv;function AS(){return xv||(xv=1,Hh.exports=RS()),Hh.exports}var x=AS(),R=op();const Fr=sp(R),v_=xS({__proto__:null,default:Fr},[R]);var Yu={},Kh={exports:{}},sn={},Gh={exports:{}},Qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function PS(){return Cv||(Cv=1,(function(n){function e(J,oe){var re=J.length;J.push(oe);e:for(;0<re;){var B=re-1>>>1,Z=J[B];if(0<o(Z,oe))J[B]=oe,J[re]=Z,re=B;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var oe=J[0],re=J.pop();if(re!==oe){J[0]=re;e:for(var B=0,Z=J.length,pe=Z>>>1;B<pe;){var xe=2*(B+1)-1,Re=J[xe],Me=xe+1,ue=J[Me];if(0>o(Re,re))Me<Z&&0>o(ue,Re)?(J[B]=ue,J[Me]=re,B=Me):(J[B]=Re,J[xe]=re,B=xe);else if(Me<Z&&0>o(ue,re))J[B]=ue,J[Me]=re,B=Me;else break e}}return oe}function o(J,oe){var re=J.sortIndex-oe.sortIndex;return re!==0?re:J.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,w=null,T=3,A=!1,L=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(J){for(var oe=t(m);oe!==null;){if(oe.callback===null)i(m);else if(oe.startTime<=J)i(m),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(m)}}function V(J){if(P=!1,W(J),!L)if(t(f)!==null)L=!0,ye(Q);else{var oe=t(m);oe!==null&&he(V,oe.startTime-J)}}function Q(J,oe){L=!1,P&&(P=!1,U(I),I=-1),A=!0;var re=T;try{for(W(oe),w=t(f);w!==null&&(!(w.expirationTime>oe)||J&&!M());){var B=w.callback;if(typeof B=="function"){w.callback=null,T=w.priorityLevel;var Z=B(w.expirationTime<=oe);oe=n.unstable_now(),typeof Z=="function"?w.callback=Z:w===t(f)&&i(f),W(oe)}else i(f);w=t(f)}if(w!==null)var pe=!0;else{var xe=t(m);xe!==null&&he(V,xe.startTime-oe),pe=!1}return pe}finally{w=null,T=re,A=!1}}var X=!1,C=null,I=-1,b=5,D=-1;function M(){return!(n.unstable_now()-D<b)}function F(){if(C!==null){var J=n.unstable_now();D=J;var oe=!0;try{oe=C(!0,J)}finally{oe?k():(X=!1,C=null)}}else X=!1}var k;if(typeof z=="function")k=function(){z(F)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Ce=de.port2;de.port1.onmessage=F,k=function(){Ce.postMessage(null)}}else k=function(){N(F,0)};function ye(J){C=J,X||(X=!0,k())}function he(J,oe){I=N(function(){J(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){L||A||(L=!0,ye(Q))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(J){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var re=T;T=oe;try{return J()}finally{T=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var re=T;T=J;try{return oe()}finally{T=re}},n.unstable_scheduleCallback=function(J,oe,re){var B=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?B+re:B):re=B,J){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=re+Z,J={id:y++,callback:oe,priorityLevel:J,startTime:re,expirationTime:Z,sortIndex:-1},re>B?(J.sortIndex=re,e(m,J),t(f)===null&&J===t(m)&&(P?(U(I),I=-1):P=!0,he(V,re-B))):(J.sortIndex=Z,e(f,J),L||A||(L=!0,ye(Q))),J},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(J){var oe=T;return function(){var re=T;T=oe;try{return J.apply(this,arguments)}finally{T=re}}}})(Qh)),Qh}var Rv;function kS(){return Rv||(Rv=1,Gh.exports=PS()),Gh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function NS(){if(Av)return sn;Av=1;var n=op(),e=kS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function T(r){return f.call(w,r)?!0:f.call(y,r)?!1:m.test(r)?w[r]=!0:(y[r]=!0,!1)}function A(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function L(r,s,l,d){if(s===null||typeof s>"u"||A(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function P(r,s,l,d,p,v,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=E}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new P(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new P(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new P(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new P(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new P(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new P(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new P(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new P(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new P(r,5,!1,r.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(U,z);N[s]=new P(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(U,z);N[s]=new P(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(U,z);N[s]=new P(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new P(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new P(r,1,!1,r.toLowerCase(),null,!0,!0)});function W(r,s,l,d){var p=N.hasOwnProperty(s)?N[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,l,p,d)&&(l=null),d||p===null?T(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var V=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),X=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),J=Symbol.iterator;function oe(r){return r===null||typeof r!="object"?null:(r=J&&r[J]||r["@@iterator"],typeof r=="function"?r:null)}var re=Object.assign,B;function Z(r){if(B===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);B=s&&s[1]||""}return`
`+B+r}var pe=!1;function xe(r,s){if(!r||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var d=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){d=G}r.call(s.prototype)}else{try{throw Error()}catch(G){d=G}r()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),v=d.stack.split(`
`),E=p.length-1,O=v.length-1;1<=E&&0<=O&&p[E]!==v[O];)O--;for(;1<=E&&0<=O;E--,O--)if(p[E]!==v[O]){if(E!==1||O!==1)do if(E--,O--,0>O||p[E]!==v[O]){var j=`
`+p[E].replace(" at new "," at ");return r.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",r.displayName)),j}while(1<=E&&0<=O);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Z(r):""}function Re(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=xe(r.type,!1),r;case 11:return r=xe(r.type.render,!1),r;case 1:return r=xe(r.type,!0),r;default:return""}}function Me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case X:return"Portal";case b:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case de:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ce:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case ye:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}function ue(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function we(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function De(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ke(r){var s=De(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,v.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Le(r){r._valueTracker||(r._valueTracker=ke(r))}function je(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=De(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function lt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function It(r,s){var l=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function mn(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=we(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pn(r,s){s=s.checked,s!=null&&W(r,"checked",s,!1)}function kn(r,s){Pn(r,s);var l=we(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Nn(r,s.type,l):s.hasOwnProperty("defaultValue")&&Nn(r,s.type,we(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ns(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Nn(r,s,l){(s!=="number"||lt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Er=Array.isArray;function Tr(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+we(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function ra(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function bs(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Er(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:we(l)}}function Os(r,s){var l=we(s.value),d=we(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ia(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function vt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?vt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Sr,sa=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Sr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Jr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ui=["Webkit","ms","Moz","O"];Object.keys(ji).forEach(function(r){Ui.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ji[s]=ji[r]})});function oa(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ji.hasOwnProperty(r)&&ji[r]?(""+s).trim():s+"px"}function aa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=oa(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var la=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ua(r,s){if(s){if(la[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ca(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Ds(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ms=null,gn=null,Zn=null;function Ls(r){if(r=Da(r)){if(typeof Ms!="function")throw Error(t(280));var s=r.stateNode;s&&(s=hu(s),Ms(r.stateNode,r.type,s))}}function er(r){gn?Zn?Zn.push(r):Zn=[r]:gn=r}function da(){if(gn){var r=gn,s=Zn;if(Zn=gn=null,Ls(r),s)for(r=0;r<s.length;r++)Ls(s[r])}}function zi(r,s){return r(s)}function ha(){}var Ir=!1;function fa(r,s,l){if(Ir)return r(s,l);Ir=!0;try{return zi(r,s,l)}finally{Ir=!1,(gn!==null||Zn!==null)&&(ha(),da())}}function dt(r,s){var l=r.stateNode;if(l===null)return null;var d=hu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Vs=!1;if(h)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{Vs=!1}function $i(r,s,l,d,p,v,E,O,j){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(te){this.onError(te)}}var Wi=!1,Fs=null,On=!1,pa=null,_d={onError:function(r){Wi=!0,Fs=r}};function js(r,s,l,d,p,v,E,O,j){Wi=!1,Fs=null,$i.apply(_d,arguments)}function Vl(r,s,l,d,p,v,E,O,j){if(js.apply(this,arguments),Wi){if(Wi){var G=Fs;Wi=!1,Fs=null}else throw Error(t(198));On||(On=!0,pa=G)}}function Dn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Hi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Mn(r){if(Dn(r)!==r)throw Error(t(188))}function Fl(r){var s=r.alternate;if(!s){if(s=Dn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return Mn(p),r;if(v===d)return Mn(p),s;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=v;else{for(var E=!1,O=p.child;O;){if(O===l){E=!0,l=p,d=v;break}if(O===d){E=!0,d=p,l=v;break}O=O.sibling}if(!E){for(O=v.child;O;){if(O===l){E=!0,l=v,d=p;break}if(O===d){E=!0,d=v,l=p;break}O=O.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ma(r){return r=Fl(r),r!==null?Us(r):null}function Us(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Us(r);if(s!==null)return s;r=r.sibling}return null}var Bs=e.unstable_scheduleCallback,ga=e.unstable_cancelCallback,jl=e.unstable_shouldYield,wd=e.unstable_requestPaint,Je=e.unstable_now,Ul=e.unstable_getCurrentPriorityLevel,qi=e.unstable_ImmediatePriority,Zr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,va=e.unstable_LowPriority,Bl=e.unstable_IdlePriority,Ki=null,on=null;function zl(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ki,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Wl,ya=Math.log,$l=Math.LN2;function Wl(r){return r>>>=0,r===0?32:31-(ya(r)/$l|0)|0}var zs=64,$s=4194304;function ei(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gi(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,v=r.pingedLanes,E=l&268435455;if(E!==0){var O=E&~p;O!==0?d=ei(O):(v&=E,v!==0&&(d=ei(v)))}else E=l&~p,E!==0?d=ei(E):v!==0&&(d=ei(v));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,v=s&-s,p>=v||p===16&&(v&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Kt(s),p=1<<l,d|=r[l],s&=~p;return d}function Ed(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes;0<v;){var E=31-Kt(v),O=1<<E,j=p[E];j===-1?((O&l)===0||(O&d)!==0)&&(p[E]=Ed(O,s)):j<=s&&(r.expiredLanes|=O),v&=~O}}function an(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Qi(){var r=zs;return zs<<=1,(zs&4194240)===0&&(zs=64),r}function ti(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ni(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=l}function Xe(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Kt(l),v=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~v}}function ri(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Kt(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Ue=0;function ii(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Hl,Ws,ql,Kl,Gl,_a=!1,tr=[],kt=null,Ln=null,Vn=null,si=new Map,yn=new Map,nr=[],Td="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ql(r,s){switch(r){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":si.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yn.delete(s.pointerId)}}function Yt(r,s,l,d,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[p]},s!==null&&(s=Da(s),s!==null&&Ws(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Sd(r,s,l,d,p){switch(s){case"focusin":return kt=Yt(kt,r,s,l,d,p),!0;case"dragenter":return Ln=Yt(Ln,r,s,l,d,p),!0;case"mouseover":return Vn=Yt(Vn,r,s,l,d,p),!0;case"pointerover":var v=p.pointerId;return si.set(v,Yt(si.get(v)||null,r,s,l,d,p)),!0;case"gotpointercapture":return v=p.pointerId,yn.set(v,Yt(yn.get(v)||null,r,s,l,d,p)),!0}return!1}function Xl(r){var s=es(r.target);if(s!==null){var l=Dn(s);if(l!==null){if(s=l.tag,s===13){if(s=Hi(l),s!==null){r.blockedOn=s,Gl(r.priority,function(){ql(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Cr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Hs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Bi=d,l.target.dispatchEvent(d),Bi=null}else return s=Da(l),s!==null&&Ws(s),r.blockedOn=l,!1;s.shift()}return!0}function Xi(r,s,l){Cr(r)&&l.delete(s)}function Yl(){_a=!1,kt!==null&&Cr(kt)&&(kt=null),Ln!==null&&Cr(Ln)&&(Ln=null),Vn!==null&&Cr(Vn)&&(Vn=null),si.forEach(Xi),yn.forEach(Xi)}function Fn(r,s){r.blockedOn===s&&(r.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yl)))}function jn(r){function s(p){return Fn(p,r)}if(0<tr.length){Fn(tr[0],r);for(var l=1;l<tr.length;l++){var d=tr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(kt!==null&&Fn(kt,r),Ln!==null&&Fn(Ln,r),Vn!==null&&Fn(Vn,r),si.forEach(s),yn.forEach(s),l=0;l<nr.length;l++)d=nr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<nr.length&&(l=nr[0],l.blockedOn===null);)Xl(l),l.blockedOn===null&&nr.shift()}var Rr=V.ReactCurrentBatchConfig,oi=!0;function nt(r,s,l,d){var p=Ue,v=Rr.transition;Rr.transition=null;try{Ue=1,wa(r,s,l,d)}finally{Ue=p,Rr.transition=v}}function Id(r,s,l,d){var p=Ue,v=Rr.transition;Rr.transition=null;try{Ue=4,wa(r,s,l,d)}finally{Ue=p,Rr.transition=v}}function wa(r,s,l,d){if(oi){var p=Hs(r,s,l,d);if(p===null)Md(r,s,d,Yi,l),Ql(r,d);else if(Sd(p,r,s,l,d))d.stopPropagation();else if(Ql(r,d),s&4&&-1<Td.indexOf(r)){for(;p!==null;){var v=Da(p);if(v!==null&&Hl(v),v=Hs(r,s,l,d),v===null&&Md(r,s,d,Yi,l),v===p)break;p=v}p!==null&&d.stopPropagation()}else Md(r,s,d,null,l)}}var Yi=null;function Hs(r,s,l,d){if(Yi=null,r=Ds(d),r=es(r),r!==null)if(s=Dn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Hi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Yi=r,null}function Ea(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ul()){case qi:return 1;case Zr:return 4;case vn:case va:return 16;case Bl:return 536870912;default:return 16}default:return 16}}var ln=null,qs=null,Jt=null;function Ta(){if(Jt)return Jt;var r,s=qs,l=s.length,d,p="value"in ln?ln.value:ln.textContent,v=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===p[v-d];d++);return Jt=p.slice(r,1<d?1-d:void 0)}function Ks(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function rr(){return!0}function Sa(){return!1}function Nt(r){function s(l,d,p,v,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(l=r[O],this[O]=l?l(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?rr:Sa,this.isPropagationStopped=Sa,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),s}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=Nt(Un),ir=re({},Un,{view:0,detail:0}),xd=Nt(ir),Qs,Ar,ai,Ji=re({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(Qs=r.screenX-ai.screenX,Ar=r.screenY-ai.screenY):Ar=Qs=0,ai=r),Qs)},movementY:function(r){return"movementY"in r?r.movementY:Ar}}),Xs=Nt(Ji),Ia=re({},Ji,{dataTransfer:0}),Jl=Nt(Ia),Ys=re({},ir,{relatedTarget:0}),Js=Nt(Ys),Zl=re({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),Pr=Nt(Zl),eu=re({},Un,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tu=Nt(eu),nu=re({},Un,{data:0}),xa=Nt(nu),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ru[r])?!!s[r]:!1}function sr(){return iu}var u=re({},ir,{key:function(r){if(r.key){var s=Zs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ks(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(r){return r.type==="keypress"?Ks(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ks(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Nt(u),_=re({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Nt(_),H=re({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),Y=Nt(H),le=re({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Nt(le),_t=re({},Ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ze=Nt(_t),xt=[9,13,27,32],pt=h&&"CompositionEvent"in window,_n=null;h&&"documentMode"in document&&(_n=document.documentMode);var un=h&&"TextEvent"in window&&!_n,Zi=h&&(!pt||_n&&8<_n&&11>=_n),eo=" ",gm=!1;function vm(r,s){switch(r){case"keyup":return xt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ym(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var to=!1;function TT(r,s){switch(r){case"compositionend":return ym(s);case"keypress":return s.which!==32?null:(gm=!0,eo);case"textInput":return r=s.data,r===eo&&gm?null:r;default:return null}}function ST(r,s){if(to)return r==="compositionend"||!pt&&vm(r,s)?(r=Ta(),Jt=qs=ln=null,to=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zi&&s.locale!=="ko"?null:s.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _m(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!IT[r.type]:s==="textarea"}function wm(r,s,l,d){er(d),s=uu(s,"onChange"),0<s.length&&(l=new Gs("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ca=null,Ra=null;function xT(r){Fm(r,0)}function su(r){var s=oo(r);if(je(s))return r}function CT(r,s){if(r==="change")return s}var Em=!1;if(h){var Cd;if(h){var Rd="oninput"in document;if(!Rd){var Tm=document.createElement("div");Tm.setAttribute("oninput","return;"),Rd=typeof Tm.oninput=="function"}Cd=Rd}else Cd=!1;Em=Cd&&(!document.documentMode||9<document.documentMode)}function Sm(){Ca&&(Ca.detachEvent("onpropertychange",Im),Ra=Ca=null)}function Im(r){if(r.propertyName==="value"&&su(Ra)){var s=[];wm(s,Ra,r,Ds(r)),fa(xT,s)}}function RT(r,s,l){r==="focusin"?(Sm(),Ca=s,Ra=l,Ca.attachEvent("onpropertychange",Im)):r==="focusout"&&Sm()}function AT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return su(Ra)}function PT(r,s){if(r==="click")return su(s)}function kT(r,s){if(r==="input"||r==="change")return su(s)}function NT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:NT;function Aa(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!Bn(r[p],s[p]))return!1}return!0}function xm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cm(r,s){var l=xm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xm(l)}}function Rm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Rm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Am(){for(var r=window,s=lt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=lt(r.document)}return s}function Ad(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function bT(r){var s=Am(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Rm(l.ownerDocument.documentElement,l)){if(d!==null&&Ad(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,v=Math.min(d.start,p);d=d.end===void 0?v:Math.min(d.end,p),!r.extend&&v>d&&(p=d,d=v,v=p),p=Cm(l,v);var E=Cm(l,d);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),v>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var OT=h&&"documentMode"in document&&11>=document.documentMode,no=null,Pd=null,Pa=null,kd=!1;function Pm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;kd||no==null||no!==lt(d)||(d=no,"selectionStart"in d&&Ad(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Pa&&Aa(Pa,d)||(Pa=d,d=uu(Pd,"onSelect"),0<d.length&&(s=new Gs("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=no)))}function ou(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ro={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},Nd={},km={};h&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function au(r){if(Nd[r])return Nd[r];if(!ro[r])return r;var s=ro[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in km)return Nd[r]=s[l];return r}var Nm=au("animationend"),bm=au("animationiteration"),Om=au("animationstart"),Dm=au("transitionend"),Mm=new Map,Lm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(r,s){Mm.set(r,s),a(s,[r])}for(var bd=0;bd<Lm.length;bd++){var Od=Lm[bd],DT=Od.toLowerCase(),MT=Od[0].toUpperCase()+Od.slice(1);li(DT,"on"+MT)}li(Nm,"onAnimationEnd"),li(bm,"onAnimationIteration"),li(Om,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(Dm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function Vm(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,Vl(d,s,void 0,r),r.currentTarget=null}function Fm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var E=d.length-1;0<=E;E--){var O=d[E],j=O.instance,G=O.currentTarget;if(O=O.listener,j!==v&&p.isPropagationStopped())break e;Vm(p,O,G),v=j}else for(E=0;E<d.length;E++){if(O=d[E],j=O.instance,G=O.currentTarget,O=O.listener,j!==v&&p.isPropagationStopped())break e;Vm(p,O,G),v=j}}}if(On)throw r=pa,On=!1,pa=null,r}function et(r,s){var l=s[Bd];l===void 0&&(l=s[Bd]=new Set);var d=r+"__bubble";l.has(d)||(jm(s,r,2,!1),l.add(d))}function Dd(r,s,l){var d=0;s&&(d|=4),jm(l,r,d,s)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Na(r){if(!r[lu]){r[lu]=!0,i.forEach(function(l){l!=="selectionchange"&&(LT.has(l)||Dd(l,!1,r),Dd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[lu]||(s[lu]=!0,Dd("selectionchange",!1,s))}}function jm(r,s,l,d){switch(Ea(s)){case 1:var p=nt;break;case 4:p=Id;break;default:p=wa}l=p.bind(null,s,l,r),p=void 0,!Vs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Md(r,s,l,d,p){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var O=d.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var j=E.tag;if((j===3||j===4)&&(j=E.stateNode.containerInfo,j===p||j.nodeType===8&&j.parentNode===p))return;E=E.return}for(;O!==null;){if(E=es(O),E===null)return;if(j=E.tag,j===5||j===6){d=v=E;continue e}O=O.parentNode}}d=d.return}fa(function(){var G=v,te=Ds(l),ie=[];e:{var ee=Mm.get(r);if(ee!==void 0){var ce=Gs,me=r;switch(r){case"keypress":if(Ks(l)===0)break e;case"keydown":case"keyup":ce=g;break;case"focusin":me="focus",ce=Js;break;case"focusout":me="blur",ce=Js;break;case"beforeblur":case"afterblur":ce=Js;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Y;break;case Nm:case bm:case Om:ce=Pr;break;case Dm:ce=Ge;break;case"scroll":ce=xd;break;case"wheel":ce=ze;break;case"copy":case"cut":case"paste":ce=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var ge=(s&4)!==0,ht=!ge&&r==="scroll",q=ge?ee!==null?ee+"Capture":null:ee;ge=[];for(var $=G,K;$!==null;){K=$;var ae=K.stateNode;if(K.tag===5&&ae!==null&&(K=ae,q!==null&&(ae=dt($,q),ae!=null&&ge.push(ba($,ae,K)))),ht)break;$=$.return}0<ge.length&&(ee=new ce(ee,me,null,l,te),ie.push({event:ee,listeners:ge}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",ee&&l!==Bi&&(me=l.relatedTarget||l.fromElement)&&(es(me)||me[kr]))break e;if((ce||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(me=l.relatedTarget||l.toElement,ce=G,me=me?es(me):null,me!==null&&(ht=Dn(me),me!==ht||me.tag!==5&&me.tag!==6)&&(me=null)):(ce=null,me=G),ce!==me)){if(ge=Xs,ae="onMouseLeave",q="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(ge=S,ae="onPointerLeave",q="onPointerEnter",$="pointer"),ht=ce==null?ee:oo(ce),K=me==null?ee:oo(me),ee=new ge(ae,$+"leave",ce,l,te),ee.target=ht,ee.relatedTarget=K,ae=null,es(te)===G&&(ge=new ge(q,$+"enter",me,l,te),ge.target=K,ge.relatedTarget=ht,ae=ge),ht=ae,ce&&me)t:{for(ge=ce,q=me,$=0,K=ge;K;K=io(K))$++;for(K=0,ae=q;ae;ae=io(ae))K++;for(;0<$-K;)ge=io(ge),$--;for(;0<K-$;)q=io(q),K--;for(;$--;){if(ge===q||q!==null&&ge===q.alternate)break t;ge=io(ge),q=io(q)}ge=null}else ge=null;ce!==null&&Um(ie,ee,ce,ge,!1),me!==null&&ht!==null&&Um(ie,ht,me,ge,!0)}}e:{if(ee=G?oo(G):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var _e=CT;else if(_m(ee))if(Em)_e=kT;else{_e=AT;var Ee=RT}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(_e=PT);if(_e&&(_e=_e(r,G))){wm(ie,_e,l,te);break e}Ee&&Ee(r,ee,G),r==="focusout"&&(Ee=ee._wrapperState)&&Ee.controlled&&ee.type==="number"&&Nn(ee,"number",ee.value)}switch(Ee=G?oo(G):window,r){case"focusin":(_m(Ee)||Ee.contentEditable==="true")&&(no=Ee,Pd=G,Pa=null);break;case"focusout":Pa=Pd=no=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,Pm(ie,l,te);break;case"selectionchange":if(OT)break;case"keydown":case"keyup":Pm(ie,l,te)}var Te;if(pt)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else to?vm(r,l)&&(Ae="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(Zi&&l.locale!=="ko"&&(to||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&to&&(Te=Ta()):(ln=te,qs="value"in ln?ln.value:ln.textContent,to=!0)),Ee=uu(G,Ae),0<Ee.length&&(Ae=new xa(Ae,r,null,l,te),ie.push({event:Ae,listeners:Ee}),Te?Ae.data=Te:(Te=ym(l),Te!==null&&(Ae.data=Te)))),(Te=un?TT(r,l):ST(r,l))&&(G=uu(G,"onBeforeInput"),0<G.length&&(te=new xa("onBeforeInput","beforeinput",null,l,te),ie.push({event:te,listeners:G}),te.data=Te))}Fm(ie,s)})}function ba(r,s,l){return{instance:r,listener:s,currentTarget:l}}function uu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=dt(r,l),v!=null&&d.unshift(ba(r,v,p)),v=dt(r,s),v!=null&&d.push(ba(r,v,p))),r=r.return}return d}function io(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Um(r,s,l,d,p){for(var v=s._reactName,E=[];l!==null&&l!==d;){var O=l,j=O.alternate,G=O.stateNode;if(j!==null&&j===d)break;O.tag===5&&G!==null&&(O=G,p?(j=dt(l,v),j!=null&&E.unshift(ba(l,j,O))):p||(j=dt(l,v),j!=null&&E.push(ba(l,j,O)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var VT=/\r\n?/g,FT=/\u0000|\uFFFD/g;function Bm(r){return(typeof r=="string"?r:""+r).replace(VT,`
`).replace(FT,"")}function cu(r,s,l){if(s=Bm(s),Bm(r)!==s&&l)throw Error(t(425))}function du(){}var Ld=null,Vd=null;function Fd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jd=typeof setTimeout=="function"?setTimeout:void 0,jT=typeof clearTimeout=="function"?clearTimeout:void 0,zm=typeof Promise=="function"?Promise:void 0,UT=typeof queueMicrotask=="function"?queueMicrotask:typeof zm<"u"?function(r){return zm.resolve(null).then(r).catch(BT)}:jd;function BT(r){setTimeout(function(){throw r})}function Ud(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),jn(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);jn(s)}function ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function $m(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var so=Math.random().toString(36).slice(2),or="__reactFiber$"+so,Oa="__reactProps$"+so,kr="__reactContainer$"+so,Bd="__reactEvents$"+so,zT="__reactListeners$"+so,$T="__reactHandles$"+so;function es(r){var s=r[or];if(s)return s;for(var l=r.parentNode;l;){if(s=l[kr]||l[or]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=$m(r);r!==null;){if(l=r[or])return l;r=$m(r)}return s}r=l,l=r.parentNode}return null}function Da(r){return r=r[or]||r[kr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function oo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function hu(r){return r[Oa]||null}var zd=[],ao=-1;function ci(r){return{current:r}}function tt(r){0>ao||(r.current=zd[ao],zd[ao]=null,ao--)}function Ze(r,s){ao++,zd[ao]=r.current,r.current=s}var di={},Ft=ci(di),Zt=ci(!1),ts=di;function lo(r,s){var l=r.type.contextTypes;if(!l)return di;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=s[v];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function en(r){return r=r.childContextTypes,r!=null}function fu(){tt(Zt),tt(Ft)}function Wm(r,s,l){if(Ft.current!==di)throw Error(t(168));Ze(Ft,s),Ze(Zt,l)}function Hm(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,ue(r)||"Unknown",p));return re({},l,d)}function pu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||di,ts=Ft.current,Ze(Ft,r),Ze(Zt,Zt.current),!0}function qm(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=Hm(r,s,ts),d.__reactInternalMemoizedMergedChildContext=r,tt(Zt),tt(Ft),Ze(Ft,r)):tt(Zt),Ze(Zt,l)}var Nr=null,mu=!1,$d=!1;function Km(r){Nr===null?Nr=[r]:Nr.push(r)}function WT(r){mu=!0,Km(r)}function hi(){if(!$d&&Nr!==null){$d=!0;var r=0,s=Ue;try{var l=Nr;for(Ue=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Nr=null,mu=!1}catch(p){throw Nr!==null&&(Nr=Nr.slice(r+1)),Bs(qi,hi),p}finally{Ue=s,$d=!1}}return null}var uo=[],co=0,gu=null,vu=0,wn=[],En=0,ns=null,br=1,Or="";function rs(r,s){uo[co++]=vu,uo[co++]=gu,gu=r,vu=s}function Gm(r,s,l){wn[En++]=br,wn[En++]=Or,wn[En++]=ns,ns=r;var d=br;r=Or;var p=32-Kt(d)-1;d&=~(1<<p),l+=1;var v=32-Kt(s)+p;if(30<v){var E=p-p%5;v=(d&(1<<E)-1).toString(32),d>>=E,p-=E,br=1<<32-Kt(s)+p|l<<p|d,Or=v+r}else br=1<<v|l<<p|d,Or=r}function Wd(r){r.return!==null&&(rs(r,1),Gm(r,1,0))}function Hd(r){for(;r===gu;)gu=uo[--co],uo[co]=null,vu=uo[--co],uo[co]=null;for(;r===ns;)ns=wn[--En],wn[En]=null,Or=wn[--En],wn[En]=null,br=wn[--En],wn[En]=null}var cn=null,dn=null,rt=!1,zn=null;function Qm(r,s){var l=xn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Xm(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,cn=r,dn=ui(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,cn=r,dn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ns!==null?{id:br,overflow:Or}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=xn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,cn=r,dn=null,!0):!1;default:return!1}}function qd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Kd(r){if(rt){var s=dn;if(s){var l=s;if(!Xm(r,s)){if(qd(r))throw Error(t(418));s=ui(l.nextSibling);var d=cn;s&&Xm(r,s)?Qm(d,l):(r.flags=r.flags&-4097|2,rt=!1,cn=r)}}else{if(qd(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,cn=r}}}function Ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;cn=r}function yu(r){if(r!==cn)return!1;if(!rt)return Ym(r),rt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Fd(r.type,r.memoizedProps)),s&&(s=dn)){if(qd(r))throw Jm(),Error(t(418));for(;s;)Qm(r,s),s=ui(s.nextSibling)}if(Ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){dn=ui(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}dn=null}}else dn=cn?ui(r.stateNode.nextSibling):null;return!0}function Jm(){for(var r=dn;r;)r=ui(r.nextSibling)}function ho(){dn=cn=null,rt=!1}function Gd(r){zn===null?zn=[r]:zn.push(r)}var HT=V.ReactCurrentBatchConfig;function Ma(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(E){var O=p.refs;E===null?delete O[v]:O[v]=E},s._stringRef=v,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function _u(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Zm(r){var s=r._init;return s(r._payload)}function eg(r){function s(q,$){if(r){var K=q.deletions;K===null?(q.deletions=[$],q.flags|=16):K.push($)}}function l(q,$){if(!r)return null;for(;$!==null;)s(q,$),$=$.sibling;return null}function d(q,$){for(q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function p(q,$){return q=wi(q,$),q.index=0,q.sibling=null,q}function v(q,$,K){return q.index=K,r?(K=q.alternate,K!==null?(K=K.index,K<$?(q.flags|=2,$):K):(q.flags|=2,$)):(q.flags|=1048576,$)}function E(q){return r&&q.alternate===null&&(q.flags|=2),q}function O(q,$,K,ae){return $===null||$.tag!==6?($=jh(K,q.mode,ae),$.return=q,$):($=p($,K),$.return=q,$)}function j(q,$,K,ae){var _e=K.type;return _e===C?te(q,$,K.props.children,ae,K.key):$!==null&&($.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&Zm(_e)===$.type)?(ae=p($,K.props),ae.ref=Ma(q,$,K),ae.return=q,ae):(ae=$u(K.type,K.key,K.props,null,q.mode,ae),ae.ref=Ma(q,$,K),ae.return=q,ae)}function G(q,$,K,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=Uh(K,q.mode,ae),$.return=q,$):($=p($,K.children||[]),$.return=q,$)}function te(q,$,K,ae,_e){return $===null||$.tag!==7?($=ds(K,q.mode,ae,_e),$.return=q,$):($=p($,K),$.return=q,$)}function ie(q,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=jh(""+$,q.mode,K),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Q:return K=$u($.type,$.key,$.props,null,q.mode,K),K.ref=Ma(q,null,$),K.return=q,K;case X:return $=Uh($,q.mode,K),$.return=q,$;case ye:var ae=$._init;return ie(q,ae($._payload),K)}if(Er($)||oe($))return $=ds($,q.mode,K,null),$.return=q,$;_u(q,$)}return null}function ee(q,$,K,ae){var _e=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return _e!==null?null:O(q,$,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return K.key===_e?j(q,$,K,ae):null;case X:return K.key===_e?G(q,$,K,ae):null;case ye:return _e=K._init,ee(q,$,_e(K._payload),ae)}if(Er(K)||oe(K))return _e!==null?null:te(q,$,K,ae,null);_u(q,K)}return null}function ce(q,$,K,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return q=q.get(K)||null,O($,q,""+ae,_e);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case Q:return q=q.get(ae.key===null?K:ae.key)||null,j($,q,ae,_e);case X:return q=q.get(ae.key===null?K:ae.key)||null,G($,q,ae,_e);case ye:var Ee=ae._init;return ce(q,$,K,Ee(ae._payload),_e)}if(Er(ae)||oe(ae))return q=q.get(K)||null,te($,q,ae,_e,null);_u($,ae)}return null}function me(q,$,K,ae){for(var _e=null,Ee=null,Te=$,Ae=$=0,At=null;Te!==null&&Ae<K.length;Ae++){Te.index>Ae?(At=Te,Te=null):At=Te.sibling;var He=ee(q,Te,K[Ae],ae);if(He===null){Te===null&&(Te=At);break}r&&Te&&He.alternate===null&&s(q,Te),$=v(He,$,Ae),Ee===null?_e=He:Ee.sibling=He,Ee=He,Te=At}if(Ae===K.length)return l(q,Te),rt&&rs(q,Ae),_e;if(Te===null){for(;Ae<K.length;Ae++)Te=ie(q,K[Ae],ae),Te!==null&&($=v(Te,$,Ae),Ee===null?_e=Te:Ee.sibling=Te,Ee=Te);return rt&&rs(q,Ae),_e}for(Te=d(q,Te);Ae<K.length;Ae++)At=ce(Te,q,Ae,K[Ae],ae),At!==null&&(r&&At.alternate!==null&&Te.delete(At.key===null?Ae:At.key),$=v(At,$,Ae),Ee===null?_e=At:Ee.sibling=At,Ee=At);return r&&Te.forEach(function(Ei){return s(q,Ei)}),rt&&rs(q,Ae),_e}function ge(q,$,K,ae){var _e=oe(K);if(typeof _e!="function")throw Error(t(150));if(K=_e.call(K),K==null)throw Error(t(151));for(var Ee=_e=null,Te=$,Ae=$=0,At=null,He=K.next();Te!==null&&!He.done;Ae++,He=K.next()){Te.index>Ae?(At=Te,Te=null):At=Te.sibling;var Ei=ee(q,Te,He.value,ae);if(Ei===null){Te===null&&(Te=At);break}r&&Te&&Ei.alternate===null&&s(q,Te),$=v(Ei,$,Ae),Ee===null?_e=Ei:Ee.sibling=Ei,Ee=Ei,Te=At}if(He.done)return l(q,Te),rt&&rs(q,Ae),_e;if(Te===null){for(;!He.done;Ae++,He=K.next())He=ie(q,He.value,ae),He!==null&&($=v(He,$,Ae),Ee===null?_e=He:Ee.sibling=He,Ee=He);return rt&&rs(q,Ae),_e}for(Te=d(q,Te);!He.done;Ae++,He=K.next())He=ce(Te,q,Ae,He.value,ae),He!==null&&(r&&He.alternate!==null&&Te.delete(He.key===null?Ae:He.key),$=v(He,$,Ae),Ee===null?_e=He:Ee.sibling=He,Ee=He);return r&&Te.forEach(function(IS){return s(q,IS)}),rt&&rs(q,Ae),_e}function ht(q,$,K,ae){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:e:{for(var _e=K.key,Ee=$;Ee!==null;){if(Ee.key===_e){if(_e=K.type,_e===C){if(Ee.tag===7){l(q,Ee.sibling),$=p(Ee,K.props.children),$.return=q,q=$;break e}}else if(Ee.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ye&&Zm(_e)===Ee.type){l(q,Ee.sibling),$=p(Ee,K.props),$.ref=Ma(q,Ee,K),$.return=q,q=$;break e}l(q,Ee);break}else s(q,Ee);Ee=Ee.sibling}K.type===C?($=ds(K.props.children,q.mode,ae,K.key),$.return=q,q=$):(ae=$u(K.type,K.key,K.props,null,q.mode,ae),ae.ref=Ma(q,$,K),ae.return=q,q=ae)}return E(q);case X:e:{for(Ee=K.key;$!==null;){if($.key===Ee)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){l(q,$.sibling),$=p($,K.children||[]),$.return=q,q=$;break e}else{l(q,$);break}else s(q,$);$=$.sibling}$=Uh(K,q.mode,ae),$.return=q,q=$}return E(q);case ye:return Ee=K._init,ht(q,$,Ee(K._payload),ae)}if(Er(K))return me(q,$,K,ae);if(oe(K))return ge(q,$,K,ae);_u(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(l(q,$.sibling),$=p($,K),$.return=q,q=$):(l(q,$),$=jh(K,q.mode,ae),$.return=q,q=$),E(q)):l(q,$)}return ht}var fo=eg(!0),tg=eg(!1),wu=ci(null),Eu=null,po=null,Qd=null;function Xd(){Qd=po=Eu=null}function Yd(r){var s=wu.current;tt(wu),r._currentValue=s}function Jd(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function mo(r,s){Eu=r,Qd=po=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(tn=!0),r.firstContext=null)}function Tn(r){var s=r._currentValue;if(Qd!==r)if(r={context:r,memoizedValue:s,next:null},po===null){if(Eu===null)throw Error(t(308));po=r,Eu.dependencies={lanes:0,firstContext:r}}else po=po.next=r;return s}var is=null;function Zd(r){is===null?is=[r]:is.push(r)}function ng(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Zd(s)):(l.next=p.next,p.next=l),s.interleaved=l,Dr(r,d)}function Dr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var fi=!1;function eh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Mr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function pi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(We&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Dr(r,l)}return p=d.interleaved,p===null?(s.next=s,Zd(d)):(s.next=p.next,p.next=s),d.interleaved=s,Dr(r,l)}function Tu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ri(r,l)}}function ig(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=E:v=v.next=E,l=l.next}while(l!==null);v===null?p=v=s:v=v.next=s}else p=v=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Su(r,s,l,d){var p=r.updateQueue;fi=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var j=O,G=j.next;j.next=null,E===null?v=G:E.next=G,E=j;var te=r.alternate;te!==null&&(te=te.updateQueue,O=te.lastBaseUpdate,O!==E&&(O===null?te.firstBaseUpdate=G:O.next=G,te.lastBaseUpdate=j))}if(v!==null){var ie=p.baseState;E=0,te=G=j=null,O=v;do{var ee=O.lane,ce=O.eventTime;if((d&ee)===ee){te!==null&&(te=te.next={eventTime:ce,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var me=r,ge=O;switch(ee=s,ce=l,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ie=me.call(ce,ie,ee);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,ee=typeof me=="function"?me.call(ce,ie,ee):me,ee==null)break e;ie=re({},ie,ee);break e;case 2:fi=!0}}O.callback!==null&&O.lane!==0&&(r.flags|=64,ee=p.effects,ee===null?p.effects=[O]:ee.push(O))}else ce={eventTime:ce,lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},te===null?(G=te=ce,j=ie):te=te.next=ce,E|=ee;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(j=ie),p.baseState=j,p.firstBaseUpdate=G,p.lastBaseUpdate=te,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else v===null&&(p.shared.lanes=0);as|=E,r.lanes=E,r.memoizedState=ie}}function sg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var La={},ar=ci(La),Va=ci(La),Fa=ci(La);function ss(r){if(r===La)throw Error(t(174));return r}function th(r,s){switch(Ze(Fa,s),Ze(Va,r),Ze(ar,La),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}tt(ar),Ze(ar,s)}function go(){tt(ar),tt(Va),tt(Fa)}function og(r){ss(Fa.current);var s=ss(ar.current),l=yt(s,r.type);s!==l&&(Ze(Va,r),Ze(ar,l))}function nh(r){Va.current===r&&(tt(ar),tt(Va))}var it=ci(0);function Iu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var rh=[];function ih(){for(var r=0;r<rh.length;r++)rh[r]._workInProgressVersionPrimary=null;rh.length=0}var xu=V.ReactCurrentDispatcher,sh=V.ReactCurrentBatchConfig,os=0,st=null,wt=null,Ct=null,Cu=!1,ja=!1,Ua=0,qT=0;function jt(){throw Error(t(321))}function oh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Bn(r[l],s[l]))return!1;return!0}function ah(r,s,l,d,p,v){if(os=v,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,xu.current=r===null||r.memoizedState===null?XT:YT,r=l(d,p),ja){v=0;do{if(ja=!1,Ua=0,25<=v)throw Error(t(301));v+=1,Ct=wt=null,s.updateQueue=null,xu.current=JT,r=l(d,p)}while(ja)}if(xu.current=Pu,s=wt!==null&&wt.next!==null,os=0,Ct=wt=st=null,Cu=!1,s)throw Error(t(300));return r}function lh(){var r=Ua!==0;return Ua=0,r}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?st.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function Sn(){if(wt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=Ct===null?st.memoizedState:Ct.next;if(s!==null)Ct=s,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ct===null?st.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}function Ba(r,s){return typeof s=="function"?s(r):s}function uh(r){var s=Sn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=wt,p=d.baseQueue,v=l.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}d.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,d=d.baseState;var O=E=null,j=null,G=v;do{var te=G.lane;if((os&te)===te)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:r(d,G.action);else{var ie={lane:te,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(O=j=ie,E=d):j=j.next=ie,st.lanes|=te,as|=te}G=G.next}while(G!==null&&G!==v);j===null?E=d:j.next=O,Bn(d,s.memoizedState)||(tn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=j,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do v=p.lane,st.lanes|=v,as|=v,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function ch(r){var s=Sn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,v=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do v=r(v,E.action),E=E.next;while(E!==p);Bn(v,s.memoizedState)||(tn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,d]}function ag(){}function lg(r,s){var l=st,d=Sn(),p=s(),v=!Bn(d.memoizedState,p);if(v&&(d.memoizedState=p,tn=!0),d=d.queue,dh(dg.bind(null,l,d,r),[r]),d.getSnapshot!==s||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,za(9,cg.bind(null,l,d,p,s),void 0,null),Rt===null)throw Error(t(349));(os&30)!==0||ug(l,s,p)}return p}function ug(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function cg(r,s,l,d){s.value=l,s.getSnapshot=d,hg(s)&&fg(r)}function dg(r,s,l){return l(function(){hg(s)&&fg(r)})}function hg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Bn(r,l)}catch{return!0}}function fg(r){var s=Dr(r,1);s!==null&&qn(s,r,1,-1)}function pg(r){var s=lr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:r},s.queue=r,r=r.dispatch=QT.bind(null,st,r),[s.memoizedState,r]}function za(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function mg(){return Sn().memoizedState}function Ru(r,s,l,d){var p=lr();st.flags|=r,p.memoizedState=za(1|s,l,void 0,d===void 0?null:d)}function Au(r,s,l,d){var p=Sn();d=d===void 0?null:d;var v=void 0;if(wt!==null){var E=wt.memoizedState;if(v=E.destroy,d!==null&&oh(d,E.deps)){p.memoizedState=za(s,l,v,d);return}}st.flags|=r,p.memoizedState=za(1|s,l,v,d)}function gg(r,s){return Ru(8390656,8,r,s)}function dh(r,s){return Au(2048,8,r,s)}function vg(r,s){return Au(4,2,r,s)}function yg(r,s){return Au(4,4,r,s)}function _g(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function wg(r,s,l){return l=l!=null?l.concat([r]):null,Au(4,4,_g.bind(null,s,r),l)}function hh(){}function Eg(r,s){var l=Sn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&oh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Tg(r,s){var l=Sn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&oh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Sg(r,s,l){return(os&21)===0?(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=l):(Bn(l,s)||(l=Qi(),st.lanes|=l,as|=l,r.baseState=!0),s)}function KT(r,s){var l=Ue;Ue=l!==0&&4>l?l:4,r(!0);var d=sh.transition;sh.transition={};try{r(!1),s()}finally{Ue=l,sh.transition=d}}function Ig(){return Sn().memoizedState}function GT(r,s,l){var d=yi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},xg(r))Cg(s,l);else if(l=ng(r,s,l,d),l!==null){var p=Xt();qn(l,r,d,p),Rg(l,s,d)}}function QT(r,s,l){var d=yi(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(xg(r))Cg(s,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var E=s.lastRenderedState,O=v(E,l);if(p.hasEagerState=!0,p.eagerState=O,Bn(O,E)){var j=s.interleaved;j===null?(p.next=p,Zd(s)):(p.next=j.next,j.next=p),s.interleaved=p;return}}catch{}finally{}l=ng(r,s,p,d),l!==null&&(p=Xt(),qn(l,r,d,p),Rg(l,s,d))}}function xg(r){var s=r.alternate;return r===st||s!==null&&s===st}function Cg(r,s){ja=Cu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Rg(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,ri(r,l)}}var Pu={readContext:Tn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},XT={readContext:Tn,useCallback:function(r,s){return lr().memoizedState=[r,s===void 0?null:s],r},useContext:Tn,useEffect:gg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Ru(4194308,4,_g.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ru(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ru(4,2,r,s)},useMemo:function(r,s){var l=lr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=lr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=GT.bind(null,st,r),[d.memoizedState,r]},useRef:function(r){var s=lr();return r={current:r},s.memoizedState=r},useState:pg,useDebugValue:hh,useDeferredValue:function(r){return lr().memoizedState=r},useTransition:function(){var r=pg(!1),s=r[0];return r=KT.bind(null,r[1]),lr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=st,p=lr();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Rt===null)throw Error(t(349));(os&30)!==0||ug(d,s,l)}p.memoizedState=l;var v={value:l,getSnapshot:s};return p.queue=v,gg(dg.bind(null,d,v,r),[r]),d.flags|=2048,za(9,cg.bind(null,d,v,l,s),void 0,null),l},useId:function(){var r=lr(),s=Rt.identifierPrefix;if(rt){var l=Or,d=br;l=(d&~(1<<32-Kt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Ua++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=qT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},YT={readContext:Tn,useCallback:Eg,useContext:Tn,useEffect:dh,useImperativeHandle:wg,useInsertionEffect:vg,useLayoutEffect:yg,useMemo:Tg,useReducer:uh,useRef:mg,useState:function(){return uh(Ba)},useDebugValue:hh,useDeferredValue:function(r){var s=Sn();return Sg(s,wt.memoizedState,r)},useTransition:function(){var r=uh(Ba)[0],s=Sn().memoizedState;return[r,s]},useMutableSource:ag,useSyncExternalStore:lg,useId:Ig,unstable_isNewReconciler:!1},JT={readContext:Tn,useCallback:Eg,useContext:Tn,useEffect:dh,useImperativeHandle:wg,useInsertionEffect:vg,useLayoutEffect:yg,useMemo:Tg,useReducer:ch,useRef:mg,useState:function(){return ch(Ba)},useDebugValue:hh,useDeferredValue:function(r){var s=Sn();return wt===null?s.memoizedState=r:Sg(s,wt.memoizedState,r)},useTransition:function(){var r=ch(Ba)[0],s=Sn().memoizedState;return[r,s]},useMutableSource:ag,useSyncExternalStore:lg,useId:Ig,unstable_isNewReconciler:!1};function $n(r,s){if(r&&r.defaultProps){s=re({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function fh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:re({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ku={isMounted:function(r){return(r=r._reactInternals)?Dn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Xt(),p=yi(r),v=Mr(d,p);v.payload=s,l!=null&&(v.callback=l),s=pi(r,v,p),s!==null&&(qn(s,r,p,d),Tu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Xt(),p=yi(r),v=Mr(d,p);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=pi(r,v,p),s!==null&&(qn(s,r,p,d),Tu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Xt(),d=yi(r),p=Mr(l,d);p.tag=2,s!=null&&(p.callback=s),s=pi(r,p,d),s!==null&&(qn(s,r,d,l),Tu(s,r,d))}};function Ag(r,s,l,d,p,v,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,E):s.prototype&&s.prototype.isPureReactComponent?!Aa(l,d)||!Aa(p,v):!0}function Pg(r,s,l){var d=!1,p=di,v=s.contextType;return typeof v=="object"&&v!==null?v=Tn(v):(p=en(s)?ts:Ft.current,d=s.contextTypes,v=(d=d!=null)?lo(r,p):di),s=new s(l,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ku,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=v),s}function kg(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&ku.enqueueReplaceState(s,s.state,null)}function ph(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},eh(r);var v=s.contextType;typeof v=="object"&&v!==null?p.context=Tn(v):(v=en(s)?ts:Ft.current,p.context=lo(r,v)),p.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(fh(r,s,v,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&ku.enqueueReplaceState(p,p.state,null),Su(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function vo(r,s){try{var l="",d=s;do l+=Re(d),d=d.return;while(d);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:p,digest:null}}function mh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function gh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var ZT=typeof WeakMap=="function"?WeakMap:Map;function Ng(r,s,l){l=Mr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Vu||(Vu=!0,Nh=d),gh(r,s)},l}function bg(r,s,l){l=Mr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){gh(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){gh(r,s),typeof d!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Og(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new ZT;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=fS.bind(null,r,s,l),s.then(r,r))}function Dg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Mg(r,s,l,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Mr(-1,1),s.tag=2,pi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var eS=V.ReactCurrentOwner,tn=!1;function Qt(r,s,l,d){s.child=r===null?tg(s,null,l,d):fo(s,r.child,l,d)}function Lg(r,s,l,d,p){l=l.render;var v=s.ref;return mo(s,p),d=ah(r,s,l,d,v,p),l=lh(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Lr(r,s,p)):(rt&&l&&Wd(s),s.flags|=1,Qt(r,s,d,p),s.child)}function Vg(r,s,l,d,p){if(r===null){var v=l.type;return typeof v=="function"&&!Fh(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,Fg(r,s,v,d,p)):(r=$u(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,(r.lanes&p)===0){var E=v.memoizedProps;if(l=l.compare,l=l!==null?l:Aa,l(E,d)&&r.ref===s.ref)return Lr(r,s,p)}return s.flags|=1,r=wi(v,d),r.ref=s.ref,r.return=s,s.child=r}function Fg(r,s,l,d,p){if(r!==null){var v=r.memoizedProps;if(Aa(v,d)&&r.ref===s.ref)if(tn=!1,s.pendingProps=d=v,(r.lanes&p)!==0)(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,Lr(r,s,p)}return vh(r,s,l,d,p)}function jg(r,s,l){var d=s.pendingProps,p=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(_o,hn),hn|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ze(_o,hn),hn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,Ze(_o,hn),hn|=d}else v!==null?(d=v.baseLanes|l,s.memoizedState=null):d=l,Ze(_o,hn),hn|=d;return Qt(r,s,p,l),s.child}function Ug(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function vh(r,s,l,d,p){var v=en(l)?ts:Ft.current;return v=lo(s,v),mo(s,p),l=ah(r,s,l,d,v,p),d=lh(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Lr(r,s,p)):(rt&&d&&Wd(s),s.flags|=1,Qt(r,s,l,p),s.child)}function Bg(r,s,l,d,p){if(en(l)){var v=!0;pu(s)}else v=!1;if(mo(s,p),s.stateNode===null)bu(r,s),Pg(s,l,d),ph(s,l,d,p),d=!0;else if(r===null){var E=s.stateNode,O=s.memoizedProps;E.props=O;var j=E.context,G=l.contextType;typeof G=="object"&&G!==null?G=Tn(G):(G=en(l)?ts:Ft.current,G=lo(s,G));var te=l.getDerivedStateFromProps,ie=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==d||j!==G)&&kg(s,E,d,G),fi=!1;var ee=s.memoizedState;E.state=ee,Su(s,d,E,p),j=s.memoizedState,O!==d||ee!==j||Zt.current||fi?(typeof te=="function"&&(fh(s,l,te,d),j=s.memoizedState),(O=fi||Ag(s,l,O,d,ee,j,G))?(ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=j),E.props=d,E.state=j,E.context=G,d=O):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,rg(r,s),O=s.memoizedProps,G=s.type===s.elementType?O:$n(s.type,O),E.props=G,ie=s.pendingProps,ee=E.context,j=l.contextType,typeof j=="object"&&j!==null?j=Tn(j):(j=en(l)?ts:Ft.current,j=lo(s,j));var ce=l.getDerivedStateFromProps;(te=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==ie||ee!==j)&&kg(s,E,d,j),fi=!1,ee=s.memoizedState,E.state=ee,Su(s,d,E,p);var me=s.memoizedState;O!==ie||ee!==me||Zt.current||fi?(typeof ce=="function"&&(fh(s,l,ce,d),me=s.memoizedState),(G=fi||Ag(s,l,G,d,ee,me,j)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,me,j),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,me,j)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=me),E.props=d,E.state=me,E.context=j,d=G):(typeof E.componentDidUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),d=!1)}return yh(r,s,l,d,v,p)}function yh(r,s,l,d,p,v){Ug(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return p&&qm(s,l,!1),Lr(r,s,v);d=s.stateNode,eS.current=s;var O=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=fo(s,r.child,null,v),s.child=fo(s,null,O,v)):Qt(r,s,O,v),s.memoizedState=d.state,p&&qm(s,l,!0),s.child}function zg(r){var s=r.stateNode;s.pendingContext?Wm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Wm(r,s.context,!1),th(r,s.containerInfo)}function $g(r,s,l,d,p){return ho(),Gd(p),s.flags|=256,Qt(r,s,l,d),s.child}var _h={dehydrated:null,treeContext:null,retryLane:0};function wh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Wg(r,s,l){var d=s.pendingProps,p=it.current,v=!1,E=(s.flags&128)!==0,O;if((O=E)||(O=r!==null&&r.memoizedState===null?!1:(p&2)!==0),O?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ze(it,p&1),r===null)return Kd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=d.children,r=d.fallback,v?(d=s.mode,v=s.child,E={mode:"hidden",children:E},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=Wu(E,d,0,null),r=ds(r,d,l,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=wh(l),s.memoizedState=_h,r):Eh(s,E));if(p=r.memoizedState,p!==null&&(O=p.dehydrated,O!==null))return tS(r,s,E,d,O,p,l);if(v){v=d.fallback,E=s.mode,p=r.child,O=p.sibling;var j={mode:"hidden",children:d.children};return(E&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=j,s.deletions=null):(d=wi(p,j),d.subtreeFlags=p.subtreeFlags&14680064),O!==null?v=wi(O,v):(v=ds(v,E,l,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,E=r.child.memoizedState,E=E===null?wh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=r.childLanes&~l,s.memoizedState=_h,d}return v=r.child,r=v.sibling,d=wi(v,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Eh(r,s){return s=Wu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Nu(r,s,l,d){return d!==null&&Gd(d),fo(s,r.child,null,l),r=Eh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function tS(r,s,l,d,p,v,E){if(l)return s.flags&256?(s.flags&=-257,d=mh(Error(t(422))),Nu(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=d.fallback,p=s.mode,d=Wu({mode:"visible",children:d.children},p,0,null),v=ds(v,p,E,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,(s.mode&1)!==0&&fo(s,r.child,null,E),s.child.memoizedState=wh(E),s.memoizedState=_h,v);if((s.mode&1)===0)return Nu(r,s,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var O=d.dgst;return d=O,v=Error(t(419)),d=mh(v,d,void 0),Nu(r,s,E,d)}if(O=(E&r.childLanes)!==0,tn||O){if(d=Rt,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|E))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Dr(r,p),qn(d,r,p,-1))}return Vh(),d=mh(Error(t(421))),Nu(r,s,E,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=pS.bind(null,r),p._reactRetry=s,null):(r=v.treeContext,dn=ui(p.nextSibling),cn=s,rt=!0,zn=null,r!==null&&(wn[En++]=br,wn[En++]=Or,wn[En++]=ns,br=r.id,Or=r.overflow,ns=s),s=Eh(s,d.children),s.flags|=4096,s)}function Hg(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Jd(r.return,s,l)}function Th(r,s,l,d,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=p)}function qg(r,s,l){var d=s.pendingProps,p=d.revealOrder,v=d.tail;if(Qt(r,s,d.children,l),d=it.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Hg(r,l,s);else if(r.tag===19)Hg(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ze(it,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&Iu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Th(s,!1,p,l,v);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Iu(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Th(s,!0,l,null,v);break;case"together":Th(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function bu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Lr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),as|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=wi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=wi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function nS(r,s,l){switch(s.tag){case 3:zg(s),ho();break;case 5:og(s);break;case 1:en(s.type)&&pu(s);break;case 4:th(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Ze(wu,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ze(it,it.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Wg(r,s,l):(Ze(it,it.current&1),r=Lr(r,s,l),r!==null?r.sibling:null);Ze(it,it.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return qg(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ze(it,it.current),d)break;return null;case 22:case 23:return s.lanes=0,jg(r,s,l)}return Lr(r,s,l)}var Kg,Sh,Gg,Qg;Kg=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Sh=function(){},Gg=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,ss(ar.current);var v=null;switch(l){case"input":p=It(r,p),d=It(r,d),v=[];break;case"select":p=re({},p,{value:void 0}),d=re({},d,{value:void 0}),v=[];break;case"textarea":p=ra(r,p),d=ra(r,d),v=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=du)}ua(l,d);var E;l=null;for(G in p)if(!d.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var O=p[G];for(E in O)O.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in d){var j=d[G];if(O=p!=null?p[G]:void 0,d.hasOwnProperty(G)&&j!==O&&(j!=null||O!=null))if(G==="style")if(O){for(E in O)!O.hasOwnProperty(E)||j&&j.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in j)j.hasOwnProperty(E)&&O[E]!==j[E]&&(l||(l={}),l[E]=j[E])}else l||(v||(v=[]),v.push(G,l)),l=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,O=O?O.__html:void 0,j!=null&&O!==j&&(v=v||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&et("scroll",r),v||O===j||(v=[])):(v=v||[]).push(G,j))}l&&(v=v||[]).push("style",l);var G=v;(s.updateQueue=G)&&(s.flags|=4)}},Qg=function(r,s,l,d){l!==d&&(s.flags|=4)};function $a(r,s){if(!rt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function rS(r,s,l){var d=s.pendingProps;switch(Hd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return en(s.type)&&fu(),Ut(s),null;case 3:return d=s.stateNode,go(),tt(Zt),tt(Ft),ih(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(yu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zn!==null&&(Dh(zn),zn=null))),Sh(r,s),Ut(s),null;case 5:nh(s);var p=ss(Fa.current);if(l=s.type,r!==null&&s.stateNode!=null)Gg(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(r=ss(ar.current),yu(s)){d=s.stateNode,l=s.type;var v=s.memoizedProps;switch(d[or]=s,d[Oa]=v,r=(s.mode&1)!==0,l){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(p=0;p<ka.length;p++)et(ka[p],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":mn(d,v),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},et("invalid",d);break;case"textarea":bs(d,v),et("invalid",d)}ua(l,v),p=null;for(var E in v)if(v.hasOwnProperty(E)){var O=v[E];E==="children"?typeof O=="string"?d.textContent!==O&&(v.suppressHydrationWarning!==!0&&cu(d.textContent,O,r),p=["children",O]):typeof O=="number"&&d.textContent!==""+O&&(v.suppressHydrationWarning!==!0&&cu(d.textContent,O,r),p=["children",""+O]):o.hasOwnProperty(E)&&O!=null&&E==="onScroll"&&et("scroll",d)}switch(l){case"input":Le(d),Ns(d,v,!0);break;case"textarea":Le(d),ia(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=du)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=vt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[or]=s,r[Oa]=d,Kg(r,s,!1,!1),s.stateNode=r;e:{switch(E=ca(l,d),l){case"dialog":et("cancel",r),et("close",r),p=d;break;case"iframe":case"object":case"embed":et("load",r),p=d;break;case"video":case"audio":for(p=0;p<ka.length;p++)et(ka[p],r);p=d;break;case"source":et("error",r),p=d;break;case"img":case"image":case"link":et("error",r),et("load",r),p=d;break;case"details":et("toggle",r),p=d;break;case"input":mn(r,d),p=It(r,d),et("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=re({},d,{value:void 0}),et("invalid",r);break;case"textarea":bs(r,d),p=ra(r,d),et("invalid",r);break;default:p=d}ua(l,p),O=p;for(v in O)if(O.hasOwnProperty(v)){var j=O[v];v==="style"?aa(r,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&sa(r,j)):v==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&Jr(r,j):typeof j=="number"&&Jr(r,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?j!=null&&v==="onScroll"&&et("scroll",r):j!=null&&W(r,v,j,E))}switch(l){case"input":Le(r),Ns(r,d,!1);break;case"textarea":Le(r),ia(r);break;case"option":d.value!=null&&r.setAttribute("value",""+we(d.value));break;case"select":r.multiple=!!d.multiple,v=d.value,v!=null?Tr(r,!!d.multiple,v,!1):d.defaultValue!=null&&Tr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=du)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)Qg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=ss(Fa.current),ss(ar.current),yu(s)){if(d=s.stateNode,l=s.memoizedProps,d[or]=s,(v=d.nodeValue!==l)&&(r=cn,r!==null))switch(r.tag){case 3:cu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&cu(d.nodeValue,l,(r.mode&1)!==0)}v&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[or]=s,s.stateNode=d}return Ut(s),null;case 13:if(tt(it),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&dn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Jm(),ho(),s.flags|=98560,v=!1;else if(v=yu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!v)throw Error(t(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[or]=s}else ho(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),v=!1}else zn!==null&&(Dh(zn),zn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(it.current&1)!==0?Et===0&&(Et=3):Vh())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return go(),Sh(r,s),r===null&&Na(s.stateNode.containerInfo),Ut(s),null;case 10:return Yd(s.type._context),Ut(s),null;case 17:return en(s.type)&&fu(),Ut(s),null;case 19:if(tt(it),v=s.memoizedState,v===null)return Ut(s),null;if(d=(s.flags&128)!==0,E=v.rendering,E===null)if(d)$a(v,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Iu(r),E!==null){for(s.flags|=128,$a(v,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)v=l,r=d,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,r=E.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ze(it,it.current&1|2),s.child}r=r.sibling}v.tail!==null&&Je()>wo&&(s.flags|=128,d=!0,$a(v,!1),s.lanes=4194304)}else{if(!d)if(r=Iu(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),$a(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!rt)return Ut(s),null}else 2*Je()-v.renderingStartTime>wo&&l!==1073741824&&(s.flags|=128,d=!0,$a(v,!1),s.lanes=4194304);v.isBackwards?(E.sibling=s.child,s.child=E):(l=v.last,l!==null?l.sibling=E:s.child=E,v.last=E)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Je(),s.sibling=null,l=it.current,Ze(it,d?l&1|2:l&1),s):(Ut(s),null);case 22:case 23:return Lh(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(hn&1073741824)!==0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function iS(r,s){switch(Hd(s),s.tag){case 1:return en(s.type)&&fu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return go(),tt(Zt),tt(Ft),ih(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return nh(s),null;case 13:if(tt(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ho()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return tt(it),null;case 4:return go(),null;case 10:return Yd(s.type._context),null;case 22:case 23:return Lh(),null;case 24:return null;default:return null}}var Ou=!1,Bt=!1,sS=typeof WeakSet=="function"?WeakSet:Set,fe=null;function yo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ut(r,s,d)}else l.current=null}function Ih(r,s,l){try{l()}catch(d){ut(r,s,d)}}var Xg=!1;function oS(r,s){if(Ld=oi,r=Am(),Ad(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var E=0,O=-1,j=-1,G=0,te=0,ie=r,ee=null;t:for(;;){for(var ce;ie!==l||p!==0&&ie.nodeType!==3||(O=E+p),ie!==v||d!==0&&ie.nodeType!==3||(j=E+d),ie.nodeType===3&&(E+=ie.nodeValue.length),(ce=ie.firstChild)!==null;)ee=ie,ie=ce;for(;;){if(ie===r)break t;if(ee===l&&++G===p&&(O=E),ee===v&&++te===d&&(j=E),(ce=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=ce}l=O===-1||j===-1?null:{start:O,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vd={focusedElem:r,selectionRange:l},oi=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,ht=me.memoizedState,q=s.stateNode,$=q.getSnapshotBeforeUpdate(s.elementType===s.type?ge:$n(s.type,ge),ht);q.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){ut(s,s.return,ae)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return me=Xg,Xg=!1,me}function Wa(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var v=p.destroy;p.destroy=void 0,v!==void 0&&Ih(s,l,v)}p=p.next}while(p!==d)}}function Du(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function xh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Yg(r){var s=r.alternate;s!==null&&(r.alternate=null,Yg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[or],delete s[Oa],delete s[Bd],delete s[zT],delete s[$T])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Jg(r){return r.tag===5||r.tag===3||r.tag===4}function Zg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Jg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ch(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=du));else if(d!==4&&(r=r.child,r!==null))for(Ch(r,s,l),r=r.sibling;r!==null;)Ch(r,s,l),r=r.sibling}function Rh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Rh(r,s,l),r=r.sibling;r!==null;)Rh(r,s,l),r=r.sibling}var bt=null,Wn=!1;function mi(r,s,l){for(l=l.child;l!==null;)ev(r,s,l),l=l.sibling}function ev(r,s,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ki,l)}catch{}switch(l.tag){case 5:Bt||yo(l,s);case 6:var d=bt,p=Wn;bt=null,mi(r,s,l),bt=d,Wn=p,bt!==null&&(Wn?(r=bt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(Wn?(r=bt,l=l.stateNode,r.nodeType===8?Ud(r.parentNode,l):r.nodeType===1&&Ud(r,l),jn(r)):Ud(bt,l.stateNode));break;case 4:d=bt,p=Wn,bt=l.stateNode.containerInfo,Wn=!0,mi(r,s,l),bt=d,Wn=p;break;case 0:case 11:case 14:case 15:if(!Bt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var v=p,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&Ih(l,s,E),p=p.next}while(p!==d)}mi(r,s,l);break;case 1:if(!Bt&&(yo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(O){ut(l,s,O)}mi(r,s,l);break;case 21:mi(r,s,l);break;case 22:l.mode&1?(Bt=(d=Bt)||l.memoizedState!==null,mi(r,s,l),Bt=d):mi(r,s,l);break;default:mi(r,s,l)}}function tv(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new sS),s.forEach(function(d){var p=mS.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function Hn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var v=r,E=s,O=E;e:for(;O!==null;){switch(O.tag){case 5:bt=O.stateNode,Wn=!1;break e;case 3:bt=O.stateNode.containerInfo,Wn=!0;break e;case 4:bt=O.stateNode.containerInfo,Wn=!0;break e}O=O.return}if(bt===null)throw Error(t(160));ev(v,E,p),bt=null,Wn=!1;var j=p.alternate;j!==null&&(j.return=null),p.return=null}catch(G){ut(p,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)nv(s,r),s=s.sibling}function nv(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Hn(s,r),ur(r),d&4){try{Wa(3,r,r.return),Du(3,r)}catch(ge){ut(r,r.return,ge)}try{Wa(5,r,r.return)}catch(ge){ut(r,r.return,ge)}}break;case 1:Hn(s,r),ur(r),d&512&&l!==null&&yo(l,l.return);break;case 5:if(Hn(s,r),ur(r),d&512&&l!==null&&yo(l,l.return),r.flags&32){var p=r.stateNode;try{Jr(p,"")}catch(ge){ut(r,r.return,ge)}}if(d&4&&(p=r.stateNode,p!=null)){var v=r.memoizedProps,E=l!==null?l.memoizedProps:v,O=r.type,j=r.updateQueue;if(r.updateQueue=null,j!==null)try{O==="input"&&v.type==="radio"&&v.name!=null&&Pn(p,v),ca(O,E);var G=ca(O,v);for(E=0;E<j.length;E+=2){var te=j[E],ie=j[E+1];te==="style"?aa(p,ie):te==="dangerouslySetInnerHTML"?sa(p,ie):te==="children"?Jr(p,ie):W(p,te,ie,G)}switch(O){case"input":kn(p,v);break;case"textarea":Os(p,v);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?Tr(p,!!v.multiple,ce,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Tr(p,!!v.multiple,v.defaultValue,!0):Tr(p,!!v.multiple,v.multiple?[]:"",!1))}p[Oa]=v}catch(ge){ut(r,r.return,ge)}}break;case 6:if(Hn(s,r),ur(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,v=r.memoizedProps;try{p.nodeValue=v}catch(ge){ut(r,r.return,ge)}}break;case 3:if(Hn(s,r),ur(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{jn(s.containerInfo)}catch(ge){ut(r,r.return,ge)}break;case 4:Hn(s,r),ur(r);break;case 13:Hn(s,r),ur(r),p=r.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(kh=Je())),d&4&&tv(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Bt=(G=Bt)||te,Hn(s,r),Bt=G):Hn(s,r),ur(r),d&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!te&&(r.mode&1)!==0)for(fe=r,te=r.child;te!==null;){for(ie=fe=te;fe!==null;){switch(ee=fe,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:Wa(4,ee,ee.return);break;case 1:yo(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){d=ee,l=ee.return;try{s=d,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ge){ut(d,l,ge)}}break;case 5:yo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){sv(ie);continue}}ce!==null?(ce.return=ee,fe=ce):sv(ie)}te=te.sibling}e:for(te=null,ie=r;;){if(ie.tag===5){if(te===null){te=ie;try{p=ie.stateNode,G?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(O=ie.stateNode,j=ie.memoizedProps.style,E=j!=null&&j.hasOwnProperty("display")?j.display:null,O.style.display=oa("display",E))}catch(ge){ut(r,r.return,ge)}}}else if(ie.tag===6){if(te===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(ge){ut(r,r.return,ge)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;te===ie&&(te=null),ie=ie.return}te===ie&&(te=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Hn(s,r),ur(r),d&4&&tv(r);break;case 21:break;default:Hn(s,r),ur(r)}}function ur(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Jg(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Jr(p,""),d.flags&=-33);var v=Zg(r);Rh(r,v,p);break;case 3:case 4:var E=d.stateNode.containerInfo,O=Zg(r);Ch(r,O,E);break;default:throw Error(t(161))}}catch(j){ut(r,r.return,j)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function aS(r,s,l){fe=r,rv(r)}function rv(r,s,l){for(var d=(r.mode&1)!==0;fe!==null;){var p=fe,v=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||Ou;if(!E){var O=p.alternate,j=O!==null&&O.memoizedState!==null||Bt;O=Ou;var G=Bt;if(Ou=E,(Bt=j)&&!G)for(fe=p;fe!==null;)E=fe,j=E.child,E.tag===22&&E.memoizedState!==null?ov(p):j!==null?(j.return=E,fe=j):ov(p);for(;v!==null;)fe=v,rv(v),v=v.sibling;fe=p,Ou=O,Bt=G}iv(r)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,fe=v):iv(r)}}function iv(r){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Bt||Du(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Bt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:$n(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&sg(s,v,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}sg(s,E,l)}break;case 5:var O=s.stateNode;if(l===null&&s.flags&4){l=O;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var te=G.memoizedState;if(te!==null){var ie=te.dehydrated;ie!==null&&jn(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||s.flags&512&&xh(s)}catch(ee){ut(s,s.return,ee)}}if(s===r){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function sv(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function ov(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Du(4,s)}catch(j){ut(s,l,j)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(j){ut(s,p,j)}}var v=s.return;try{xh(s)}catch(j){ut(s,v,j)}break;case 5:var E=s.return;try{xh(s)}catch(j){ut(s,E,j)}}}catch(j){ut(s,s.return,j)}if(s===r){fe=null;break}var O=s.sibling;if(O!==null){O.return=s.return,fe=O;break}fe=s.return}}var lS=Math.ceil,Mu=V.ReactCurrentDispatcher,Ah=V.ReactCurrentOwner,In=V.ReactCurrentBatchConfig,We=0,Rt=null,mt=null,Ot=0,hn=0,_o=ci(0),Et=0,Ha=null,as=0,Lu=0,Ph=0,qa=null,nn=null,kh=0,wo=1/0,Vr=null,Vu=!1,Nh=null,gi=null,Fu=!1,vi=null,ju=0,Ka=0,bh=null,Uu=-1,Bu=0;function Xt(){return(We&6)!==0?Je():Uu!==-1?Uu:Uu=Je()}function yi(r){return(r.mode&1)===0?1:(We&2)!==0&&Ot!==0?Ot&-Ot:HT.transition!==null?(Bu===0&&(Bu=Qi()),Bu):(r=Ue,r!==0||(r=window.event,r=r===void 0?16:Ea(r.type)),r)}function qn(r,s,l,d){if(50<Ka)throw Ka=0,bh=null,Error(t(185));ni(r,l,d),((We&2)===0||r!==Rt)&&(r===Rt&&((We&2)===0&&(Lu|=l),Et===4&&_i(r,Ot)),rn(r,d),l===1&&We===0&&(s.mode&1)===0&&(wo=Je()+500,mu&&hi()))}function rn(r,s){var l=r.callbackNode;xr(r,s);var d=Gi(r,r===Rt?Ot:0);if(d===0)l!==null&&ga(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&ga(l),s===1)r.tag===0?WT(lv.bind(null,r)):Km(lv.bind(null,r)),UT(function(){(We&6)===0&&hi()}),l=null;else{switch(ii(d)){case 1:l=qi;break;case 4:l=Zr;break;case 16:l=vn;break;case 536870912:l=Bl;break;default:l=vn}l=gv(l,av.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function av(r,s){if(Uu=-1,Bu=0,(We&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Eo()&&r.callbackNode!==l)return null;var d=Gi(r,r===Rt?Ot:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=zu(r,d);else{s=d;var p=We;We|=2;var v=cv();(Rt!==r||Ot!==s)&&(Vr=null,wo=Je()+500,us(r,s));do try{dS();break}catch(O){uv(r,O)}while(!0);Xd(),Mu.current=v,We=p,mt!==null?s=0:(Rt=null,Ot=0,s=Et)}if(s!==0){if(s===2&&(p=an(r),p!==0&&(d=p,s=Oh(r,p))),s===1)throw l=Ha,us(r,0),_i(r,d),rn(r,Je()),l;if(s===6)_i(r,d);else{if(p=r.current.alternate,(d&30)===0&&!uS(p)&&(s=zu(r,d),s===2&&(v=an(r),v!==0&&(d=v,s=Oh(r,v))),s===1))throw l=Ha,us(r,0),_i(r,d),rn(r,Je()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:cs(r,nn,Vr);break;case 3:if(_i(r,d),(d&130023424)===d&&(s=kh+500-Je(),10<s)){if(Gi(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){Xt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=jd(cs.bind(null,r,nn,Vr),s);break}cs(r,nn,Vr);break;case 4:if(_i(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var E=31-Kt(d);v=1<<E,E=s[E],E>p&&(p=E),d&=~v}if(d=p,d=Je()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*lS(d/1960))-d,10<d){r.timeoutHandle=jd(cs.bind(null,r,nn,Vr),d);break}cs(r,nn,Vr);break;case 5:cs(r,nn,Vr);break;default:throw Error(t(329))}}}return rn(r,Je()),r.callbackNode===l?av.bind(null,r):null}function Oh(r,s){var l=qa;return r.current.memoizedState.isDehydrated&&(us(r,s).flags|=256),r=zu(r,s),r!==2&&(s=nn,nn=l,s!==null&&Dh(s)),r}function Dh(r){nn===null?nn=r:nn.push.apply(nn,r)}function uS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],v=p.getSnapshot;p=p.value;try{if(!Bn(v(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _i(r,s){for(s&=~Ph,s&=~Lu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Kt(s),d=1<<l;r[l]=-1,s&=~d}}function lv(r){if((We&6)!==0)throw Error(t(327));Eo();var s=Gi(r,0);if((s&1)===0)return rn(r,Je()),null;var l=zu(r,s);if(r.tag!==0&&l===2){var d=an(r);d!==0&&(s=d,l=Oh(r,d))}if(l===1)throw l=Ha,us(r,0),_i(r,s),rn(r,Je()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,cs(r,nn,Vr),rn(r,Je()),null}function Mh(r,s){var l=We;We|=1;try{return r(s)}finally{We=l,We===0&&(wo=Je()+500,mu&&hi())}}function ls(r){vi!==null&&vi.tag===0&&(We&6)===0&&Eo();var s=We;We|=1;var l=In.transition,d=Ue;try{if(In.transition=null,Ue=1,r)return r()}finally{Ue=d,In.transition=l,We=s,(We&6)===0&&hi()}}function Lh(){hn=_o.current,tt(_o)}function us(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,jT(l)),mt!==null)for(l=mt.return;l!==null;){var d=l;switch(Hd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&fu();break;case 3:go(),tt(Zt),tt(Ft),ih();break;case 5:nh(d);break;case 4:go();break;case 13:tt(it);break;case 19:tt(it);break;case 10:Yd(d.type._context);break;case 22:case 23:Lh()}l=l.return}if(Rt=r,mt=r=wi(r.current,null),Ot=hn=s,Et=0,Ha=null,Ph=Lu=as=0,nn=qa=null,is!==null){for(s=0;s<is.length;s++)if(l=is[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,v=l.pending;if(v!==null){var E=v.next;v.next=p,d.next=E}l.pending=d}is=null}return r}function uv(r,s){do{var l=mt;try{if(Xd(),xu.current=Pu,Cu){for(var d=st.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Cu=!1}if(os=0,Ct=wt=st=null,ja=!1,Ua=0,Ah.current=null,l===null||l.return===null){Et=1,Ha=s,mt=null;break}e:{var v=r,E=l.return,O=l,j=s;if(s=Ot,O.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,te=O,ie=te.tag;if((te.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ce=Dg(E);if(ce!==null){ce.flags&=-257,Mg(ce,E,O,v,s),ce.mode&1&&Og(v,G,s),s=ce,j=G;var me=s.updateQueue;if(me===null){var ge=new Set;ge.add(j),s.updateQueue=ge}else me.add(j);break e}else{if((s&1)===0){Og(v,G,s),Vh();break e}j=Error(t(426))}}else if(rt&&O.mode&1){var ht=Dg(E);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Mg(ht,E,O,v,s),Gd(vo(j,O));break e}}v=j=vo(j,O),Et!==4&&(Et=2),qa===null?qa=[v]:qa.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var q=Ng(v,j,s);ig(v,q);break e;case 1:O=j;var $=v.type,K=v.stateNode;if((v.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(gi===null||!gi.has(K)))){v.flags|=65536,s&=-s,v.lanes|=s;var ae=bg(v,O,s);ig(v,ae);break e}}v=v.return}while(v!==null)}hv(l)}catch(_e){s=_e,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(!0)}function cv(){var r=Mu.current;return Mu.current=Pu,r===null?Pu:r}function Vh(){(Et===0||Et===3||Et===2)&&(Et=4),Rt===null||(as&268435455)===0&&(Lu&268435455)===0||_i(Rt,Ot)}function zu(r,s){var l=We;We|=2;var d=cv();(Rt!==r||Ot!==s)&&(Vr=null,us(r,s));do try{cS();break}catch(p){uv(r,p)}while(!0);if(Xd(),We=l,Mu.current=d,mt!==null)throw Error(t(261));return Rt=null,Ot=0,Et}function cS(){for(;mt!==null;)dv(mt)}function dS(){for(;mt!==null&&!jl();)dv(mt)}function dv(r){var s=mv(r.alternate,r,hn);r.memoizedProps=r.pendingProps,s===null?hv(r):mt=s,Ah.current=null}function hv(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=rS(l,s,hn),l!==null){mt=l;return}}else{if(l=iS(l,s),l!==null){l.flags&=32767,mt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,mt=null;return}}if(s=s.sibling,s!==null){mt=s;return}mt=s=r}while(s!==null);Et===0&&(Et=5)}function cs(r,s,l){var d=Ue,p=In.transition;try{In.transition=null,Ue=1,hS(r,s,l,d)}finally{In.transition=p,Ue=d}return null}function hS(r,s,l,d){do Eo();while(vi!==null);if((We&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(Xe(r,v),r===Rt&&(mt=Rt=null,Ot=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Fu||(Fu=!0,gv(vn,function(){return Eo(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=In.transition,In.transition=null;var E=Ue;Ue=1;var O=We;We|=4,Ah.current=null,oS(r,l),nv(l,r),bT(Vd),oi=!!Ld,Vd=Ld=null,r.current=l,aS(l),wd(),We=O,Ue=E,In.transition=v}else r.current=l;if(Fu&&(Fu=!1,vi=r,ju=p),v=r.pendingLanes,v===0&&(gi=null),zl(l.stateNode),rn(r,Je()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Vu)throw Vu=!1,r=Nh,Nh=null,r;return(ju&1)!==0&&r.tag!==0&&Eo(),v=r.pendingLanes,(v&1)!==0?r===bh?Ka++:(Ka=0,bh=r):Ka=0,hi(),null}function Eo(){if(vi!==null){var r=ii(ju),s=In.transition,l=Ue;try{if(In.transition=null,Ue=16>r?16:r,vi===null)var d=!1;else{if(r=vi,vi=null,ju=0,(We&6)!==0)throw Error(t(331));var p=We;for(We|=4,fe=r.current;fe!==null;){var v=fe,E=v.child;if((fe.flags&16)!==0){var O=v.deletions;if(O!==null){for(var j=0;j<O.length;j++){var G=O[j];for(fe=G;fe!==null;){var te=fe;switch(te.tag){case 0:case 11:case 15:Wa(8,te,v)}var ie=te.child;if(ie!==null)ie.return=te,fe=ie;else for(;fe!==null;){te=fe;var ee=te.sibling,ce=te.return;if(Yg(te),te===G){fe=null;break}if(ee!==null){ee.return=ce,fe=ee;break}fe=ce}}}var me=v.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var ht=ge.sibling;ge.sibling=null,ge=ht}while(ge!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,fe=E;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Wa(9,v,v.return)}var q=v.sibling;if(q!==null){q.return=v.return,fe=q;break e}fe=v.return}}var $=r.current;for(fe=$;fe!==null;){E=fe;var K=E.child;if((E.subtreeFlags&2064)!==0&&K!==null)K.return=E,fe=K;else e:for(E=$;fe!==null;){if(O=fe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Du(9,O)}}catch(_e){ut(O,O.return,_e)}if(O===E){fe=null;break e}var ae=O.sibling;if(ae!==null){ae.return=O.return,fe=ae;break e}fe=O.return}}if(We=p,hi(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ki,r)}catch{}d=!0}return d}finally{Ue=l,In.transition=s}}return!1}function fv(r,s,l){s=vo(l,s),s=Ng(r,s,1),r=pi(r,s,1),s=Xt(),r!==null&&(ni(r,1,s),rn(r,s))}function ut(r,s,l){if(r.tag===3)fv(r,r,l);else for(;s!==null;){if(s.tag===3){fv(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(gi===null||!gi.has(d))){r=vo(l,r),r=bg(s,r,1),s=pi(s,r,1),r=Xt(),s!==null&&(ni(s,1,r),rn(s,r));break}}s=s.return}}function fS(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&l,Rt===r&&(Ot&l)===l&&(Et===4||Et===3&&(Ot&130023424)===Ot&&500>Je()-kh?us(r,0):Ph|=l),rn(r,s)}function pv(r,s){s===0&&((r.mode&1)===0?s=1:(s=$s,$s<<=1,($s&130023424)===0&&($s=4194304)));var l=Xt();r=Dr(r,s),r!==null&&(ni(r,s,l),rn(r,l))}function pS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),pv(r,l)}function mS(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),pv(r,l)}var mv;mv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)tn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return tn=!1,nS(r,s,l);tn=(r.flags&131072)!==0}else tn=!1,rt&&(s.flags&1048576)!==0&&Gm(s,vu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;bu(r,s),r=s.pendingProps;var p=lo(s,Ft.current);mo(s,l),p=ah(null,s,d,r,p,l);var v=lh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,en(d)?(v=!0,pu(s)):v=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,eh(s),p.updater=ku,s.stateNode=p,p._reactInternals=s,ph(s,d,r,l),s=yh(null,s,d,!0,v,l)):(s.tag=0,rt&&v&&Wd(s),Qt(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(bu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=vS(d),r=$n(d,r),p){case 0:s=vh(null,s,d,r,l);break e;case 1:s=Bg(null,s,d,r,l);break e;case 11:s=Lg(null,s,d,r,l);break e;case 14:s=Vg(null,s,d,$n(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),vh(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),Bg(r,s,d,p,l);case 3:e:{if(zg(s),r===null)throw Error(t(387));d=s.pendingProps,v=s.memoizedState,p=v.element,rg(r,s),Su(s,d,null,l);var E=s.memoizedState;if(d=E.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){p=vo(Error(t(423)),s),s=$g(r,s,d,l,p);break e}else if(d!==p){p=vo(Error(t(424)),s),s=$g(r,s,d,l,p);break e}else for(dn=ui(s.stateNode.containerInfo.firstChild),cn=s,rt=!0,zn=null,l=tg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ho(),d===p){s=Lr(r,s,l);break e}Qt(r,s,d,l)}s=s.child}return s;case 5:return og(s),r===null&&Kd(s),d=s.type,p=s.pendingProps,v=r!==null?r.memoizedProps:null,E=p.children,Fd(d,p)?E=null:v!==null&&Fd(d,v)&&(s.flags|=32),Ug(r,s),Qt(r,s,E,l),s.child;case 6:return r===null&&Kd(s),null;case 13:return Wg(r,s,l);case 4:return th(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=fo(s,null,d,l):Qt(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),Lg(r,s,d,p,l);case 7:return Qt(r,s,s.pendingProps,l),s.child;case 8:return Qt(r,s,s.pendingProps.children,l),s.child;case 12:return Qt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,v=s.memoizedProps,E=p.value,Ze(wu,d._currentValue),d._currentValue=E,v!==null)if(Bn(v.value,E)){if(v.children===p.children&&!Zt.current){s=Lr(r,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var O=v.dependencies;if(O!==null){E=v.child;for(var j=O.firstContext;j!==null;){if(j.context===d){if(v.tag===1){j=Mr(-1,l&-l),j.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var te=G.pending;te===null?j.next=j:(j.next=te.next,te.next=j),G.pending=j}}v.lanes|=l,j=v.alternate,j!==null&&(j.lanes|=l),Jd(v.return,l,s),O.lanes|=l;break}j=j.next}}else if(v.tag===10)E=v.type===s.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=l,O=E.alternate,O!==null&&(O.lanes|=l),Jd(E,l,s),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===s){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}Qt(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,mo(s,l),p=Tn(p),d=d(p),s.flags|=1,Qt(r,s,d,l),s.child;case 14:return d=s.type,p=$n(d,s.pendingProps),p=$n(d.type,p),Vg(r,s,d,p,l);case 15:return Fg(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:$n(d,p),bu(r,s),s.tag=1,en(d)?(r=!0,pu(s)):r=!1,mo(s,l),Pg(s,d,p),ph(s,d,p,l),yh(null,s,d,!0,r,l);case 19:return qg(r,s,l);case 22:return jg(r,s,l)}throw Error(t(156,s.tag))};function gv(r,s){return Bs(r,s)}function gS(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(r,s,l,d){return new gS(r,s,l,d)}function Fh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vS(r){if(typeof r=="function")return Fh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Ce)return 14}return 2}function wi(r,s){var l=r.alternate;return l===null?(l=xn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function $u(r,s,l,d,p,v){var E=2;if(d=r,typeof r=="function")Fh(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case C:return ds(l.children,p,v,s);case I:E=8,p|=8;break;case b:return r=xn(12,l,s,p|2),r.elementType=b,r.lanes=v,r;case k:return r=xn(13,l,s,p),r.elementType=k,r.lanes=v,r;case de:return r=xn(19,l,s,p),r.elementType=de,r.lanes=v,r;case he:return Wu(l,p,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:E=10;break e;case M:E=9;break e;case F:E=11;break e;case Ce:E=14;break e;case ye:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=xn(E,l,s,p),s.elementType=r,s.type=d,s.lanes=v,s}function ds(r,s,l,d){return r=xn(7,r,d,s),r.lanes=l,r}function Wu(r,s,l,d){return r=xn(22,r,d,s),r.elementType=he,r.lanes=l,r.stateNode={isHidden:!1},r}function jh(r,s,l){return r=xn(6,r,null,s),r.lanes=l,r}function Uh(r,s,l){return s=xn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function yS(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Bh(r,s,l,d,p,v,E,O,j){return r=new yS(r,s,l,O,j),s===1?(s=1,v===!0&&(s|=8)):s=0,v=xn(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},eh(v),r}function _S(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function vv(r){if(!r)return di;r=r._reactInternals;e:{if(Dn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(en(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(en(l))return Hm(r,l,s)}return s}function yv(r,s,l,d,p,v,E,O,j){return r=Bh(l,d,!0,r,p,v,E,O,j),r.context=vv(null),l=r.current,d=Xt(),p=yi(l),v=Mr(d,p),v.callback=s??null,pi(l,v,p),r.current.lanes=p,ni(r,p,d),rn(r,d),r}function Hu(r,s,l,d){var p=s.current,v=Xt(),E=yi(p);return l=vv(l),s.context===null?s.context=l:s.pendingContext=l,s=Mr(v,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=pi(p,s,E),r!==null&&(qn(r,p,E,v),Tu(r,p,E)),E}function qu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function _v(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function zh(r,s){_v(r,s),(r=r.alternate)&&_v(r,s)}function wS(){return null}var wv=typeof reportError=="function"?reportError:function(r){console.error(r)};function $h(r){this._internalRoot=r}Ku.prototype.render=$h.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Hu(r,s,null,null)},Ku.prototype.unmount=$h.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ls(function(){Hu(null,r,null,null)}),s[kr]=null}};function Ku(r){this._internalRoot=r}Ku.prototype.unstable_scheduleHydration=function(r){if(r){var s=Kl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<nr.length&&s!==0&&s<nr[l].priority;l++);nr.splice(l,0,r),l===0&&Xl(r)}};function Wh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Gu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ev(){}function ES(r,s,l,d,p){if(p){if(typeof d=="function"){var v=d;d=function(){var G=qu(E);v.call(G)}}var E=yv(s,d,r,0,null,!1,!1,"",Ev);return r._reactRootContainer=E,r[kr]=E.current,Na(r.nodeType===8?r.parentNode:r),ls(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var O=d;d=function(){var G=qu(j);O.call(G)}}var j=Bh(r,0,!1,null,null,!1,!1,"",Ev);return r._reactRootContainer=j,r[kr]=j.current,Na(r.nodeType===8?r.parentNode:r),ls(function(){Hu(s,j,l,d)}),j}function Qu(r,s,l,d,p){var v=l._reactRootContainer;if(v){var E=v;if(typeof p=="function"){var O=p;p=function(){var j=qu(E);O.call(j)}}Hu(s,E,r,p)}else E=ES(l,s,r,p,d);return qu(E)}Hl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ei(s.pendingLanes);l!==0&&(ri(s,l|1),rn(s,Je()),(We&6)===0&&(wo=Je()+500,hi()))}break;case 13:ls(function(){var d=Dr(r,1);if(d!==null){var p=Xt();qn(d,r,1,p)}}),zh(r,1)}},Ws=function(r){if(r.tag===13){var s=Dr(r,134217728);if(s!==null){var l=Xt();qn(s,r,134217728,l)}zh(r,134217728)}},ql=function(r){if(r.tag===13){var s=yi(r),l=Dr(r,s);if(l!==null){var d=Xt();qn(l,r,s,d)}zh(r,s)}},Kl=function(){return Ue},Gl=function(r,s){var l=Ue;try{return Ue=r,s()}finally{Ue=l}},Ms=function(r,s,l){switch(s){case"input":if(kn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=hu(d);if(!p)throw Error(t(90));je(d),kn(d,p)}}}break;case"textarea":Os(r,l);break;case"select":s=l.value,s!=null&&Tr(r,!!l.multiple,s,!1)}},zi=Mh,ha=ls;var TS={usingClientEntryPoint:!1,Events:[Da,oo,hu,er,da,Mh]},Ga={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SS={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ma(r),r===null?null:r.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||wS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Ki=Xu.inject(SS),on=Xu}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TS,sn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wh(s))throw Error(t(200));return _S(r,s,null,l)},sn.createRoot=function(r,s){if(!Wh(r))throw Error(t(299));var l=!1,d="",p=wv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Bh(r,1,!1,null,null,l,!1,d,p),r[kr]=s.current,Na(r.nodeType===8?r.parentNode:r),new $h(s)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ma(s),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return ls(r)},sn.hydrate=function(r,s,l){if(!Gu(s))throw Error(t(200));return Qu(null,r,s,!0,l)},sn.hydrateRoot=function(r,s,l){if(!Wh(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,v="",E=wv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=yv(s,null,r,1,l??null,p,!1,v,E),r[kr]=s.current,Na(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Ku(s)},sn.render=function(r,s,l){if(!Gu(s))throw Error(t(200));return Qu(null,r,s,!1,l)},sn.unmountComponentAtNode=function(r){if(!Gu(r))throw Error(t(40));return r._reactRootContainer?(ls(function(){Qu(null,null,r,!1,function(){r._reactRootContainer=null,r[kr]=null})}),!0):!1},sn.unstable_batchedUpdates=Mh,sn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Gu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Qu(r,s,l,!1,d)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var Pv;function y_(){if(Pv)return Kh.exports;Pv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kh.exports=NS(),Kh.exports}var kv;function bS(){if(kv)return Yu;kv=1;var n=y_();return Yu.createRoot=n.createRoot,Yu.hydrateRoot=n.hydrateRoot,Yu}var OS=bS();const DS=sp(OS);function MS({className:n}){return x.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[x.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),x.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}function LS({className:n}){return x.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:x.jsx("path",{d:"M17 10h-1V8a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2Zm-7-2a2 2 0 1 1 4 0v2h-4V8Zm3.5 9.73V19h-3v-1.27a2 2 0 1 1 3 0Z"})})}function VS({className:n}){return x.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:x.jsx("path",{d:"M17 10h-7V8a2 2 0 1 1 4 0h2a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2Zm-4.5 7.73V19h-3v-1.27a2 2 0 1 1 3 0Z"})})}function FS({className:n}){return x.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[x.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),x.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}function jS({className:n}){return x.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[x.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),x.jsx("circle",{cx:"12",cy:"13",r:"4"})]})}function US({className:n}){return x.jsxs("svg",{viewBox:"0 0 24 24",className:n,fill:"currentColor",children:[x.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),x.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),x.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),x.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function Ke(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Nv(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function __(...n){return e=>{let t=!1;const i=n.map(o=>{const a=Nv(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():Nv(n[o],null)}}}}function ot(...n){return R.useCallback(__(...n),n)}function BS(n,e){const t=R.createContext(e),i=a=>{const{children:c,...h}=a,f=R.useMemo(()=>h,Object.values(h));return x.jsx(t.Provider,{value:f,children:c})};i.displayName=n+"Provider";function o(a){const c=R.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[i,o]}function El(n,e=[]){let t=[];function i(a,c){const h=R.createContext(c),f=t.length;t=[...t,c];const m=w=>{var U;const{scope:T,children:A,...L}=w,P=((U=T==null?void 0:T[n])==null?void 0:U[f])||h,N=R.useMemo(()=>L,Object.values(L));return x.jsx(P.Provider,{value:N,children:A})};m.displayName=a+"Provider";function y(w,T){var P;const A=((P=T==null?void 0:T[n])==null?void 0:P[f])||h,L=R.useContext(A);if(L)return L;if(c!==void 0)return c;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[m,y]}const o=()=>{const a=t.map(c=>R.createContext(c));return function(h){const f=(h==null?void 0:h[n])||a;return R.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return o.scopeName=n,[i,zS(o,...e)]}function zS(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=i.reduce((h,{useScope:f,scopeName:m})=>{const w=f(a)[`__scope${m}`];return{...h,...w}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var Tl=y_();const $S=sp(Tl);function ol(n){const e=WS(n),t=R.forwardRef((i,o)=>{const{children:a,...c}=i,h=R.Children.toArray(a),f=h.find(qS);if(f){const m=f.props.children,y=h.map(w=>w===f?R.Children.count(m)>1?R.Children.only(null):R.isValidElement(m)?m.props.children:null:w);return x.jsx(e,{...c,ref:o,children:R.isValidElement(m)?R.cloneElement(m,void 0,y):null})}return x.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function WS(n){const e=R.forwardRef((t,i)=>{const{children:o,...a}=t;if(R.isValidElement(o)){const c=GS(o),h=KS(a,o.props);return o.type!==R.Fragment&&(h.ref=i?__(i,c):c),R.cloneElement(o,h)}return R.Children.count(o)>1?R.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var w_=Symbol("radix.slottable");function HS(n){const e=({children:t})=>x.jsx(x.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=w_,e}function qS(n){return R.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===w_}function KS(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function GS(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var QS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=QS.reduce((n,e)=>{const t=ol(`Primitive.${e}`),i=R.forwardRef((o,a)=>{const{asChild:c,...h}=o,f=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(f,{...h,ref:a})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function XS(n,e){n&&Tl.flushSync(()=>n.dispatchEvent(e))}function _s(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n}),R.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function YS(n,e=globalThis==null?void 0:globalThis.document){const t=_s(n);R.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var JS="DismissableLayer",If="dismissableLayer.update",ZS="dismissableLayer.pointerDownOutside",eI="dismissableLayer.focusOutside",bv,E_=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hc=R.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...f}=n,m=R.useContext(E_),[y,w]=R.useState(null),T=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=R.useState({}),L=ot(e,C=>w(C)),P=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),U=P.indexOf(N),z=y?P.indexOf(y):-1,W=m.layersWithOutsidePointerEventsDisabled.size>0,V=z>=U,Q=rI(C=>{const I=C.target,b=[...m.branches].some(D=>D.contains(I));!V||b||(o==null||o(C),c==null||c(C),C.defaultPrevented||h==null||h())},T),X=iI(C=>{const I=C.target;[...m.branches].some(D=>D.contains(I))||(a==null||a(C),c==null||c(C),C.defaultPrevented||h==null||h())},T);return YS(C=>{z===m.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&h&&(C.preventDefault(),h()))},T),R.useEffect(()=>{if(y)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(bv=T.body.style.pointerEvents,T.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),Ov(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(T.body.style.pointerEvents=bv)}},[y,T,t,m]),R.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),Ov())},[y,m]),R.useEffect(()=>{const C=()=>A({});return document.addEventListener(If,C),()=>document.removeEventListener(If,C)},[]),x.jsx(Ye.div,{...f,ref:L,style:{pointerEvents:W?V?"auto":"none":void 0,...n.style},onFocusCapture:Ke(n.onFocusCapture,X.onFocusCapture),onBlurCapture:Ke(n.onBlurCapture,X.onBlurCapture),onPointerDownCapture:Ke(n.onPointerDownCapture,Q.onPointerDownCapture)})});Hc.displayName=JS;var tI="DismissableLayerBranch",nI=R.forwardRef((n,e)=>{const t=R.useContext(E_),i=R.useRef(null),o=ot(e,i);return R.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),x.jsx(Ye.div,{...n,ref:o})});nI.displayName=tI;function rI(n,e=globalThis==null?void 0:globalThis.document){const t=_s(n),i=R.useRef(!1),o=R.useRef(()=>{});return R.useEffect(()=>{const a=h=>{if(h.target&&!i.current){let f=function(){T_(ZS,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function iI(n,e=globalThis==null?void 0:globalThis.document){const t=_s(n),i=R.useRef(!1);return R.useEffect(()=>{const o=a=>{a.target&&!i.current&&T_(eI,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Ov(){const n=new CustomEvent(If);document.dispatchEvent(n)}function T_(n,e,t,{discrete:i}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?XS(o,a):o.dispatchEvent(a)}var Ht=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},sI=v_[" useId ".trim().toString()]||(()=>{}),oI=0;function gs(n){const[e,t]=R.useState(sI());return Ht(()=>{t(i=>i??String(oI++))},[n]),e?`radix-${e}`:""}const aI=["top","right","bottom","left"],bi=Math.min,fn=Math.max,Ec=Math.round,Ju=Math.floor,hr=n=>({x:n,y:n}),lI={left:"right",right:"left",bottom:"top",top:"bottom"},uI={start:"end",end:"start"};function xf(n,e,t){return fn(n,bi(e,t))}function Hr(n,e){return typeof n=="function"?n(e):n}function qr(n){return n.split("-")[0]}function Ko(n){return n.split("-")[1]}function ap(n){return n==="x"?"y":"x"}function lp(n){return n==="y"?"height":"width"}const cI=new Set(["top","bottom"]);function dr(n){return cI.has(qr(n))?"y":"x"}function up(n){return ap(dr(n))}function dI(n,e,t){t===void 0&&(t=!1);const i=Ko(n),o=up(n),a=lp(o);let c=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Tc(c)),[c,Tc(c)]}function hI(n){const e=Tc(n);return[Cf(n),e,Cf(e)]}function Cf(n){return n.replace(/start|end/g,e=>uI[e])}const Dv=["left","right"],Mv=["right","left"],fI=["top","bottom"],pI=["bottom","top"];function mI(n,e,t){switch(n){case"top":case"bottom":return t?e?Mv:Dv:e?Dv:Mv;case"left":case"right":return e?fI:pI;default:return[]}}function gI(n,e,t,i){const o=Ko(n);let a=mI(qr(n),t==="start",i);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(Cf)))),a}function Tc(n){return n.replace(/left|right|bottom|top/g,e=>lI[e])}function vI(n){return{top:0,right:0,bottom:0,left:0,...n}}function S_(n){return typeof n!="number"?vI(n):{top:n,right:n,bottom:n,left:n}}function Sc(n){const{x:e,y:t,width:i,height:o}=n;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function Lv(n,e,t){let{reference:i,floating:o}=n;const a=dr(e),c=up(e),h=lp(c),f=qr(e),m=a==="y",y=i.x+i.width/2-o.width/2,w=i.y+i.height/2-o.height/2,T=i[h]/2-o[h]/2;let A;switch(f){case"top":A={x:y,y:i.y-o.height};break;case"bottom":A={x:y,y:i.y+i.height};break;case"right":A={x:i.x+i.width,y:w};break;case"left":A={x:i.x-o.width,y:w};break;default:A={x:i.x,y:i.y}}switch(Ko(e)){case"start":A[c]-=T*(t&&m?-1:1);break;case"end":A[c]+=T*(t&&m?-1:1);break}return A}async function yI(n,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:a,rects:c,elements:h,strategy:f}=n,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:T=!1,padding:A=0}=Hr(e,n),L=S_(A),N=h[T?w==="floating"?"reference":"floating":w],U=Sc(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(N)))==null||t?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:m,rootBoundary:y,strategy:f})),z=w==="floating"?{x:i,y:o,width:c.floating.width,height:c.floating.height}:c.reference,W=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),V=await(a.isElement==null?void 0:a.isElement(W))?await(a.getScale==null?void 0:a.getScale(W))||{x:1,y:1}:{x:1,y:1},Q=Sc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:z,offsetParent:W,strategy:f}):z);return{top:(U.top-Q.top+L.top)/V.y,bottom:(Q.bottom-U.bottom+L.bottom)/V.y,left:(U.left-Q.left+L.left)/V.x,right:(Q.right-U.right+L.right)/V.x}}const _I=async(n,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:a=[],platform:c}=t,h=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:y,y:w}=Lv(m,i,f),T=i,A={},L=0;for(let N=0;N<h.length;N++){var P;const{name:U,fn:z}=h[N],{x:W,y:V,data:Q,reset:X}=await z({x:y,y:w,initialPlacement:i,placement:T,strategy:o,middlewareData:A,rects:m,platform:{...c,detectOverflow:(P=c.detectOverflow)!=null?P:yI},elements:{reference:n,floating:e}});y=W??y,w=V??w,A={...A,[U]:{...A[U],...Q}},X&&L<=50&&(L++,typeof X=="object"&&(X.placement&&(T=X.placement),X.rects&&(m=X.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):X.rects),{x:y,y:w}=Lv(m,T,f)),N=-1)}return{x:y,y:w,placement:T,strategy:o,middlewareData:A}},wI=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:o,rects:a,platform:c,elements:h,middlewareData:f}=e,{element:m,padding:y=0}=Hr(n,e)||{};if(m==null)return{};const w=S_(y),T={x:t,y:i},A=up(o),L=lp(A),P=await c.getDimensions(m),N=A==="y",U=N?"top":"left",z=N?"bottom":"right",W=N?"clientHeight":"clientWidth",V=a.reference[L]+a.reference[A]-T[A]-a.floating[L],Q=T[A]-a.reference[A],X=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let C=X?X[W]:0;(!C||!await(c.isElement==null?void 0:c.isElement(X)))&&(C=h.floating[W]||a.floating[L]);const I=V/2-Q/2,b=C/2-P[L]/2-1,D=bi(w[U],b),M=bi(w[z],b),F=D,k=C-P[L]-M,de=C/2-P[L]/2+I,Ce=xf(F,de,k),ye=!f.arrow&&Ko(o)!=null&&de!==Ce&&a.reference[L]/2-(de<F?D:M)-P[L]/2<0,he=ye?de<F?de-F:de-k:0;return{[A]:T[A]+he,data:{[A]:Ce,centerOffset:de-Ce-he,...ye&&{alignmentOffset:he}},reset:ye}}}),EI=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:o,middlewareData:a,rects:c,initialPlacement:h,platform:f,elements:m}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:T,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:L="none",flipAlignment:P=!0,...N}=Hr(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const U=qr(o),z=dr(h),W=qr(h)===h,V=await(f.isRTL==null?void 0:f.isRTL(m.floating)),Q=T||(W||!P?[Tc(h)]:hI(h)),X=L!=="none";!T&&X&&Q.push(...gI(h,P,L,V));const C=[h,...Q],I=await f.detectOverflow(e,N),b=[];let D=((i=a.flip)==null?void 0:i.overflows)||[];if(y&&b.push(I[U]),w){const de=dI(o,c,V);b.push(I[de[0]],I[de[1]])}if(D=[...D,{placement:o,overflows:b}],!b.every(de=>de<=0)){var M,F;const de=(((M=a.flip)==null?void 0:M.index)||0)+1,Ce=C[de];if(Ce&&(!(w==="alignment"?z!==dr(Ce):!1)||D.every(J=>dr(J.placement)===z?J.overflows[0]>0:!0)))return{data:{index:de,overflows:D},reset:{placement:Ce}};let ye=(F=D.filter(he=>he.overflows[0]<=0).sort((he,J)=>he.overflows[1]-J.overflows[1])[0])==null?void 0:F.placement;if(!ye)switch(A){case"bestFit":{var k;const he=(k=D.filter(J=>{if(X){const oe=dr(J.placement);return oe===z||oe==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(oe=>oe>0).reduce((oe,re)=>oe+re,0)]).sort((J,oe)=>J[1]-oe[1])[0])==null?void 0:k[0];he&&(ye=he);break}case"initialPlacement":ye=h;break}if(o!==ye)return{reset:{placement:ye}}}return{}}}};function Vv(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Fv(n){return aI.some(e=>n[e]>=0)}const TI=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t,platform:i}=e,{strategy:o="referenceHidden",...a}=Hr(n,e);switch(o){case"referenceHidden":{const c=await i.detectOverflow(e,{...a,elementContext:"reference"}),h=Vv(c,t.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Fv(h)}}}case"escaped":{const c=await i.detectOverflow(e,{...a,altBoundary:!0}),h=Vv(c,t.floating);return{data:{escapedOffsets:h,escaped:Fv(h)}}}default:return{}}}}},I_=new Set(["left","top"]);async function SI(n,e){const{placement:t,platform:i,elements:o}=n,a=await(i.isRTL==null?void 0:i.isRTL(o.floating)),c=qr(t),h=Ko(t),f=dr(t)==="y",m=I_.has(c)?-1:1,y=a&&f?-1:1,w=Hr(e,n);let{mainAxis:T,crossAxis:A,alignmentAxis:L}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return h&&typeof L=="number"&&(A=h==="end"?L*-1:L),f?{x:A*y,y:T*m}:{x:T*m,y:A*y}}const II=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:o,y:a,placement:c,middlewareData:h}=e,f=await SI(e,n);return c===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:c}}}}},xI=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:o,platform:a}=e,{mainAxis:c=!0,crossAxis:h=!1,limiter:f={fn:U=>{let{x:z,y:W}=U;return{x:z,y:W}}},...m}=Hr(n,e),y={x:t,y:i},w=await a.detectOverflow(e,m),T=dr(qr(o)),A=ap(T);let L=y[A],P=y[T];if(c){const U=A==="y"?"top":"left",z=A==="y"?"bottom":"right",W=L+w[U],V=L-w[z];L=xf(W,L,V)}if(h){const U=T==="y"?"top":"left",z=T==="y"?"bottom":"right",W=P+w[U],V=P-w[z];P=xf(W,P,V)}const N=f.fn({...e,[A]:L,[T]:P});return{...N,data:{x:N.x-t,y:N.y-i,enabled:{[A]:c,[T]:h}}}}}},CI=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:o,rects:a,middlewareData:c}=e,{offset:h=0,mainAxis:f=!0,crossAxis:m=!0}=Hr(n,e),y={x:t,y:i},w=dr(o),T=ap(w);let A=y[T],L=y[w];const P=Hr(h,e),N=typeof P=="number"?{mainAxis:P,crossAxis:0}:{mainAxis:0,crossAxis:0,...P};if(f){const W=T==="y"?"height":"width",V=a.reference[T]-a.floating[W]+N.mainAxis,Q=a.reference[T]+a.reference[W]-N.mainAxis;A<V?A=V:A>Q&&(A=Q)}if(m){var U,z;const W=T==="y"?"width":"height",V=I_.has(qr(o)),Q=a.reference[w]-a.floating[W]+(V&&((U=c.offset)==null?void 0:U[w])||0)+(V?0:N.crossAxis),X=a.reference[w]+a.reference[W]+(V?0:((z=c.offset)==null?void 0:z[w])||0)-(V?N.crossAxis:0);L<Q?L=Q:L>X&&(L=X)}return{[T]:A,[w]:L}}}},RI=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:o,rects:a,platform:c,elements:h}=e,{apply:f=()=>{},...m}=Hr(n,e),y=await c.detectOverflow(e,m),w=qr(o),T=Ko(o),A=dr(o)==="y",{width:L,height:P}=a.floating;let N,U;w==="top"||w==="bottom"?(N=w,U=T===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(U=w,N=T==="end"?"top":"bottom");const z=P-y.top-y.bottom,W=L-y.left-y.right,V=bi(P-y[N],z),Q=bi(L-y[U],W),X=!e.middlewareData.shift;let C=V,I=Q;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=W),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(C=z),X&&!T){const D=fn(y.left,0),M=fn(y.right,0),F=fn(y.top,0),k=fn(y.bottom,0);A?I=L-2*(D!==0||M!==0?D+M:fn(y.left,y.right)):C=P-2*(F!==0||k!==0?F+k:fn(y.top,y.bottom))}await f({...e,availableWidth:I,availableHeight:C});const b=await c.getDimensions(h.floating);return L!==b.width||P!==b.height?{reset:{rects:!0}}:{}}}};function qc(){return typeof window<"u"}function Go(n){return x_(n)?(n.nodeName||"").toLowerCase():"#document"}function pn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function wr(n){var e;return(e=(x_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function x_(n){return qc()?n instanceof Node||n instanceof pn(n).Node:!1}function Xn(n){return qc()?n instanceof Element||n instanceof pn(n).Element:!1}function gr(n){return qc()?n instanceof HTMLElement||n instanceof pn(n).HTMLElement:!1}function jv(n){return!qc()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof pn(n).ShadowRoot}const AI=new Set(["inline","contents"]);function Sl(n){const{overflow:e,overflowX:t,overflowY:i,display:o}=Yn(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!AI.has(o)}const PI=new Set(["table","td","th"]);function kI(n){return PI.has(Go(n))}const NI=[":popover-open",":modal"];function Kc(n){return NI.some(e=>{try{return n.matches(e)}catch{return!1}})}const bI=["transform","translate","scale","rotate","perspective"],OI=["transform","translate","scale","rotate","perspective","filter"],DI=["paint","layout","strict","content"];function cp(n){const e=dp(),t=Xn(n)?Yn(n):n;return bI.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||OI.some(i=>(t.willChange||"").includes(i))||DI.some(i=>(t.contain||"").includes(i))}function MI(n){let e=Oi(n);for(;gr(e)&&!Lo(e);){if(cp(e))return e;if(Kc(e))return null;e=Oi(e)}return null}function dp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LI=new Set(["html","body","#document"]);function Lo(n){return LI.has(Go(n))}function Yn(n){return pn(n).getComputedStyle(n)}function Gc(n){return Xn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Oi(n){if(Go(n)==="html")return n;const e=n.assignedSlot||n.parentNode||jv(n)&&n.host||wr(n);return jv(e)?e.host:e}function C_(n){const e=Oi(n);return Lo(e)?n.ownerDocument?n.ownerDocument.body:n.body:gr(e)&&Sl(e)?e:C_(e)}function al(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=C_(n),a=o===((i=n.ownerDocument)==null?void 0:i.body),c=pn(o);if(a){const h=Rf(c);return e.concat(c,c.visualViewport||[],Sl(o)?o:[],h&&t?al(h):[])}return e.concat(o,al(o,[],t))}function Rf(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function R_(n){const e=Yn(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=gr(n),a=o?n.offsetWidth:t,c=o?n.offsetHeight:i,h=Ec(t)!==a||Ec(i)!==c;return h&&(t=a,i=c),{width:t,height:i,$:h}}function hp(n){return Xn(n)?n:n.contextElement}function ko(n){const e=hp(n);if(!gr(e))return hr(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:a}=R_(e);let c=(a?Ec(t.width):t.width)/i,h=(a?Ec(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const VI=hr(0);function A_(n){const e=pn(n);return!dp()||!e.visualViewport?VI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FI(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==pn(n)?!1:e}function ws(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=hp(n);let c=hr(1);e&&(i?Xn(i)&&(c=ko(i)):c=ko(n));const h=FI(a,t,i)?A_(a):hr(0);let f=(o.left+h.x)/c.x,m=(o.top+h.y)/c.y,y=o.width/c.x,w=o.height/c.y;if(a){const T=pn(a),A=i&&Xn(i)?pn(i):i;let L=T,P=Rf(L);for(;P&&i&&A!==L;){const N=ko(P),U=P.getBoundingClientRect(),z=Yn(P),W=U.left+(P.clientLeft+parseFloat(z.paddingLeft))*N.x,V=U.top+(P.clientTop+parseFloat(z.paddingTop))*N.y;f*=N.x,m*=N.y,y*=N.x,w*=N.y,f+=W,m+=V,L=pn(P),P=Rf(L)}}return Sc({width:y,height:w,x:f,y:m})}function Qc(n,e){const t=Gc(n).scrollLeft;return e?e.left+t:ws(wr(n)).left+t}function P_(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-Qc(n,t),o=t.top+e.scrollTop;return{x:i,y:o}}function jI(n){let{elements:e,rect:t,offsetParent:i,strategy:o}=n;const a=o==="fixed",c=wr(i),h=e?Kc(e.floating):!1;if(i===c||h&&a)return t;let f={scrollLeft:0,scrollTop:0},m=hr(1);const y=hr(0),w=gr(i);if((w||!w&&!a)&&((Go(i)!=="body"||Sl(c))&&(f=Gc(i)),gr(i))){const A=ws(i);m=ko(i),y.x=A.x+i.clientLeft,y.y=A.y+i.clientTop}const T=c&&!w&&!a?P_(c,f):hr(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+y.x+T.x,y:t.y*m.y-f.scrollTop*m.y+y.y+T.y}}function UI(n){return Array.from(n.getClientRects())}function BI(n){const e=wr(n),t=Gc(n),i=n.ownerDocument.body,o=fn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=fn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Qc(n);const h=-t.scrollTop;return Yn(i).direction==="rtl"&&(c+=fn(e.clientWidth,i.clientWidth)-o),{width:o,height:a,x:c,y:h}}const Uv=25;function zI(n,e){const t=pn(n),i=wr(n),o=t.visualViewport;let a=i.clientWidth,c=i.clientHeight,h=0,f=0;if(o){a=o.width,c=o.height;const y=dp();(!y||y&&e==="fixed")&&(h=o.offsetLeft,f=o.offsetTop)}const m=Qc(i);if(m<=0){const y=i.ownerDocument,w=y.body,T=getComputedStyle(w),A=y.compatMode==="CSS1Compat"&&parseFloat(T.marginLeft)+parseFloat(T.marginRight)||0,L=Math.abs(i.clientWidth-w.clientWidth-A);L<=Uv&&(a-=L)}else m<=Uv&&(a+=m);return{width:a,height:c,x:h,y:f}}const $I=new Set(["absolute","fixed"]);function WI(n,e){const t=ws(n,!0,e==="fixed"),i=t.top+n.clientTop,o=t.left+n.clientLeft,a=gr(n)?ko(n):hr(1),c=n.clientWidth*a.x,h=n.clientHeight*a.y,f=o*a.x,m=i*a.y;return{width:c,height:h,x:f,y:m}}function Bv(n,e,t){let i;if(e==="viewport")i=zI(n,t);else if(e==="document")i=BI(wr(n));else if(Xn(e))i=WI(e,t);else{const o=A_(n);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Sc(i)}function k_(n,e){const t=Oi(n);return t===e||!Xn(t)||Lo(t)?!1:Yn(t).position==="fixed"||k_(t,e)}function HI(n,e){const t=e.get(n);if(t)return t;let i=al(n,[],!1).filter(h=>Xn(h)&&Go(h)!=="body"),o=null;const a=Yn(n).position==="fixed";let c=a?Oi(n):n;for(;Xn(c)&&!Lo(c);){const h=Yn(c),f=cp(c);!f&&h.position==="fixed"&&(o=null),(a?!f&&!o:!f&&h.position==="static"&&!!o&&$I.has(o.position)||Sl(c)&&!f&&k_(n,c))?i=i.filter(y=>y!==c):o=h,c=Oi(c)}return e.set(n,i),i}function qI(n){let{element:e,boundary:t,rootBoundary:i,strategy:o}=n;const c=[...t==="clippingAncestors"?Kc(e)?[]:HI(e,this._c):[].concat(t),i],h=c[0],f=c.reduce((m,y)=>{const w=Bv(e,y,o);return m.top=fn(w.top,m.top),m.right=bi(w.right,m.right),m.bottom=bi(w.bottom,m.bottom),m.left=fn(w.left,m.left),m},Bv(e,h,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function KI(n){const{width:e,height:t}=R_(n);return{width:e,height:t}}function GI(n,e,t){const i=gr(e),o=wr(e),a=t==="fixed",c=ws(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=hr(0);function m(){f.x=Qc(o)}if(i||!i&&!a)if((Go(e)!=="body"||Sl(o))&&(h=Gc(e)),i){const A=ws(e,!0,a,e);f.x=A.x+e.clientLeft,f.y=A.y+e.clientTop}else o&&m();a&&!i&&o&&m();const y=o&&!i&&!a?P_(o,h):hr(0),w=c.left+h.scrollLeft-f.x-y.x,T=c.top+h.scrollTop-f.y-y.y;return{x:w,y:T,width:c.width,height:c.height}}function Xh(n){return Yn(n).position==="static"}function zv(n,e){if(!gr(n)||Yn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return wr(n)===t&&(t=t.ownerDocument.body),t}function N_(n,e){const t=pn(n);if(Kc(n))return t;if(!gr(n)){let o=Oi(n);for(;o&&!Lo(o);){if(Xn(o)&&!Xh(o))return o;o=Oi(o)}return t}let i=zv(n,e);for(;i&&kI(i)&&Xh(i);)i=zv(i,e);return i&&Lo(i)&&Xh(i)&&!cp(i)?t:i||MI(n)||t}const QI=async function(n){const e=this.getOffsetParent||N_,t=this.getDimensions,i=await t(n.floating);return{reference:GI(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function XI(n){return Yn(n).direction==="rtl"}const YI={convertOffsetParentRelativeRectToViewportRelativeRect:jI,getDocumentElement:wr,getClippingRect:qI,getOffsetParent:N_,getElementRects:QI,getClientRects:UI,getDimensions:KI,getScale:ko,isElement:Xn,isRTL:XI};function b_(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function JI(n,e){let t=null,i;const o=wr(n);function a(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function c(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const m=n.getBoundingClientRect(),{left:y,top:w,width:T,height:A}=m;if(h||e(),!T||!A)return;const L=Ju(w),P=Ju(o.clientWidth-(y+T)),N=Ju(o.clientHeight-(w+A)),U=Ju(y),W={rootMargin:-L+"px "+-P+"px "+-N+"px "+-U+"px",threshold:fn(0,bi(1,f))||1};let V=!0;function Q(X){const C=X[0].intersectionRatio;if(C!==f){if(!V)return c();C?c(!1,C):i=setTimeout(()=>{c(!1,1e-7)},1e3)}C===1&&!b_(m,n.getBoundingClientRect())&&c(),V=!1}try{t=new IntersectionObserver(Q,{...W,root:o.ownerDocument})}catch{t=new IntersectionObserver(Q,W)}t.observe(n)}return c(!0),a}function ZI(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,m=hp(n),y=o||a?[...m?al(m):[],...al(e)]:[];y.forEach(U=>{o&&U.addEventListener("scroll",t,{passive:!0}),a&&U.addEventListener("resize",t)});const w=m&&h?JI(m,t):null;let T=-1,A=null;c&&(A=new ResizeObserver(U=>{let[z]=U;z&&z.target===m&&A&&(A.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var W;(W=A)==null||W.observe(e)})),t()}),m&&!f&&A.observe(m),A.observe(e));let L,P=f?ws(n):null;f&&N();function N(){const U=ws(n);P&&!b_(P,U)&&t(),P=U,L=requestAnimationFrame(N)}return t(),()=>{var U;y.forEach(z=>{o&&z.removeEventListener("scroll",t),a&&z.removeEventListener("resize",t)}),w==null||w(),(U=A)==null||U.disconnect(),A=null,f&&cancelAnimationFrame(L)}}const ex=II,tx=xI,nx=EI,rx=RI,ix=TI,$v=wI,sx=CI,ox=(n,e,t)=>{const i=new Map,o={platform:YI,...t},a={...o.platform,_c:i};return _I(n,e,{...o,platform:a})};var ax=typeof document<"u",lx=function(){},cc=ax?R.useLayoutEffect:lx;function Ic(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Ic(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const a=o[i];if(!(a==="_owner"&&n.$$typeof)&&!Ic(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function O_(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Wv(n,e){const t=O_(n);return Math.round(e*t)/t}function Yh(n){const e=R.useRef(n);return cc(()=>{e.current=n}),e}function ux(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:f,open:m}=n,[y,w]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,A]=R.useState(i);Ic(T,i)||A(i);const[L,P]=R.useState(null),[N,U]=R.useState(null),z=R.useCallback(J=>{J!==X.current&&(X.current=J,P(J))},[]),W=R.useCallback(J=>{J!==C.current&&(C.current=J,U(J))},[]),V=a||L,Q=c||N,X=R.useRef(null),C=R.useRef(null),I=R.useRef(y),b=f!=null,D=Yh(f),M=Yh(o),F=Yh(m),k=R.useCallback(()=>{if(!X.current||!C.current)return;const J={placement:e,strategy:t,middleware:T};M.current&&(J.platform=M.current),ox(X.current,C.current,J).then(oe=>{const re={...oe,isPositioned:F.current!==!1};de.current&&!Ic(I.current,re)&&(I.current=re,Tl.flushSync(()=>{w(re)}))})},[T,e,t,M,F]);cc(()=>{m===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,w(J=>({...J,isPositioned:!1})))},[m]);const de=R.useRef(!1);cc(()=>(de.current=!0,()=>{de.current=!1}),[]),cc(()=>{if(V&&(X.current=V),Q&&(C.current=Q),V&&Q){if(D.current)return D.current(V,Q,k);k()}},[V,Q,k,D,b]);const Ce=R.useMemo(()=>({reference:X,floating:C,setReference:z,setFloating:W}),[z,W]),ye=R.useMemo(()=>({reference:V,floating:Q}),[V,Q]),he=R.useMemo(()=>{const J={position:t,left:0,top:0};if(!ye.floating)return J;const oe=Wv(ye.floating,y.x),re=Wv(ye.floating,y.y);return h?{...J,transform:"translate("+oe+"px, "+re+"px)",...O_(ye.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:oe,top:re}},[t,h,ye.floating,y.x,y.y]);return R.useMemo(()=>({...y,update:k,refs:Ce,elements:ye,floatingStyles:he}),[y,k,Ce,ye,he])}const cx=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:o}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?$v({element:i.current,padding:o}).fn(t):{}:i?$v({element:i,padding:o}).fn(t):{}}}},dx=(n,e)=>({...ex(n),options:[n,e]}),hx=(n,e)=>({...tx(n),options:[n,e]}),fx=(n,e)=>({...sx(n),options:[n,e]}),px=(n,e)=>({...nx(n),options:[n,e]}),mx=(n,e)=>({...rx(n),options:[n,e]}),gx=(n,e)=>({...ix(n),options:[n,e]}),vx=(n,e)=>({...cx(n),options:[n,e]});var yx="Arrow",D_=R.forwardRef((n,e)=>{const{children:t,width:i=10,height:o=5,...a}=n;return x.jsx(Ye.svg,{...a,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});D_.displayName=yx;var _x=D_;function wx(n){const[e,t]=R.useState(void 0);return Ht(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,h;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,h=m.blockSize}else c=n.offsetWidth,h=n.offsetHeight;t({width:c,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var fp="Popper",[M_,Xc]=El(fp),[Ex,L_]=M_(fp),V_=n=>{const{__scopePopper:e,children:t}=n,[i,o]=R.useState(null);return x.jsx(Ex,{scope:e,anchor:i,onAnchorChange:o,children:t})};V_.displayName=fp;var F_="PopperAnchor",j_=R.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...o}=n,a=L_(F_,t),c=R.useRef(null),h=ot(e,c),f=R.useRef(null);return R.useEffect(()=>{const m=f.current;f.current=(i==null?void 0:i.current)||c.current,m!==f.current&&a.onAnchorChange(f.current)}),i?null:x.jsx(Ye.div,{...o,ref:h})});j_.displayName=F_;var pp="PopperContent",[Tx,Sx]=M_(pp),U_=R.forwardRef((n,e)=>{var ue,we,De,ke,Le,je;const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:T=!1,updatePositionStrategy:A="optimized",onPlaced:L,...P}=n,N=L_(pp,t),[U,z]=R.useState(null),W=ot(e,lt=>z(lt)),[V,Q]=R.useState(null),X=wx(V),C=(X==null?void 0:X.width)??0,I=(X==null?void 0:X.height)??0,b=i+(a!=="center"?"-"+a:""),D=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},M=Array.isArray(m)?m:[m],F=M.length>0,k={padding:D,boundary:M.filter(xx),altBoundary:F},{refs:de,floatingStyles:Ce,placement:ye,isPositioned:he,middlewareData:J}=ux({strategy:"fixed",placement:b,whileElementsMounted:(...lt)=>ZI(...lt,{animationFrame:A==="always"}),elements:{reference:N.anchor},middleware:[dx({mainAxis:o+I,alignmentAxis:c}),f&&hx({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?fx():void 0,...k}),f&&px({...k}),mx({...k,apply:({elements:lt,rects:It,availableWidth:mn,availableHeight:Pn})=>{const{width:kn,height:Ns}=It.reference,Nn=lt.floating.style;Nn.setProperty("--radix-popper-available-width",`${mn}px`),Nn.setProperty("--radix-popper-available-height",`${Pn}px`),Nn.setProperty("--radix-popper-anchor-width",`${kn}px`),Nn.setProperty("--radix-popper-anchor-height",`${Ns}px`)}}),V&&vx({element:V,padding:h}),Cx({arrowWidth:C,arrowHeight:I}),T&&gx({strategy:"referenceHidden",...k})]}),[oe,re]=$_(ye),B=_s(L);Ht(()=>{he&&(B==null||B())},[he,B]);const Z=(ue=J.arrow)==null?void 0:ue.x,pe=(we=J.arrow)==null?void 0:we.y,xe=((De=J.arrow)==null?void 0:De.centerOffset)!==0,[Re,Me]=R.useState();return Ht(()=>{U&&Me(window.getComputedStyle(U).zIndex)},[U]),x.jsx("div",{ref:de.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:he?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(ke=J.transformOrigin)==null?void 0:ke.x,(Le=J.transformOrigin)==null?void 0:Le.y].join(" "),...((je=J.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:x.jsx(Tx,{scope:t,placedSide:oe,onArrowChange:Q,arrowX:Z,arrowY:pe,shouldHideArrow:xe,children:x.jsx(Ye.div,{"data-side":oe,"data-align":re,...P,ref:W,style:{...P.style,animation:he?void 0:"none"}})})})});U_.displayName=pp;var B_="PopperArrow",Ix={top:"bottom",right:"left",bottom:"top",left:"right"},z_=R.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,a=Sx(B_,i),c=Ix[a.placedSide];return x.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:x.jsx(_x,{...o,ref:t,style:{...o.style,display:"block"}})})});z_.displayName=B_;function xx(n){return n!==null}var Cx=n=>({name:"transformOrigin",options:n,fn(e){var N,U,z;const{placement:t,rects:i,middlewareData:o}=e,c=((N=o.arrow)==null?void 0:N.centerOffset)!==0,h=c?0:n.arrowWidth,f=c?0:n.arrowHeight,[m,y]=$_(t),w={start:"0%",center:"50%",end:"100%"}[y],T=(((U=o.arrow)==null?void 0:U.x)??0)+h/2,A=(((z=o.arrow)==null?void 0:z.y)??0)+f/2;let L="",P="";return m==="bottom"?(L=c?w:`${T}px`,P=`${-f}px`):m==="top"?(L=c?w:`${T}px`,P=`${i.floating.height+f}px`):m==="right"?(L=`${-f}px`,P=c?w:`${A}px`):m==="left"&&(L=`${i.floating.width+f}px`,P=c?w:`${A}px`),{data:{x:L,y:P}}}});function $_(n){const[e,t="center"]=n.split("-");return[e,t]}var W_=V_,H_=j_,q_=U_,K_=z_,Rx="Portal",Yc=R.forwardRef((n,e)=>{var h;const{container:t,...i}=n,[o,a]=R.useState(!1);Ht(()=>a(!0),[]);const c=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?$S.createPortal(x.jsx(Ye.div,{...i,ref:e}),c):null});Yc.displayName=Rx;function Ax(n,e){return R.useReducer((t,i)=>e[t][i]??t,n)}var Qo=n=>{const{present:e,children:t}=n,i=Px(e),o=typeof t=="function"?t({present:i.isPresent}):R.Children.only(t),a=ot(i.ref,kx(o));return typeof t=="function"||i.isPresent?R.cloneElement(o,{ref:a}):null};Qo.displayName="Presence";function Px(n){const[e,t]=R.useState(),i=R.useRef(null),o=R.useRef(n),a=R.useRef("none"),c=n?"mounted":"unmounted",[h,f]=Ax(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const m=Zu(i.current);a.current=h==="mounted"?m:"none"},[h]),Ht(()=>{const m=i.current,y=o.current;if(y!==n){const T=a.current,A=Zu(m);n?f("MOUNT"):A==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(y&&T!==A?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),Ht(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,w=A=>{const P=Zu(i.current).includes(CSS.escape(A.animationName));if(A.target===e&&P&&(f("ANIMATION_END"),!o.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},T=A=>{A.target===e&&(a.current=Zu(i.current))};return e.addEventListener("animationstart",T),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",T),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:R.useCallback(m=>{i.current=m?getComputedStyle(m):null,t(m)},[])}}function Zu(n){return(n==null?void 0:n.animationName)||"none"}function kx(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Nx=v_[" useInsertionEffect ".trim().toString()]||Ht;function xc({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,a,c]=bx({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:o;{const y=R.useRef(n!==void 0);R.useEffect(()=>{const w=y.current;w!==h&&console.warn(`${i} is changing from ${w?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,i])}const m=R.useCallback(y=>{var w;if(h){const T=Ox(y)?y(n):y;T!==n&&((w=c.current)==null||w.call(c,T))}else a(y)},[h,n,a,c]);return[f,m]}function bx({defaultProp:n,onChange:e}){const[t,i]=R.useState(n),o=R.useRef(t),a=R.useRef(e);return Nx(()=>{a.current=e},[e]),R.useEffect(()=>{var c;o.current!==t&&((c=a.current)==null||c.call(a,t),o.current=t)},[t,o]),[t,i,a]}function Ox(n){return typeof n=="function"}var G_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Dx="VisuallyHidden",Q_=R.forwardRef((n,e)=>x.jsx(Ye.span,{...n,ref:e,style:{...G_,...n.style}}));Q_.displayName=Dx;var Mx=Q_,[Jc]=El("Tooltip",[Xc]),Zc=Xc(),X_="TooltipProvider",Lx=700,Af="tooltip.open",[Vx,mp]=Jc(X_),Y_=n=>{const{__scopeTooltip:e,delayDuration:t=Lx,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:a}=n,c=R.useRef(!0),h=R.useRef(!1),f=R.useRef(0);return R.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),x.jsx(Vx,{scope:e,isOpenDelayedRef:c,delayDuration:t,onOpen:R.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,i)},[i]),isPointerInTransitRef:h,onPointerInTransitChange:R.useCallback(m=>{h.current=m},[]),disableHoverableContent:o,children:a})};Y_.displayName=X_;var ll="Tooltip",[Fx,Il]=Jc(ll),J_=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:o,onOpenChange:a,disableHoverableContent:c,delayDuration:h}=n,f=mp(ll,n.__scopeTooltip),m=Zc(e),[y,w]=R.useState(null),T=gs(),A=R.useRef(0),L=c??f.disableHoverableContent,P=h??f.delayDuration,N=R.useRef(!1),[U,z]=xc({prop:i,defaultProp:o??!1,onChange:C=>{C?(f.onOpen(),document.dispatchEvent(new CustomEvent(Af))):f.onClose(),a==null||a(C)},caller:ll}),W=R.useMemo(()=>U?N.current?"delayed-open":"instant-open":"closed",[U]),V=R.useCallback(()=>{window.clearTimeout(A.current),A.current=0,N.current=!1,z(!0)},[z]),Q=R.useCallback(()=>{window.clearTimeout(A.current),A.current=0,z(!1)},[z]),X=R.useCallback(()=>{window.clearTimeout(A.current),A.current=window.setTimeout(()=>{N.current=!0,z(!0),A.current=0},P)},[P,z]);return R.useEffect(()=>()=>{A.current&&(window.clearTimeout(A.current),A.current=0)},[]),x.jsx(W_,{...m,children:x.jsx(Fx,{scope:e,contentId:T,open:U,stateAttribute:W,trigger:y,onTriggerChange:w,onTriggerEnter:R.useCallback(()=>{f.isOpenDelayedRef.current?X():V()},[f.isOpenDelayedRef,X,V]),onTriggerLeave:R.useCallback(()=>{L?Q():(window.clearTimeout(A.current),A.current=0)},[Q,L]),onOpen:V,onClose:Q,disableHoverableContent:L,children:t})})};J_.displayName=ll;var Pf="TooltipTrigger",Z_=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,o=Il(Pf,t),a=mp(Pf,t),c=Zc(t),h=R.useRef(null),f=ot(e,h,o.onTriggerChange),m=R.useRef(!1),y=R.useRef(!1),w=R.useCallback(()=>m.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),x.jsx(H_,{asChild:!0,...c,children:x.jsx(Ye.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:f,onPointerMove:Ke(n.onPointerMove,T=>{T.pointerType!=="touch"&&!y.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),y.current=!0)}),onPointerLeave:Ke(n.onPointerLeave,()=>{o.onTriggerLeave(),y.current=!1}),onPointerDown:Ke(n.onPointerDown,()=>{o.open&&o.onClose(),m.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Ke(n.onFocus,()=>{m.current||o.onOpen()}),onBlur:Ke(n.onBlur,o.onClose),onClick:Ke(n.onClick,o.onClose)})})});Z_.displayName=Pf;var gp="TooltipPortal",[jx,Ux]=Jc(gp,{forceMount:void 0}),e0=n=>{const{__scopeTooltip:e,forceMount:t,children:i,container:o}=n,a=Il(gp,e);return x.jsx(jx,{scope:e,forceMount:t,children:x.jsx(Qo,{present:t||a.open,children:x.jsx(Yc,{asChild:!0,container:o,children:i})})})};e0.displayName=gp;var Vo="TooltipContent",t0=R.forwardRef((n,e)=>{const t=Ux(Vo,n.__scopeTooltip),{forceMount:i=t.forceMount,side:o="top",...a}=n,c=Il(Vo,n.__scopeTooltip);return x.jsx(Qo,{present:i||c.open,children:c.disableHoverableContent?x.jsx(n0,{side:o,...a,ref:e}):x.jsx(Bx,{side:o,...a,ref:e})})}),Bx=R.forwardRef((n,e)=>{const t=Il(Vo,n.__scopeTooltip),i=mp(Vo,n.__scopeTooltip),o=R.useRef(null),a=ot(e,o),[c,h]=R.useState(null),{trigger:f,onClose:m}=t,y=o.current,{onPointerInTransitChange:w}=i,T=R.useCallback(()=>{h(null),w(!1)},[w]),A=R.useCallback((L,P)=>{const N=L.currentTarget,U={x:L.clientX,y:L.clientY},z=Hx(U,N.getBoundingClientRect()),W=qx(U,z),V=Kx(P.getBoundingClientRect()),Q=Qx([...W,...V]);h(Q),w(!0)},[w]);return R.useEffect(()=>()=>T(),[T]),R.useEffect(()=>{if(f&&y){const L=N=>A(N,y),P=N=>A(N,f);return f.addEventListener("pointerleave",L),y.addEventListener("pointerleave",P),()=>{f.removeEventListener("pointerleave",L),y.removeEventListener("pointerleave",P)}}},[f,y,A,T]),R.useEffect(()=>{if(c){const L=P=>{const N=P.target,U={x:P.clientX,y:P.clientY},z=(f==null?void 0:f.contains(N))||(y==null?void 0:y.contains(N)),W=!Gx(U,c);z?T():W&&(T(),m())};return document.addEventListener("pointermove",L),()=>document.removeEventListener("pointermove",L)}},[f,y,c,m,T]),x.jsx(n0,{...n,ref:a})}),[zx,$x]=Jc(ll,{isInside:!1}),Wx=HS("TooltipContent"),n0=R.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:c,...h}=n,f=Il(Vo,t),m=Zc(t),{onClose:y}=f;return R.useEffect(()=>(document.addEventListener(Af,y),()=>document.removeEventListener(Af,y)),[y]),R.useEffect(()=>{if(f.trigger){const w=T=>{const A=T.target;A!=null&&A.contains(f.trigger)&&y()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,y]),x.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:w=>w.preventDefault(),onDismiss:y,children:x.jsxs(q_,{"data-state":f.stateAttribute,...m,...h,ref:e,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(Wx,{children:i}),x.jsx(zx,{scope:t,isInside:!0,children:x.jsx(Mx,{id:f.contentId,role:"tooltip",children:o||i})})]})})});t0.displayName=Vo;var r0="TooltipArrow",i0=R.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,o=Zc(t);return $x(r0,t).isInside?null:x.jsx(K_,{...o,...i,ref:e})});i0.displayName=r0;function Hx(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),o=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,i,o,a)){case a:return"left";case o:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function qx(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function Kx(n){const{top:e,right:t,bottom:i,left:o}=n;return[{x:o,y:e},{x:t,y:e},{x:t,y:i},{x:o,y:i}]}function Gx(n,e){const{x:t,y:i}=n;let o=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const h=e[a],f=e[c],m=h.x,y=h.y,w=f.x,T=f.y;y>i!=T>i&&t<(w-m)*(i-y)/(T-y)+m&&(o=!o)}return o}function Qx(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),Xx(e)}function Xx(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const o=n[i];for(;e.length>=2;){const a=e[e.length-1],c=e[e.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))e.pop();else break}e.push(o)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const o=n[i];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(o.y-c.y)>=(a.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Yx=Y_,Jh=J_,Zh=Z_,ef=e0,tf=t0,nf=i0;function Hv(n,[e,t]){return Math.min(t,Math.max(e,n))}function Jx(n){const e=n+"CollectionProvider",[t,i]=El(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=P=>{const{scope:N,children:U}=P,z=Fr.useRef(null),W=Fr.useRef(new Map).current;return x.jsx(o,{scope:N,itemMap:W,collectionRef:z,children:U})};c.displayName=e;const h=n+"CollectionSlot",f=ol(h),m=Fr.forwardRef((P,N)=>{const{scope:U,children:z}=P,W=a(h,U),V=ot(N,W.collectionRef);return x.jsx(f,{ref:V,children:z})});m.displayName=h;const y=n+"CollectionItemSlot",w="data-radix-collection-item",T=ol(y),A=Fr.forwardRef((P,N)=>{const{scope:U,children:z,...W}=P,V=Fr.useRef(null),Q=ot(N,V),X=a(y,U);return Fr.useEffect(()=>(X.itemMap.set(V,{ref:V,...W}),()=>void X.itemMap.delete(V))),x.jsx(T,{[w]:"",ref:Q,children:z})});A.displayName=y;function L(P){const N=a(n+"CollectionConsumer",P);return Fr.useCallback(()=>{const z=N.collectionRef.current;if(!z)return[];const W=Array.from(z.querySelectorAll(`[${w}]`));return Array.from(N.itemMap.values()).sort((X,C)=>W.indexOf(X.ref.current)-W.indexOf(C.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:m,ItemSlot:A},L,i]}var Zx=R.createContext(void 0);function eC(n){const e=R.useContext(Zx);return n||e||"ltr"}var rf=0;function s0(){R.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??qv()),document.body.insertAdjacentElement("beforeend",n[1]??qv()),rf++,()=>{rf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),rf--}},[])}function qv(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var sf="focusScope.autoFocusOnMount",of="focusScope.autoFocusOnUnmount",Kv={bubbles:!1,cancelable:!0},tC="FocusScope",vp=R.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[h,f]=R.useState(null),m=_s(o),y=_s(a),w=R.useRef(null),T=ot(e,P=>f(P)),A=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(i){let P=function(W){if(A.paused||!h)return;const V=W.target;h.contains(V)?w.current=V:Si(w.current,{select:!0})},N=function(W){if(A.paused||!h)return;const V=W.relatedTarget;V!==null&&(h.contains(V)||Si(w.current,{select:!0}))},U=function(W){if(document.activeElement===document.body)for(const Q of W)Q.removedNodes.length>0&&Si(h)};document.addEventListener("focusin",P),document.addEventListener("focusout",N);const z=new MutationObserver(U);return h&&z.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",P),document.removeEventListener("focusout",N),z.disconnect()}}},[i,h,A.paused]),R.useEffect(()=>{if(h){Qv.add(A);const P=document.activeElement;if(!h.contains(P)){const U=new CustomEvent(sf,Kv);h.addEventListener(sf,m),h.dispatchEvent(U),U.defaultPrevented||(nC(aC(o0(h)),{select:!0}),document.activeElement===P&&Si(h))}return()=>{h.removeEventListener(sf,m),setTimeout(()=>{const U=new CustomEvent(of,Kv);h.addEventListener(of,y),h.dispatchEvent(U),U.defaultPrevented||Si(P??document.body,{select:!0}),h.removeEventListener(of,y),Qv.remove(A)},0)}}},[h,m,y,A]);const L=R.useCallback(P=>{if(!t&&!i||A.paused)return;const N=P.key==="Tab"&&!P.altKey&&!P.ctrlKey&&!P.metaKey,U=document.activeElement;if(N&&U){const z=P.currentTarget,[W,V]=rC(z);W&&V?!P.shiftKey&&U===V?(P.preventDefault(),t&&Si(W,{select:!0})):P.shiftKey&&U===W&&(P.preventDefault(),t&&Si(V,{select:!0})):U===z&&P.preventDefault()}},[t,i,A.paused]);return x.jsx(Ye.div,{tabIndex:-1,...c,ref:T,onKeyDown:L})});vp.displayName=tC;function nC(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Si(i,{select:e}),document.activeElement!==t)return}function rC(n){const e=o0(n),t=Gv(e,n),i=Gv(e.reverse(),n);return[t,i]}function o0(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Gv(n,e){for(const t of n)if(!iC(t,{upTo:e}))return t}function iC(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function sC(n){return n instanceof HTMLInputElement&&"select"in n}function Si(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&sC(n)&&e&&n.select()}}var Qv=oC();function oC(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Xv(n,e),n.unshift(e)},remove(e){var t;n=Xv(n,e),(t=n[0])==null||t.resume()}}}function Xv(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function aC(n){return n.filter(e=>e.tagName!=="A")}function lC(n){const e=R.useRef({value:n,previous:n});return R.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var uC=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},To=new WeakMap,ec=new WeakMap,tc={},af=0,a0=function(n){return n&&(n.host||a0(n.parentNode))},cC=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=a0(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},dC=function(n,e,t,i){var o=cC(e,Array.isArray(n)?n:[n]);tc[t]||(tc[t]=new WeakMap);var a=tc[t],c=[],h=new Set,f=new Set(o),m=function(w){!w||h.has(w)||(h.add(w),m(w.parentNode))};o.forEach(m);var y=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(T){if(h.has(T))y(T);else try{var A=T.getAttribute(i),L=A!==null&&A!=="false",P=(To.get(T)||0)+1,N=(a.get(T)||0)+1;To.set(T,P),a.set(T,N),c.push(T),P===1&&L&&ec.set(T,!0),N===1&&T.setAttribute(t,"true"),L||T.setAttribute(i,"true")}catch(U){console.error("aria-hidden: cannot operate on ",T,U)}})};return y(e),h.clear(),af++,function(){c.forEach(function(w){var T=To.get(w)-1,A=a.get(w)-1;To.set(w,T),a.set(w,A),T||(ec.has(w)||w.removeAttribute(i),ec.delete(w)),A||w.removeAttribute(t)}),af--,af||(To=new WeakMap,To=new WeakMap,ec=new WeakMap,tc={})}},l0=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=uC(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),dC(i,o,t,"aria-hidden")):function(){return null}},cr=function(){return cr=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},cr.apply(this,arguments)};function xl(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function hC(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}var dc="right-scroll-bar-position",hc="width-before-scroll-bar",fC="with-scroll-bars-hidden",pC="--removed-body-scroll-bar-size";function lf(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function mC(n,e){var t=R.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var gC=typeof window<"u"?R.useLayoutEffect:R.useEffect,Yv=new WeakMap;function vC(n,e){var t=mC(null,function(i){return n.forEach(function(o){return lf(o,i)})});return gC(function(){var i=Yv.get(t);if(i){var o=new Set(i),a=new Set(n),c=t.current;o.forEach(function(h){a.has(h)||lf(h,null)}),a.forEach(function(h){o.has(h)||lf(h,c)})}Yv.set(t,n)},[n]),t}function yC(n){return n}function _C(n,e){e===void 0&&(e=yC);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,i);return t.push(c),function(){t=t.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(i=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){i=!0;var c=[];if(t.length){var h=t;t=[],h.forEach(a),c=t}var f=function(){var y=c;c=[],y.forEach(a)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(y){c.push(y),m()},filter:function(y){return c=c.filter(y),t}}}};return o}function wC(n){n===void 0&&(n={});var e=_C(null);return e.options=cr({async:!0,ssr:!1},n),e}var u0=function(n){var e=n.sideCar,t=xl(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return R.createElement(i,cr({},t))};u0.isSideCarExport=!0;function EC(n,e){return n.useMedium(e),u0}var c0=wC(),uf=function(){},ed=R.forwardRef(function(n,e){var t=R.useRef(null),i=R.useState({onScrollCapture:uf,onWheelCapture:uf,onTouchMoveCapture:uf}),o=i[0],a=i[1],c=n.forwardProps,h=n.children,f=n.className,m=n.removeScrollBar,y=n.enabled,w=n.shards,T=n.sideCar,A=n.noRelative,L=n.noIsolation,P=n.inert,N=n.allowPinchZoom,U=n.as,z=U===void 0?"div":U,W=n.gapMode,V=xl(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Q=T,X=vC([t,e]),C=cr(cr({},V),o);return R.createElement(R.Fragment,null,y&&R.createElement(Q,{sideCar:c0,removeScrollBar:m,shards:w,noRelative:A,noIsolation:L,inert:P,setCallbacks:a,allowPinchZoom:!!N,lockRef:t,gapMode:W}),c?R.cloneElement(R.Children.only(h),cr(cr({},C),{ref:X})):R.createElement(z,cr({},C,{className:f,ref:X}),h))});ed.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ed.classNames={fullWidth:hc,zeroRight:dc};var TC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SC(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=TC();return e&&n.setAttribute("nonce",e),n}function IC(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function xC(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var CC=function(){var n=0,e=null;return{add:function(t){n==0&&(e=SC())&&(IC(e,t),xC(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},RC=function(){var n=CC();return function(e,t){R.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},d0=function(){var n=RC(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},AC={left:0,top:0,right:0,gap:0},cf=function(n){return parseInt(n||"",10)||0},PC=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[cf(t),cf(i),cf(o)]},kC=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return AC;var e=PC(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},NC=d0(),No="data-scroll-locked",bC=function(n,e,t,i){var o=n.left,a=n.top,c=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(fC,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(No,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dc,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(hc,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(dc," .").concat(dc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(hc," .").concat(hc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(No,`] {
    `).concat(pC,": ").concat(h,`px;
  }
`)},Jv=function(){var n=parseInt(document.body.getAttribute(No)||"0",10);return isFinite(n)?n:0},OC=function(){R.useEffect(function(){return document.body.setAttribute(No,(Jv()+1).toString()),function(){var n=Jv()-1;n<=0?document.body.removeAttribute(No):document.body.setAttribute(No,n.toString())}},[])},DC=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;OC();var a=R.useMemo(function(){return kC(o)},[o]);return R.createElement(NC,{styles:bC(a,!e,o,t?"":"!important")})},kf=!1;if(typeof window<"u")try{var nc=Object.defineProperty({},"passive",{get:function(){return kf=!0,!0}});window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{kf=!1}var So=kf?{passive:!1}:!1,MC=function(n){return n.tagName==="TEXTAREA"},h0=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!MC(n)&&t[e]==="visible")},LC=function(n){return h0(n,"overflowY")},VC=function(n){return h0(n,"overflowX")},Zv=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=f0(n,i);if(o){var a=p0(n,i),c=a[1],h=a[2];if(c>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},FC=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},jC=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},f0=function(n,e){return n==="v"?LC(e):VC(e)},p0=function(n,e){return n==="v"?FC(e):jC(e)},UC=function(n,e){return n==="h"&&e==="rtl"?-1:1},BC=function(n,e,t,i,o){var a=UC(n,window.getComputedStyle(e).direction),c=a*i,h=t.target,f=e.contains(h),m=!1,y=c>0,w=0,T=0;do{if(!h)break;var A=p0(n,h),L=A[0],P=A[1],N=A[2],U=P-N-a*L;(L||U)&&f0(n,h)&&(w+=U,T+=L);var z=h.parentNode;h=z&&z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?z.host:z}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(y&&Math.abs(w)<1||!y&&Math.abs(T)<1)&&(m=!0),m},rc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},ey=function(n){return[n.deltaX,n.deltaY]},ty=function(n){return n&&"current"in n?n.current:n},zC=function(n,e){return n[0]===e[0]&&n[1]===e[1]},$C=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},WC=0,Io=[];function HC(n){var e=R.useRef([]),t=R.useRef([0,0]),i=R.useRef(),o=R.useState(WC++)[0],a=R.useState(d0)[0],c=R.useRef(n);R.useEffect(function(){c.current=n},[n]),R.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var P=hC([n.lockRef.current],(n.shards||[]).map(ty),!0).filter(Boolean);return P.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),P.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=R.useCallback(function(P,N){if("touches"in P&&P.touches.length===2||P.type==="wheel"&&P.ctrlKey)return!c.current.allowPinchZoom;var U=rc(P),z=t.current,W="deltaX"in P?P.deltaX:z[0]-U[0],V="deltaY"in P?P.deltaY:z[1]-U[1],Q,X=P.target,C=Math.abs(W)>Math.abs(V)?"h":"v";if("touches"in P&&C==="h"&&X.type==="range")return!1;var I=window.getSelection(),b=I&&I.anchorNode,D=b?b===X||b.contains(X):!1;if(D)return!1;var M=Zv(C,X);if(!M)return!0;if(M?Q=C:(Q=C==="v"?"h":"v",M=Zv(C,X)),!M)return!1;if(!i.current&&"changedTouches"in P&&(W||V)&&(i.current=Q),!Q)return!0;var F=i.current||Q;return BC(F,N,P,F==="h"?W:V)},[]),f=R.useCallback(function(P){var N=P;if(!(!Io.length||Io[Io.length-1]!==a)){var U="deltaY"in N?ey(N):rc(N),z=e.current.filter(function(Q){return Q.name===N.type&&(Q.target===N.target||N.target===Q.shadowParent)&&zC(Q.delta,U)})[0];if(z&&z.should){N.cancelable&&N.preventDefault();return}if(!z){var W=(c.current.shards||[]).map(ty).filter(Boolean).filter(function(Q){return Q.contains(N.target)}),V=W.length>0?h(N,W[0]):!c.current.noIsolation;V&&N.cancelable&&N.preventDefault()}}},[]),m=R.useCallback(function(P,N,U,z){var W={name:P,delta:N,target:U,should:z,shadowParent:qC(U)};e.current.push(W),setTimeout(function(){e.current=e.current.filter(function(V){return V!==W})},1)},[]),y=R.useCallback(function(P){t.current=rc(P),i.current=void 0},[]),w=R.useCallback(function(P){m(P.type,ey(P),P.target,h(P,n.lockRef.current))},[]),T=R.useCallback(function(P){m(P.type,rc(P),P.target,h(P,n.lockRef.current))},[]);R.useEffect(function(){return Io.push(a),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:T}),document.addEventListener("wheel",f,So),document.addEventListener("touchmove",f,So),document.addEventListener("touchstart",y,So),function(){Io=Io.filter(function(P){return P!==a}),document.removeEventListener("wheel",f,So),document.removeEventListener("touchmove",f,So),document.removeEventListener("touchstart",y,So)}},[]);var A=n.removeScrollBar,L=n.inert;return R.createElement(R.Fragment,null,L?R.createElement(a,{styles:$C(o)}):null,A?R.createElement(DC,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function qC(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const KC=EC(c0,HC);var yp=R.forwardRef(function(n,e){return R.createElement(ed,cr({},n,{ref:e,sideCar:KC}))});yp.classNames=ed.classNames;var GC=[" ","Enter","ArrowUp","ArrowDown"],QC=[" ","Enter"],Es="Select",[td,nd,XC]=Jx(Es),[Xo]=El(Es,[XC,Xc]),rd=Xc(),[YC,Vi]=Xo(Es),[JC,ZC]=Xo(Es),m0=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:a,value:c,defaultValue:h,onValueChange:f,dir:m,name:y,autoComplete:w,disabled:T,required:A,form:L}=n,P=rd(e),[N,U]=R.useState(null),[z,W]=R.useState(null),[V,Q]=R.useState(!1),X=eC(m),[C,I]=xc({prop:i,defaultProp:o??!1,onChange:a,caller:Es}),[b,D]=xc({prop:c,defaultProp:h,onChange:f,caller:Es}),M=R.useRef(null),F=N?L||!!N.closest("form"):!0,[k,de]=R.useState(new Set),Ce=Array.from(k).map(ye=>ye.props.value).join(";");return x.jsx(W_,{...P,children:x.jsxs(YC,{required:A,scope:e,trigger:N,onTriggerChange:U,valueNode:z,onValueNodeChange:W,valueNodeHasChildren:V,onValueNodeHasChildrenChange:Q,contentId:gs(),value:b,onValueChange:D,open:C,onOpenChange:I,dir:X,triggerPointerDownPosRef:M,disabled:T,children:[x.jsx(td.Provider,{scope:e,children:x.jsx(JC,{scope:n.__scopeSelect,onNativeOptionAdd:R.useCallback(ye=>{de(he=>new Set(he).add(ye))},[]),onNativeOptionRemove:R.useCallback(ye=>{de(he=>{const J=new Set(he);return J.delete(ye),J})},[]),children:t})}),F?x.jsxs(V0,{"aria-hidden":!0,required:A,tabIndex:-1,name:y,autoComplete:w,value:b,onChange:ye=>D(ye.target.value),disabled:T,form:L,children:[b===void 0?x.jsx("option",{value:""}):null,Array.from(k)]},Ce):null]})})};m0.displayName=Es;var g0="SelectTrigger",v0=R.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=n,a=rd(t),c=Vi(g0,t),h=c.disabled||i,f=ot(e,c.onTriggerChange),m=nd(t),y=R.useRef("touch"),[w,T,A]=j0(P=>{const N=m().filter(W=>!W.disabled),U=N.find(W=>W.value===c.value),z=U0(N,P,U);z!==void 0&&c.onValueChange(z.value)}),L=P=>{h||(c.onOpenChange(!0),A()),P&&(c.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)})};return x.jsx(H_,{asChild:!0,...a,children:x.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":F0(c.value)?"":void 0,...o,ref:f,onClick:Ke(o.onClick,P=>{P.currentTarget.focus(),y.current!=="mouse"&&L(P)}),onPointerDown:Ke(o.onPointerDown,P=>{y.current=P.pointerType;const N=P.target;N.hasPointerCapture(P.pointerId)&&N.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&P.pointerType==="mouse"&&(L(P),P.preventDefault())}),onKeyDown:Ke(o.onKeyDown,P=>{const N=w.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&T(P.key),!(N&&P.key===" ")&&GC.includes(P.key)&&(L(),P.preventDefault())})})})});v0.displayName=g0;var y0="SelectValue",_0=R.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,children:a,placeholder:c="",...h}=n,f=Vi(y0,t),{onValueNodeHasChildrenChange:m}=f,y=a!==void 0,w=ot(e,f.onValueNodeChange);return Ht(()=>{m(y)},[m,y]),x.jsx(Ye.span,{...h,ref:w,style:{pointerEvents:"none"},children:F0(f.value)?x.jsx(x.Fragment,{children:c}):a})});_0.displayName=y0;var eR="SelectIcon",w0=R.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...o}=n;return x.jsx(Ye.span,{"aria-hidden":!0,...o,ref:e,children:i||""})});w0.displayName=eR;var tR="SelectPortal",E0=n=>x.jsx(Yc,{asChild:!0,...n});E0.displayName=tR;var Ts="SelectContent",T0=R.forwardRef((n,e)=>{const t=Vi(Ts,n.__scopeSelect),[i,o]=R.useState();if(Ht(()=>{o(new DocumentFragment)},[]),!t.open){const a=i;return a?Tl.createPortal(x.jsx(S0,{scope:n.__scopeSelect,children:x.jsx(td.Slot,{scope:n.__scopeSelect,children:x.jsx("div",{children:n.children})})}),a):null}return x.jsx(I0,{...n,ref:e})});T0.displayName=Ts;var Kn=10,[S0,Fi]=Xo(Ts),nR="SelectContentImpl",rR=ol("SelectContent.RemoveScroll"),I0=R.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:h,sideOffset:f,align:m,alignOffset:y,arrowPadding:w,collisionBoundary:T,collisionPadding:A,sticky:L,hideWhenDetached:P,avoidCollisions:N,...U}=n,z=Vi(Ts,t),[W,V]=R.useState(null),[Q,X]=R.useState(null),C=ot(e,ue=>V(ue)),[I,b]=R.useState(null),[D,M]=R.useState(null),F=nd(t),[k,de]=R.useState(!1),Ce=R.useRef(!1);R.useEffect(()=>{if(W)return l0(W)},[W]),s0();const ye=R.useCallback(ue=>{const[we,...De]=F().map(je=>je.ref.current),[ke]=De.slice(-1),Le=document.activeElement;for(const je of ue)if(je===Le||(je==null||je.scrollIntoView({block:"nearest"}),je===we&&Q&&(Q.scrollTop=0),je===ke&&Q&&(Q.scrollTop=Q.scrollHeight),je==null||je.focus(),document.activeElement!==Le))return},[F,Q]),he=R.useCallback(()=>ye([I,W]),[ye,I,W]);R.useEffect(()=>{k&&he()},[k,he]);const{onOpenChange:J,triggerPointerDownPosRef:oe}=z;R.useEffect(()=>{if(W){let ue={x:0,y:0};const we=ke=>{var Le,je;ue={x:Math.abs(Math.round(ke.pageX)-(((Le=oe.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((je=oe.current)==null?void 0:je.y)??0))}},De=ke=>{ue.x<=10&&ue.y<=10?ke.preventDefault():W.contains(ke.target)||J(!1),document.removeEventListener("pointermove",we),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",De,{capture:!0})}}},[W,J,oe]),R.useEffect(()=>{const ue=()=>J(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[J]);const[re,B]=j0(ue=>{const we=F().filter(Le=>!Le.disabled),De=we.find(Le=>Le.ref.current===document.activeElement),ke=U0(we,ue,De);ke&&setTimeout(()=>ke.ref.current.focus())}),Z=R.useCallback((ue,we,De)=>{const ke=!Ce.current&&!De;(z.value!==void 0&&z.value===we||ke)&&(b(ue),ke&&(Ce.current=!0))},[z.value]),pe=R.useCallback(()=>W==null?void 0:W.focus(),[W]),xe=R.useCallback((ue,we,De)=>{const ke=!Ce.current&&!De;(z.value!==void 0&&z.value===we||ke)&&M(ue)},[z.value]),Re=i==="popper"?Nf:x0,Me=Re===Nf?{side:h,sideOffset:f,align:m,alignOffset:y,arrowPadding:w,collisionBoundary:T,collisionPadding:A,sticky:L,hideWhenDetached:P,avoidCollisions:N}:{};return x.jsx(S0,{scope:t,content:W,viewport:Q,onViewportChange:X,itemRefCallback:Z,selectedItem:I,onItemLeave:pe,itemTextRefCallback:xe,focusSelectedItem:he,selectedItemText:D,position:i,isPositioned:k,searchRef:re,children:x.jsx(yp,{as:rR,allowPinchZoom:!0,children:x.jsx(vp,{asChild:!0,trapped:z.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Ke(o,ue=>{var we;(we=z.trigger)==null||we.focus({preventScroll:!0}),ue.preventDefault()}),children:x.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>z.onOpenChange(!1),children:x.jsx(Re,{role:"listbox",id:z.contentId,"data-state":z.open?"open":"closed",dir:z.dir,onContextMenu:ue=>ue.preventDefault(),...U,...Me,onPlaced:()=>de(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...U.style},onKeyDown:Ke(U.onKeyDown,ue=>{const we=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!we&&ue.key.length===1&&B(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let ke=F().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Le=ue.target,je=ke.indexOf(Le);ke=ke.slice(je+1)}setTimeout(()=>ye(ke)),ue.preventDefault()}})})})})})})});I0.displayName=nR;var iR="SelectItemAlignedPosition",x0=R.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=n,a=Vi(Ts,t),c=Fi(Ts,t),[h,f]=R.useState(null),[m,y]=R.useState(null),w=ot(e,C=>y(C)),T=nd(t),A=R.useRef(!1),L=R.useRef(!0),{viewport:P,selectedItem:N,selectedItemText:U,focusSelectedItem:z}=c,W=R.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&m&&P&&N&&U){const C=a.trigger.getBoundingClientRect(),I=m.getBoundingClientRect(),b=a.valueNode.getBoundingClientRect(),D=U.getBoundingClientRect();if(a.dir!=="rtl"){const Le=D.left-I.left,je=b.left-Le,lt=C.left-je,It=C.width+lt,mn=Math.max(It,I.width),Pn=window.innerWidth-Kn,kn=Hv(je,[Kn,Math.max(Kn,Pn-mn)]);h.style.minWidth=It+"px",h.style.left=kn+"px"}else{const Le=I.right-D.right,je=window.innerWidth-b.right-Le,lt=window.innerWidth-C.right-je,It=C.width+lt,mn=Math.max(It,I.width),Pn=window.innerWidth-Kn,kn=Hv(je,[Kn,Math.max(Kn,Pn-mn)]);h.style.minWidth=It+"px",h.style.right=kn+"px"}const M=T(),F=window.innerHeight-Kn*2,k=P.scrollHeight,de=window.getComputedStyle(m),Ce=parseInt(de.borderTopWidth,10),ye=parseInt(de.paddingTop,10),he=parseInt(de.borderBottomWidth,10),J=parseInt(de.paddingBottom,10),oe=Ce+ye+k+J+he,re=Math.min(N.offsetHeight*5,oe),B=window.getComputedStyle(P),Z=parseInt(B.paddingTop,10),pe=parseInt(B.paddingBottom,10),xe=C.top+C.height/2-Kn,Re=F-xe,Me=N.offsetHeight/2,ue=N.offsetTop+Me,we=Ce+ye+ue,De=oe-we;if(we<=xe){const Le=M.length>0&&N===M[M.length-1].ref.current;h.style.bottom="0px";const je=m.clientHeight-P.offsetTop-P.offsetHeight,lt=Math.max(Re,Me+(Le?pe:0)+je+he),It=we+lt;h.style.height=It+"px"}else{const Le=M.length>0&&N===M[0].ref.current;h.style.top="0px";const lt=Math.max(xe,Ce+P.offsetTop+(Le?Z:0)+Me)+De;h.style.height=lt+"px",P.scrollTop=we-xe+P.offsetTop}h.style.margin=`${Kn}px 0`,h.style.minHeight=re+"px",h.style.maxHeight=F+"px",i==null||i(),requestAnimationFrame(()=>A.current=!0)}},[T,a.trigger,a.valueNode,h,m,P,N,U,a.dir,i]);Ht(()=>W(),[W]);const[V,Q]=R.useState();Ht(()=>{m&&Q(window.getComputedStyle(m).zIndex)},[m]);const X=R.useCallback(C=>{C&&L.current===!0&&(W(),z==null||z(),L.current=!1)},[W,z]);return x.jsx(oR,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:A,onScrollButtonChange:X,children:x.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:V},children:x.jsx(Ye.div,{...o,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});x0.displayName=iR;var sR="SelectPopperPosition",Nf=R.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=Kn,...a}=n,c=rd(t);return x.jsx(q_,{...c,...a,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Nf.displayName=sR;var[oR,_p]=Xo(Ts,{}),bf="SelectViewport",C0=R.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...o}=n,a=Fi(bf,t),c=_p(bf,t),h=ot(e,a.onViewportChange),f=R.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),x.jsx(td.Slot,{scope:t,children:x.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ke(o.onScroll,m=>{const y=m.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:T}=c;if(T!=null&&T.current&&w){const A=Math.abs(f.current-y.scrollTop);if(A>0){const L=window.innerHeight-Kn*2,P=parseFloat(w.style.minHeight),N=parseFloat(w.style.height),U=Math.max(P,N);if(U<L){const z=U+A,W=Math.min(L,z),V=z-W;w.style.height=W+"px",w.style.bottom==="0px"&&(y.scrollTop=V>0?V:0,w.style.justifyContent="flex-end")}}}f.current=y.scrollTop})})})]})});C0.displayName=bf;var R0="SelectGroup",[aR,lR]=Xo(R0),uR=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=gs();return x.jsx(aR,{scope:t,id:o,children:x.jsx(Ye.div,{role:"group","aria-labelledby":o,...i,ref:e})})});uR.displayName=R0;var A0="SelectLabel",cR=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=lR(A0,t);return x.jsx(Ye.div,{id:o.id,...i,ref:e})});cR.displayName=A0;var Cc="SelectItem",[dR,P0]=Xo(Cc),k0=R.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:a,...c}=n,h=Vi(Cc,t),f=Fi(Cc,t),m=h.value===i,[y,w]=R.useState(a??""),[T,A]=R.useState(!1),L=ot(e,z=>{var W;return(W=f.itemRefCallback)==null?void 0:W.call(f,z,i,o)}),P=gs(),N=R.useRef("touch"),U=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(dR,{scope:t,value:i,disabled:o,textId:P,isSelected:m,onItemTextChange:R.useCallback(z=>{w(W=>W||((z==null?void 0:z.textContent)??"").trim())},[]),children:x.jsx(td.ItemSlot,{scope:t,value:i,disabled:o,textValue:y,children:x.jsx(Ye.div,{role:"option","aria-labelledby":P,"data-highlighted":T?"":void 0,"aria-selected":m&&T,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:L,onFocus:Ke(c.onFocus,()=>A(!0)),onBlur:Ke(c.onBlur,()=>A(!1)),onClick:Ke(c.onClick,()=>{N.current!=="mouse"&&U()}),onPointerUp:Ke(c.onPointerUp,()=>{N.current==="mouse"&&U()}),onPointerDown:Ke(c.onPointerDown,z=>{N.current=z.pointerType}),onPointerMove:Ke(c.onPointerMove,z=>{var W;N.current=z.pointerType,o?(W=f.onItemLeave)==null||W.call(f):N.current==="mouse"&&z.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(c.onPointerLeave,z=>{var W;z.currentTarget===document.activeElement&&((W=f.onItemLeave)==null||W.call(f))}),onKeyDown:Ke(c.onKeyDown,z=>{var V;((V=f.searchRef)==null?void 0:V.current)!==""&&z.key===" "||(QC.includes(z.key)&&U(),z.key===" "&&z.preventDefault())})})})})});k0.displayName=Cc;var Ya="SelectItemText",N0=R.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,...a}=n,c=Vi(Ya,t),h=Fi(Ya,t),f=P0(Ya,t),m=ZC(Ya,t),[y,w]=R.useState(null),T=ot(e,U=>w(U),f.onItemTextChange,U=>{var z;return(z=h.itemTextRefCallback)==null?void 0:z.call(h,U,f.value,f.disabled)}),A=y==null?void 0:y.textContent,L=R.useMemo(()=>x.jsx("option",{value:f.value,disabled:f.disabled,children:A},f.value),[f.disabled,f.value,A]),{onNativeOptionAdd:P,onNativeOptionRemove:N}=m;return Ht(()=>(P(L),()=>N(L)),[P,N,L]),x.jsxs(x.Fragment,{children:[x.jsx(Ye.span,{id:f.textId,...a,ref:T}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Tl.createPortal(a.children,c.valueNode):null]})});N0.displayName=Ya;var b0="SelectItemIndicator",O0=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return P0(b0,t).isSelected?x.jsx(Ye.span,{"aria-hidden":!0,...i,ref:e}):null});O0.displayName=b0;var Of="SelectScrollUpButton",D0=R.forwardRef((n,e)=>{const t=Fi(Of,n.__scopeSelect),i=_p(Of,n.__scopeSelect),[o,a]=R.useState(!1),c=ot(e,i.onScrollButtonChange);return Ht(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=f.scrollTop>0;a(m)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?x.jsx(L0,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});D0.displayName=Of;var Df="SelectScrollDownButton",M0=R.forwardRef((n,e)=>{const t=Fi(Df,n.__scopeSelect),i=_p(Df,n.__scopeSelect),[o,a]=R.useState(!1),c=ot(e,i.onScrollButtonChange);return Ht(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=f.scrollHeight-f.clientHeight,y=Math.ceil(f.scrollTop)<m;a(y)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?x.jsx(L0,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});M0.displayName=Df;var L0=R.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=n,a=Fi("SelectScrollButton",t),c=R.useRef(null),h=nd(t),f=R.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return R.useEffect(()=>()=>f(),[f]),Ht(()=>{var y;const m=h().find(w=>w.ref.current===document.activeElement);(y=m==null?void 0:m.ref.current)==null||y.scrollIntoView({block:"nearest"})},[h]),x.jsx(Ye.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ke(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:Ke(o.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:Ke(o.onPointerLeave,()=>{f()})})}),hR="SelectSeparator",fR=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return x.jsx(Ye.div,{"aria-hidden":!0,...i,ref:e})});fR.displayName=hR;var Mf="SelectArrow",pR=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=rd(t),a=Vi(Mf,t),c=Fi(Mf,t);return a.open&&c.position==="popper"?x.jsx(K_,{...o,...i,ref:e}):null});pR.displayName=Mf;var mR="SelectBubbleInput",V0=R.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const o=R.useRef(null),a=ot(i,o),c=lC(e);return R.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&y){const w=new Event("change",{bubbles:!0});y.call(h,e),h.dispatchEvent(w)}},[c,e]),x.jsx(Ye.select,{...t,style:{...G_,...t.style},ref:a,defaultValue:e})});V0.displayName=mR;function F0(n){return n===""||n===void 0}function j0(n){const e=_s(n),t=R.useRef(""),i=R.useRef(0),o=R.useCallback(c=>{const h=t.current+c;e(h),(function f(m){t.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>f(""),1e3))})(h)},[e]),a=R.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,a]}function U0(n,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=gR(n,Math.max(a,0));o.length===1&&(c=c.filter(m=>m!==t));const f=c.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==t?f:void 0}function gR(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var vR=m0,yR=v0,_R=_0,wR=w0,ER=E0,TR=T0,SR=C0,ny=k0,ry=N0,IR=O0,xR=D0,CR=M0;function RR({value:n,onChange:e,options:t,placeholder:i="..."}){return x.jsxs(vR,{value:n||"__none__",onValueChange:o=>e(o==="__none__"?"":o),children:[x.jsxs(yR,{className:`flex-1 min-w-0 flex items-center justify-between gap-1 h-10 px-3
          rounded-xl border border-[rgba(223,205,128,0.65)] bg-black/25
          text-[#dfcd80] font-kanit font-bold text-sm outline-none
          focus:border-[#dfcd80] focus:ring-2 focus:ring-[rgba(223,205,128,0.15)]
          data-[placeholder]:text-[rgba(223,205,128,0.5)]
          truncate cursor-pointer`,"aria-label":"",children:[x.jsx(_R,{placeholder:i,className:"truncate"}),x.jsx(wR,{className:"ml-1 opacity-60 flex-shrink-0",children:x.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:x.jsx("path",{d:"M7 10l5 5 5-5z"})})})]}),x.jsx(ER,{children:x.jsxs(TR,{position:"popper",sideOffset:4,className:`z-50 min-w-[180px] max-h-60 overflow-auto rounded-xl
            border border-[rgba(223,205,128,0.3)] bg-zinc-900 shadow-2xl
            data-[state=open]:animate-in data-[state=closed]:animate-out
            data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0`,children:[x.jsx(xR,{className:"flex items-center justify-center h-6 text-[#dfcd80]",children:x.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:x.jsx("path",{d:"M7 14l5-5 5 5z"})})}),x.jsxs(SR,{className:"p-1",children:[x.jsx(ny,{value:"__none__",className:`flex items-center px-3 py-2 rounded-lg text-sm text-zinc-500
                cursor-pointer outline-none select-none
                data-[highlighted]:bg-zinc-800 data-[highlighted]:text-zinc-300`,children:x.jsx(ry,{children:i})}),t.map(o=>x.jsxs(ny,{value:o,className:`flex items-center px-3 py-2 rounded-lg text-sm
                  text-[#dfcd80] cursor-pointer outline-none select-none
                  data-[highlighted]:bg-zinc-800 data-[state=checked]:font-bold`,children:[x.jsx(IR,{className:"mr-2",children:x.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:x.jsx("path",{d:"M9 12l2 2 4-4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",fill:"none"})})}),x.jsx(ry,{children:o})]},o))]}),x.jsx(CR,{className:"flex items-center justify-center h-6 text-[#dfcd80]",children:x.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",children:x.jsx("path",{d:"M7 10l5 5 5-5z"})})})]})})]})}var id="Dialog",[B0]=El(id),[AR,Jn]=B0(id),z0=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:o,onOpenChange:a,modal:c=!0}=n,h=R.useRef(null),f=R.useRef(null),[m,y]=xc({prop:i,defaultProp:o??!1,onChange:a,caller:id});return x.jsx(AR,{scope:e,triggerRef:h,contentRef:f,contentId:gs(),titleId:gs(),descriptionId:gs(),open:m,onOpenChange:y,onOpenToggle:R.useCallback(()=>y(w=>!w),[y]),modal:c,children:t})};z0.displayName=id;var $0="DialogTrigger",PR=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn($0,t),a=ot(e,o.triggerRef);return x.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Tp(o.open),...i,ref:a,onClick:Ke(n.onClick,o.onOpenToggle)})});PR.displayName=$0;var wp="DialogPortal",[kR,W0]=B0(wp,{forceMount:void 0}),H0=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:o}=n,a=Jn(wp,e);return x.jsx(kR,{scope:e,forceMount:t,children:R.Children.map(i,c=>x.jsx(Qo,{present:t||a.open,children:x.jsx(Yc,{asChild:!0,container:o,children:c})}))})};H0.displayName=wp;var Rc="DialogOverlay",q0=R.forwardRef((n,e)=>{const t=W0(Rc,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=Jn(Rc,n.__scopeDialog);return a.modal?x.jsx(Qo,{present:i||a.open,children:x.jsx(bR,{...o,ref:e})}):null});q0.displayName=Rc;var NR=ol("DialogOverlay.RemoveScroll"),bR=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Rc,t);return x.jsx(yp,{as:NR,allowPinchZoom:!0,shards:[o.contentRef],children:x.jsx(Ye.div,{"data-state":Tp(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Ss="DialogContent",K0=R.forwardRef((n,e)=>{const t=W0(Ss,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=Jn(Ss,n.__scopeDialog);return x.jsx(Qo,{present:i||a.open,children:a.modal?x.jsx(OR,{...o,ref:e}):x.jsx(DR,{...o,ref:e})})});K0.displayName=Ss;var OR=R.forwardRef((n,e)=>{const t=Jn(Ss,n.__scopeDialog),i=R.useRef(null),o=ot(e,t.contentRef,i);return R.useEffect(()=>{const a=i.current;if(a)return l0(a)},[]),x.jsx(G0,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(n.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ke(n.onPointerDownOutside,a=>{const c=a.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0;(c.button===2||h)&&a.preventDefault()}),onFocusOutside:Ke(n.onFocusOutside,a=>a.preventDefault())})}),DR=R.forwardRef((n,e)=>{const t=Jn(Ss,n.__scopeDialog),i=R.useRef(!1),o=R.useRef(!1);return x.jsx(G0,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,h;(c=n.onCloseAutoFocus)==null||c.call(n,a),a.defaultPrevented||(i.current||(h=t.triggerRef.current)==null||h.focus(),a.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:a=>{var f,m;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((m=t.triggerRef.current)==null?void 0:m.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),G0=R.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=n,h=Jn(Ss,t),f=R.useRef(null),m=ot(e,f);return s0(),x.jsxs(x.Fragment,{children:[x.jsx(vp,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:a,children:x.jsx(Hc,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Tp(h.open),...c,ref:m,onDismiss:()=>h.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(MR,{titleId:h.titleId}),x.jsx(VR,{contentRef:f,descriptionId:h.descriptionId})]})]})}),Ep="DialogTitle",Q0=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(Ep,t);return x.jsx(Ye.h2,{id:o.titleId,...i,ref:e})});Q0.displayName=Ep;var X0="DialogDescription",Y0=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(X0,t);return x.jsx(Ye.p,{id:o.descriptionId,...i,ref:e})});Y0.displayName=X0;var J0="DialogClose",Z0=R.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=Jn(J0,t);return x.jsx(Ye.button,{type:"button",...i,ref:e,onClick:Ke(n.onClick,()=>o.onOpenChange(!1))})});Z0.displayName=J0;function Tp(n){return n?"open":"closed"}var ew="DialogTitleWarning",[AO,tw]=BS(ew,{contentName:Ss,titleName:Ep,docsSlug:"dialog"}),MR=({titleId:n})=>{const e=tw(ew),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return R.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},LR="DialogDescriptionWarning",VR=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tw(LR).contentName}}.`;return R.useEffect(()=>{var a;const o=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},nw=z0,rw=H0,iw=q0,sw=K0,ow=Q0,aw=Y0,lw=Z0;function uw({open:n,title:e,label:t,defaultValue:i="",onConfirm:o,onCancel:a}){const[c,h]=R.useState(i),f=R.useRef(null);R.useEffect(()=>{n&&(h(i),setTimeout(()=>{var w;return(w=f.current)==null?void 0:w.focus()},50))},[n,i]);function m(){const w=c.trim();w&&o(w)}function y(w){w.key==="Enter"&&m(),w.key==="Escape"&&a()}return x.jsx(nw,{open:n,onOpenChange:w=>!w&&a(),children:x.jsxs(rw,{children:[x.jsx(iw,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50"}),x.jsxs(sw,{className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50
            w-[90vw] max-w-sm rounded-2xl border border-[rgba(223,205,128,0.3)]
            bg-zinc-900 p-6 shadow-2xl`,children:[x.jsx(ow,{className:"text-[#dfcd80] font-bold text-lg mb-1",children:e}),x.jsx(aw,{className:"text-zinc-400 text-sm mb-4",children:t}),x.jsx("input",{ref:f,value:c,onChange:w=>h(w.target.value),onKeyDown:y,className:`w-full h-11 rounded-xl border-2 border-[#dfcd80] bg-white
              text-black font-bold text-base px-3 outline-none`,placeholder:"..."}),x.jsxs("div",{className:"flex gap-3 mt-4",children:[x.jsx("button",{onClick:m,className:`flex-1 h-11 rounded-xl bg-[#dfcd80] text-black font-extrabold
                text-base hover:brightness-105 active:scale-[0.985] transition-all`,children:""}),x.jsx("button",{onClick:a,className:`flex-1 h-11 rounded-xl border border-[rgba(223,205,128,0.55)]
                text-[#dfcd80] font-extrabold text-base bg-transparent
                hover:bg-[rgba(223,205,128,0.08)] active:scale-[0.985] transition-all`,children:""})]}),x.jsx(lw,{asChild:!0,children:x.jsx("button",{"aria-label":"Close",className:`absolute top-3 right-3 text-zinc-500 hover:text-zinc-300
                w-7 h-7 flex items-center justify-center rounded-full text-lg`,onClick:a,children:""})})]})]})})}const xo=200,df=[{name:"",steps:5,image:"rank1.png"},{name:"",steps:10,image:"rank2.png"},{name:"",steps:10,image:"rank3.png"},{name:"",steps:20,image:"rank4.png"},{name:"",steps:25,image:"rank5.png"},{name:"",steps:25,image:"rank6.png"},{name:"",steps:25,image:"rank7.png"},{name:"",steps:25,image:"rank8.png"},{name:"",steps:50,image:"rank9.png"},{name:"",steps:50,image:"rank10.png"}],Po=[{id:"extream",count:8,label:"Extream"},{id:"sport",count:7,label:"Sport"},{id:"standard",count:7,label:"Standard"}],cw={extream:["LaFerrari","Huayra BC","Ford GT","Centodieci","SVJ","Benz GT R","Chiron","Vulcan"],sport:["Reventon","Giulia","GT-R","XJ220","F-Type","NSX-R","4C Spider"],standard:["RX7","DB5","Emira","911 Carrera","Mach 1","Camaro Z/28","S15"]},dw={extream:[{pointBox:[.42,.27,.17,.05]},{pointBox:[.595,.27,.17,.05]},{pointBox:[.77,.27,.17,.05]},{pointBox:[.42,.49,.17,.05]},{pointBox:[.595,.49,.17,.05]},{pointBox:[.77,.49,.17,.05]},{pointBox:[.42,.72,.17,.05]},{pointBox:[.595,.72,.17,.05]}],sport:[{pointBox:[.42,.32,.17,.05]},{pointBox:[.595,.32,.17,.05]},{pointBox:[.77,.32,.17,.05]},{pointBox:[.42,.55,.17,.05]},{pointBox:[.595,.55,.17,.05]},{pointBox:[.77,.55,.17,.05]},{pointBox:[.42,.775,.17,.05]}],standard:[{pointBox:[.42,.39,.17,.05]},{pointBox:[.595,.39,.17,.05]},{pointBox:[.77,.39,.17,.05]},{pointBox:[.42,.62,.17,.05]},{pointBox:[.595,.62,.17,.05]},{pointBox:[.77,.62,.17,.05]},{pointBox:[.42,.845,.17,.05]}]},FR={extream:[{pointBox:[.42,.23,.17,.04]},{pointBox:[.595,.23,.17,.04]},{pointBox:[.77,.23,.17,.04]},{pointBox:[.42,.45,.17,.04]},{pointBox:[.595,.45,.17,.04]},{pointBox:[.77,.45,.17,.04]},{pointBox:[.42,.68,.17,.04]},{pointBox:[.595,.68,.17,.04]}],sport:[{pointBox:[.42,.29,.17,.04]},{pointBox:[.595,.29,.17,.04]},{pointBox:[.77,.29,.17,.04]},{pointBox:[.42,.51,.17,.04]},{pointBox:[.595,.51,.17,.04]},{pointBox:[.77,.51,.17,.04]},{pointBox:[.42,.74,.17,.04]}],standard:[{pointBox:[.42,.35,.17,.04]},{pointBox:[.595,.35,.17,.04]},{pointBox:[.77,.35,.17,.04]},{pointBox:[.42,.58,.17,.04]},{pointBox:[.595,.58,.17,.04]},{pointBox:[.77,.58,.17,.04]},{pointBox:[.42,.805,.17,.04]}]};function ul(n){return String(n||"").trim()}function fs(n){return ul(n).toLowerCase()}function Ac(n,e){var h;const t=cw[n]||[],i=((h=e.customCars)==null?void 0:h[n])||[],o=[...t,...i].map(ul).filter(Boolean),a=new Set,c=[];for(const f of o){const m=fs(f);a.has(m)||(a.add(m),c.push(f))}return c}function jR({index:n,sectionId:e,value:t,isLocked:i,carValue:o,isOcrCar:a,state:c,onValueChange:h,onToggleLock:f,onCarChange:m,onAddCustomCar:y,onCalc:w}){const[T,A]=R.useState(!1),L=Ac(e,c);function P(N){const U=ul(N);if(!U)return;L.some(W=>fs(W)===fs(U))||y(U),m(U),A(!1)}return x.jsx(Yx,{delayDuration:400,children:x.jsxs("div",{className:`flex gap-[6px] items-center ${i?"locked-row":""}`,children:[x.jsx("input",{type:"number",inputMode:"numeric",placeholder:` #${n+1}`,value:t,onChange:N=>h(N.target.value),onKeyDown:N=>N.key==="Enter"&&w(),className:`w-[130px] flex-shrink-0 h-10 rounded-xl border-2 border-[#dfcd80]
            bg-white text-black font-extrabold text-base text-center px-2 outline-none
            placeholder:text-gray-400 placeholder:font-semibold
            [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none
            [&::-webkit-outer-spin-button]:appearance-none`}),x.jsxs(Jh,{children:[x.jsx(Zh,{asChild:!0,children:x.jsx("button",{type:"button",onClick:f,className:`w-10 h-10 flex-shrink-0 rounded-xl flex items-center justify-center
                cursor-pointer transition-all active:scale-[0.97]
                ${i?"border border-[rgba(223,205,128,0.65)] bg-[rgba(223,205,128,0.12)] text-[#dfcd80]":"border border-white/20 bg-transparent text-white/80 hover:bg-white/5"}`,children:i?x.jsx(LS,{}):x.jsx(VS,{})})}),x.jsx(ef,{children:x.jsxs(tf,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[i?" (Reset )":"",x.jsx(nf,{className:"fill-zinc-800"})]})})]}),a?x.jsxs(Jh,{children:[x.jsx(Zh,{asChild:!0,children:x.jsxs("div",{className:`flex-1 min-w-0 h-10 rounded-xl border border-[rgba(223,205,128,0.35)]
                bg-[rgba(223,205,128,0.06)] text-[#dfcd80] text-sm font-semibold
                flex items-center px-3 overflow-hidden cursor-default select-none`,children:[x.jsx("span",{className:"truncate",children:o||` #${n+1}`}),x.jsx("span",{className:"ml-auto text-[10px] text-[#dfcd80]/40 flex-shrink-0 pl-2",children:"OCR"})]})}),x.jsx(ef,{children:x.jsxs(tf,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[" OCR  ",x.jsx(nf,{className:"fill-zinc-800"})]})})]}):x.jsxs(x.Fragment,{children:[x.jsx(RR,{value:o,onChange:m,options:L}),x.jsxs(Jh,{children:[x.jsx(Zh,{asChild:!0,children:x.jsx("button",{type:"button",onClick:()=>A(!0),className:`w-10 h-10 flex-shrink-0 rounded-xl border border-[rgba(223,205,128,0.55)]
                    bg-[rgba(223,205,128,0.10)] text-[#dfcd80]
                    flex items-center justify-center cursor-pointer
                    hover:bg-[rgba(223,205,128,0.18)] active:scale-[0.97] transition-all`,children:x.jsx(FS,{})})}),x.jsx(ef,{children:x.jsxs(tf,{className:"bg-zinc-800 text-zinc-200 text-xs rounded-lg px-2 py-1 shadow-lg",sideOffset:4,children:[" / ",x.jsx(nf,{className:"fill-zinc-800"})]})})]}),x.jsx(uw,{open:T,title:"",label:" ( dropdown )",defaultValue:o,onConfirm:P,onCancel:()=>A(!1)})]})]})})}function UR({sectionId:n,label:e,badgeText:t,state:i,isImporting:o,hasDebug:a,onStateChange:c,onImport:h,onCalc:f,onShowDebug:m}){const[y,w]=R.useState(!1),T=i.sections[n],A=i.locked[n],L=i.cars[n];function P(W,V,Q){c(X=>{const C=[...X[V][n]];return C[W]=Q,{...X,[V]:{...X[V],[n]:C}}})}function N(W){const V=ul(W);!V||Ac(n,i).some(X=>fs(X)===fs(V))||c(X=>({...X,customCars:{...X.customCars,[n]:[...X.customCars[n]||[],V]}}))}function U(W){const V=ul(W);if(!V)return;Ac(n,i).some(X=>fs(X)===fs(V))||N(V),w(!1)}const z=T.every(W=>!W);return x.jsxs("div",{className:`flex flex-col rounded-[18px] bg-gradient-to-b from-[#0b0b0b] to-[#101010]
      border border-[rgba(223,205,128,0.22)] shadow-[0_10px_30px_rgba(0,0,0,0.55)]
      p-3 min-h-0`,children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2.5 flex-shrink-0",children:[x.jsx("span",{className:"text-[#dfcd80] font-bold text-[17px]",children:e}),x.jsx("span",{className:"text-[12px] text-black bg-[#dfcd80] rounded-full px-[10px] py-[2px] font-bold",children:t}),a&&x.jsxs("button",{type:"button",onClick:m,title:" OCR Debug",className:`flex items-center gap-1 h-6 px-[8px] rounded-full
              border border-[rgba(120,200,255,0.4)] bg-[rgba(120,200,255,0.08)]
              text-sky-400 text-[11px] cursor-pointer
              hover:bg-[rgba(120,200,255,0.18)] hover:border-[rgba(120,200,255,0.65)]
              active:scale-[0.97] transition-all`,children:[x.jsx(MS,{}),""]}),x.jsx("button",{type:"button",onClick:()=>w(!0),className:`ml-auto flex items-center gap-1 h-6 px-[8px] rounded-full
            border border-[rgba(223,205,128,0.35)] bg-transparent
            text-[#dfcd80]/60 text-[11px] cursor-pointer
            hover:bg-[rgba(223,205,128,0.10)] hover:text-[#dfcd80] active:scale-[0.97] transition-all`,children:"+ "})]}),o?x.jsxs("div",{className:`mb-3 flex-shrink-0 rounded-xl border border-[rgba(223,205,128,0.25)]
          bg-[rgba(223,205,128,0.05)] px-3 py-2.5`,children:[x.jsxs("div",{className:"flex items-center justify-between text-[#dfcd80] text-xs font-bold mb-2",children:[x.jsx("span",{children:"..."}),x.jsx("span",{className:`inline-block w-3.5 h-3.5 border-2 border-[#dfcd80]/30
              border-t-[#dfcd80] rounded-full animate-spin`})]}),x.jsx("div",{className:"h-1 bg-zinc-800 rounded-full overflow-hidden",children:x.jsx("div",{className:`h-full w-2/3 bg-gradient-to-r from-[#dfcd80]/60 to-[#dfcd80]
              rounded-full animate-pulse`})})]}):x.jsxs("button",{type:"button",onClick:()=>h(n),className:`mb-3 flex-shrink-0 w-full flex items-center justify-center gap-2
            py-2.5 rounded-xl border border-dashed border-[rgba(223,205,128,0.4)]
            bg-[rgba(223,205,128,0.04)] text-[#dfcd80] font-bold text-[13px]
            hover:bg-[rgba(223,205,128,0.10)] hover:border-[rgba(223,205,128,0.65)]
            active:scale-[0.99] transition-all cursor-pointer`,children:[x.jsx(jS,{}),"Import "]}),z&&!o&&x.jsxs("p",{className:"text-[12px] text-center text-zinc-600 mb-2 leading-relaxed flex-shrink-0",children:[" ",x.jsx("span",{className:"text-[#dfcd80]/50 font-semibold",children:"Import"})," "]}),x.jsx("div",{className:"flex flex-col gap-[10px] overflow-auto section-scroll min-h-0 pr-1",children:T.map((W,V)=>{var Q,X;return x.jsx(jR,{index:V,sectionId:n,value:W,isLocked:A[V],carValue:L[V],isOcrCar:!!((X=(Q=i.ocrCars)==null?void 0:Q[n])!=null&&X[V]),state:i,onValueChange:C=>P(V,"sections",C),onToggleLock:()=>P(V,"locked",!A[V]),onCarChange:C=>P(V,"cars",C),onAddCustomCar:N,onCalc:f},V)})}),x.jsx(uw,{open:y,title:` ${e}`,label:" dropdown",onConfirm:U,onCancel:()=>w(!1)})]})}const BR="/cal-ranking-rm/assets/rank1-DZAoVzls.png",zR=Object.freeze(Object.defineProperty({__proto__:null,default:BR},Symbol.toStringTag,{value:"Module"})),$R="/cal-ranking-rm/assets/rank10-CVDQi1xx.png",WR=Object.freeze(Object.defineProperty({__proto__:null,default:$R},Symbol.toStringTag,{value:"Module"})),HR="/cal-ranking-rm/assets/rank2-D5c2RTG_.png",qR=Object.freeze(Object.defineProperty({__proto__:null,default:HR},Symbol.toStringTag,{value:"Module"})),KR="/cal-ranking-rm/assets/rank3-Cz6YBboE.png",GR=Object.freeze(Object.defineProperty({__proto__:null,default:KR},Symbol.toStringTag,{value:"Module"})),QR="/cal-ranking-rm/assets/rank4-BtCpKU8a.png",XR=Object.freeze(Object.defineProperty({__proto__:null,default:QR},Symbol.toStringTag,{value:"Module"})),YR="/cal-ranking-rm/assets/rank5-Bm73PBg4.png",JR=Object.freeze(Object.defineProperty({__proto__:null,default:YR},Symbol.toStringTag,{value:"Module"})),ZR="/cal-ranking-rm/assets/rank6-CdWWTIHA.png",eA=Object.freeze(Object.defineProperty({__proto__:null,default:ZR},Symbol.toStringTag,{value:"Module"})),tA="/cal-ranking-rm/assets/rank7-DTb5zJIB.png",nA=Object.freeze(Object.defineProperty({__proto__:null,default:tA},Symbol.toStringTag,{value:"Module"})),rA="/cal-ranking-rm/assets/rank8-CId31O5R.png",iA=Object.freeze(Object.defineProperty({__proto__:null,default:rA},Symbol.toStringTag,{value:"Module"})),sA="/cal-ranking-rm/assets/rank9-B_JOtBkm.png",oA=Object.freeze(Object.defineProperty({__proto__:null,default:sA},Symbol.toStringTag,{value:"Module"})),aA=Object.assign({"../images/rank1.png":zR,"../images/rank10.png":WR,"../images/rank2.png":qR,"../images/rank3.png":GR,"../images/rank4.png":XR,"../images/rank5.png":JR,"../images/rank6.png":eA,"../images/rank7.png":nA,"../images/rank8.png":iA,"../images/rank9.png":oA});function lA(n){const e=aA[`../images/${n}`];return(e==null?void 0:e.default)??""}function uA(n){return n.includes("")?"#9ca3af":n.includes("")?"#86efac":n.includes("")?"#22c55e":n.includes("")?"#60a5fa":n.includes("")?"#c084fc":n.includes("")?"#fb923c":n.includes("")?"#f97316":n.includes("")?"#f87171":n.includes("")?"#a3e635":"#dfcd80"}function cA({bonus:n,sectionTotals:e,onBonusChange:t,onCalc:i,onReset:o,result:a,isCalculating:c}){const h=a?uA(a.rank.hat):"#dfcd80",f=a?Math.round(a.rank.inStep/a.rank.stepMax*100):0;return x.jsxs("div",{className:`rounded-[18px] bg-gradient-to-b from-[#0b0b0b] to-[#101010]
      border border-[rgba(223,205,128,0.22)] shadow-[0_10px_30px_rgba(0,0,0,0.55)] p-4`,children:[x.jsxs("div",{className:`flex flex-wrap items-center gap-2 mb-4 pb-3.5
        border-b border-[rgba(223,205,128,0.10)]`,children:[Po.map(m=>x.jsxs("div",{className:`flex items-center gap-2 bg-zinc-900/80 rounded-xl px-3 py-1.5
              border border-zinc-800`,children:[x.jsx("span",{className:"text-zinc-500 text-xs",children:m.label}),x.jsx("span",{className:"text-white font-bold text-sm tabular-nums tracking-tight",children:e[m.id].toLocaleString()})]},m.id)),x.jsx("span",{className:"text-zinc-700 text-sm font-light",children:"+"}),x.jsxs("div",{className:`flex items-center gap-2 bg-zinc-900/80 rounded-xl px-3 py-1.5
          border border-zinc-800`,children:[x.jsx("span",{className:"text-zinc-500 text-xs",children:""}),x.jsx("span",{className:"text-white font-bold text-sm tabular-nums",children:n.toLocaleString()})]}),a&&x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"text-zinc-700 text-sm font-light",children:"="}),x.jsxs("div",{className:`flex items-center gap-2 bg-zinc-900/80 rounded-xl px-3 py-1.5
              border border-[rgba(223,205,128,0.28)]`,children:[x.jsx("span",{className:"text-[#dfcd80] text-xs",children:""}),x.jsx("span",{className:"text-[#dfcd80] font-extrabold text-sm tabular-nums",children:a.total.toLocaleString()})]})]})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-5",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("div",{className:"text-[10px] text-zinc-600 font-semibold uppercase tracking-[0.15em] mb-2",children:""}),x.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a&&x.jsx("img",{src:lA(a.rank.image),alt:a.rank.hat,className:`w-14 h-14 object-contain flex-shrink-0 drop-shadow-lg
                  transition-all duration-500`},a.rank.image),x.jsx("div",{className:"font-extrabold leading-none truncate transition-colors duration-500",style:{fontSize:"clamp(24px, 3.5vw, 38px)",color:h},children:a?a.rank.hat:""})]}),x.jsx("div",{className:"text-zinc-400 text-sm font-medium mb-3",children:a?` ${a.rank.stepInHat}  ${a.rank.hatSteps} `:" Import  "}),x.jsxs("div",{className:"space-y-1.5",children:[x.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full rounded-full transition-all duration-700",style:{width:`${f}%`,background:`linear-gradient(90deg, ${h}60, ${h})`}})}),x.jsxs("div",{className:"flex justify-between items-center text-[11px]",children:[x.jsx("span",{className:"text-zinc-600",children:a?`${a.rank.inStep.toLocaleString()} / ${a.rank.stepMax.toLocaleString()} `:`: 1  = ${xo} `}),a&&x.jsxs("span",{className:"font-bold tabular-nums",style:{color:h},children:[f,"%"]})]})]})]}),x.jsxs("div",{className:"flex flex-row sm:flex-col items-center sm:items-end gap-2 flex-shrink-0",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-[#dfcd80] text-[11px] font-bold whitespace-nowrap hidden sm:block",children:""}),x.jsx("input",{type:"number",value:n,onChange:m=>t(Number(m.target.value)),placeholder:"",className:`w-[88px] h-10 rounded-xl border-2 border-[#dfcd80]
                bg-white text-black font-extrabold text-sm text-center
                outline-none [appearance:textfield]
                [&::-webkit-inner-spin-button]:appearance-none
                [&::-webkit-outer-spin-button]:appearance-none`})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"button",onClick:i,disabled:c,className:`h-10 px-5 rounded-[12px] bg-[#dfcd80] text-black font-extrabold text-sm
                cursor-pointer hover:brightness-[1.05] active:scale-[0.985] transition-all
                disabled:opacity-70 disabled:cursor-wait flex items-center justify-center gap-1.5
                whitespace-nowrap`,children:c?x.jsxs(x.Fragment,{children:["...",x.jsx("span",{className:`inline-block w-3.5 h-3.5 border-2 border-black/30
                    border-t-black/80 rounded-full animate-spin`})]}):""}),x.jsx("button",{type:"button",onClick:o,className:`h-10 px-4 rounded-[12px] border border-[rgba(223,205,128,0.45)]
                text-[#dfcd80] font-extrabold text-sm bg-transparent
                cursor-pointer hover:bg-[rgba(223,205,128,0.08)] active:scale-[0.985] transition-all
                whitespace-nowrap`,children:"Reset"})]})]})]})]})}function dA({user:n,onSignIn:e,onSignOut:t}){var i;return x.jsxs("button",{type:"button",onClick:n?t:e,className:`flex items-center gap-2
        h-8 px-3 rounded-[10px] bg-[#dfcd80] text-black font-bold text-xs
        cursor-pointer hover:brightness-105 active:scale-[0.98] transition-all`,children:[x.jsx(US,{className:"w-3.5 h-3.5 flex-shrink-0"}),x.jsx("span",{className:"max-w-[120px] truncate",children:n?((i=n.displayName)==null?void 0:i.split(" ")[0])||"Google":"Sign in"})]})}const ic=["#ff4444","#ff8800","#ffdd00","#44ff88","#00ccff","#aa44ff","#ff66cc","#ffffff"];function hA({open:n,imageUrl:e,sectionId:t,points:i,badgeRightEdges:o=[],onClose:a}){const c=R.useRef(null);return R.useEffect(()=>{if(!n||!e)return;let h=!1;const f=requestAnimationFrame(()=>{if(h||!c.current)return;const m=c.current,y=m.getContext("2d"),w=new Image;w.onerror=T=>console.error("[OcrDebug] image load failed",T),w.onload=()=>{if(h)return;const T=Math.min(900,w.naturalWidth),A=T/w.naturalWidth;m.width=T,m.height=w.naturalHeight*A,y.drawImage(w,0,0,m.width,m.height);const L=Math.round(w.naturalWidth*.005);dw[t].forEach((N,U)=>{const[z,W,V,Q]=N.pointBox,X=ic[U%ic.length],C=z*m.width,I=W*m.height,b=V*m.width,D=Q*m.height;y.save(),y.setLineDash([5,4]),y.strokeStyle="#ffee00",y.lineWidth=1.5,y.strokeRect(C,I,b,D),y.restore();const M=o[U],F=Math.round(w.naturalWidth*z),k=Math.round(w.naturalHeight*W),de=Math.round(w.naturalWidth*V),Ce=Math.round(w.naturalHeight*Q),ye=M!=null?M+L:F+Math.round(de*.65),he=F+de,J=Math.max(0,he-ye),oe=ye*A,re=k*A,B=J*A,Z=Ce*A;if(y.fillStyle=X+"28",y.fillRect(oe,re,B,Z),y.strokeStyle=X,y.lineWidth=2,y.strokeRect(oe,re,B,Z),M!=null){const Re=(M+L)*A;y.save(),y.strokeStyle="#ff69b4",y.lineWidth=1.5,y.setLineDash([3,3]),y.beginPath(),y.moveTo(Re,re),y.lineTo(Re,re+Z),y.stroke(),y.restore()}const pe=`#${U+1}: ${i[U]||""}`;y.font="bold 13px monospace";const xe=y.measureText(pe).width;y.fillStyle="rgba(0,0,0,0.8)",y.fillRect(oe,re-21,xe+8,20),y.fillStyle=X,y.fillText(pe,oe+4,re-6)})},w.src=e});return()=>{h=!0,cancelAnimationFrame(f)}},[n,e,t,i,o]),x.jsx(nw,{open:n,onOpenChange:h=>!h&&a(),children:x.jsxs(rw,{children:[x.jsx(iw,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),x.jsxs(sw,{className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50
            w-[95vw] max-w-5xl max-h-[90vh] flex flex-col
            rounded-2xl border border-[rgba(223,205,128,0.3)] bg-zinc-900 shadow-2xl overflow-hidden`,children:[x.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-zinc-800 flex-shrink-0 gap-4",children:[x.jsxs(ow,{className:"text-[#dfcd80] font-bold text-lg whitespace-nowrap",children:["OCR Debug  ",t.toUpperCase()]}),x.jsxs(aw,{className:"text-zinc-500 text-xs text-center flex-1",children:[x.jsxs("span",{className:"inline-block mr-3",children:[x.jsx("span",{className:"text-yellow-300",children:"- - -"})," = zone  badge "]}),x.jsxs("span",{className:"inline-block mr-3",children:[x.jsx("span",{className:"text-pink-400",children:"| |"})," =  badge"]}),x.jsxs("span",{className:"inline-block",children:[x.jsx("span",{className:"text-green-400",children:""})," = zone OCR "]})]}),x.jsx(lw,{asChild:!0,children:x.jsx("button",{onClick:a,className:`text-zinc-400 hover:text-white w-8 h-8 flex items-center justify-center
                  rounded-full hover:bg-zinc-700 text-xl transition-colors flex-shrink-0`,children:""})})]}),x.jsx("div",{className:"overflow-auto p-4 flex-1",children:x.jsx("canvas",{ref:c,className:"w-full rounded-xl border border-zinc-700",style:{imageRendering:"auto"}})}),x.jsx("div",{className:"flex flex-wrap gap-2 px-5 py-3 border-t border-zinc-800 flex-shrink-0",children:i.map((h,f)=>x.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-mono px-2 py-1 rounded-lg bg-zinc-800",children:[x.jsx("span",{className:"inline-block w-3 h-3 rounded-sm flex-shrink-0",style:{background:ic[f%ic.length]}}),x.jsxs("span",{className:"text-zinc-400",children:["#",f+1]}),x.jsx("span",{className:h?"text-white font-bold":"text-red-400",children:h||""}),o[f]!=null?x.jsx("span",{className:"text-pink-400 text-[10px]",children:"badge"}):x.jsx("span",{className:"text-zinc-600 text-[10px]",children:"fallback"})]},f))})]})]})})}const fA="/cal-ranking-rm/assets/image-DuMhNYC-.png",hw="rm_rank_calc_split_v1";function Lf(){return{bonus:1200,sections:{extream:Array(8).fill(""),sport:Array(7).fill(""),standard:Array(7).fill("")},locked:{extream:Array(8).fill(!1),sport:Array(7).fill(!1),standard:Array(7).fill(!1)},cars:{extream:Array(8).fill(""),sport:Array(7).fill(""),standard:Array(7).fill("")},customCars:{extream:[],sport:[],standard:[]},ocrCars:{extream:Array(8).fill(!1),sport:Array(7).fill(!1),standard:Array(7).fill(!1)}}}function fw(n){var t,i,o,a,c;const e=Lf();for(const h of Po){const f=h.id;Array.isArray((t=n.sections)==null?void 0:t[f])&&(e.sections[f]=n.sections[f].slice(0,e.sections[f].length)),Array.isArray((i=n.locked)==null?void 0:i[f])&&(e.locked[f]=n.locked[f].slice(0,e.locked[f].length)),Array.isArray((o=n.cars)==null?void 0:o[f])&&(e.cars[f]=n.cars[f].slice(0,e.cars[f].length)),Array.isArray((a=n.customCars)==null?void 0:a[f])&&(e.customCars[f]=n.customCars[f]),Array.isArray((c=n.ocrCars)==null?void 0:c[f])&&(e.ocrCars[f]=n.ocrCars[f].slice(0,e.ocrCars[f].length))}return Number.isFinite(Number(n.bonus))&&(e.bonus=Number(n.bonus)),e}function pA(){try{const n=localStorage.getItem(hw);if(!n)return Lf();const e=JSON.parse(n);return fw(e)}catch{return Lf()}}function iy(n){localStorage.setItem(hw,JSON.stringify(n))}function mA(n){(!Number.isFinite(n)||n<0)&&(n=0);const e=Math.floor(n/xo),t=n%xo;let i=0;for(const a of df){const c=i+a.steps;if(e<c){const h=e-i+1;return{hat:a.name,image:a.image,stepInHat:h,inStep:t,stepMax:xo,hatSteps:a.steps}}i=c}const o=df[df.length-1];return{hat:o.name,image:o.image,stepInHat:o.steps,inStep:xo-1,stepMax:xo,hatSteps:o.steps}}const gA="modulepreload",vA=function(n){return"/cal-ranking-rm/"+n},sy={},yA=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=c(t.map(m=>{if(m=vA(m),m in sy)return;sy[m]=!0;const y=m.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":gA,y||(T.as="script"),T.crossOrigin="",T.href=m,f&&T.setAttribute("nonce",f),document.head.appendChild(T),y)return new Promise((A,L)=>{T.addEventListener("load",A),T.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};function _A(n){const t=[...String(n||"").matchAll(/\d+/g)].map(o=>o[0]).find(o=>o.length===4&&Number(o)>=1e3);if(t)return t;const i=String(n||"").replace(/\D/g,"");if(i.length>=4)for(let o=0;o<=i.length-4;o++){const a=i.slice(o,o+4);if(Number(a)>=1e3)return a}return""}function wA(n,e,t){const i=Math.max(n,e,t),o=Math.min(n,e,t),a=i-o;if(a<25||e>n||e>t||t<60)return!1;const c=(()=>{let m=0;return i===n?m=((e-t)/a+(e<t?6:0))*60:i===e?m=((t-n)/a+2)*60:m=((n-e)/a+4)*60,m})(),h=(i+o)/2/255,f=a/255/(1-Math.abs(2*h-1));return c>=220&&c<=340&&f>.2&&h>.1&&h<.85}function EA(n,e,t,i,o){const a=document.createElement("canvas");a.width=i,a.height=o;const c=a.getContext("2d");c.drawImage(n,e,t,i,o,0,0,i,o);const{data:h}=c.getImageData(0,0,i,o);let f=-1;for(let m=0;m<i;m++){let y=0;for(let w=0;w<o;w++){const T=(w*i+m)*4;wA(h[T],h[T+1],h[T+2])&&y++}y>o*.08&&(f=m)}return f>=0?e+f:null}function TA(n,e,t,i,o){const a=document.createElement("canvas"),c=3;a.width=i*c,a.height=o*c;const h=a.getContext("2d");h.imageSmoothingEnabled=!0,h.imageSmoothingQuality="high",h.fillStyle="#fff",h.fillRect(0,0,a.width,a.height),h.drawImage(n,e,t,i,o,0,0,a.width,a.height);const f=h.getImageData(0,0,a.width,a.height),m=f.data;for(let y=0;y<m.length;y+=4){const T=m[y]*.299+m[y+1]*.587+m[y+2]*.114>130?0:255;m[y]=m[y+1]=m[y+2]=T,m[y+3]=255}return h.putImageData(f,0,0),a}function pw(n,e){const t=n.replace(/[^\u0E00-\u0E7Fa-zA-Z0-9\s\-\/]/g,"").trim();if(!t)return"";const i=t.toLowerCase(),o=e.find(f=>f.toLowerCase()===i);if(o)return o;const a=e.find(f=>i.includes(f.toLowerCase())||f.toLowerCase().includes(i));if(a)return a;let c=0,h="";for(const f of e){const m=f.toLowerCase();let y=0;for(const T of i)m.includes(T)&&y++;const w=y/Math.max(i.length,m.length);w>c&&(c=w,h=f)}return c>=.6?h:""}function SA(n){return new Promise((e,t)=>{const i=URL.createObjectURL(n),o=new Image;o.onload=()=>{URL.revokeObjectURL(i),e(o)},o.onerror=t,o.src=i})}function IA(n,e,t,i,o,a,c,h){const f=Math.round(n.naturalWidth*.005),m=a!==null?a+f:e+Math.round(i*.65),y=e+i,w=Math.max(8,y-m),T=document.createElement("canvas"),A=4;T.width=w*A,T.height=o*A;const L=T.getContext("2d");L.imageSmoothingEnabled=!0,L.imageSmoothingQuality="high",L.fillStyle="#fff",L.fillRect(0,0,T.width,T.height),L.drawImage(n,m,t,w,o,0,0,T.width,T.height);const P=L.getImageData(0,0,T.width,T.height),N=P.data;for(let U=0;U<N.length;U+=4){const W=N[U]*.299+N[U+1]*.587+N[U+2]*.114>c,V=(h?W:!W)?0:255;N[U]=N[U+1]=N[U+2]=V,N[U+3]=255}return L.putImageData(P,0,0),T}async function oy(n,e){const{data:t}=await e.recognize(n);return(t.text||"").trim()}async function xA(n,e){const t=dw[n];if(!(t!=null&&t.length))throw new Error(" OCR_BOXES ");return new Promise((i,o)=>{const a=document.createElement("input");a.type="file",a.accept="image/*",a.style.display="none",document.body.appendChild(a),a.onchange=async()=>{var f;const c=(f=a.files)==null?void 0:f[0];if(document.body.removeChild(a),!c){i({points:[],carNames:[],debugLog:[],imageUrl:"",badgeRightEdges:[]});return}const h=URL.createObjectURL(c);try{const m=await SA(c),{createWorker:y}=await yA(async()=>{const{createWorker:U}=await import("./index-B9b2pKyQ.js").then(z=>z.i);return{createWorker:U}},[]),w=await y("eng");await w.setParameters({tessedit_char_whitelist:"0123456789"});const T=[],A=[],L=[],P=[];for(let U=0;U<t.length;U++){const[z,W,V,Q]=t[U].pointBox,X=Math.round(m.naturalWidth*z),C=Math.round(m.naturalHeight*W),I=Math.max(1,Math.round(m.naturalWidth*V)),b=Math.max(1,Math.round(m.naturalHeight*Q)),D=EA(m,X,C,I,b),M=D!==null?D-15:null;P.push(M);const F=[[155,!0],[120,!0],[140,!1]];let k="";const de=[];for(const[he,J]of F){const oe=IA(m,X,C,I,b,M,he,J),re=await oy(oe,w);de.push(`t${he}${J?"i":"n"}:"${re}"`);const B=_A(re);B&&!k&&(k=B)}const Ce=M!==null?`badgex${M}`:"no-badge(fallback)",ye=`box${U+1}[${Ce}]: ${de.join(" | ")}  "${k}"`;L.push(ye),console.log(`[OCR ${n}] ${ye}`),T.push(k),e(Math.round((U+1)/t.length*100))}const N=FR[n];if(N!=null&&N.length){const U=await y("eng");for(let z=0;z<N.length;z++){const[W,V,Q,X]=N[z].pointBox,C=Math.round(m.naturalWidth*W),I=Math.round(m.naturalHeight*V),b=Math.max(1,Math.round(m.naturalWidth*Q)),D=Math.max(1,Math.round(m.naturalHeight*X)),M=TA(m,C,I,b,D),F=await oy(M,U),k=pw(F.trim(),cw[n]??[]);A.push(k)}await U.terminate()}await w.terminate(),i({points:T,carNames:A,debugLog:L,imageUrl:h,badgeRightEdges:P})}catch(m){URL.revokeObjectURL(h),o(m)}},a.click()})}var ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},CA=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,y=a>>2,w=(a&3)<<4|h>>4;let T=(h&15)<<2|m>>6,A=m&63;f||(A=64,c||(T=64)),i.push(t[y],t[w],t[T],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(mw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||w==null)throw new RA;const T=a<<2|h>>4;if(i.push(T),m!==64){const A=h<<4&240|m>>2;if(i.push(A),w!==64){const L=m<<6&192|w;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AA=function(n){const e=mw(n);return gw.encodeByteArray(e,!0)},Pc=function(n){return AA(n).replace(/\./g,"")},vw=function(n){try{return gw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=()=>PA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof ay>"u")return;const n=ay.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vw(n[1]);return e&&JSON.parse(e)},sd=()=>{try{return kA()||NA()||bA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yw=n=>{var e,t;return(t=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},OA=n=>{const e=yw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},_w=()=>{var n;return(n=sd())===null||n===void 0?void 0:n.config},ww=n=>{var e;return(e=sd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pc(JSON.stringify(t)),Pc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function VA(){var n;const e=(n=sd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BA(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zA(){return!VA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $A(){try{return typeof indexedDB=="object"}catch{return!1}}function WA(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="FirebaseError";class Yr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=HA,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?qA(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Yr(o,h,i)}}function qA(n,e){return n.replace(KA,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const KA=/\{\$([^}]+)}/g;function GA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function kc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(ly(a)&&ly(c)){if(!kc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ly(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function QA(n,e){const t=new XA(n,e);return t.subscribe.bind(t)}class XA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");YA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=hf),o.error===void 0&&(o.error=hf),o.complete===void 0&&(o.complete=hf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){return n&&n._delegate?n._delegate:n}class Is{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new DA;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(e1(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ZA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZA(n){return n===hs?void 0:n}function e1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const n1={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},r1=Be.INFO,i1={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},s1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=i1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sp{constructor(e){this.name=e,this._logLevel=r1,this._logHandler=s1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?n1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const o1=(n,e)=>e.some(t=>n instanceof t);let uy,cy;function a1(){return uy||(uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l1(){return cy||(cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ew=new WeakMap,Vf=new WeakMap,Tw=new WeakMap,ff=new WeakMap,Ip=new WeakMap;function u1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Ai(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Ew.set(t,n)}).catch(()=>{}),Ip.set(e,n),e}function c1(n){if(Vf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Vf.set(n,e)}let Ff={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ai(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function d1(n){Ff=n(Ff)}function h1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(pf(this),e,...t);return Tw.set(i,e.sort?e.sort():[e]),Ai(i)}:l1().includes(n)?function(...e){return n.apply(pf(this),e),Ai(Ew.get(this))}:function(...e){return Ai(n.apply(pf(this),e))}}function f1(n){return typeof n=="function"?h1(n):(n instanceof IDBTransaction&&c1(n),o1(n,a1())?new Proxy(n,Ff):n)}function Ai(n){if(n instanceof IDBRequest)return u1(n);if(ff.has(n))return ff.get(n);const e=f1(n);return e!==n&&(ff.set(n,e),Ip.set(e,n)),e}const pf=n=>Ip.get(n);function p1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=Ai(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Ai(c.result),f.oldVersion,f.newVersion,Ai(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const m1=["get","getKey","getAll","getAllKeys","count"],g1=["put","add","delete","clear"],mf=new Map;function dy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=g1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||m1.includes(t)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&f.done]))[0]};return mf.set(e,a),a}d1(n=>({...n,get:(e,t,i)=>dy(e,t)||n.get(e,t,i),has:(e,t)=>!!dy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(y1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function y1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jf="@firebase/app",hy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Sp("@firebase/app"),_1="@firebase/app-compat",w1="@firebase/analytics-compat",E1="@firebase/analytics",T1="@firebase/app-check-compat",S1="@firebase/app-check",I1="@firebase/auth",x1="@firebase/auth-compat",C1="@firebase/database",R1="@firebase/data-connect",A1="@firebase/database-compat",P1="@firebase/functions",k1="@firebase/functions-compat",N1="@firebase/installations",b1="@firebase/installations-compat",O1="@firebase/messaging",D1="@firebase/messaging-compat",M1="@firebase/performance",L1="@firebase/performance-compat",V1="@firebase/remote-config",F1="@firebase/remote-config-compat",j1="@firebase/storage",U1="@firebase/storage-compat",B1="@firebase/firestore",z1="@firebase/vertexai-preview",$1="@firebase/firestore-compat",W1="firebase",H1="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="[DEFAULT]",q1={[jf]:"fire-core",[_1]:"fire-core-compat",[E1]:"fire-analytics",[w1]:"fire-analytics-compat",[S1]:"fire-app-check",[T1]:"fire-app-check-compat",[I1]:"fire-auth",[x1]:"fire-auth-compat",[C1]:"fire-rtdb",[R1]:"fire-data-connect",[A1]:"fire-rtdb-compat",[P1]:"fire-fn",[k1]:"fire-fn-compat",[N1]:"fire-iid",[b1]:"fire-iid-compat",[O1]:"fire-fcm",[D1]:"fire-fcm-compat",[M1]:"fire-perf",[L1]:"fire-perf-compat",[V1]:"fire-rc",[F1]:"fire-rc-compat",[j1]:"fire-gcs",[U1]:"fire-gcs-compat",[B1]:"fire-fst",[$1]:"fire-fst-compat",[z1]:"fire-vertex","fire-js":"fire-js",[W1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,K1=new Map,Bf=new Map;function fy(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fo(n){const e=n.name;if(Bf.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Bf.set(e,n);for(const t of Nc.values())fy(t,n);for(const t of K1.values())fy(t,n);return!0}function xp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ur(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Cl("app","Firebase",G1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=H1;function Sw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Uf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Pi.create("bad-app-name",{appName:String(o)});if(t||(t=_w()),!t)throw Pi.create("no-options");const a=Nc.get(o);if(a){if(kc(t,a.options)&&kc(i,a.config))return a;throw Pi.create("duplicate-app",{appName:o})}const c=new t1(o);for(const f of Bf.values())c.addComponent(f);const h=new Q1(t,i,c);return Nc.set(o,h),h}function Iw(n=Uf){const e=Nc.get(n);if(!e&&n===Uf&&_w())return Sw();if(!e)throw Pi.create("no-app",{appName:n});return e}function ki(n,e,t){var i;let o=(i=q1[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(h.join(" "));return}Fo(new Is(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebase-heartbeat-database",Y1=1,cl="firebase-heartbeat-store";let gf=null;function xw(){return gf||(gf=p1(X1,Y1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Pi.create("idb-open",{originalErrorMessage:n.message})})),gf}async function J1(n){try{const t=(await xw()).transaction(cl),i=await t.objectStore(cl).get(Cw(n));return await t.done,i}catch(e){if(e instanceof Yr)Kr.warn(e.message);else{const t=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(t.message)}}}async function py(n,e){try{const i=(await xw()).transaction(cl,"readwrite");await i.objectStore(cl).put(e,Cw(n)),await i.done}catch(t){if(t instanceof Yr)Kr.warn(t.message);else{const i=Pi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Kr.warn(i.message)}}}function Cw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1024,eP=720*60*60*1e3;class tP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=my();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=eP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Kr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=my(),{heartbeatsToSend:i,unsentEntries:o}=nP(this._heartbeatsCache.heartbeats),a=Pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Kr.warn(t),""}}}function my(){return new Date().toISOString().substring(0,10)}function nP(n,e=Z1){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),gy(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),gy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class rP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $A()?WA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await J1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return py(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return py(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function gy(n){return Pc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(n){Fo(new Is("platform-logger",e=>new v1(e),"PRIVATE")),Fo(new Is("heartbeat",e=>new tP(e),"PRIVATE")),ki(jf,hy,n),ki(jf,hy,"esm2017"),ki("fire-js","")}iP("");var sP="firebase",oP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(sP,oP,"app");function Rw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aP=Rw,Aw=new Cl("auth","Firebase",Rw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Sp("@firebase/auth");function lP(n,...e){bc.logLevel<=Be.WARN&&bc.warn(`Auth (${Yo}): ${n}`,...e)}function fc(n,...e){bc.logLevel<=Be.ERROR&&bc.error(`Auth (${Yo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,...e){throw Rp(n,...e)}function Qn(n,...e){return Rp(n,...e)}function Cp(n,e,t){const i=Object.assign(Object.assign({},aP()),{[e]:t});return new Cl("auth","Firebase",i).create(e,{appName:n.name})}function vs(n){return Cp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&vr(n,"argument-error"),Cp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Aw.create(n,...e)}function Pe(n,e,...t){if(!n)throw Rp(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw fc(e),new Error(e)}function Gr(n,e){n||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function cP(){return vy()==="http:"||vy()==="https:"}function vy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cP()||jA()||"connection"in navigator)?navigator.onLine:!0}function hP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gr(t>e,"Short delay should be less than long delay!"),this.isMobile=LA()||UA()}get(){return dP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e){Gr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Al(3e4,6e4);function Pp(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Jo(n,e,t,i,o={}){return kw(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Rl(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return FA()||(m.referrerPolicy="no-referrer"),Pw.fetch()(Nw(n,n.config.apiHost,t,h),m)})}async function kw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},fP),e);try{const o=new gP(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw sc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw sc(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw sc(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw sc(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Cp(n,y,m);vr(n,y)}}catch(o){if(o instanceof Yr)throw o;vr(n,"network-request-failed",{message:String(o)})}}async function mP(n,e,t,i,o={}){const a=await Jo(n,e,t,i,o);return"mfaPendingCredential"in a&&vr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Nw(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Ap(n.config,o):`${n.config.apiScheme}://${o}`}class gP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Qn(this.auth,"network-request-failed")),pP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Qn(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(n,e){return Jo(n,"POST","/v1/accounts:delete",e)}async function bw(n,e){return Jo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yP(n,e=!1){const t=An(n),i=await t.getIdToken(e),o=kp(i);Pe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:tl(vf(o.auth_time)),issuedAtTime:tl(vf(o.iat)),expirationTime:tl(vf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vf(n){return Number(n)*1e3}function kp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=vw(t);return o?JSON.parse(o):(fc("Failed to decode base64 JWT payload"),null)}catch(o){return fc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function yy(n){const e=kp(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Yr&&_P(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function _P({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await dl(n,bw(t,{idToken:i}));Pe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Ow(a.providerUserInfo):[],h=TP(n.providerData,c),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),y=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new $f(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function EP(n){const e=An(n);await Oc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Ow(n){return n.map(e=>{var{providerId:t}=e,i=xl(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(n,e){const t=await kw(n,{},async()=>{const i=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=Nw(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Pw.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function IP(n,e){return Jo(n,"POST","/v2/accounts:revokeToken",Pp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=yy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await SP(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new bo;return i&&(Pe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Pe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Pe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=xl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new $f(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await dl(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yP(this,e)}reload(){return EP(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Oc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await dl(this,vP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,f,m,y;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,L=(c=t.photoURL)!==null&&c!==void 0?c:void 0,P=(h=t.tenantId)!==null&&h!==void 0?h:void 0,N=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,U=(m=t.createdAt)!==null&&m!==void 0?m:void 0,z=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:W,emailVerified:V,isAnonymous:Q,providerData:X,stsTokenManager:C}=t;Pe(W&&C,e,"internal-error");const I=bo.fromJSON(this.name,C);Pe(typeof W=="string",e,"internal-error"),Ti(w,e.name),Ti(T,e.name),Pe(typeof V=="boolean",e,"internal-error"),Pe(typeof Q=="boolean",e,"internal-error"),Ti(A,e.name),Ti(L,e.name),Ti(P,e.name),Ti(N,e.name),Ti(U,e.name),Ti(z,e.name);const b=new zr({uid:W,auth:e,email:T,emailVerified:V,displayName:w,isAnonymous:Q,photoURL:L,phoneNumber:A,tenantId:P,stsTokenManager:I,createdAt:U,lastLoginAt:z});return X&&Array.isArray(X)&&(b.providerData=X.map(D=>Object.assign({},D))),N&&(b._redirectEventId=N),b}static async _fromIdTokenResponse(e,t,i=!1){const o=new bo;o.updateFromServerResponse(t);const a=new zr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Oc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Pe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Ow(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new bo;h.updateFromIdToken(i);const f=new zr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new $f(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=new Map;function $r(n){Gr(n instanceof Function,"Expected a class definition");let e=_y.get(n);return e?(Gr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_y.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Dw.type="NONE";const wy=Dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(n,e,t){return`firebase:${n}:${e}:${t}`}class Oo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=pc(this.userKey,o.apiKey,a),this.fullPersistenceKey=pc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Oo($r(wy),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||$r(wy);const c=pc(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(c);if(y){const w=zr._fromJSON(e,y);m!==a&&(h=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Oo(a,e,i):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new Oo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Uw(e))return"Blackberry";if(Bw(e))return"Webos";if(Lw(e))return"Safari";if((e.includes("chrome/")||Vw(e))&&!e.includes("edge/"))return"Chrome";if(jw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Mw(n=qt()){return/firefox\//i.test(n)}function Lw(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vw(n=qt()){return/crios\//i.test(n)}function Fw(n=qt()){return/iemobile/i.test(n)}function jw(n=qt()){return/android/i.test(n)}function Uw(n=qt()){return/blackberry/i.test(n)}function Bw(n=qt()){return/webos/i.test(n)}function Np(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xP(n=qt()){var e;return Np(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CP(){return BA()&&document.documentMode===10}function zw(n=qt()){return Np(n)||jw(n)||Bw(n)||Uw(n)||/windows phone/i.test(n)||Fw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(n,e=[]){let t;switch(n){case"Browser":t=Ey(qt());break;case"Worker":t=`${Ey(qt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(n,e={}){return Jo(n,"GET","/v2/passwordPolicy",Pp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=6;class kP{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:PP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ty(this),this.idTokenSubscription=new Ty(this),this.beforeStateQueue=new RP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Aw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bw(this,{idToken:e}),i=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ur(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(vs(this));const t=e?An(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AP(this),t=new kP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await IP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$w(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&lP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function od(n){return An(n)}class Ty{constructor(e){this.auth=e,this.observer=null,this.addObserver=QA(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bP(n){bp=n}function OP(n){return bp.loadJS(n)}function DP(){return bp.gapiScript}function MP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n,e){const t=xp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(kc(a,e??{}))return o;vr(o,"already-initialized")}return t.initialize({options:e})}function VP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map($r);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function FP(n,e,t){const i=od(n);Pe(i._canInitEmulator,i,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Ww(e),{host:c,port:h}=jP(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),UP()}function Ww(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jP(n){const e=Ww(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Sy(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Sy(c)}}}function Sy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function UP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(n,e){return mP(n,"POST","/v1/accounts:signInWithIdp",Pp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="http://localhost";class xs extends Hw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=xl(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new xs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Do(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Do(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Do(e,t)}buildRequest(){const e={requestUri:BP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Pl{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return jr.credential(t,i)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Pl{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Pl{constructor(){super("twitter.com")}static credential(e,t){return xs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ci.credential(t,i)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await zr._fromIdTokenResponse(e,i,o),c=Iy(i);return new jo({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Iy(i);return new jo({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Iy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends Yr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Dc(e,t,i,o)}}function qw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(n,a,e,i):a})}async function zP(n,e,t=!1){const i=await dl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return jo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P(n,e,t=!1){const{auth:i}=n;if(Ur(i.app))return Promise.reject(vs(i));const o="reauthenticate";try{const a=await dl(n,qw(i,o,e,n),t);Pe(a.idToken,i,"internal-error");const c=kp(a.idToken);Pe(c,i,"internal-error");const{sub:h}=c;return Pe(n.uid===h,i,"user-mismatch"),jo._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&vr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(n,e,t=!1){if(Ur(n.app))return Promise.reject(vs(n));const i="signIn",o=await qw(n,i,e),a=await jo._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}function HP(n,e,t,i){return An(n).onIdTokenChanged(e,t,i)}function qP(n,e,t){return An(n).beforeAuthStateChanged(e,t)}function KP(n,e,t,i){return An(n).onAuthStateChanged(e,t,i)}function GP(n){return An(n).signOut()}const Mc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mc,"1"),this.storage.removeItem(Mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=1e3,XP=10;class Gw extends Kw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);CP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,XP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},QP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gw.type="LOCAL";const YP=Gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Kw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Qw.type="SESSION";const Xw=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new ad(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async m=>m(t.origin,a)),f=await JP(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const m=Dp("",20);o.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function ek(n){fr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function tk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function rk(){return Yw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="firebaseLocalStorageDb",ik=1,Lc="firebaseLocalStorage",Zw="fbase_key";class kl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ld(n,e){return n.transaction([Lc],e?"readwrite":"readonly").objectStore(Lc)}function sk(){const n=indexedDB.deleteDatabase(Jw);return new kl(n).toPromise()}function Wf(){const n=indexedDB.open(Jw,ik);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Lc,{keyPath:Zw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Lc)?e(i):(i.close(),await sk(),e(await Wf()))})})}async function xy(n,e,t){const i=ld(n,!0).put({[Zw]:e,value:t});return new kl(i).toPromise()}async function ok(n,e){const t=ld(n,!1).get(e),i=await new kl(t).toPromise();return i===void 0?null:i.value}function Cy(n,e){const t=ld(n,!0).delete(e);return new kl(t).toPromise()}const ak=800,lk=3;class eE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>lk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(rk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tk(),!this.activeServiceWorker)return;this.sender=new ZP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wf();return await xy(e,Mc,"1"),await Cy(e,Mc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>xy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ok(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Cy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=ld(o,!1).getAll();return new kl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eE.type="LOCAL";const uk=eE;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n,e){return e?$r(e):(Pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Hw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ck(n){return WP(n.auth,new Mp(n),n.bypassAuthState)}function dk(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),$P(t,new Mp(n),n.bypassAuthState)}async function hk(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),zP(t,new Mp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ck;case"linkViaPopup":case"linkViaRedirect":return hk;case"reauthViaPopup":case"reauthViaRedirect":return dk;default:vr(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new Al(2e3,1e4);async function pk(n,e,t){if(Ur(n.app))return Promise.reject(Qn(n,"operation-not-supported-in-this-environment"));const i=od(n);uP(n,e,Op);const o=tE(i,t);return new ps(i,"signInViaPopup",e,o).executeNotNull()}class ps extends nE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ps.currentPopupAction&&ps.currentPopupAction.cancel(),ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fk.get())};e()}}ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="pendingRedirect",mc=new Map;class gk extends nE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=mc.get(this.auth._key());if(!e){try{const i=await vk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}mc.set(this.auth._key(),e)}return this.bypassAuthState||mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vk(n,e){const t=wk(e),i=_k(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function yk(n,e){mc.set(n._key(),e)}function _k(n){return $r(n._redirectPersistence)}function wk(n){return pc(mk,n.config.apiKey,n.name)}async function Ek(n,e,t=!1){if(Ur(n.app))return Promise.reject(vs(n));const i=od(n),o=tE(i,e),c=await new gk(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=600*1e3;class Sk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ik(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!rE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Tk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ry(e))}saveEventToCache(e){this.cachedEventUids.add(Ry(e)),this.lastProcessedEventTime=Date.now()}}function Ry(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ik(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(n,e={}){return Jo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rk=/^https?/;async function Ak(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xk(n);for(const t of e)try{if(Pk(t))return}catch{}vr(n,"unauthorized-domain")}function Pk(n){const e=zf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Rk.test(t))return!1;if(Ck.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=new Al(3e4,6e4);function Ay(){const n=fr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Nk(n){return new Promise((e,t)=>{var i,o,a;function c(){Ay(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ay(),t(Qn(n,"network-request-failed"))},timeout:kk.get()})}if(!((o=(i=fr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=fr().gapi)===null||a===void 0)&&a.load)c();else{const h=MP("iframefcb");return fr()[h]=()=>{gapi.load?c():t(Qn(n,"network-request-failed"))},OP(`${DP()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw gc=null,e})}let gc=null;function bk(n){return gc=gc||Nk(n),gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new Al(5e3,15e3),Dk="__/auth/iframe",Mk="emulator/auth/iframe",Lk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fk(n){const e=n.config;Pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ap(e,Mk):`https://${n.config.authDomain}/${Dk}`,i={apiKey:e.apiKey,appName:n.name,v:Yo},o=Vk.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Rl(i).slice(1)}`}async function jk(n){const e=await bk(n),t=fr().gapi;return Pe(t,n,"internal-error"),e.open({where:document.body,url:Fk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lk,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Qn(n,"network-request-failed"),h=fr().setTimeout(()=>{a(c)},Ok.get());function f(){fr().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bk=500,zk=600,$k="_blank",Wk="http://localhost";class Py{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hk(n,e,t,i=Bk,o=zk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},Uk),{width:i.toString(),height:o.toString(),top:a,left:c}),m=qt().toLowerCase();t&&(h=Vw(m)?$k:t),Mw(m)&&(e=e||Wk,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[A,L])=>`${T}${A}=${L},`,"");if(xP(m)&&h!=="_self")return qk(e||"",h),new Py(null);const w=window.open(e||"",h,y);Pe(w,n,"popup-blocked");try{w.focus()}catch{}return new Py(w)}function qk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="__/auth/handler",Gk="emulator/auth/handler",Qk=encodeURIComponent("fac");async function ky(n,e,t,i,o,a){Pe(n.config.authDomain,n,"auth-domain-config-required"),Pe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Yo,eventId:o};if(e instanceof Op){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",GA(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof Pl){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${Qk}=${encodeURIComponent(f)}`:"";return`${Xk(n)}?${Rl(h).slice(1)}${m}`}function Xk({config:n}){return n.emulator?Ap(n,Gk):`https://${n.authDomain}/${Kk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="webStorageSupport";class Yk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xw,this._completeRedirectFn=Ek,this._overrideRedirectResult=yk}async _openPopup(e,t,i,o){var a;Gr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await ky(e,t,i,zf(),o);return Hk(e,c,Dp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await ky(e,t,i,zf(),o);return ek(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Gr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await jk(e),i=new Sk(e);return t.register("authEvent",o=>(Pe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yf,{type:yf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[yf];c!==void 0&&t(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ak(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zw()||Lw()||Np()}}const Jk=Yk;var Ny="@firebase/auth",by="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t2(n){Fo(new Is("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Pe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$w(n)},m=new NP(i,o,a,f);return VP(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Fo(new Is("auth-internal",e=>{const t=od(e.getProvider("auth").getImmediate());return(i=>new Zk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(Ny,by,e2(n)),ki(Ny,by,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=300,r2=ww("authIdTokenMaxAge")||n2;let Oy=null;const i2=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>r2)return;const o=t==null?void 0:t.token;Oy!==o&&(Oy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function s2(n=Iw()){const e=xp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=LP(n,{popupRedirectResolver:Jk,persistence:[uk,YP,Xw]}),i=ww("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=i2(a.toString());qP(t,c,()=>c(t.currentUser)),HP(t,h=>c(h))}}const o=yw("auth");return o&&FP(t,`http://${o}`),t}function o2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Qn("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",o2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t2("Browser");var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,iE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function b(){}b.prototype=I.prototype,C.D=I.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(D,M,F){for(var k=Array(arguments.length-2),de=2;de<arguments.length;de++)k[de-2]=arguments[de];return I.prototype[M].apply(D,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,I,b){b||(b=0);var D=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)D[M]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(M=0;16>M;++M)D[M]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=C.g[0],b=C.g[1],M=C.g[2];var F=C.g[3],k=I+(F^b&(M^F))+D[0]+3614090360&4294967295;I=b+(k<<7&4294967295|k>>>25),k=F+(M^I&(b^M))+D[1]+3905402710&4294967295,F=I+(k<<12&4294967295|k>>>20),k=M+(b^F&(I^b))+D[2]+606105819&4294967295,M=F+(k<<17&4294967295|k>>>15),k=b+(I^M&(F^I))+D[3]+3250441966&4294967295,b=M+(k<<22&4294967295|k>>>10),k=I+(F^b&(M^F))+D[4]+4118548399&4294967295,I=b+(k<<7&4294967295|k>>>25),k=F+(M^I&(b^M))+D[5]+1200080426&4294967295,F=I+(k<<12&4294967295|k>>>20),k=M+(b^F&(I^b))+D[6]+2821735955&4294967295,M=F+(k<<17&4294967295|k>>>15),k=b+(I^M&(F^I))+D[7]+4249261313&4294967295,b=M+(k<<22&4294967295|k>>>10),k=I+(F^b&(M^F))+D[8]+1770035416&4294967295,I=b+(k<<7&4294967295|k>>>25),k=F+(M^I&(b^M))+D[9]+2336552879&4294967295,F=I+(k<<12&4294967295|k>>>20),k=M+(b^F&(I^b))+D[10]+4294925233&4294967295,M=F+(k<<17&4294967295|k>>>15),k=b+(I^M&(F^I))+D[11]+2304563134&4294967295,b=M+(k<<22&4294967295|k>>>10),k=I+(F^b&(M^F))+D[12]+1804603682&4294967295,I=b+(k<<7&4294967295|k>>>25),k=F+(M^I&(b^M))+D[13]+4254626195&4294967295,F=I+(k<<12&4294967295|k>>>20),k=M+(b^F&(I^b))+D[14]+2792965006&4294967295,M=F+(k<<17&4294967295|k>>>15),k=b+(I^M&(F^I))+D[15]+1236535329&4294967295,b=M+(k<<22&4294967295|k>>>10),k=I+(M^F&(b^M))+D[1]+4129170786&4294967295,I=b+(k<<5&4294967295|k>>>27),k=F+(b^M&(I^b))+D[6]+3225465664&4294967295,F=I+(k<<9&4294967295|k>>>23),k=M+(I^b&(F^I))+D[11]+643717713&4294967295,M=F+(k<<14&4294967295|k>>>18),k=b+(F^I&(M^F))+D[0]+3921069994&4294967295,b=M+(k<<20&4294967295|k>>>12),k=I+(M^F&(b^M))+D[5]+3593408605&4294967295,I=b+(k<<5&4294967295|k>>>27),k=F+(b^M&(I^b))+D[10]+38016083&4294967295,F=I+(k<<9&4294967295|k>>>23),k=M+(I^b&(F^I))+D[15]+3634488961&4294967295,M=F+(k<<14&4294967295|k>>>18),k=b+(F^I&(M^F))+D[4]+3889429448&4294967295,b=M+(k<<20&4294967295|k>>>12),k=I+(M^F&(b^M))+D[9]+568446438&4294967295,I=b+(k<<5&4294967295|k>>>27),k=F+(b^M&(I^b))+D[14]+3275163606&4294967295,F=I+(k<<9&4294967295|k>>>23),k=M+(I^b&(F^I))+D[3]+4107603335&4294967295,M=F+(k<<14&4294967295|k>>>18),k=b+(F^I&(M^F))+D[8]+1163531501&4294967295,b=M+(k<<20&4294967295|k>>>12),k=I+(M^F&(b^M))+D[13]+2850285829&4294967295,I=b+(k<<5&4294967295|k>>>27),k=F+(b^M&(I^b))+D[2]+4243563512&4294967295,F=I+(k<<9&4294967295|k>>>23),k=M+(I^b&(F^I))+D[7]+1735328473&4294967295,M=F+(k<<14&4294967295|k>>>18),k=b+(F^I&(M^F))+D[12]+2368359562&4294967295,b=M+(k<<20&4294967295|k>>>12),k=I+(b^M^F)+D[5]+4294588738&4294967295,I=b+(k<<4&4294967295|k>>>28),k=F+(I^b^M)+D[8]+2272392833&4294967295,F=I+(k<<11&4294967295|k>>>21),k=M+(F^I^b)+D[11]+1839030562&4294967295,M=F+(k<<16&4294967295|k>>>16),k=b+(M^F^I)+D[14]+4259657740&4294967295,b=M+(k<<23&4294967295|k>>>9),k=I+(b^M^F)+D[1]+2763975236&4294967295,I=b+(k<<4&4294967295|k>>>28),k=F+(I^b^M)+D[4]+1272893353&4294967295,F=I+(k<<11&4294967295|k>>>21),k=M+(F^I^b)+D[7]+4139469664&4294967295,M=F+(k<<16&4294967295|k>>>16),k=b+(M^F^I)+D[10]+3200236656&4294967295,b=M+(k<<23&4294967295|k>>>9),k=I+(b^M^F)+D[13]+681279174&4294967295,I=b+(k<<4&4294967295|k>>>28),k=F+(I^b^M)+D[0]+3936430074&4294967295,F=I+(k<<11&4294967295|k>>>21),k=M+(F^I^b)+D[3]+3572445317&4294967295,M=F+(k<<16&4294967295|k>>>16),k=b+(M^F^I)+D[6]+76029189&4294967295,b=M+(k<<23&4294967295|k>>>9),k=I+(b^M^F)+D[9]+3654602809&4294967295,I=b+(k<<4&4294967295|k>>>28),k=F+(I^b^M)+D[12]+3873151461&4294967295,F=I+(k<<11&4294967295|k>>>21),k=M+(F^I^b)+D[15]+530742520&4294967295,M=F+(k<<16&4294967295|k>>>16),k=b+(M^F^I)+D[2]+3299628645&4294967295,b=M+(k<<23&4294967295|k>>>9),k=I+(M^(b|~F))+D[0]+4096336452&4294967295,I=b+(k<<6&4294967295|k>>>26),k=F+(b^(I|~M))+D[7]+1126891415&4294967295,F=I+(k<<10&4294967295|k>>>22),k=M+(I^(F|~b))+D[14]+2878612391&4294967295,M=F+(k<<15&4294967295|k>>>17),k=b+(F^(M|~I))+D[5]+4237533241&4294967295,b=M+(k<<21&4294967295|k>>>11),k=I+(M^(b|~F))+D[12]+1700485571&4294967295,I=b+(k<<6&4294967295|k>>>26),k=F+(b^(I|~M))+D[3]+2399980690&4294967295,F=I+(k<<10&4294967295|k>>>22),k=M+(I^(F|~b))+D[10]+4293915773&4294967295,M=F+(k<<15&4294967295|k>>>17),k=b+(F^(M|~I))+D[1]+2240044497&4294967295,b=M+(k<<21&4294967295|k>>>11),k=I+(M^(b|~F))+D[8]+1873313359&4294967295,I=b+(k<<6&4294967295|k>>>26),k=F+(b^(I|~M))+D[15]+4264355552&4294967295,F=I+(k<<10&4294967295|k>>>22),k=M+(I^(F|~b))+D[6]+2734768916&4294967295,M=F+(k<<15&4294967295|k>>>17),k=b+(F^(M|~I))+D[13]+1309151649&4294967295,b=M+(k<<21&4294967295|k>>>11),k=I+(M^(b|~F))+D[4]+4149444226&4294967295,I=b+(k<<6&4294967295|k>>>26),k=F+(b^(I|~M))+D[11]+3174756917&4294967295,F=I+(k<<10&4294967295|k>>>22),k=M+(I^(F|~b))+D[2]+718787259&4294967295,M=F+(k<<15&4294967295|k>>>17),k=b+(F^(M|~I))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+F&4294967295}i.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var b=I-this.blockSize,D=this.B,M=this.h,F=0;F<I;){if(M==0)for(;F<=b;)o(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<I;)if(D[M++]=C.charCodeAt(F++),M==this.blockSize){o(this,D),M=0;break}}else for(;F<I;)if(D[M++]=C[F++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=I},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var b=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.u(C),C=Array(16),I=b=0;4>I;++I)for(var D=0;32>D;D+=8)C[b++]=this.g[I]>>>D&255;return C};function a(C,I){var b=h;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=I(C)}function c(C,I){this.h=I;for(var b=[],D=!0,M=C.length-1;0<=M;M--){var F=C[M]|0;D&&F==I||(b[M]=F,D=!1)}this.g=b}var h={};function f(C){return-128<=C&&128>C?a(C,function(I){return new c([I|0],0>I?-1:0)}):new c([C|0],0>C?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return N(m(-C));for(var I=[],b=1,D=0;C>=b;D++)I[D]=C/b|0,b*=4294967296;return new c(I,0)}function y(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return N(y(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=m(Math.pow(I,8)),D=w,M=0;M<C.length;M+=8){var F=Math.min(8,C.length-M),k=parseInt(C.substring(M,M+F),I);8>F?(F=m(Math.pow(I,F)),D=D.j(F).add(m(k))):(D=D.j(b),D=D.add(m(k)))}return D}var w=f(0),T=f(1),A=f(16777216);n=c.prototype,n.m=function(){if(P(this))return-N(this).m();for(var C=0,I=1,b=0;b<this.g.length;b++){var D=this.i(b);C+=(0<=D?D:4294967296+D)*I,I*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(L(this))return"0";if(P(this))return"-"+N(this).toString(C);for(var I=m(Math.pow(C,6)),b=this,D="";;){var M=V(b,I).g;b=U(b,M.j(I));var F=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=M,L(b))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function L(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function P(C){return C.h==-1}n.l=function(C){return C=U(this,C),P(C)?-1:L(C)?0:1};function N(C){for(var I=C.g.length,b=[],D=0;D<I;D++)b[D]=~C.g[D];return new c(b,~C.h).add(T)}n.abs=function(){return P(this)?N(this):this},n.add=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],D=0,M=0;M<=I;M++){var F=D+(this.i(M)&65535)+(C.i(M)&65535),k=(F>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);D=k>>>16,F&=65535,k&=65535,b[M]=k<<16|F}return new c(b,b[b.length-1]&-2147483648?-1:0)};function U(C,I){return C.add(N(I))}n.j=function(C){if(L(this)||L(C))return w;if(P(this))return P(C)?N(this).j(N(C)):N(N(this).j(C));if(P(C))return N(this.j(N(C)));if(0>this.l(A)&&0>C.l(A))return m(this.m()*C.m());for(var I=this.g.length+C.g.length,b=[],D=0;D<2*I;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<C.g.length;M++){var F=this.i(D)>>>16,k=this.i(D)&65535,de=C.i(M)>>>16,Ce=C.i(M)&65535;b[2*D+2*M]+=k*Ce,z(b,2*D+2*M),b[2*D+2*M+1]+=F*Ce,z(b,2*D+2*M+1),b[2*D+2*M+1]+=k*de,z(b,2*D+2*M+1),b[2*D+2*M+2]+=F*de,z(b,2*D+2*M+2)}for(D=0;D<I;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=I;D<2*I;D++)b[D]=0;return new c(b,0)};function z(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function W(C,I){this.g=C,this.h=I}function V(C,I){if(L(I))throw Error("division by zero");if(L(C))return new W(w,w);if(P(C))return I=V(N(C),I),new W(N(I.g),N(I.h));if(P(I))return I=V(C,N(I)),new W(N(I.g),I.h);if(30<C.g.length){if(P(C)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var b=T,D=I;0>=D.l(C);)b=Q(b),D=Q(D);var M=X(b,1),F=X(D,1);for(D=X(D,2),b=X(b,2);!L(D);){var k=F.add(D);0>=k.l(C)&&(M=M.add(b),F=k),D=X(D,1),b=X(b,1)}return I=U(C,M.j(I)),new W(M,I)}for(M=w;0<=C.l(I);){for(b=Math.max(1,Math.floor(C.m()/I.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=m(b),k=F.j(I);P(k)||0<k.l(C);)b-=D,F=m(b),k=F.j(I);L(F)&&(F=T),M=M.add(F),C=U(C,k)}return new W(M,C)}n.A=function(C){return V(this,C).h},n.and=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],D=0;D<I;D++)b[D]=this.i(D)&C.i(D);return new c(b,this.h&C.h)},n.or=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],D=0;D<I;D++)b[D]=this.i(D)|C.i(D);return new c(b,this.h|C.h)},n.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),b=[],D=0;D<I;D++)b[D]=this.i(D)^C.i(D);return new c(b,this.h^C.h)};function Q(C){for(var I=C.g.length+1,b=[],D=0;D<I;D++)b[D]=C.i(D)<<1|C.i(D-1)>>>31;return new c(b,C.h)}function X(C,I){var b=I>>5;I%=32;for(var D=C.g.length-b,M=[],F=0;F<D;F++)M[F]=0<I?C.i(F+b)>>>I|C.i(F+b+1)<<32-I:C.i(F+b);return new c(M,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,iE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,ys=c}).apply(typeof Dy<"u"?Dy:typeof self<"u"?self:typeof window<"u"?window:{});var oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sE,Ja,oE,vc,Hf,aE,lE,uE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof oc=="object"&&oc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var H=u[S];if(!(H in _))break e;_=_[H]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var _=0,S=!1,H={next:function(){if(!S&&_<u.length){var Y=_++;return{value:g(Y,u[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,_){return u.call.apply(u.bind,arguments)}function w(u,g,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),u.apply(g,H)}}return function(){return u.apply(g,arguments)}}function T(u,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,T.apply(null,arguments)}function A(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function L(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,H,Y){for(var le=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)le[Ge-2]=arguments[Ge];return g.prototype[H].apply(S,le)}}function P(u){const g=u.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function N(u,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const H=u.length||0,Y=S.length||0;u.length=H+Y;for(let le=0;le<Y;le++)u[H+le]=S[le]}else u.push(S)}}class U{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function V(u){return V[" "](u),u}V[" "]=function(){};var Q=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function X(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function C(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function I(u){const g={};for(const _ in u)g[_]=u[_];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,g){let _,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(_ in S)u[_]=S[_];for(let Y=0;Y<b.length;Y++)_=b[Y],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function M(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function F(u){h.setTimeout(()=>{throw u},0)}function k(){var u=oe;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class de{constructor(){this.h=this.g=null}add(g,_){const S=Ce.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ce=new U(()=>new ye,u=>u.reset());class ye{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,J=!1,oe=new de,re=()=>{const u=h.Promise.resolve(void 0);he=()=>{u.then(B)}};var B=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(_){F(_)}var g=Ce;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}J=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var xe=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return u})();function Re(u,g){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(Q){e:{try{V(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}L(Re,pe);var Me={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),we=0;function De(u,g,_,S,H){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=H,this.key=++we,this.da=this.fa=!1}function ke(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Le(u){this.src=u,this.g={},this.h=0}Le.prototype.add=function(u,g,_,S,H){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var le=lt(u,g,S,H);return-1<le?(g=u[le],_||(g.fa=!1)):(g=new De(g,this.src,Y,!!S,H),g.fa=_,u.push(g)),g};function je(u,g){var _=g.type;if(_ in u.g){var S=u.g[_],H=Array.prototype.indexOf.call(S,g,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(S,H,1),Y&&(ke(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function lt(u,g,_,S){for(var H=0;H<u.length;++H){var Y=u[H];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==S)return H}return-1}var It="closure_lm_"+(1e6*Math.random()|0),mn={};function Pn(u,g,_,S,H){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)Pn(u,g[Y],_,S,H);return null}return _=ia(_),u&&u[ue]?u.K(g,_,m(S)?!!S.capture:!1,H):kn(u,g,_,!1,S,H)}function kn(u,g,_,S,H,Y){if(!g)throw Error("Invalid event type");var le=m(H)?!!H.capture:!!H,Ge=bs(u);if(Ge||(u[It]=Ge=new Le(u)),_=Ge.add(g,_,S,le,Y),_.proxy)return _;if(S=Ns(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)xe||(H=le),H===void 0&&(H=!1),u.addEventListener(g.toString(),S,H);else if(u.attachEvent)u.attachEvent(Tr(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ns(){function u(_){return g.call(u.src,u.listener,_)}const g=ra;return u}function Nn(u,g,_,S,H){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)Nn(u,g[Y],_,S,H);else S=m(S)?!!S.capture:!!S,_=ia(_),u&&u[ue]?(u=u.i,g=String(g).toString(),g in u.g&&(Y=u.g[g],_=lt(Y,_,S,H),-1<_&&(ke(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete u.g[g],u.h--)))):u&&(u=bs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=lt(g,_,S,H)),(_=-1<u?g[u]:null)&&Er(_))}function Er(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ue])je(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(Tr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=bs(g))?(je(_,u),_.h==0&&(_.src=null,g[It]=null)):ke(u)}}}function Tr(u){return u in mn?mn[u]:mn[u]="on"+u}function ra(u,g){if(u.da)u=!0;else{g=new Re(g,this);var _=u.listener,S=u.ha||u.src;u.fa&&Er(u),u=_.call(S,g)}return u}function bs(u){return u=u[It],u instanceof Le?u:null}var Os="__closure_events_fn_"+(1e9*Math.random()>>>0);function ia(u){return typeof u=="function"?u:(u[Os]||(u[Os]=function(g){return u.handleEvent(g)}),u[Os])}function vt(){Z.call(this),this.i=new Le(this),this.M=this,this.F=null}L(vt,Z),vt.prototype[ue]=!0,vt.prototype.removeEventListener=function(u,g,_,S){Nn(this,u,g,_,S)};function yt(u,g){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new pe(g,u);else if(g instanceof pe)g.target=g.target||u;else{var H=g;g=new pe(S,u),D(g,H)}if(H=!0,_)for(var Y=_.length-1;0<=Y;Y--){var le=g.g=_[Y];H=Sr(le,S,!0,g)&&H}if(le=g.g=u,H=Sr(le,S,!0,g)&&H,H=Sr(le,S,!1,g)&&H,_)for(Y=0;Y<_.length;Y++)le=g.g=_[Y],H=Sr(le,S,!1,g)&&H}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],S=0;S<_.length;S++)ke(_[S]);delete u.g[g],u.h--}}this.F=null},vt.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},vt.prototype.L=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function Sr(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,Y=0;Y<g.length;++Y){var le=g[Y];if(le&&!le.da&&le.capture==_){var Ge=le.listener,_t=le.ha||le.src;le.fa&&je(u.i,le),H=Ge.call(_t,S)!==!1&&H}}return H&&!S.defaultPrevented}function sa(u,g,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(u,g||0)}function Jr(u){u.g=sa(()=>{u.g=null,u.i&&(u.i=!1,Jr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class ji extends Z{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Jr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(u){Z.call(this),this.h=u,this.g={}}L(Ui,Z);var oa=[];function aa(u){X(u.g,function(g,_){this.g.hasOwnProperty(_)&&Er(g)},u),u.g={}}Ui.prototype.N=function(){Ui.aa.N.call(this),aa(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var la=h.JSON.stringify,ua=h.JSON.parse,ca=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Bi(){}Bi.prototype.h=null;function Ds(u){return u.h||(u.h=u.i())}function Ms(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){pe.call(this,"d")}L(Zn,pe);function Ls(){pe.call(this,"c")}L(Ls,pe);var er={},da=null;function zi(){return da=da||new vt}er.La="serverreachability";function ha(u){pe.call(this,er.La,u)}L(ha,pe);function Ir(u){const g=zi();yt(g,new ha(g))}er.STAT_EVENT="statevent";function fa(u,g){pe.call(this,er.STAT_EVENT,u),this.stat=g}L(fa,pe);function dt(u){const g=zi();yt(g,new fa(g,u))}er.Ma="timingevent";function Vs(u,g){pe.call(this,er.Ma,u),this.size=g}L(Vs,pe);function bn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function Wi(u,g,_,S,H,Y){u.info(function(){if(u.g)if(Y)for(var le="",Ge=Y.split("&"),_t=0;_t<Ge.length;_t++){var ze=Ge[_t].split("=");if(1<ze.length){var xt=ze[0];ze=ze[1];var pt=xt.split("_");le=2<=pt.length&&pt[1]=="type"?le+(xt+"="+ze+"&"):le+(xt+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+g+`
`+_+`
`+le})}function Fs(u,g,_,S,H,Y,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+g+`
`+_+`
`+Y+" "+le})}function On(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+_d(u,_)+(S?" "+S:"")})}function pa(u,g){u.info(function(){return"TIMEOUT: "+g})}$i.prototype.info=function(){};function _d(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<H.length;le++)H[le]=""}}}}return la(_)}catch{return g}}var js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function Hi(){}L(Hi,Bi),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},Dn=new Hi;function Mn(u,g,_,S){this.j=u,this.i=g,this.l=_,this.R=S||1,this.U=new Ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fl}function Fl(){this.i=null,this.g="",this.h=!1}var ma={},Us={};function Bs(u,g,_){u.L=1,u.v=ri(an(g)),u.m=_,u.P=!0,ga(u,null)}function ga(u,g){u.F=Date.now(),Je(u),u.A=an(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),si(_.i,"t",S),u.C=0,_=u.j.J,u.h=new Fl,u.g=nu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new ji(T(u.Y,u,u.g),u.O)),g=u.U,_=u.g,S=u.ca;var H="readystatechange";Array.isArray(H)||(H&&(oa[0]=H.toString()),H=oa);for(var Y=0;Y<H.length;Y++){var le=Pn(_,H[Y],S||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Ir(),Wi(u.i,u.u,u.A,u.l,u.R,u.m)}Mn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Jt(u)==3?g.j():this.Y(u)},Mn.prototype.Y=function(u){try{if(u==this.g)e:{const pt=Jt(this.g);var g=this.g.Ba();const _n=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Ta(this.g)))){this.J||pt!=4||g==7||(g==8||0>=_n?Ir(3):Ir(2)),qi(this);var _=this.g.Z();this.X=_;t:if(jl(this)){var S=Ta(this.g);u="";var H=S.length,Y=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Zr(this);var le="";break t}this.h.i=new h.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(Y&&g==H-1)});S.length=0,this.h.g+=u,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,Fs(this.i,this.u,this.A,this.l,this.R,pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,_t=this.g;if((Ge=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ge)){var ze=Ge;break t}}ze=null}if(_=ze)On(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,_);else{this.o=!1,this.s=3,dt(12),vn(this),Zr(this);break e}}if(this.P){_=!0;let un;for(;!this.J&&this.C<le.length;)if(un=wd(this,le),un==Us){pt==4&&(this.s=4,dt(14),_=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(un==ma){this.s=4,dt(15),On(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else On(this.i,this.l,un,null),va(this,un);if(jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||le.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)On(this.i,this.l,le,"[Invalid Chunked Response]"),vn(this),Zr(this);else if(0<le.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ia(xt),xt.M=!0,dt(11))}}else On(this.i,this.l,le,null),va(this,le);pt==4&&vn(this),this.o&&!this.J&&(pt==4?Js(this.j,this):(this.o=!1,Je(this)))}else Ks(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),vn(this),Zr(this)}}}catch{}finally{}};function jl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function wd(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?Us:(_=Number(g.substring(_,S)),isNaN(_)?ma:(S+=1,S+_>g.length?Us:(g=g.slice(S,S+_),u.C=S+_,g)))}Mn.prototype.cancel=function(){this.J=!0,vn(this)};function Je(u){u.S=Date.now()+u.I,Ul(u,u.I)}function Ul(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=bn(T(u.ba,u),g)}function qi(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Mn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(pa(this.i,this.A),this.L!=2&&(Ir(),dt(17)),vn(this),this.s=2,Zr(this)):Ul(this,this.S-u)};function Zr(u){u.j.G==0||u.J||Js(u.j,u)}function vn(u){qi(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,aa(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function va(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Kt(_.h,u))){if(!u.K&&Kt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ys(_),Un(_);else break e;Xs(_),dt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=bn(T(_.Za,_),6e3));if(1>=zl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Pr(_,11)}else if((u.K||_.g==u)&&Ys(_),!z(g))for(H=_.Da.g.parse(g),g=0;g<H.length;g++){let ze=H[g];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const xt=ze[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const pt=ze[4];pt!=null&&(_.Aa=pt,_.j.info("SVER="+_.Aa));const _n=ze[5];_n!=null&&typeof _n=="number"&&0<_n&&(S=1.5*_n,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const un=u.g;if(un){const Zi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var Y=S.h;Y.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ya(Y,Y.h),Y.h=null))}if(S.D){const eo=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;eo&&(S.ya=eo,Xe(S.I,S.D,eo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var le=u;if(S.qa=tu(S,S.J?S.ia:null,S.W),le.K){$l(S.h,le);var Ge=le,_t=S.L;_t&&(Ge.I=_t),Ge.B&&(qi(Ge),Je(Ge)),S.g=le}else Ji(S);0<_.i.length&&ir(_)}else ze[0]!="stop"&&ze[0]!="close"||Pr(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Pr(_,7):Nt(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}Ir(4)}catch{}}var Bl=class{constructor(u,g){this.g=u,this.map=g}};function Ki(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zl(u){return u.h?1:u.g?u.g.size:0}function Kt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ya(u,g){u.g?u.g.add(g):u.h=g}function $l(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ki.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return P(u.i)}function zs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var g=[],_=u.length,S=0;S<_;S++)g.push(u[S]);return g}g=[],_=0;for(S in u)g[_++]=u[S];return g}function $s(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const S in u)g[_++]=S;return g}}}function ei(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=$s(u),S=zs(u),H=S.length,Y=0;Y<H;Y++)g.call(void 0,S[Y],_&&_[Y],u)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ed(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),H=null;if(0<=S){var Y=u[_].substring(0,S);H=u[_].substring(S+1)}else Y=u[_];g(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function xr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof xr){this.h=u.h,Qi(this,u.j),this.o=u.o,this.g=u.g,ti(this,u.s),this.l=u.l;var g=u.i,_=new tr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ni(this,_),this.m=u.m}else u&&(g=String(u).match(Gi))?(this.h=!1,Qi(this,g[1]||"",!0),this.o=Ue(g[2]||""),this.g=Ue(g[3]||"",!0),ti(this,g[4]),this.l=Ue(g[5]||"",!0),ni(this,g[6]||"",!0),this.m=Ue(g[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}xr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ii(g,Ws,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ii(g,Ws,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ii(_,_.charAt(0)=="/"?Kl:ql,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ii(_,_a)),u.join("")};function an(u){return new xr(u)}function Qi(u,g,_){u.j=_?Ue(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ti(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function ni(u,g,_){g instanceof tr?(u.i=g,nr(u.i,u.h)):(_||(g=ii(g,Gl)),u.i=new tr(g,u.h))}function Xe(u,g,_){u.i.set(g,_)}function ri(u){return Xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ue(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ii(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Hl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Hl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ws=/[#\/\?@]/g,ql=/[#\?:]/g,Kl=/[#\?]/g,Gl=/[#\?@]/g,_a=/#/g;function tr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function kt(u){u.g||(u.g=new Map,u.h=0,u.i&&Ed(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=tr.prototype,n.add=function(u,g){kt(this),this.i=null,u=yn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Ln(u,g){kt(u),g=yn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Vn(u,g){return kt(u),g=yn(u,g),u.g.has(g)}n.forEach=function(u,g){kt(this),this.g.forEach(function(_,S){_.forEach(function(H){u.call(g,H,S,this)},this)},this)},n.na=function(){kt(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const H=u[S];for(let Y=0;Y<H.length;Y++)_.push(g[S])}return _},n.V=function(u){kt(this);let g=[];if(typeof u=="string")Vn(this,u)&&(g=g.concat(this.g.get(yn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},n.set=function(u,g){return kt(this),this.i=null,u=yn(this,u),Vn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function si(u,g,_){Ln(u,g),0<_.length&&(u.i=null,u.g.set(yn(u,g),P(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const Y=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var H=Y;le[S]!==""&&(H+="="+encodeURIComponent(String(le[S]))),u.push(H)}}return this.i=u.join("&")};function yn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function nr(u,g){g&&!u.j&&(kt(u),u.i=null,u.g.forEach(function(_,S){var H=S.toLowerCase();S!=H&&(Ln(this,S),si(this,H,_))},u)),u.j=g}function Td(u,g){const _=new $i;if(h.Image){const S=new Image;S.onload=A(Yt,_,"TestLoadImage: loaded",!0,g,S),S.onerror=A(Yt,_,"TestLoadImage: error",!1,g,S),S.onabort=A(Yt,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=A(Yt,_,"TestLoadImage: timeout",!1,g,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function Ql(u,g){const _=new $i,S=new AbortController,H=setTimeout(()=>{S.abort(),Yt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(Y=>{clearTimeout(H),Y.ok?Yt(_,"TestPingServer: ok",!0,g):Yt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Yt(_,"TestPingServer: error",!1,g)})}function Yt(u,g,_,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(_)}catch{}}function Sd(){this.g=new ca}function Xl(u,g,_){const S=_||"";try{ei(u,function(H,Y){let le=H;m(H)&&(le=la(H)),g.push(S+Y+"="+encodeURIComponent(le))})}catch(H){throw g.push(S+"type="+encodeURIComponent("_badmap")),H}}function Cr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Cr,Bi),Cr.prototype.g=function(){return new Xi(this.l,this.j)},Cr.prototype.i=(function(u){return function(){return u}})({});function Xi(u,g){vt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Xi,vt),n=Xi.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,jn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Fn(this):jn(this),this.readyState==3&&Yl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},n.Qa=function(u){this.g&&(this.response=u,Fn(this))},n.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,jn(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rr(u){let g="";return X(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function oi(u,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Rr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Xe(u,g,_))}function nt(u){vt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(nt,vt);var Id=/^https?$/i,wa=["POST","PUT"];n=nt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?Ds(this.o):Ds(Dn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Y){Yi(this,Y);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)_.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(wa,g,void 0))||S||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of _)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qs(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Yi(this,Y)}};function Yi(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Hs(u),ln(u)}function Hs(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},n.bb=function(){Ea(this)};function Ea(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Jt(u)!=4||u.Z()!=2)){if(u.u&&Jt(u)==4)sa(u.Ea,0,u);else if(yt(u,"readystatechange"),Jt(u)==4){u.h=!1;try{const le=u.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=le===0){var H=String(u.D).match(Gi)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),S=!Id.test(H?H.toLowerCase():"")}_=S}if(_)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var Y=2<Jt(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Hs(u)}}finally{ln(u)}}}}function ln(u,g){if(u.g){qs(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||yt(u,"ready");try{_.onreadystatechange=S}catch{}}}function qs(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Jt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ua(g)}};function Ta(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ks(u){const g={};u=(u.g&&2<=Jt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(z(u[S]))continue;var _=M(u[S]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[H]||[];g[H]=Y,Y.push(_)}C(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Sa(u){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,u),this.cb=rr("retryDelaySeedMs",1e4,u),this.Wa=rr("forwardChannelMaxRetries",2,u),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(u&&u.concurrentRequestLimit),this.Da=new Sd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Sa.prototype,n.la=8,n.G=1,n.connect=function(u,g,_,S){dt(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=tu(this,null,this.W),ir(this)};function Nt(u){if(Gs(u),u.G==3){var g=u.U++,_=an(u.I);if(Xe(_,"SID",u.K),Xe(_,"RID",g),Xe(_,"TYPE","terminate"),Ar(u,_),g=new Mn(u,u.j,g),g.L=2,g.v=ri(an(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=nu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Je(g)}eu(u)}function Un(u){u.g&&(Ia(u),u.g.cancel(),u.g=null)}function Gs(u){Un(u),u.u&&(h.clearTimeout(u.u),u.u=null),Ys(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function ir(u){if(!on(u.h)&&!u.s){u.s=!0;var g=u.Ga;he||re(),J||(he(),J=!0),oe.add(g,u),u.B=0}}function xd(u,g){return zl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=bn(T(u.Ga,u,g),Zl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const H=new Mn(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=I(Y),D(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ai(this,H,g),_=an(this.I),Xe(_,"RID",u),Xe(_,"CVER",22),this.D&&Xe(_,"X-HTTP-Session-Id",this.D),Ar(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(Rr(Y)))+"&"+g:this.m&&oi(_,this.m,Y)),ya(this.h,H),this.Ua&&Xe(_,"TYPE","init"),this.P?(Xe(_,"$req",g),Xe(_,"SID","null"),H.T=!0,Bs(H,_,null)):Bs(H,_,g),this.G=2}}else this.G==3&&(u?Qs(this,u):this.i.length==0||on(this.h)||Qs(this))};function Qs(u,g){var _;g?_=g.l:_=u.U++;const S=an(u.I);Xe(S,"SID",u.K),Xe(S,"RID",_),Xe(S,"AID",u.T),Ar(u,S),u.m&&u.o&&oi(S,u.m,u.o),_=new Mn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ai(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ya(u.h,_),Bs(_,S,g)}function Ar(u,g){u.H&&X(u.H,function(_,S){Xe(g,S,_)}),u.l&&ei({},function(_,S){Xe(g,S,_)})}function ai(u,g,_){_=Math.min(u.i.length,_);var S=u.l?T(u.l.Na,u.l,u):null;e:{var H=u.i;let Y=-1;for(;;){const le=["count="+_];Y==-1?0<_?(Y=H[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let Ge=!0;for(let _t=0;_t<_;_t++){let ze=H[_t].g;const xt=H[_t].map;if(ze-=Y,0>ze)Y=Math.max(0,H[_t].g-100),Ge=!1;else try{Xl(xt,le,"req"+ze+"_")}catch{S&&S(xt)}}if(Ge){S=le.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,S}function Ji(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;he||re(),J||(he(),J=!0),oe.add(g,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=bn(T(u.Fa,u),Zl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=bn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Un(this),Jl(this))};function Ia(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Jl(u){u.g=new Mn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=an(u.qa);Xe(g,"RID","rpc"),Xe(g,"SID",u.K),Xe(g,"AID",u.T),Xe(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xe(g,"TO",u.ja),Xe(g,"TYPE","xmlhttp"),Ar(u,g),u.m&&u.o&&oi(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ri(an(g)),_.m=null,_.P=!0,ga(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Un(this),Xs(this),dt(19))};function Ys(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Js(u,g){var _=null;if(u.g==g){Ys(u),Ia(u),u.g=null;var S=2}else if(Kt(u.h,g))_=g.D,$l(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var H=u.B;S=zi(),yt(S,new Vs(S,_)),ir(u)}else Ji(u);else if(H=g.s,H==3||H==0&&0<g.X||!(S==1&&xd(u,g)||S==2&&Xs(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),H){case 1:Pr(u,5);break;case 4:Pr(u,10);break;case 3:Pr(u,6);break;default:Pr(u,2)}}}function Zl(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Pr(u,g){if(u.j.info("Error code "+g),g==2){var _=T(u.fb,u),S=u.Xa;const H=!S;S=new xr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Qi(S,"https"),ri(S),H?Td(S.toString(),_):Ql(S.toString(),_)}else dt(2);u.G=0,u.l&&u.l.sa(g),eu(u),Gs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function eu(u){if(u.G=0,u.ka=[],u.l){const g=Wl(u.h);(g.length!=0||u.i.length!=0)&&(N(u.ka,g),N(u.ka,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.ra()}}function tu(u,g,_){var S=_ instanceof xr?an(_):new xr(_);if(S.g!="")g&&(S.g=g+"."+S.g),ti(S,S.s);else{var H=h.location;S=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var Y=new xr(null);S&&Qi(Y,S),g&&(Y.g=g),H&&ti(Y,H),_&&(Y.l=_),S=Y}return _=u.D,g=u.ya,_&&g&&Xe(S,_,g),Xe(S,"VER",u.la),Ar(u,S),S}function nu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new nt(new Cr({eb:_})):new nt(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xa(){}n=xa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Zs(){}Zs.prototype.g=function(u,g){return new Gt(u,g)};function Gt(u,g){vt.call(this),this.g=new Sa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!z(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!z(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new sr(this)}L(Gt,vt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Nt(this.g)},Gt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=la(u),u=_);g.i.push(new Bl(g.Ya++,u)),g.G==3&&ir(g)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Gt.aa.N.call(this)};function ru(u){Zn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}L(ru,Zn);function iu(){Ls.call(this),this.status=1}L(iu,Ls);function sr(u){this.g=u}L(sr,xa),sr.prototype.ua=function(){yt(this.g,"a")},sr.prototype.ta=function(u){yt(this.g,new ru(u))},sr.prototype.sa=function(u){yt(this.g,new iu)},sr.prototype.ra=function(){yt(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,uE=function(){return new Zs},lE=function(){return zi()},aE=er,Hf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,vc=js,Vl.COMPLETE="complete",oE=Vl,Ms.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ja=Ms,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,sE=nt}).apply(typeof oc<"u"?oc:typeof self<"u"?self:typeof window<"u"?window:{});const My="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Sp("@firebase/firestore");function Xa(){return Cs.logLevel}function ve(n,...e){if(Cs.logLevel<=Be.DEBUG){const t=e.map(Lp);Cs.debug(`Firestore (${Zo}): ${n}`,...t)}}function Qr(n,...e){if(Cs.logLevel<=Be.ERROR){const t=e.map(Lp);Cs.error(`Firestore (${Zo}): ${n}`,...t)}}function Uo(n,...e){if(Cs.logLevel<=Be.WARN){const t=e.map(Lp);Cs.warn(`Firestore (${Zo}): ${n}`,...t)}}function Lp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function Qe(n,e){n||Ne()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($t.UNAUTHENTICATED)))}shutdown(){}}class l2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class u2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ni,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ni)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string"),new cE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new $t(e)}}class c2{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class d2{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new c2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const i=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>i(a)))};const o=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new h2(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=p2(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function qe(n,e){return n<e?-1:n>e?1:0}function Bo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new St(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new St(0,0))}static max(){return new be(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ne(),i===void 0?i=e.length-t:i>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return hl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hl?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ct extends hl{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const m2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends hl{construct(e,t,i){return new Mt(e,t,i)}static isValidIdentifier(e){return m2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Se(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Se(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new Se(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(t)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(ct.fromString(e))}static fromName(e){return new Ie(ct.fromString(e).popFirst(5))}static empty(){return new Ie(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new ct(e.slice()))}}function g2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=be.fromTimestamp(i===1e9?new St(t+1,0):new St(t,i));return new Di(o,Ie.empty(),e)}function v2(n){return new Di(n.readTime,n.key,-1)}class Di{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Di(be.min(),Ie.empty(),-1)}static max(){return new Di(be.max(),Ie.empty(),-1)}}function y2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==_2)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,i)=>{t(e)}))}static reject(e){return new ne(((t,i)=>{i(e)}))}static waitFor(e){return new ne(((t,i)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&t()}),(f=>i(f)))})),c=!0,a===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next((o=>o?ne.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,a)=>{i.push(t.call(this,o,a))})),this.waitFor(i)}static mapArray(e,t){return new ne(((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((y=>{c[m]=y,++h,h===a&&i(c)}),(y=>o(y)))}}))}static doWhile(e,t){return new ne(((i,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):i()};a()}))}}function E2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vp.oe=-1;function ud(n){return n==null}function Vc(n){return n===0&&1/n==-1/0}function T2(n){return typeof n=="number"&&Number.isInteger(n)&&!Vc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ea(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Dt.RED,this.left=o??Dt.EMPTY,this.right=a??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Dt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vy(this.data.getIterator())}getIteratorFrom(e){return new Vy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Lt(this.comparator);return t.data=e,t}}class Vy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Lt(Mt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fE("Invalid base64 string: "+a):a}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const S2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=S2.exec(n);if(Qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Rs(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function jp(n){const e=n.mapValue.fields.__previous_value__;return Fp(e)?jp(e):e}function fl(n){const e=Mi(n.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t,i,o,a,c,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}class pl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc={mapValue:{}};function As(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fp(n)?4:C2(n)?9007199254740991:x2(n)?10:11:Ne()}function yr(n,e){if(n===e)return!0;const t=As(n);if(t!==As(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fl(n).isEqual(fl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Mi(o.timestampValue),h=Mi(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Rs(o.bytesValue).isEqual(Rs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return ft(o.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return ft(o.integerValue)===ft(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=ft(o.doubleValue),h=ft(a.doubleValue);return c===h?Vc(c)===Vc(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return Bo(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(Ly(c)!==Ly(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!yr(c[f],h[f])))return!1;return!0})(n,e);default:return Ne()}}function ml(n,e){return(n.values||[]).find((t=>yr(t,e)))!==void 0}function zo(n,e){if(n===e)return 0;const t=As(n),i=As(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=ft(a.integerValue||a.doubleValue),f=ft(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return Fy(n.timestampValue,e.timestampValue);case 4:return Fy(fl(n),fl(e));case 5:return qe(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=Rs(a),f=Rs(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=qe(h[m],f[m]);if(y!==0)return y}return qe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=qe(ft(a.latitude),ft(c.latitude));return h!==0?h:qe(ft(a.longitude),ft(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return jy(n.arrayValue,e.arrayValue);case 10:return(function(a,c){var h,f,m,y;const w=a.fields||{},T=c.fields||{},A=(h=w.value)===null||h===void 0?void 0:h.arrayValue,L=(f=T.value)===null||f===void 0?void 0:f.arrayValue,P=qe(((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0,((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0);return P!==0?P:jy(A,L)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===lc.mapValue&&c===lc.mapValue)return 0;if(a===lc.mapValue)return 1;if(c===lc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const T=qe(f[w],y[w]);if(T!==0)return T;const A=zo(h[f[w]],m[y[w]]);if(A!==0)return A}return qe(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Ne()}}function Fy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Mi(n),i=Mi(e),o=qe(t.seconds,i.seconds);return o!==0?o:qe(t.nanos,i.nanos)}function jy(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=zo(t[o],i[o]);if(a)return a}return qe(t.length,i.length)}function $o(n){return qf(n)}function qf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Mi(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Rs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=qf(a);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${qf(t.fields[c])}`;return o+"}"})(n.mapValue):Ne()}function Kf(n){return!!n&&"integerValue"in n}function Up(n){return!!n&&"arrayValue"in n}function Uy(n){return!!n&&"nullValue"in n}function By(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yc(n){return!!n&&"mapValue"in n}function x2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function nl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ea(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=nl(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function C2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(t)}setAll(e){let t=Mt.emptyPath(),i={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=nl(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ea(t,((o,a)=>e[o]=a));for(const o of i)delete e[o]}clone(){return new Cn(nl(this.value))}}function pE(n){const e=[];return ea(n.fields,((t,i)=>{const o=new Mt([t]);if(yc(i)){const a=pE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),Cn.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,be.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,be.min(),be.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,be.min(),be.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t){this.position=e,this.inclusive=t}}function zy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),t.key):i=zo(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function $y(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function R2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{}class Tt extends mE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new P2(e,t,i):t==="array-contains"?new b2(e,i):t==="in"?new O2(e,i):t==="not-in"?new D2(e,i):t==="array-contains-any"?new M2(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new k2(e,i):new N2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(zo(t,this.value)):t!==null&&As(this.value)===As(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends mE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _r(e,t)}matches(e){return gE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gE(n){return n.op==="and"}function vE(n){return A2(n)&&gE(n)}function A2(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function Gf(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(vE(n))return n.filters.map((e=>Gf(e))).join(",");{const e=n.filters.map((t=>Gf(t))).join(",");return`${n.op}(${e})`}}function yE(n,e){return n instanceof Tt?(function(i,o){return o instanceof Tt&&i.op===o.op&&i.field.isEqual(o.field)&&yr(i.value,o.value)})(n,e):n instanceof _r?(function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((a,c,h)=>a&&yE(c,o.filters[h])),!0):!1})(n,e):void Ne()}function _E(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`})(n):n instanceof _r?(function(t){return t.op.toString()+" {"+t.getFilters().map(_E).join(" ,")+"}"})(n):"Filter"}class P2 extends Tt{constructor(e,t,i){super(e,t,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class k2 extends Tt{constructor(e,t){super(e,"in",t),this.keys=wE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class N2 extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=wE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>Ie.fromName(i.referenceValue)))}class b2 extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Up(t)&&ml(t.arrayValue,this.value)}}class O2 extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ml(this.value.arrayValue,t)}}class D2 extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ml(this.value.arrayValue,t)}}class M2 extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Up(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>ml(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function Wy(n,e=null,t=[],i=[],o=null,a=null,c=null){return new L2(n,e,t,i,o,a,c)}function Bp(n){const e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Gf(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(a){return a.field.canonicalString()+a.dir})(i))).join(","),ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>$o(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>$o(i))).join(",")),e.ue=t}return e.ue}function zp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!R2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!yE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$y(n.startAt,e.startAt)&&$y(n.endAt,e.endAt)}function Qf(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function V2(n,e,t,i,o,a,c,h){return new cd(n,e,t,i,o,a,c,h)}function $p(n){return new cd(n)}function Hy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function F2(n){return n.collectionGroup!==null}function rl(n){const e=Oe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Lt(Mt.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new jc(a,i))})),t.has(Mt.keyField().canonicalString())||e.ce.push(new jc(Mt.keyField(),i))}return e.ce}function pr(n){const e=Oe(n);return e.le||(e.le=j2(e,rl(n))),e.le}function j2(n,e){if(n.limitType==="F")return Wy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new jc(o.field,a)}));const t=n.endAt?new Fc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Fc(n.startAt.position,n.startAt.inclusive):null;return Wy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Xf(n,e,t){return new cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dd(n,e){return zp(pr(n),pr(e))&&n.limitType===e.limitType}function EE(n){return`${Bp(pr(n))}|lt:${n.limitType}`}function Co(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>_E(o))).join(", ")}]`),ud(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>$o(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>$o(o))).join(",")),`Target(${i})`})(pr(n))}; limitType=${n.limitType})`}function hd(n,e){return e.isFoundDocument()&&(function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ie.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)})(n,e)&&(function(i,o){for(const a of rl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,h,f){const m=zy(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,rl(i),o)||i.endAt&&!(function(c,h,f){const m=zy(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,rl(i),o))})(n,e)}function U2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TE(n){return(e,t)=>{let i=!1;for(const o of rl(n)){const a=B2(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function B2(n,e,t){const i=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(a,c,h){const f=c.data.field(a),m=h.data.field(a);return f!==null&&m!==null?zo(f,m):Ne()})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,((t,i)=>{for(const[o,a]of i)e(o,a)}))}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new at(Ie.comparator);function Xr(){return z2}const SE=new at(Ie.comparator);function Za(...n){let e=SE;for(const t of n)e=e.insert(t.key,t);return e}function IE(n){let e=SE;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ms(){return il()}function xE(){return il()}function il(){return new ta((n=>n.toString()),((n,e)=>n.isEqual(e)))}const $2=new at(Ie.comparator),W2=new Lt(Ie.comparator);function Fe(...n){let e=W2;for(const t of n)e=e.add(t);return e}const H2=new Lt(qe);function q2(){return H2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function CE(n){return{integerValue:""+n}}function K2(n,e){return T2(e)?CE(e):Wp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function G2(n,e,t){return n instanceof gl?(function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Fp(a)&&(a=jp(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}})(t,e):n instanceof vl?AE(n,e):n instanceof yl?PE(n,e):(function(o,a){const c=RE(o,a),h=qy(c)+qy(o.Pe);return Kf(c)&&Kf(o.Pe)?CE(h):Wp(o.serializer,h)})(n,e)}function Q2(n,e,t){return n instanceof vl?AE(n,e):n instanceof yl?PE(n,e):t}function RE(n,e){return n instanceof Uc?(function(i){return Kf(i)||(function(a){return!!a&&"doubleValue"in a})(i)})(e)?e:{integerValue:0}:null}class gl extends fd{}class vl extends fd{constructor(e){super(),this.elements=e}}function AE(n,e){const t=kE(e);for(const i of n.elements)t.some((o=>yr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class yl extends fd{constructor(e){super(),this.elements=e}}function PE(n,e){let t=kE(e);for(const i of n.elements)t=t.filter((o=>!yr(o,i)));return{arrayValue:{values:t}}}class Uc extends fd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function qy(n){return ft(n.integerValue||n.doubleValue)}function kE(n){return Up(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t){this.field=e,this.transform=t}}function Y2(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof vl&&o instanceof vl||i instanceof yl&&o instanceof yl?Bo(i.elements,o.elements,yr):i instanceof Uc&&o instanceof Uc?yr(i.Pe,o.Pe):i instanceof gl&&o instanceof gl})(n.transform,e.transform)}class J2{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class pd{}function NE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new OE(n.key,Wr.none()):new Ol(n.key,n.data,Wr.none());{const t=n.data,i=Cn.empty();let o=new Lt(Mt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new Ps(n.key,i,new Gn(o.toArray()),Wr.none())}}function Z2(n,e,t){n instanceof Ol?(function(o,a,c){const h=o.value.clone(),f=Gy(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Ps?(function(o,a,c){if(!_c(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=Gy(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(bE(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function sl(n,e,t,i){return n instanceof Ol?(function(a,c,h,f){if(!_c(a.precondition,c))return h;const m=a.value.clone(),y=Qy(a.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,i):n instanceof Ps?(function(a,c,h,f){if(!_c(a.precondition,c))return h;const m=Qy(a.fieldTransforms,f,c),y=c.data;return y.setAll(bE(a)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,i):(function(a,c,h){return _c(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function eN(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=RE(i.transform,o||null);a!=null&&(t===null&&(t=Cn.empty()),t.set(i.field,a))}return t||null}function Ky(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Bo(i,o,((a,c)=>Y2(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ol extends pd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ps extends pd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function bE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Gy(n,e,t){const i=new Map;Qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,Q2(c,h,t[o]))}return i}function Qy(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,G2(a,c,e))}return i}class OE extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tN extends pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Z2(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=sl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=sl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=xE();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const f=NE(c,h);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(be.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((t,i)=>Ky(t,i)))&&Bo(this.baseMutations,e.baseMutations,((t,i)=>Ky(t,i)))}}class Hp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Qe(e.mutations.length===i.length);let o=(function(){return $2})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Hp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,$e;function sN(n){switch(n){default:return Ne();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function DE(n){if(n===void 0)return Qr("GRPC error has no .code"),se.UNKNOWN;switch(n){case gt.OK:return se.OK;case gt.CANCELLED:return se.CANCELLED;case gt.UNKNOWN:return se.UNKNOWN;case gt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case gt.INTERNAL:return se.INTERNAL;case gt.UNAVAILABLE:return se.UNAVAILABLE;case gt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case gt.NOT_FOUND:return se.NOT_FOUND;case gt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case gt.ABORTED:return se.ABORTED;case gt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case gt.DATA_LOSS:return se.DATA_LOSS;default:return Ne()}}($e=gt||(gt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new ys([4294967295,4294967295],0);function Xy(n){const e=oN().encode(n),t=new iE;return t.update(e),new Uint8Array(t.digest())}function Yy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ys([t,i],0),new ys([o,a],0)]}class qp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new el(`Invalid padding: ${t}`);if(i<0)throw new el(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new el(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new el(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ys.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(ys.fromNumber(i)));return o.compare(aN)===1&&(o=new ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Xy(e),[i,o]=Yy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new qp(a,o,t);return i.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const t=Xy(e),[i,o]=Yy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new md(be.min(),o,new at(qe),Xr(),Fe())}}class Dl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Dl(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class ME{constructor(e,t){this.targetId=e,this.me=t}}class LE{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Jy{constructor(){this.fe=0,this.ge=e_(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),t=Fe(),i=Fe();return this.ge.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ne()}})),new Dl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=e_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xr(),this.qe=Zy(),this.Qe=new at(qe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Ne()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((i,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const a=o.target;if(Qf(a))if(i===0){const c=new Ie(a.path);this.Ue(t,c,Wt.newNoDocument(c,be.min()))}else Qe(i===1);else{const c=this.Ye(t);if(c!==i){const h=this.Ze(e),f=h?this.Xe(h,e,c):1;if(f!==0){this.je(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,m)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=Rs(i).toUint8Array()}catch(f){if(f instanceof fE)return Uo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new qp(c,o,a)}catch(f){return Uo(f instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach((a=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,a,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((a,c)=>{const h=this.Je(c);if(h){if(a.current&&Qf(h.target)){const f=new Ie(h.target.path);this.ke.get(f)!==null||this.it(c,f)||this.Ue(c,f,Wt.newNoDocument(f,e))}a.be&&(t.set(c,a.ve()),a.Ce())}}));let i=Fe();this.qe.forEach(((a,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.Je(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(a))})),this.ke.forEach(((a,c)=>c.setReadTime(e)));const o=new md(e,t,this.Qe,this.ke,i);return this.ke=Xr(),this.qe=Zy(),this.Qe=new at(qe),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Jy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Lt(qe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Jy),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Zy(){return new at(Ie.comparator)}function e_(){return new at(Ie.comparator)}const uN={asc:"ASCENDING",desc:"DESCENDING"},cN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dN={and:"AND",or:"OR"};class hN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yf(n,e){return n.useProto3Json||ud(e)?e:{value:e}}function Bc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function fN(n,e){return Bc(n,e.toTimestamp())}function mr(n){return Qe(!!n),be.fromTimestamp((function(t){const i=Mi(t);return new St(i.seconds,i.nanos)})(n))}function Kp(n,e){return Jf(n,e).canonicalString()}function Jf(n,e){const t=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function FE(n){const e=ct.fromString(n);return Qe($E(e)),e}function Zf(n,e){return Kp(n.databaseId,e.path)}function _f(n,e){const t=FE(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(UE(t))}function jE(n,e){return Kp(n.databaseId,e)}function pN(n){const e=FE(n);return e.length===4?ct.emptyPath():UE(e)}function ep(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UE(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function t_(n,e,t){return{name:Zf(n,e),fields:t.value.mapValue.fields}}function mN(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(Qe(y===void 0||typeof y=="string"),Vt.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Vt.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?se.UNKNOWN:DE(m.code);return new Se(y,m.message||"")})(c);t=new LE(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=_f(n,i.document.name),a=mr(i.document.updateTime),c=i.document.createTime?mr(i.document.createTime):be.min(),h=new Cn({mapValue:{fields:i.document.fields}}),f=Wt.newFoundDocument(o,a,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];t=new wc(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=_f(n,i.document),a=i.readTime?mr(i.readTime):be.min(),c=Wt.newNoDocument(o,a),h=i.removedTargetIds||[];t=new wc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=_f(n,i.document),a=i.removedTargetIds||[];t=new wc([],a,o,null)}else{if(!("filter"in e))return Ne();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new iN(o,a),h=i.targetId;t=new ME(h,c)}}return t}function gN(n,e){let t;if(e instanceof Ol)t={update:t_(n,e.key,e.value)};else if(e instanceof OE)t={delete:Zf(n,e.key)};else if(e instanceof Ps)t={update:t_(n,e.key,e.data),updateMask:xN(e.fieldMask)};else{if(!(e instanceof tN))return Ne();t={verify:Zf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(a,c){const h=c.transform;if(h instanceof gl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof yl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uc)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Ne()})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:fN(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne()})(n,e.precondition)),t}function vN(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map((t=>(function(o,a){let c=o.updateTime?mr(o.updateTime):mr(a);return c.isEqual(be.min())&&(c=mr(a)),new J2(c,o.transformResults||[])})(t,e)))):[]}function yN(n,e){return{documents:[jE(n,e.path)]}}function _N(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=jE(n,o);const a=(function(m){if(m.length!==0)return zE(_r.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(m){if(m.length!==0)return m.map((y=>(function(T){return{field:Ro(T.field),direction:TN(T.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Yf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:t,parent:o}}function wN(n){let e=pN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Qe(i===1);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=(function(w){const T=BE(w);return T instanceof _r&&vE(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((T=>(function(L){return new jc(Ao(L.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(w){let T;return T=typeof w=="object"?w.value:w,ud(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(w){const T=!!w.before,A=w.values||[];return new Fc(A,T)})(t.startAt));let m=null;return t.endAt&&(m=(function(w){const T=!w.before,A=w.values||[];return new Fc(A,T)})(t.endAt)),V2(e,o,c,a,h,"F",f,m)}function EN(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ao(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ao(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ao(t.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ao(t.unaryFilter.field);return Tt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(Ao(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return _r.create(t.compositeFilter.filters.map((i=>BE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne()}})(t.compositeFilter.op))})(n):Ne()}function TN(n){return uN[n]}function SN(n){return cN[n]}function IN(n){return dN[n]}function Ro(n){return{fieldPath:n.canonicalString()}}function Ao(n){return Mt.fromServerFormat(n.fieldPath)}function zE(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(By(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(Uy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(By(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(Uy(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:SN(t.op),value:t.value}}})(n):n instanceof _r?(function(t){const i=t.getFilters().map((o=>zE(o)));return i.length===1?i[0]:{compositeFilter:{op:IN(t.op),filters:i}}})(n):Ne()}function xN(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function $E(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t,i,o,a=be.min(),c=be.min(),h=Vt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.ct=e}}function RN(n){const e=wN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.un=new PN}addToCollectionParentIndex(e,t){return this.un.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Di.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class PN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Lt(ct.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Lt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wo(0)}static kn(){return new Wo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.changes=new ta((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&sl(i.mutation,o,Gn.empty(),St.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Fe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Fe()){const o=ms();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((a=>{let c=Za();return a.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=ms();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Fe())))}populateOverlays(e,t,i){const o=[];return i.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,i,o){let a=Xr();const c=il(),h=(function(){return il()})();return t.forEach(((f,m)=>{const y=i.get(m.key);o.has(m.key)&&(y===void 0||y.mutation instanceof Ps)?a=a.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),sl(y.mutation,m,y.mutation.getFieldMask(),St.now())):c.set(m.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,y)=>c.set(m,y))),t.forEach(((m,y)=>{var w;return h.set(m,new NN(y,(w=c.get(m))!==null&&w!==void 0?w:null))})),h)))}recalculateAndSaveOverlays(e,t){const i=il();let o=new at(((c,h)=>c-h)),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let y=i.get(f)||Gn.empty();y=h.applyToLocalView(m,y),i.set(f,y);const w=(o.get(h.batchId)||Fe()).add(f);o=o.insert(h.batchId,w)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,w=xE();y.forEach((T=>{if(!a.has(T)){const A=NE(t.get(T),i.get(T));A!==null&&w.set(T,A),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return ne.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):F2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ne.resolve(ms());let h=-1,f=a;return c.next((m=>ne.forEach(m,((y,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{f=f.insert(y,T)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,Fe()))).next((y=>({batchId:h,changes:IE(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((i=>{let o=Za();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Za();return this.indexManager.getCollectionParents(e,a).next((h=>ne.forEach(h,(f=>{const m=(function(w,T){return new cd(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next((y=>{y.forEach(((w,T)=>{c=c.insert(w,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o)))).next((c=>{a.forEach(((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Wt.newInvalidDocument(y)))}));let h=Za();return c.forEach(((f,m)=>{const y=a.get(f);y!==void 0&&sl(y.mutation,m,Gn.empty(),St.now()),hd(t,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ne.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:RN(o.bundledQuery),readTime:mr(o.readTime)}})(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.overlays=new at(Ie.comparator),this.Ir=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ms();return ne.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&i.set(o,a)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,a)=>{this.ht(e,t,a)})),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=ms(),a=t.length+1,c=new Ie(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new at(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=a.get(m.largestBatchId);y===null&&(y=ms(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=ms(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=o)););return ne.resolve(h)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new rN(t,i));let a=this.Ir.get(t);a===void 0&&(a=Fe(),this.Ir.set(t,a)),this.Ir.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this.Tr=new Lt(Pt.Er),this.dr=new Lt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach((i=>this.removeReference(i,t)))}gr(e){const t=new Ie(new ct([])),i=new Pt(t,e),o=new Pt(t,e+1),a=[];return this.dr.forEachInRange([i,o],(c=>{this.Vr(c),a.push(c.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ie(new ct([])),i=new Pt(t,e),o=new Pt(t,e+1);let a=Fe();return this.dr.forEachInRange([i,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Pt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ie.comparator(e.key,t.key)||qe(e.wr,t.wr)}static Ar(e,t){return qe(e.wr,t.wr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Lt(Pt.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nN(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.br=this.br.add(new Pt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],(c=>{const h=this.Dr(c.wr);a.push(h)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Lt(qe);return t.forEach((o=>{const a=new Pt(o,0),c=new Pt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],(h=>{i=i.add(h.wr)}))})),ne.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ie.isDocumentKey(a)||(a=a.child(""));const c=new Pt(new Ie(a),0);let h=new Lt(qe);return this.br.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.wr)),!0)}),c),ne.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach((i=>{const o=this.Dr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Qe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ne.forEach(t.mutations,(o=>{const a=new Pt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,t){const i=new Pt(t,0),o=this.br.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.Mr=e,this.docs=(function(){return new at(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=Xr();return t.forEach((o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Wt.newInvalidDocument(o))})),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Xr();const c=t.path,h=new Ie(c.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||y2(v2(y),i)<=0||(o.has(y.key)||hd(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ne()}Or(e,t){return ne.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new FN(this)}getSize(e){return ne.resolve(this.size)}}class FN extends kN{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)})),ne.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.persistence=e,this.Nr=new ta((t=>Bp(t)),zp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gp,this.targetCount=0,this.kr=Wo.Bn()}forEachTarget(e,t){return this.Nr.forEach(((i,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Wo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Kn(t),ne.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ne.waitFor(a).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Vp(0),this.Kr=!1,this.Kr=!0,this.$r=new MN,this.referenceDelegate=e(this),this.Ur=new jN(this),this.indexManager=new AN,this.remoteDocumentCache=(function(o){return new VN(o)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new CN(t),this.Gr=new ON(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new LN(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ve("MemoryPersistence","Starting transaction:",e);const o=new BN(this.Qr.next());return this.referenceDelegate.zr(),i(o).next((a=>this.referenceDelegate.jr(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Hr(e,t){return ne.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,t))))}}class BN extends w2{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Jr=new Gp,this.Yr=null}static Zr(e){return new Qp(e)}get Xr(){if(this.Yr)return this.Yr;throw Ne()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.Xr.add(a.toString())))})).next((()=>i.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,(i=>{const o=Ie.fromPath(i);return this.ei(e,o).next((a=>{a||t.removeEntry(o,be.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return ne.or([()=>ne.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Fe(),o=Fe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Xp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return zA()?8:E2(qt())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Yi(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.Zi(e,t,o,i).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new zN;return this.Xi(e,t,c).next((h=>{if(a.result=h,this.zi)return this.es(e,t,c,h.size)}))})).next((()=>a.result))}es(e,t,i,o){return i.documentReadCount<this.ji?(Xa()<=Be.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(Xa()<=Be.DEBUG&&ve("QueryEngine","Query:",Co(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(Xa()<=Be.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):ne.resolve())}Yi(e,t){if(Hy(t))return ne.resolve(null);let i=pr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Xf(t,null,"F"),i=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((a=>{const c=Fe(...a);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,i).next((f=>{const m=this.ts(t,h);return this.ns(t,m,c,f.readTime)?this.Yi(e,Xf(t,null,"F")):this.rs(e,m,t,f)}))))})))))}Zi(e,t,i,o){return Hy(t)||o.isEqual(be.min())?ne.resolve(null):this.Ji.getDocuments(e,i).next((a=>{const c=this.ts(t,a);return this.ns(t,c,i,o)?ne.resolve(null):(Xa()<=Be.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(t)),this.rs(e,c,t,g2(o,-1)).next((h=>h)))}))}ts(e,t){let i=new Lt(TE(e));return t.forEach(((o,a)=>{hd(e,a)&&(i=i.add(a))})),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,i){return Xa()<=Be.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Co(t)),this.Ji.getDocumentsMatchingQuery(e,t,Di.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new at(qe),this._s=new ta((a=>Bp(a)),zp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function HN(n,e,t,i){return new WN(n,e,t,i)}async function WE(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(i)))).next((a=>{const c=[],h=[];let f=Fe();for(const m of o){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of a){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(i,f).next((m=>({hs:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function qN(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,y){const w=m.batch,T=w.keys();let A=ne.resolve();return T.forEach((L=>{A=A.next((()=>y.getEntry(f,L))).next((P=>{const N=m.docVersions.get(L);Qe(N!==null),P.version.compareTo(N)<0&&(w.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),y.addEntry(P)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,w)))})(t,i,e,a).next((()=>a.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Fe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function HE(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function KN(n,e){const t=Oe(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach(((y,w)=>{const T=o.get(w);if(!T)return;h.push(t.Ur.removeMatchingKeys(a,y.removedDocuments,w).next((()=>t.Ur.addMatchingKeys(a,y.addedDocuments,w))));let A=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(Vt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),o=o.insert(w,A),(function(P,N,U){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(T,A,y)&&h.push(t.Ur.updateTargetData(a,A))}));let f=Xr(),m=Fe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))})),h.push(GN(a,c,e.documentUpdates).next((y=>{f=y.Ps,m=y.Is}))),!i.isEqual(be.min())){const y=t.Ur.getLastRemoteSnapshotVersion(a).next((w=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i)));h.push(y)}return ne.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.os=o,a)))}function GN(n,e,t){let i=Fe(),o=Fe();return t.forEach((a=>i=i.add(a))),e.getEntries(n,i).next((a=>{let c=Xr();return t.forEach(((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(be.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):ve("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{Ps:c,Is:o}}))}function QN(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function XN(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Ur.getTargetData(i,e).next((a=>a?(o=a,ne.resolve(o)):t.Ur.allocateTargetId(i).next((c=>(o=new Ri(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i}))}async function tp(n,e,t){const i=Oe(n),o=i.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!bl(c))throw c;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function n_(n,e,t){const i=Oe(n);let o=be.min(),a=Fe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,y){const w=Oe(f),T=w._s.get(y);return T!==void 0?ne.resolve(w.os.get(T)):w.Ur.getTargetData(m,y)})(i,c,pr(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,h.targetId).next((f=>{a=f}))})).next((()=>i.ss.getDocumentsMatchingQuery(c,e,t?o:be.min(),t?a:Fe()))).next((h=>(YN(i,U2(e),h),{documents:h,Ts:a})))))}function YN(n,e,t){let i=n.us.get(e)||be.min();t.forEach(((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)})),n.us.set(e,i)}class r_{constructor(){this.activeTargetIds=q2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JN{constructor(){this.so=new r_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new r_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc=null;function wf(){return uc===null?uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():uc++,"0x"+uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class nb extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,i,o,a,c){const h=wf(),f=this.xo(t,i.toUriEncodedString());ve("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,a,c),this.No(t,f,m,o).then((y=>(ve("RestConnection",`Received RPC '${t}' ${h}: `,y),y)),(y=>{throw Uo("RestConnection",`RPC '${t}' ${h} failed with error: `,y,"url: ",f,"request:",o),y}))}Lo(t,i,o,a,c,h){return this.Mo(t,i,o,a,c)}Oo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((a,c)=>t[c]=a)),o&&o.headers.forEach(((a,c)=>t[c]=a))}xo(t,i){const o=eb[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const a=wf();return new Promise(((c,h)=>{const f=new sE;f.setWithCredentials(!0),f.listenOnce(oE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case vc.NO_ERROR:const y=f.getResponseJson();ve(zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),c(y);break;case vc.TIMEOUT:ve(zt,`RPC '${e}' ${a} timed out`),h(new Se(se.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const w=f.getStatus();if(ve(zt,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T==null?void 0:T.error;if(A&&A.status&&A.message){const L=(function(N){const U=N.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(U)>=0?U:se.UNKNOWN})(A.status);h(new Se(L,A.message))}else h(new Se(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Se(se.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ve(zt,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(o);ve(zt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,i,15)}))}Bo(e,t,i){const o=wf(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=uE(),h=lE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const y=a.join("");ve(zt,`Creating RPC '${e}' stream ${o}: ${y}`,f);const w=c.createWebChannel(y,f);let T=!1,A=!1;const L=new tb({Io:N=>{A?ve(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(T||(ve(zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ve(zt,`RPC '${e}' stream ${o} sending:`,N),w.send(N))},To:()=>w.close()}),P=(N,U,z)=>{N.listen(U,(W=>{try{z(W)}catch(V){setTimeout((()=>{throw V}),0)}}))};return P(w,Ja.EventType.OPEN,(()=>{A||(ve(zt,`RPC '${e}' stream ${o} transport opened.`),L.yo())})),P(w,Ja.EventType.CLOSE,(()=>{A||(A=!0,ve(zt,`RPC '${e}' stream ${o} transport closed`),L.So())})),P(w,Ja.EventType.ERROR,(N=>{A||(A=!0,Uo(zt,`RPC '${e}' stream ${o} transport errored:`,N),L.So(new Se(se.UNAVAILABLE,"The operation could not be completed")))})),P(w,Ja.EventType.MESSAGE,(N=>{var U;if(!A){const z=N.data[0];Qe(!!z);const W=z,V=W.error||((U=W[0])===null||U===void 0?void 0:U.error);if(V){ve(zt,`RPC '${e}' stream ${o} received error:`,V);const Q=V.status;let X=(function(b){const D=gt[b];if(D!==void 0)return DE(D)})(Q),C=V.message;X===void 0&&(X=se.INTERNAL,C="Unknown error status: "+Q+" with message "+V.message),A=!0,L.So(new Se(X,C)),w.close()}else ve(zt,`RPC '${e}' stream ${o} received:`,z),L.bo(z)}})),P(h,aE.STAT_EVENT,(N=>{N.stat===Hf.PROXY?ve(zt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===Hf.NOPROXY&&ve(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.wo()}),0),L}}function Ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(n){return new hN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,t,i,o,a,c,h,f){this.ui=e,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qE(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.Yo===t&&this.P_(i,o)}),(i=>{e((()=>{const o=new Se(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)}))}))}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{i((()=>this.I_(o)))})),this.stream.onMessage((o=>{i((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rb extends KE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=mN(this.serializer,e),i=(function(a){if(!("targetChange"in a))return be.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?be.min():c.readTime?mr(c.readTime):be.min()})(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=ep(this.serializer),t.addTarget=(function(a,c){let h;const f=c.target;if(h=Qf(f)?{documents:yN(a,f)}:{query:_N(a,f)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=VE(a,c.resumeToken);const m=Yf(a,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(be.min())>0){h.readTime=Bc(a,c.snapshotVersion.toTimestamp());const m=Yf(a,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=EN(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=ep(this.serializer),t.removeTarget=e,this.a_(t)}}class ib extends KE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=vN(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=ep(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>gN(this.serializer,i)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Mo(e,Jf(t,i),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(se.UNKNOWN,a.toString())}))}Lo(e,t,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,Jf(t,i),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(se.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class ob{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qr(t),this.D_=!1):ve("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((c=>{i.enqueueAndForget((async()=>{ks(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const m=Oe(f);m.L_.add(4),await Ml(m),m.q_.set("Unknown"),m.L_.delete(4),await vd(m)})(this))}))})),this.q_=new ob(i,o)}}async function vd(n){if(ks(n))for(const e of n.B_)await e(!0)}async function Ml(n){for(const e of n.B_)await e(!1)}function GE(n,e){const t=Oe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),em(t)?Zp(t):na(t).r_()&&Jp(t,e))}function Yp(n,e){const t=Oe(n),i=na(t);t.N_.delete(e),i.r_()&&QE(t,e),t.N_.size===0&&(i.r_()?i.o_():ks(t)&&t.q_.set("Unknown"))}function Jp(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}na(n).A_(e)}function QE(n,e){n.Q_.xe(e),na(n).R_(e)}function Zp(n){n.Q_=new lN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),na(n).start(),n.q_.v_()}function em(n){return ks(n)&&!na(n).n_()&&n.N_.size>0}function ks(n){return Oe(n).L_.size===0}function XE(n){n.Q_=void 0}async function lb(n){n.q_.set("Online")}async function ub(n){n.N_.forEach(((e,t)=>{Jp(n,e)}))}async function cb(n,e){XE(n),em(n)?(n.q_.M_(e),Zp(n)):n.q_.set("Unknown")}async function db(n,e,t){if(n.q_.set("Online"),e instanceof LE&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.N_.delete(h),o.Q_.removeTarget(h))})(n,e)}catch(i){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zc(n,i)}else if(e instanceof wc?n.Q_.Ke(e):e instanceof ME?n.Q_.He(e):n.Q_.We(e),!t.isEqual(be.min()))try{const i=await HE(n.localStore);t.compareTo(i)>=0&&await(function(a,c){const h=a.Q_.rt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.N_.get(m);y&&a.N_.set(m,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const y=a.N_.get(f);if(!y)return;a.N_.set(f,y.withResumeToken(Vt.EMPTY_BYTE_STRING,y.snapshotVersion)),QE(a,f);const w=new Ri(y.target,f,m,y.sequenceNumber);Jp(a,w)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){ve("RemoteStore","Failed to raise snapshot:",i),await zc(n,i)}}async function zc(n,e,t){if(!bl(e))throw e;n.L_.add(1),await Ml(n),n.q_.set("Offline"),t||(t=()=>HE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ve("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await vd(n)}))}function YE(n,e){return e().catch((t=>zc(n,t,e)))}async function yd(n){const e=Oe(n),t=Li(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hb(e);)try{const o=await QN(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,fb(e,o)}catch(o){await zc(e,o)}JE(e)&&ZE(e)}function hb(n){return ks(n)&&n.O_.length<10}function fb(n,e){n.O_.push(e);const t=Li(n);t.r_()&&t.V_&&t.m_(e.mutations)}function JE(n){return ks(n)&&!Li(n).n_()&&n.O_.length>0}function ZE(n){Li(n).start()}async function pb(n){Li(n).p_()}async function mb(n){const e=Li(n);for(const t of n.O_)e.m_(t.mutations)}async function gb(n,e,t){const i=n.O_.shift(),o=Hp.from(i,e,t);await YE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await yd(n)}async function vb(n,e){e&&Li(n).V_&&await(async function(i,o){if((function(c){return sN(c)&&c!==se.ABORTED})(o.code)){const a=i.O_.shift();Li(i).s_(),await YE(i,(()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o))),await yd(i)}})(n,e),JE(n)&&ZE(n)}async function s_(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const i=ks(t);t.L_.add(3),await Ml(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await vd(t)}async function yb(n,e){const t=Oe(n);e?(t.L_.delete(2),await vd(t)):e||(t.L_.add(2),await Ml(t),t.q_.set("Unknown"))}function na(n){return n.K_||(n.K_=(function(t,i,o){const a=Oe(t);return a.w_(),new rb(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:lb.bind(null,n),Ro:ub.bind(null,n),mo:cb.bind(null,n),d_:db.bind(null,n)}),n.B_.push((async e=>{e?(n.K_.s_(),em(n)?Zp(n):n.q_.set("Unknown")):(await n.K_.stop(),XE(n))}))),n.K_}function Li(n){return n.U_||(n.U_=(function(t,i,o){const a=Oe(t);return a.w_(),new ib(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pb.bind(null,n),mo:vb.bind(null,n),f_:mb.bind(null,n),g_:gb.bind(null,n)}),n.B_.push((async e=>{e?(n.U_.s_(),await yd(n)):(await n.U_.stop(),n.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new tm(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),bl(n))return new Se(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ie.comparator(t.key,i.key):(t,i)=>Ie.comparator(t.key,i.key),this.keyedMap=Za(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new Mo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Mo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.W_=new at(Ie.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ne():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Ho{constructor(e,t,i,o,a,c,h,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Ho(e,t,Mo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class wb{constructor(){this.queries=a_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=Oe(t),a=o.queries;o.queries=a_(),a.forEach(((c,h)=>{for(const f of h.j_)f.onError(i)}))})(this,new Se(se.ABORTED,"Firestore shutting down"))}}function a_(){return new ta((n=>EE(n)),dd)}async function Eb(n,e){const t=Oe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(i=2):(a=new _b,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=nm(c,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&rm(t)}async function Tb(n,e){const t=Oe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Sb(n,e){const t=Oe(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.j_)h.X_(o)&&(i=!0);c.z_=o}}i&&rm(t)}function Ib(n,e,t){const i=Oe(n),o=i.queries.get(e);if(o)for(const a of o.j_)a.onError(t);i.queries.delete(e)}function rm(n){n.Y_.forEach((e=>{e.next()}))}var np,l_;(l_=np||(np={})).ea="default",l_.Cache="cache";class xb{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ho(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.key=e}}class tT{constructor(e){this.key=e}}class Cb{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fe(),this.mutatedKeys=Fe(),this.Aa=TE(e),this.Ra=new Mo(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new o_,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,w)=>{const T=o.get(y),A=hd(this.query,w)?w:null,L=!!T&&this.mutatedKeys.has(T.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;T&&A?T.data.isEqual(A.data)?L!==P&&(i.track({type:3,doc:A}),N=!0):this.ga(T,A)||(i.track({type:2,doc:A}),N=!0,(f&&this.Aa(A,f)>0||m&&this.Aa(A,m)<0)&&(h=!0)):!T&&A?(i.track({type:0,doc:A}),N=!0):T&&!A&&(i.track({type:1,doc:T}),N=!0,(f||m)&&(h=!0)),N&&(A?(c=c.add(A),a=P?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{Ra:c,fa:i,ns:h,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((y,w)=>(function(A,L){const P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return P(A)-P(L)})(y.type,w.type)||this.Aa(y.doc,w.doc))),this.pa(i),o=o!=null&&o;const h=t&&!o?this.ya():[],f=this.da.size===0&&this.current&&!o?1:0,m=f!==this.Ea;return this.Ea=f,c.length!==0||m?{snapshot:new Ho(this.query,e.Ra,a,c,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new o_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fe(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const t=[];return e.forEach((i=>{this.da.has(i)||t.push(new tT(i))})),this.da.forEach((i=>{e.has(i)||t.push(new eT(i))})),t}ba(e){this.Ta=e.Ts,this.da=Fe();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ho.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Rb{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Ab{constructor(e){this.key=e,this.va=!1}}class Pb{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new ta((h=>EE(h)),dd),this.Ma=new Map,this.xa=new Set,this.Oa=new at(Ie.comparator),this.Na=new Map,this.La=new Gp,this.Ba={},this.ka=new Map,this.qa=Wo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kb(n,e,t=!0){const i=aT(n);let o;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await nT(i,e,t,!0),o}async function Nb(n,e){const t=aT(n);await nT(t,e,!0,!1)}async function nT(n,e,t,i){const o=await XN(n.localStore,pr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await bb(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&GE(n.remoteStore,o),h}async function bb(n,e,t,i,o){n.Ka=(w,T,A)=>(async function(P,N,U,z){let W=N.view.ma(U);W.ns&&(W=await n_(P.localStore,N.query,!1).then((({documents:C})=>N.view.ma(C,W))));const V=z&&z.targetChanges.get(N.targetId),Q=z&&z.targetMismatches.get(N.targetId)!=null,X=N.view.applyChanges(W,P.isPrimaryClient,V,Q);return c_(P,N.targetId,X.wa),X.snapshot})(n,w,T,A);const a=await n_(n.localStore,e,!0),c=new Cb(e,a.Ts),h=c.ma(a.documents),f=Dl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(h,n.isPrimaryClient,f);c_(n,t,m.wa);const y=new Rb(e,t,c);return n.Fa.set(e,y),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),m.snapshot}async function Ob(n,e,t){const i=Oe(n),o=i.Fa.get(e),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter((c=>!dd(c,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await tp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Yp(i.remoteStore,o.targetId),rp(i,o.targetId)})).catch(Nl)):(rp(i,o.targetId),await tp(i.localStore,o.targetId,!0))}async function Db(n,e){const t=Oe(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Yp(t.remoteStore,i.targetId))}async function Mb(n,e,t){const i=zb(n);try{const o=await(function(c,h){const f=Oe(c),m=St.now(),y=h.reduce(((A,L)=>A.add(L.key)),Fe());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let L=Xr(),P=Fe();return f.cs.getEntries(A,y).next((N=>{L=N,L.forEach(((U,z)=>{z.isValidDocument()||(P=P.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,L))).next((N=>{w=N;const U=[];for(const z of h){const W=eN(z,w.get(z.key).overlayedDocument);W!=null&&U.push(new Ps(z.key,W,pE(W.value.mapValue),Wr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,U,h)})).next((N=>{T=N;const U=N.applyToLocalDocumentSet(w,P);return f.documentOverlayCache.saveOverlays(A,N.batchId,U)}))})).then((()=>({batchId:T.batchId,changes:IE(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,h,f){let m=c.Ba[c.currentUser.toKey()];m||(m=new at(qe)),m=m.insert(h,f),c.Ba[c.currentUser.toKey()]=m})(i,o.batchId,t),await Ll(i,o.changes),await yd(i.remoteStore)}catch(o){const a=nm(o,"Failed to persist write");t.reject(a)}}async function rT(n,e){const t=Oe(n);try{const i=await KN(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Na.get(a);c&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Qe(c.va):o.removedDocuments.size>0&&(Qe(c.va),c.va=!1))})),await Ll(t,i,e)}catch(i){await Nl(i)}}function u_(n,e,t){const i=Oe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach(((a,c)=>{const h=c.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const f=Oe(c);f.onlineState=h;let m=!1;f.queries.forEach(((y,w)=>{for(const T of w.j_)T.Z_(h)&&(m=!0)})),m&&rm(f)})(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Lb(n,e,t){const i=Oe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),a=o&&o.key;if(a){let c=new at(Ie.comparator);c=c.insert(a,Wt.newNoDocument(a,be.min()));const h=Fe().add(a),f=new md(be.min(),new Map,new at(qe),c,h);await rT(i,f),i.Oa=i.Oa.remove(a),i.Na.delete(e),im(i)}else await tp(i.localStore,e,!1).then((()=>rp(i,e,t))).catch(Nl)}async function Vb(n,e){const t=Oe(n),i=e.batch.batchId;try{const o=await qN(t.localStore,e);sT(t,i,null),iT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ll(t,o)}catch(o){await Nl(o)}}async function Fb(n,e,t){const i=Oe(n);try{const o=await(function(c,h){const f=Oe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next((w=>(Qe(w!==null),y=w.keys(),f.mutationQueue.removeMutationBatch(m,w)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(i.localStore,e);sT(i,e,t),iT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ll(i,o)}catch(o){await Nl(o)}}function iT(n,e){(n.ka.get(e)||[]).forEach((t=>{t.resolve()})),n.ka.delete(e)}function sT(n,e,t){const i=Oe(n);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function rp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach((i=>{n.La.containsKey(i)||oT(n,i)}))}function oT(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(Yp(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),im(n))}function c_(n,e,t){for(const i of t)i instanceof eT?(n.La.addReference(i.key,e),jb(n,i)):i instanceof tT?(ve("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||oT(n,i.key)):Ne()}function jb(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(ve("SyncEngine","New document in limbo: "+t),n.xa.add(i),im(n))}function im(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Ie(ct.fromString(e)),i=n.qa.next();n.Na.set(i,new Ab(t)),n.Oa=n.Oa.insert(t,i),GE(n.remoteStore,new Ri(pr($p(t.path)),i,"TargetPurposeLimboResolution",Vp.oe))}}async function Ll(n,e,t){const i=Oe(n),o=[],a=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach(((h,f)=>{c.push(i.Ka(f,e,t).then((m=>{var y;if((m||t)&&i.isPrimaryClient){const w=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Xp.Wi(f.targetId,m);a.push(w)}})))})),await Promise.all(c),i.Ca.d_(o),await(async function(f,m){const y=Oe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ne.forEach(m,(T=>ne.forEach(T.$i,(A=>y.persistence.referenceDelegate.addReference(w,T.targetId,A))).next((()=>ne.forEach(T.Ui,(A=>y.persistence.referenceDelegate.removeReference(w,T.targetId,A)))))))))}catch(w){if(!bl(w))throw w;ve("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const A=y.os.get(T),L=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(L);y.os=y.os.insert(T,P)}}})(i.localStore,a))}async function Ub(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const i=await WE(t.localStore,e);t.currentUser=e,(function(a,c){a.ka.forEach((h=>{h.forEach((f=>{f.reject(new Se(se.CANCELLED,c))}))})),a.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ll(t,i.hs)}}function Bb(n,e){const t=Oe(n),i=t.Na.get(e);if(i&&i.va)return Fe().add(i.key);{let o=Fe();const a=t.Ma.get(e);if(!a)return o;for(const c of a){const h=t.Fa.get(c);o=o.unionWith(h.view.Va)}return o}}function aT(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=rT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lb.bind(null,e),e.Ca.d_=Sb.bind(null,e.eventManager),e.Ca.$a=Ib.bind(null,e.eventManager),e}function zb(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fb.bind(null,e),e}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return HN(this.persistence,new $N,e.initialUser,this.serializer)}Ga(e){return new UN(Qp.Zr,this.serializer)}Wa(e){return new JN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>u_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ub.bind(null,this.syncEngine),await yb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wb})()}createDatastore(e){const t=gd(e.databaseInfo.databaseId),i=(function(a){return new nb(a)})(e.databaseInfo);return(function(a,c,h,f){return new sb(a,c,h,f)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,a,c,h){return new ab(i,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>u_(this.syncEngine,t,0)),(function(){return i_.D()?new i_:new ZN})())}createSyncEngine(e,t){return(function(o,a,c,h,f,m,y){const w=new Pb(o,a,c,h,f,m);return y&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=Oe(o);ve("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ml(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=dE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,(async c=>{ve("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ve("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=nm(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Tf(n,e){n.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await WE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function d_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Hb(n);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>s_(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>s_(e.remoteStore,o))),n._onlineComponents=e}async function Hb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await Tf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await Tf(n,new $c)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await Tf(n,new $c);return n._offlineComponents}async function lT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await d_(n,n._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await d_(n,new ip))),n._onlineComponents}function qb(n){return lT(n).then((e=>e.syncEngine))}async function Kb(n){const e=await lT(n),t=e.eventManager;return t.onListen=kb.bind(null,e.syncEngine),t.onUnlisten=Ob.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Nb.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Db.bind(null,e.syncEngine),t}function Gb(n,e,t={}){const i=new Ni;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,h,f,m){const y=new $b({next:T=>{y.Za(),c.enqueueAndForget((()=>Tb(a,w)));const A=T.docs.has(h);!A&&T.fromCache?m.reject(new Se(se.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&f&&f.source==="server"?m.reject(new Se(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new xb($p(h.path),y,{includeMetadataChanges:!0,_a:!0});return Eb(a,w)})(await Kb(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n,e,t){if(!t)throw new Se(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Xb(n,e,t,i){if(e===!0&&i===!0)throw new Se(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function f_(n){if(!Ie.isDocumentKey(n))throw new Se(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne()}function _l(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sm(n);throw new Se(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class om{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new a2;switch(i.type){case"firstParty":return new d2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=h_.get(t);i&&(ve("ComponentProvider","Removing Datastore"),h_.delete(t),i.terminate())})(this),Promise.resolve()}}function Yb(n,e,t,i={}){var o;const a=(n=_l(n,om))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=$t.MOCK_USER;else{h=MA(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Se(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(m)}n._authCredentials=new l2(new cE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new am(this.firestore,e,this._query)}}class Rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class wl extends am{constructor(e,t,i){super(e,t,$p(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ie(e))}withConverter(e){return new wl(this.firestore,e,this._path)}}function Jb(n,e,...t){if(n=An(n),arguments.length===1&&(e=dE.newId()),Qb("doc","path",e),n instanceof om){const i=ct.fromString(e,...t);return f_(i),new Rn(n,null,new Ie(i))}{if(!(n instanceof Rn||n instanceof wl))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return f_(i),new Rn(n.firestore,n instanceof wl?n.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qE(this,"async_queue_retry"),this.Vu=()=>{const i=Ef();i&&ve("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=Ef();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Ef();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Ni;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bl(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const o=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(i);throw Qr("INTERNAL UNHANDLED ERROR: ",o),i})).then((i=>(this.du=!1,i))))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=tm.createAndSchedule(this,e,t,i,(a=>this.yu(a)));return this.Tu.push(o),o}fu(){this.Eu&&Ne()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class lm extends om{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new m_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m_(e),this._firestoreClient=void 0,await e}}}function Zb(n,e){const t=typeof n=="object"?n:Iw(),i=typeof n=="string"?n:"(default)",o=xp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=OA("firestore");a&&Yb(o,...a)}return o}function cT(n){if(n._terminated)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eO(n),n._firestoreClient}function eO(n){var e,t,i;const o=n._freezeSettings(),a=(function(h,f,m,y){return new I2(h,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,uT(y.experimentalLongPollingOptions),y.useFetchStreams)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Wb(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(Vt.fromBase64String(e))}catch(t){throw new Se(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qo(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=/^__.*__$/;class nO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ol(e,this.data,t,this.fieldTransforms)}}function dT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class fm{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(dT(this.Cu)&&tO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class rO{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||gd(e)}Qu(e,t,i,o=!1){return new fm({Cu:e,methodName:t,qu:i,path:Mt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iO(n){const e=n._freezeSettings(),t=gd(n._databaseId);return new rO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function sO(n,e,t,i,o,a={}){const c=n.Qu(a.merge||a.mergeFields?2:0,e,t,o);mT("Data must be an object, but it was:",c,i);const h=fT(i,c);let f,m;if(a.merge)f=new Gn(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const T=oO(e,w,t);if(!c.contains(T))throw new Se(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);lO(y,T)||y.push(T)}f=new Gn(y),m=c.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,m=c.fieldTransforms;return new nO(new Cn(h),f,m)}class pm extends cm{_toFieldTransform(e){return new X2(e.path,new gl)}isEqual(e){return e instanceof pm}}function hT(n,e){if(pT(n=An(n)))return mT("Unsupported field value:",e,n),fT(n,e);if(n instanceof cm)return(function(i,o){if(!dT(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,o){const a=[];let c=0;for(const h of i){let f=hT(h,o.Lu(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(n,e)}return(function(i,o){if((i=An(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return K2(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=St.fromDate(i);return{timestampValue:Bc(o.serializer,a)}}if(i instanceof St){const a=new St(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bc(o.serializer,a)}}if(i instanceof dm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof qo)return{bytesValue:VE(o.serializer,i._byteString)};if(i instanceof Rn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Kp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof hm)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Bu("VectorValues must only contain numeric values.");return Wp(h.serializer,f)}))}}}}}})(i,o);throw o.Bu(`Unsupported field value: ${sm(i)}`)})(n,e)}function fT(n,e){const t={};return hE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(n,((i,o)=>{const a=hT(o,e.Mu(i));a!=null&&(t[i]=a)})),{mapValue:{fields:t}}}function pT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof St||n instanceof dm||n instanceof qo||n instanceof Rn||n instanceof cm||n instanceof hm)}function mT(n,e,t){if(!pT(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const i=sm(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function oO(n,e,t){if((e=An(e))instanceof um)return e._internalPath;if(typeof e=="string")return gT(n,e);throw Wc("Field path arguments must be of type string or ",n,!1,void 0,t)}const aO=new RegExp("[~\\*/\\[\\]]");function gT(n,e,t){if(e.search(aO)>=0)throw Wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new um(...e.split("."))._internalPath}catch{throw Wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wc(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new Se(se.INVALID_ARGUMENT,h+n+f)}function lO(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uO extends vT{data(){return super.data()}}function yT(n,e){return typeof e=="string"?gT(n,e):e instanceof um?e._internalPath:e._delegate._internalPath}class cO{convertValue(e,t="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ea(e,((o,a)=>{i[o]=this.convertValue(a,t)})),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((c=>ft(c.doubleValue)));return new hm(a)}convertGeoPoint(e){return new dm(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const t=Mi(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);Qe($E(i));const o=new pl(i.get(1),i.get(3)),a=new Ie(i.popFirst(5));return o.isEqual(t)||Qr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _T extends vT{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(yT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class fO extends _T{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(n){n=_l(n,Rn);const e=_l(n.firestore,lm);return Gb(cT(e),n._key).then((t=>yO(e,n,t)))}class mO extends cO{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function gO(n,e,t){n=_l(n,Rn);const i=_l(n.firestore,lm),o=dO(n.converter,e,t);return vO(i,[sO(iO(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Wr.none())])}function vO(n,e){return(function(i,o){const a=new Ni;return i.asyncQueue.enqueueAndForget((async()=>Mb(await qb(i),o,a))),a.promise})(cT(n),e)}function yO(n,e,t){const i=t.docs.get(e._key),o=new mO(n);return new _T(n,o,e._key,i,new hO(t.hasPendingWrites,t.fromCache),e.converter)}function _O(){return new pm("serverTimestamp")}(function(e,t=!0){(function(o){Zo=o})(Yo),Fo(new Is("firestore",((i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new lm(new u2(i.getProvider("auth-internal")),new f2(i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Se(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(m.options.projectId,y)})(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),ki(My,"4.7.3",e),ki(My,"4.7.3","esm2017")})();const wO={apiKey:"AIzaSyBsfan9ZXraevVDpTe8q1GL7DkfUER0wc0",authDomain:"cal-ranking-rm.firebaseapp.com",projectId:"cal-ranking-rm",storageBucket:"cal-ranking-rm.firebasestorage.app",messagingSenderId:"937306488262",appId:"1:937306488262:web:4428898ff1903d6ffd46c7",measurementId:"G-13CK76G4Q7"},wT=Sw(wO),mm=s2(wT),EO=Zb(wT),TO=new jr;function ET(n){return Jb(EO,"users",n,"apps","rm_rank_calc")}function SO(){return pk(mm,TO)}function IO(){return GP(mm)}async function xO(n){const e=ET(n.uid),t=await pO(e);if(!t.exists())return null;const i=t.data();return(i==null?void 0:i.state)||null}let Sf=null;function g_(n,e){n&&(Sf&&clearTimeout(Sf),Sf=setTimeout(async()=>{try{const t=ET(n.uid);await gO(t,{state:e,updatedAt:_O()},{merge:!0})}catch(t){console.warn("Cloud save failed:",t)}},700))}function CO(n){return KP(mm,e=>n(e||null))}function RO(){const[n,e]=R.useState(()=>pA()),[t,i]=R.useState(null),[o,a]=R.useState(!1),[c,h]=R.useState(null),[f,m]=R.useState(null),[y,w]=R.useState(null),[T,A]=R.useState({}),L=R.useRef(null);L.current=f;const P=R.useMemo(()=>{const V={};for(const Q of Po)V[Q.id]=n.sections[Q.id].reduce((X,C)=>X+(Number(C)||0),0);return V},[n.sections]);function N(V){e(Q=>{const X=typeof V=="function"?V(Q):V;return iy(X),g_(L.current,X),X})}const U=R.useCallback(V=>{const Q=V??n;a(!0),setTimeout(()=>{let X=0;for(const D of Po)for(const M of Q.sections[D.id]){const F=Number(M);Number.isFinite(F)&&(X+=F)}const C=Number.isFinite(Q.bonus)?Q.bonus:0,I=X+C,b=mA(I);i({sum:X,bonus:C,total:I,rank:b}),a(!1)},350)},[n]);function z(){N(V=>{var X;const Q={...V};Q.sections={...V.sections},Q.cars={...V.cars},Q.ocrCars={...V.ocrCars??{}};for(const C of Po)Q.sections[C.id]=V.sections[C.id].map((I,b)=>V.locked[C.id][b]?I:""),Q.cars[C.id]=V.cars[C.id].map((I,b)=>V.locked[C.id][b]?I:""),Q.ocrCars[C.id]=(((X=V.ocrCars)==null?void 0:X[C.id])??[]).map((I,b)=>V.locked[C.id][b]?I:!1);return Q}),i(null)}async function W(V){if(!c){h(V);try{const{points:Q,carNames:X,debugLog:C,imageUrl:I,badgeRightEdges:b}=await xA(V,()=>{});if(!Q.length)return;N(k=>{var oe;const de=[...k.sections[V]];Q.forEach((re,B)=>{B<de.length&&(de[B]=re)});const Ce=[...k.cars[V]],ye=[...((oe=k.ocrCars)==null?void 0:oe[V])??[]],he=Ac(V,k);X.forEach((re,B)=>{if(B<Ce.length){const Z=pw(re,he);Z&&(Ce[B]=Z,ye[B]=!0)}});const J={...k,sections:{...k.sections,[V]:de},cars:{...k.cars,[V]:Ce},ocrCars:{...k.ocrCars,[V]:ye}};return setTimeout(()=>U(J),400),J});const D={imageUrl:I,sectionId:V,points:Q,badgeRightEdges:b};w(D),A(k=>(k[V]&&URL.revokeObjectURL(k[V].imageUrl),{...k,[V]:D}));const M=Q.filter(Boolean).length,F=Q.map((k,de)=>k?null:`#${de+1}: ${C[de]??"-"}`).filter(Boolean);F.length&&console.warn(`[OCR] Failed slots:
${F.join(`
`)}`),console.log(`[OCR] ${V} done: ${M}/${Q.length}`)}catch(Q){console.error(Q),alert(`Import  
 Console  (F12)  error `)}finally{h(null)}}}return R.useEffect(()=>CO(async Q=>{if(m(Q),!!Q)try{const X=await xO(Q);if(X){const C=fw(X);e(C),iy(C),U(C)}else g_(Q,n)}catch(X){console.warn("Cloud load failed:",X)}}),[]),R.useEffect(()=>{U(n)},[]),x.jsxs("div",{className:"min-h-screen bg-black text-[#eaeaea] font-kanit",children:[x.jsx("header",{className:`sticky top-0 z-40 bg-black/95 backdrop-blur-sm
        border-b border-[rgba(223,205,128,0.12)]`,children:x.jsxs("div",{className:"max-w-[1320px] mx-auto px-4 py-2.5 flex items-center gap-3",children:[x.jsx("img",{src:fA,alt:"Racing Master",className:"w-8 h-8 rounded-lg object-cover"}),x.jsxs("div",{className:"flex flex-col leading-tight",children:[x.jsx("span",{className:"text-[#dfcd80] font-bold text-sm tracking-wide",children:"Racing Master"}),x.jsx("span",{className:"text-zinc-500 text-[11px]",children:""})]}),x.jsx("div",{className:"ml-auto",children:x.jsx(dA,{user:f,onSignIn:()=>SO().catch(console.error),onSignOut:()=>IO().catch(console.error)})})]})}),x.jsxs("main",{className:"max-w-[1320px] mx-auto px-3 py-4 flex flex-col gap-3",children:[x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Po.map(V=>x.jsx(UR,{sectionId:V.id,label:V.label,badgeText:`${V.count} `,state:n,isImporting:c===V.id,onStateChange:N,onImport:W,onCalc:()=>U(),hasDebug:!!T[V.id],onShowDebug:()=>T[V.id]&&w(T[V.id])},V.id))}),x.jsx(cA,{bonus:n.bonus,sectionTotals:P,onBonusChange:V=>N(Q=>({...Q,bonus:V})),onCalc:()=>U(),onReset:z,result:t,isCalculating:o})]}),y&&x.jsx(hA,{open:!!y,imageUrl:y.imageUrl,sectionId:y.sectionId,points:y.points,badgeRightEdges:y.badgeRightEdges,onClose:()=>w(null)})]})}DS.createRoot(document.getElementById("root")).render(x.jsx(Fr.StrictMode,{children:x.jsx(RO,{})}));export{sp as g};
